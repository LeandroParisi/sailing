(self.webpackChunkinteractions=self.webpackChunkinteractions||[]).push([[590],{108:(z,u,g)=>{"use strict";function S(e,r,n,o,s,l,y){try{var E=e[l](y),O=E.value}catch(N){return void n(N)}E.done?r(O):Promise.resolve(O).then(o,s)}function w(e){return function(){var r=this,n=arguments;return new Promise(function(o,s){var l=e.apply(r,n);function y(O){S(l,o,s,y,E,"next",O)}function E(O){S(l,o,s,y,E,"throw",O)}y(void 0)})}}let b=null,p=1;const m=Symbol("SIGNAL");function f(e){const r=b;return b=e,r}function D(e){if((!Q(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==p)){if(!e.producerMustRecompute(e)&&!B(e))return e.dirty=!1,void(e.lastCleanEpoch=p);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=p}}function B(e){Z(e);for(let r=0;r<e.producerNode.length;r++){const n=e.producerNode[r],o=e.producerLastReadVersion[r];if(o!==n.version||(D(n),o!==n.version))return!0}return!1}function X(e,r){if(function de(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Z(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)X(e.producerNode[o],e.producerIndexOfThis[o]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[r]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[r]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,r<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[r],s=e.liveConsumerNode[r];Z(s),s.producerIndexOfThis[o]=r}}function Q(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Z(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let dt=null;function vn(e){return"function"==typeof e}let Y=!1;const Se={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const r=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+r.stack)}else Y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Y=e},get useDeprecatedSynchronousErrorHandling(){return Y}};function F(e){setTimeout(()=>{throw e},0)}const U={closed:!0,next(e){},error(e){if(Se.useDeprecatedSynchronousErrorHandling)throw e;F(e)},complete(){}},G=Array.isArray||(e=>e&&"number"==typeof e.length);function J(e){return null!==e&&"object"==typeof e}const be=(()=>{function e(r){return Error.call(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r,this}return e.prototype=Object.create(Error.prototype),e})();class Ee{constructor(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}unsubscribe(){let r;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:o,_unsubscribe:s,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof Ee)n.remove(this);else if(null!==n)for(let y=0;y<n.length;++y)n[y].remove(this);if(vn(s)){o&&(this._unsubscribe=void 0);try{s.call(this)}catch(y){r=y instanceof be?it(y.errors):[y]}}if(G(l)){let y=-1,E=l.length;for(;++y<E;){const O=l[y];if(J(O))try{O.unsubscribe()}catch(N){r=r||[],N instanceof be?r=r.concat(it(N.errors)):r.push(N)}}}if(r)throw new be(r)}add(r){let n=r;if(!r)return Ee.EMPTY;switch(typeof r){case"function":n=new Ee(r);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof Ee)){const l=n;n=new Ee,n._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}let{_parentOrParents:o}=n;if(null===o)n._parentOrParents=this;else if(o instanceof Ee){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n}remove(r){const n=this._subscriptions;if(n){const o=n.indexOf(r);-1!==o&&n.splice(o,1)}}}var e;function it(e){return e.reduce((r,n)=>r.concat(n instanceof be?n.errors:n),[])}Ee.EMPTY=((e=new Ee).closed=!0,e);const nt="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class q extends Ee{constructor(r,n,o){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=U;break;case 1:if(!r){this.destination=U;break}if("object"==typeof r){r instanceof q?(this.syncErrorThrowable=r.syncErrorThrowable,this.destination=r,r.add(this)):(this.syncErrorThrowable=!0,this.destination=new _e(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new _e(this,r,n,o)}}[nt](){return this}static create(r,n,o){const s=new q(r,n,o);return s.syncErrorThrowable=!1,s}next(r){this.isStopped||this._next(r)}error(r){this.isStopped||(this.isStopped=!0,this._error(r))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(r){this.destination.next(r)}_error(r){this.destination.error(r),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:r}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this}}class _e extends q{constructor(r,n,o,s){super(),this._parentSubscriber=r;let l,y=this;vn(n)?l=n:n&&(l=n.next,o=n.error,s=n.complete,n!==U&&(y=Object.create(n),vn(y.unsubscribe)&&this.add(y.unsubscribe.bind(y)),y.unsubscribe=this.unsubscribe.bind(this))),this._context=y,this._next=l,this._error=o,this._complete=s}next(r){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;Se.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}}error(r){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:o}=Se;if(this._error)o&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)o?(n.syncErrorValue=r,n.syncErrorThrown=!0):F(r),this.unsubscribe();else{if(this.unsubscribe(),o)throw r;F(r)}}}complete(){if(!this.isStopped){const{_parentSubscriber:r}=this;if(this._complete){const n=()=>this._complete.call(this._context);Se.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(r,n){try{r.call(this._context,n)}catch(o){if(this.unsubscribe(),Se.useDeprecatedSynchronousErrorHandling)throw o;F(o)}}__tryOrSetError(r,n,o){if(!Se.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,o)}catch(s){return Se.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(F(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:r}=this;this._context=null,this._parentSubscriber=null,r.unsubscribe()}}const Le="function"==typeof Symbol&&Symbol.observable||"@@observable";function Me(e){return e}function xe(e){return 0===e.length?Me:1===e.length?e[0]:function(n){return e.reduce((o,s)=>s(o),n)}}let ye=(()=>{class e{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const o=new e;return o.source=this,o.operator=n,o}subscribe(n,o,s){const{operator:l}=this,y=function we(e,r,n){if(e){if(e instanceof q)return e;if(e[nt])return e[nt]()}return e||r||n?new q(e,r,n):new q(U)}(n,o,s);if(y.add(l?l.call(y,this.source):this.source||Se.useDeprecatedSynchronousErrorHandling&&!y.syncErrorThrowable?this._subscribe(y):this._trySubscribe(y)),Se.useDeprecatedSynchronousErrorHandling&&y.syncErrorThrowable&&(y.syncErrorThrowable=!1,y.syncErrorThrown))throw y.syncErrorValue;return y}_trySubscribe(n){try{return this._subscribe(n)}catch(o){Se.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=o),function ve(e){for(;e;){const{closed:r,destination:n,isStopped:o}=e;if(r||o)return!1;e=n&&n instanceof q?n:null}return!0}(n)?n.error(o):console.warn(o)}}forEach(n,o){return new(o=Ae(o))((s,l)=>{let y;y=this.subscribe(E=>{try{n(E)}catch(O){l(O),y&&y.unsubscribe()}},l,s)})}_subscribe(n){const{source:o}=this;return o&&o.subscribe(n)}[Le](){return this}pipe(...n){return 0===n.length?this:xe(n)(this)}toPromise(n){return new(n=Ae(n))((o,s)=>{let l;this.subscribe(y=>l=y,y=>s(y),()=>o(l))})}}return e.create=r=>new e(r),e})();function Ae(e){if(e||(e=Se.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const Qe=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class rt extends Ee{constructor(r,n){super(),this.subject=r,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const r=this.subject,n=r.observers;if(this.subject=null,!n||0===n.length||r.isStopped||r.closed)return;const o=n.indexOf(this.subscriber);-1!==o&&n.splice(o,1)}}class mn extends q{constructor(r){super(r),this.destination=r}}let Lt=(()=>{class e extends ye{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[nt](){return new mn(this)}lift(n){const o=new Yn(this,this);return o.operator=n,o}next(n){if(this.closed)throw new Qe;if(!this.isStopped){const{observers:o}=this,s=o.length,l=o.slice();for(let y=0;y<s;y++)l[y].next(n)}}error(n){if(this.closed)throw new Qe;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:o}=this,s=o.length,l=o.slice();for(let y=0;y<s;y++)l[y].error(n);this.observers.length=0}complete(){if(this.closed)throw new Qe;this.isStopped=!0;const{observers:n}=this,o=n.length,s=n.slice();for(let l=0;l<o;l++)s[l].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new Qe;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new Qe;return this.hasError?(n.error(this.thrownError),Ee.EMPTY):this.isStopped?(n.complete(),Ee.EMPTY):(this.observers.push(n),new rt(this,n))}asObservable(){const n=new ye;return n.source=this,n}}return e.create=(r,n)=>new Yn(r,n),e})();class Yn extends Lt{constructor(r,n){super(),this.destination=r,this.source=n}next(r){const{destination:n}=this;n&&n.next&&n.next(r)}error(r){const{destination:n}=this;n&&n.error&&this.destination.error(r)}complete(){const{destination:r}=this;r&&r.complete&&this.destination.complete()}_subscribe(r){const{source:n}=this;return n?this.source.subscribe(r):Ee.EMPTY}}class hn extends Lt{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const n=super._subscribe(r);return n&&!n.closed&&r.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qe;return this._value}next(r){super.next(this._value=r)}}function Yt(e,r){return function(o){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return o.lift(new ai(e,r))}}class ai{constructor(r,n){this.project=r,this.thisArg=n}call(r,n){return n.subscribe(new tt(r,this.project,this.thisArg))}}class tt extends q{constructor(r,n,o){super(r),this.project=n,this.count=0,this.thisArg=o||this}_next(r){let n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}this.destination.next(n)}}const ar="https://g.co/ng/security#xss";class He extends Error{constructor(r,n){super(function ci(e,r){return`NG0${Math.abs(e)}${r?": "+r:""}`}(r,n)),this.code=r}}function K(e){return r=>{setTimeout(e,void 0,r)}}const ee=class re extends Lt{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,n,o){let s=r,l=n||(()=>null),y=o;if(r&&"object"==typeof r){const O=r;s=O.next?.bind(O),l=O.error?.bind(O),y=O.complete?.bind(O)}this.__isAsync&&(l=K(l),s&&(s=K(s)),y&&(y=K(y)));const E=super.subscribe({next:s,error:l,complete:y});return r instanceof Ee&&r.add(E),E}};var _t=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(_t||{});function lt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(lt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const r=e.toString();if(null==r)return""+r;const n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function wt(e,r){return null==e||""===e?null===r?"":r:null==r||""===r?e:e+" "+r}var ui=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ui||{}),$n=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}($n||{});function pr(e){return{toString:e}.toString()}const gn=globalThis,Te={},Ie=[];function Ve(e){for(let r in e)if(e[r]===Ve)return r;throw Error("Could not find renamed property on target object.")}function It(e,r){for(const n in r)r.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=r[n])}const Pt=Ve({\u0275cmp:Ve}),Mn=Ve({\u0275dir:Ve}),oe=Ve({\u0275pipe:Ve}),le=Ve({\u0275mod:Ve}),De=Ve({\u0275fac:Ve}),Ue=Ve({__NG_ELEMENT_ID__:Ve}),ot=Ve({__NG_ENV_ID__:Ve});var ct=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ct||{});function ze(e,r,n){let o=e.length;for(;;){const s=e.indexOf(r,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const l=r.length;if(s+l===o||e.charCodeAt(s+l)<=32)return s}n=s+1}}function fn(e,r,n){let o=0;for(;o<n.length;){const s=n[o];if("number"==typeof s){if(0!==s)break;o++;const l=n[o++],y=n[o++],E=n[o++];e.setAttribute(r,y,E,l)}else{const l=s,y=n[++o];kr(l)?e.setProperty(r,l,y):e.setAttribute(r,l,y),o++}}return o}function jn(e){return 3===e||4===e||6===e}function kr(e){return 64===e.charCodeAt(0)}function li(e,r){if(null!==r&&0!==r.length)if(null===e||0===e.length)e=r.slice();else{let n=-1;for(let o=0;o<r.length;o++){const s=r[o];"number"==typeof s?n=s:0===n||qa(e,n,s,null,-1===n||2===n?r[++o]:null)}}return e}function qa(e,r,n,o,s){let l=0,y=e.length;if(-1===r)y=-1;else for(;l<e.length;){const E=e[l++];if("number"==typeof E){if(E===r){y=-1;break}if(E>r){y=l-1;break}}}for(;l<e.length;){const E=e[l];if("number"==typeof E)break;if(E===n){if(null===o)return void(null!==s&&(e[l+1]=s));if(o===e[l+1])return void(e[l+2]=s)}l++,null!==o&&l++,null!==s&&l++}-1!==y&&(e.splice(y,0,r),l=y+1),e.splice(l++,0,n),null!==o&&e.splice(l++,0,o),null!==s&&e.splice(l++,0,s)}const $s="ng-template";function Oh(e,r,n){let o=0,s=!0;for(;o<e.length;){let l=e[o++];if("string"==typeof l&&s){const y=e[o++];if(n&&"class"===l&&-1!==ze(y.toLowerCase(),r,0))return!0}else{if(1===l){for(;o<e.length&&"string"==typeof(l=e[o++]);)if(l.toLowerCase()===r)return!0;return!1}"number"==typeof l&&(s=!1)}}return!1}function bu(e){return 4===e.type&&e.value!==$s}function Il(e,r,n){return r===(4!==e.type||n?e.value:$s)}function vu(e,r,n){let o=4;const s=e.attrs||[],l=function Pl(e){for(let r=0;r<e.length;r++)if(jn(e[r]))return r;return e.length}(s);let y=!1;for(let E=0;E<r.length;E++){const O=r[E];if("number"!=typeof O){if(!y)if(4&o){if(o=2|1&o,""!==O&&!Il(e,O,n)||""===O&&1===r.length){if(uo(o))return!1;y=!0}}else{const N=8&o?O:r[++E];if(8&o&&null!==e.attrs){if(!Oh(e.attrs,N,n)){if(uo(o))return!1;y=!0}continue}const H=Al(8&o?"class":O,s,bu(e),n);if(-1===H){if(uo(o))return!1;y=!0;continue}if(""!==N){let ae;ae=H>l?"":s[H+1].toLowerCase();const me=8&o?ae:null;if(me&&-1!==ze(me,N,0)||2&o&&N!==ae){if(uo(o))return!1;y=!0}}}}else{if(!y&&!uo(o)&&!uo(O))return!1;if(y&&uo(O))continue;y=!1,o=O|1&o}}return uo(o)||y}function uo(e){return 0==(1&e)}function Al(e,r,n,o){if(null===r)return-1;let s=0;if(o||!n){let l=!1;for(;s<r.length;){const y=r[s];if(y===e)return s;if(3===y||6===y)l=!0;else{if(1===y||2===y){let E=r[++s];for(;"string"==typeof E;)E=r[++s];continue}if(4===y)break;if(0===y){s+=4;continue}}s+=l?1:2}return-1}return function lo(e,r){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===r)return n;n++}return-1}(r,e)}function Cc(e,r,n=!1){for(let o=0;o<r.length;o++)if(vu(e,r[o],n))return!0;return!1}function _u(e,r){e:for(let n=0;n<r.length;n++){const o=r[n];if(e.length===o.length){for(let s=0;s<e.length;s++)if(e[s]!==o[s])continue e;return!0}}return!1}function da(e,r){return e?":not("+r.trim()+")":r}function Rl(e){let r=e[0],n=1,o=2,s="",l=!1;for(;n<e.length;){let y=e[n];if("string"==typeof y)if(2&o){const E=e[++n];s+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&o?s+="."+y:4&o&&(s+=" "+y);else""!==s&&!uo(y)&&(r+=da(l,s),s=""),o=y,l=l||!uo(o);n++}return""!==s&&(r+=da(l,s)),r}function Or(e){return pr(()=>{const r=Po(e),n={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ui.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||$n.Emulated,styles:e.styles||Ie,_:null,schemas:e.schemas||null,tView:null,id:""};Ze(n);const o=e.dependencies;return n.directiveDefs=vt(o,!1),n.pipeDefs=vt(o,!0),n.id=function Kt(e){let r=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of n)r=Math.imul(31,r)+s.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(n),n})}function Ih(e){return Xn(e)||Ur(e)}function ha(e){return null!==e}function _r(e){return pr(()=>({type:e.type,bootstrap:e.bootstrap||Ie,declarations:e.declarations||Ie,imports:e.imports||Ie,exports:e.exports||Ie,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function wu(e,r){if(null==e)return Te;const n={};for(const o in e)if(e.hasOwnProperty(o)){const s=e[o];let l,y,E=ct.None;Array.isArray(s)?(E=s[0],l=s[1],y=s[2]??l):(l=s,y=s),r?(n[l]=E!==ct.None?[o,E]:o,r[l]=y):n[l]=o}return n}function Jt(e){return pr(()=>{const r=Po(e);return Ze(r),r})}function pi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Xn(e){return e[Pt]||null}function Ur(e){return e[Mn]||null}function mr(e){return e[oe]||null}function zr(e,r){const n=e[le]||null;if(!n&&!0===r)throw new Error(`Type ${lt(e)} does not have '\u0275mod' property.`);return n}function Po(e){const r={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:e.inputs||Te,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ie,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wu(e.inputs,r),outputs:wu(e.outputs),debugInfo:null}}function Ze(e){e.features?.forEach(r=>r(e))}function vt(e,r){if(!e)return null;const n=r?mr:Ih;return()=>("function"==typeof e?e():e).map(o=>n(o)).filter(ha)}const nn=0,ut=1,qt=2,Cr=3,dr=4,Ii=5,rs=6,$i=7,Mr=8,Ji=9,Co=10,In=11,fa=12,Tr=13,Tc=14,Yr=15,pa=16,Ec=17,Us=18,Su=19,xu=20,ho=21,Ya=22,ma=23,Nn=25,Nl=1,Ro=7,vs=9,Lr=10;var Oc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Oc||{});function eo(e){return Array.isArray(e)&&"object"==typeof e[Nl]}function to(e){return Array.isArray(e)&&!0===e[Nl]}function Ah(e){return 0!=(4&e.flags)}function ys(e){return e.componentOffset>-1}function Ka(e){return 1==(1&e.flags)}function ko(e){return!!e.template}function Ph(e){return 0!=(512&e[qt])}let Xa=!1;function cn(e){for(;Array.isArray(e);)e=e[nn];return e}function No(e,r){return cn(r[e])}function ii(e,r){return cn(r[e.index])}function fo(e,r){return e.data[r]}function Qa(e,r){return e[r]}function To(e,r){const n=r[e];return eo(n)?n:n[nn]}function jh(e){return 128==(128&e[qt])}function Eo(e,r){return null==r?null:e[r]}function Du(e){e[Ec]=0}function fy(e){1024&e[qt]||(e[qt]|=1024,jh(e)&&ss(e))}function os(e){return!!(9216&e[qt]||e[ma]?.dirty)}function Ou(e){os(e)?ss(e):64&e[qt]&&(function Vl(){return Xa}()?(e[qt]|=1024,ss(e)):e[Co].changeDetectionScheduler?.notify())}function ss(e){e[Co].changeDetectionScheduler?.notify();let r=ga(e);for(;null!==r&&!(8192&r[qt])&&(r[qt]|=8192,jh(r));)r=ga(r)}function po(e,r){if(256==(256&e[qt]))throw new He(911,!1);null===e[ho]&&(e[ho]=[]),e[ho].push(r)}function ga(e){const r=e[Cr];return to(r)?r[Cr]:r}const Sn={lFrame:vm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ai(){return Sn.bindingsEnabled}function ba(){return null!==Sn.skipHydrationRootTNode}function st(){return Sn.lFrame.lView}function Dn(){return Sn.lFrame.tView}function ur(e){return Sn.lFrame.contextLView=e,e[Mr]}function hr(e){return Sn.lFrame.contextLView=null,e}function Ir(){let e=Hl();for(;null!==e&&64===e.type;)e=e.parent;return e}function Hl(){return Sn.lFrame.currentTNode}function as(e,r){const n=Sn.lFrame;n.currentTNode=e,n.isParent=r}function ec(){return Sn.lFrame.isParent}function Mu(){Sn.lFrame.isParent=!1}function Ui(){const e=Sn.lFrame;let r=e.bindingRootIndex;return-1===r&&(r=e.bindingRootIndex=e.tView.bindingStartIndex),r}function qo(){return Sn.lFrame.bindingIndex++}function Yo(e){const r=Sn.lFrame,n=r.bindingIndex;return r.bindingIndex=r.bindingIndex+e,n}function gm(e,r){const n=Sn.lFrame;n.bindingIndex=n.bindingRootIndex=e,Wl(r)}function Wl(e){Sn.lFrame.currentDirectiveIndex=e}function Iu(e){const r=Sn.lFrame.currentDirectiveIndex;return-1===r?null:e[r]}function Au(){return Sn.lFrame.currentQueryIndex}function Gn(e){Sn.lFrame.currentQueryIndex=e}function by(e){const r=e[ut];return 2===r.type?r.declTNode:1===r.type?e[Ii]:null}function bm(e,r,n){if(n&_t.SkipSelf){let s=r,l=e;for(;!(s=s.parent,null!==s||n&_t.Host||(s=by(l),null===s||(l=l[Tc],10&s.type))););if(null===s)return!1;r=s,e=l}const o=Sn.lFrame=Gh();return o.currentTNode=r,o.lView=e,!0}function tc(e){const r=Gh(),n=e[ut];Sn.lFrame=r,r.currentTNode=n.firstChild,r.lView=e,r.tView=n,r.contextLView=e,r.bindingIndex=n.bindingStartIndex,r.inI18n=!1}function Gh(){const e=Sn.lFrame,r=null===e?null:e.child;return null===r?vm(e):r}function vm(e){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=r),r}function ym(){const e=Sn.lFrame;return Sn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Fo=ym;function Wh(){const e=ym();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Pi(){return Sn.lFrame.selectedIndex}function va(e){Sn.lFrame.selectedIndex=e}function jr(){const e=Sn.lFrame;return fo(e.tView,e.selectedIndex)}let Yh=!0;function Mc(){return Yh}function Ws(e){Yh=e}function Kh(){return _a(Ir(),st())}function _a(e,r){return new nr(ii(e,r))}let Rc,nr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=Kh}return e})();function wm(e){return e instanceof nr?e.nativeElement:e}function nc(e,r){e.forEach(n=>Array.isArray(n)?nc(n,r):r(n))}function Yl(e,r,n){r>=e.length?e.push(n):e.splice(r,0,n)}function Ru(e,r){return r>=e.length-1?e.pop():e.splice(r,1)[0]}function ro(e,r,n){let o=rc(e,r);return o>=0?e[1|o]=n:(o=~o,function go(e,r,n,o){let s=e.length;if(s==r)e.push(n,o);else if(1===s)e.push(o,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>r;)e[s]=e[s-2],s--;e[r]=n,e[r+1]=o}}(e,o,r,n)),o}function Sa(e,r){const n=rc(e,r);if(n>=0)return e[1|n]}function rc(e,r){return function Xh(e,r,n){let o=0,s=e.length>>n;for(;s!==o;){const l=o+(s-o>>1),y=e[l<<n];if(r===y)return l<<n;y>r?s=l:o=l+1}return~(s<<n)}(e,r,1)}function Ic(){return this._results[Symbol.iterator]()}class Ss{static#e=Symbol.iterator;get changes(){return this._changes??=new ee}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Ss.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Ic)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,n){return this._results.reduce(r,n)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,n){this.dirty=!1;const o=function mo(e){return e.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function wa(e,r,n){if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++){let s=e[o],l=r[o];if(n&&(s=n(s),l=n(l)),l!==s)return!1}return!0}(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function ic(e){return 128==(128&e.flags)}function cs(){if(void 0!==Rc)return Rc;if(typeof document<"u")return document;throw new He(210,!1)}function Ot(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ar(e){return{providers:e.providers||[],imports:e.imports||[]}}function Fu(e){return Qh(e,Lu)||Qh(e,Zl)}function Qh(e,r){return e.hasOwnProperty(r)?e[r]:null}function Xl(e){return e&&(e.hasOwnProperty(us)||e.hasOwnProperty(Jh))?e[us]:null}const Lu=Ve({\u0275prov:Ve}),us=Ve({\u0275inj:Ve}),Zl=Ve({ngInjectableDef:Ve}),Jh=Ve({ngInjectorDef:Ve});class Dt{constructor(r,n){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ot({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const oc=new Dt("",{providedIn:"root",factory:()=>kc}),kc="ng",xn=new Dt(""),Ko=new Dt("",{providedIn:"platform",factory:()=>"unknown"}),Ri=new Dt(""),ju=new Dt("",{providedIn:"root",factory:()=>cs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Om=Ve({__forward_ref__:Ve});function Nr(e){return e.__forward_ref__=Nr,e.toString=function(){return lt(this())},e}function An(e){return Xo(e)?e():e}function Xo(e){return"function"==typeof e&&e.hasOwnProperty(Om)&&e.__forward_ref__===Nr}function ed(e){return e&&!!e.\u0275providers}function Pn(e){return"string"==typeof e?e:null==e?"":String(e)}function nd(e,r){throw new He(-201,!1)}let Zo;function xa(){return Zo}function bo(e){const r=Zo;return Zo=e,r}function Pm(e,r,n){const o=Fu(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&_t.Optional?null:void 0!==r?r:void nd()}const Nc={},rd="__NG_DI_FLAG__",$u="ngTempTokenPath",Cy=/\n/gm,km="__source";let Hi;function Ks(e){const r=Hi;return Hi=e,r}function Dy(e,r=_t.Default){if(void 0===Hi)throw new He(-203,!1);return null===Hi?Pm(e,void 0,r):Hi.get(e,r&_t.Optional?null:void 0,r)}function We(e,r=_t.Default){return(xa()||Dy)(An(e),r)}function yt(e,r=_t.Default){return We(e,id(r))}function id(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Uu(e){const r=[];for(let n=0;n<e.length;n++){const o=An(e[n]);if(Array.isArray(o)){if(0===o.length)throw new He(900,!1);let s,l=_t.Default;for(let y=0;y<o.length;y++){const E=o[y],O=Oy(E);"number"==typeof O?-1===O?s=E.token:l|=O:s=E}r.push(We(s,l))}else r.push(We(o))}return r}function Fc(e,r){return e[rd]=r,e.prototype[rd]=r,e}function Oy(e){return e[rd]}let lf=()=>null;function sd(e,r,n=!1){return lf(e,r,n)}const Ta="__parameters__";function Fr(e,r,n){return pr(()=>{const o=function Uc(e){return function(...n){if(e){const o=e(...n);for(const s in o)this[s]=o[s]}}}(r);function s(...l){if(this instanceof s)return o.apply(this,l),this;const y=new s(...l);return E.annotation=y,E;function E(O,N,$){const H=O.hasOwnProperty(Ta)?O[Ta]:Object.defineProperty(O,Ta,{value:[]})[Ta];for(;H.length<=$;)H.push(null);return(H[$]=H[$]||[]).push(y),O}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}const Zs=Fc(Fr("Optional"),8),ac=Fc(Fr("SkipSelf"),4);function Ts(e,r){return e.hasOwnProperty(De)?e[De]:null}const Si=new Dt(""),cc=new Dt("",-1),pf=new Dt("");class cd{get(r,n=Nc){if(n===Nc){const o=new Error(`NullInjectorError: No provider for ${lt(r)}!`);throw o.name="NullInjectorError",o}return n}}function Qs(...e){return{\u0275providers:Wn(0,e),\u0275fromNgModule:!0}}function Wn(e,...r){const n=[],o=new Set;let s;const l=y=>{n.push(y)};return nc(r,y=>{const E=y;yo(E,l,[],o)&&(s||=[],s.push(E))}),void 0!==s&&mf(s,l),n}function mf(e,r){for(let n=0;n<e.length;n++){const{ngModule:o,providers:s}=e[n];wr(s,l=>{r(l,o)})}}function yo(e,r,n,o){if(!(e=An(e)))return!1;let s=null,l=Xl(e);const y=!l&&Xn(e);if(l||y){if(y&&!y.standalone)return!1;s=e}else{const O=e.ngModule;if(l=Xl(O),!l)return!1;s=O}const E=o.has(s);if(y){if(E)return!1;if(o.add(s),y.dependencies){const O="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const N of O)yo(N,r,n,o)}}else{if(!l)return!1;{if(null!=l.imports&&!E){let N;o.add(s);try{nc(l.imports,$=>{yo($,r,n,o)&&(N||=[],N.push($))})}finally{}void 0!==N&&mf(N,r)}if(!E){const N=Ts(s)||(()=>new s);r({provide:s,useFactory:N,deps:Ie},s),r({provide:pf,useValue:s,multi:!0},s),r({provide:Si,useValue:()=>We(s),multi:!0},s)}const O=l.providers;if(null!=O&&!E){const N=e;wr(O,$=>{r($,N)})}}}return s!==e&&void 0!==e.providers}function wr(e,r){for(let n of e)ed(n)&&(n=n.\u0275providers),Array.isArray(n)?wr(n,r):r(n)}const Ny=Ve({provide:String,useValue:Ve});function ud(e){return null!==e&&"object"==typeof e&&Ny in e}function uc(e){return"function"==typeof e}const gf=new Dt(""),zc={},bf={};let vf;function ld(){return void 0===vf&&(vf=new cd),vf}class jo{}class si extends jo{get destroyed(){return this._destroyed}constructor(r,n,o,s){super(),this.parent=n,this.source=o,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ea(r,y=>this.processProvider(y)),this.records.set(cc,Hc(void 0,this)),s.has("environment")&&this.records.set(jo,Hc(void 0,this));const l=this.records.get(gf);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(pf,Ie,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const n=Ks(this),o=bo(void 0);try{return r()}finally{Ks(n),bo(o)}}get(r,n=Nc,o=_t.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(ot))return r[ot](this);o=id(o);const l=Ks(this),y=bo(void 0);try{if(!(o&_t.SkipSelf)){let O=this.records.get(r);if(void 0===O){const N=function Ym(e){return"function"==typeof e||"object"==typeof e&&e instanceof Dt}(r)&&Fu(r);O=N&&this.injectableDefInScope(N)?Hc(oo(r),zc):null,this.records.set(r,O)}if(null!=O)return this.hydrate(r,O)}return(o&_t.Self?ld():this.parent).get(r,n=o&_t.Optional&&n===Nc?null:n)}catch(E){if("NullInjectorError"===E.name){if((E[$u]=E[$u]||[]).unshift(lt(r)),l)throw E;return function My(e,r,n,o){const s=e[$u];throw r[km]&&s.unshift(r[km]),e.message=function Iy(e,r,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=lt(r);if(Array.isArray(r))s=r.map(lt).join(" -> ");else if("object"==typeof r){let l=[];for(let y in r)if(r.hasOwnProperty(y)){let E=r[y];l.push(y+":"+("string"==typeof E?JSON.stringify(E):lt(E)))}s=`{${l.join(", ")}}`}return`${n}${o?"("+o+")":""}[${s}]: ${e.replace(Cy,"\n  ")}`}("\n"+e.message,s,n,o),e.ngTokenPath=s,e[$u]=null,e}(E,r,"R3InjectorError",this.source)}throw E}finally{bo(y),Ks(l)}}resolveInjectorInitializers(){const r=Ks(this),n=bo(void 0);try{const s=this.get(Si,Ie,_t.Self);for(const l of s)l()}finally{Ks(r),bo(n)}}toString(){const r=[],n=this.records;for(const o of n.keys())r.push(lt(o));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(r){let n=uc(r=An(r))?r:An(r&&r.provide);const o=function Hm(e){return ud(e)?Hc(void 0,e.useValue):Hc(Gm(e),zc)}(r);if(!uc(r)&&!0===r.multi){let s=this.records.get(n);s||(s=Hc(void 0,zc,!0),s.factory=()=>Uu(s.multi),this.records.set(n,s)),n=r,s.multi.push(r)}this.records.set(n,o)}hydrate(r,n){return n.value===zc&&(n.value=bf,n.value=n.factory()),"object"==typeof n.value&&n.value&&function qm(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(r){if(!r.providedIn)return!1;const n=An(r.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(r){const n=this._onDestroyHooks.indexOf(r);-1!==n&&this._onDestroyHooks.splice(n,1)}}function oo(e){const r=Fu(e),n=null!==r?r.factory:Ts(e);if(null!==n)return n;if(e instanceof Dt)throw new He(204,!1);if(e instanceof Function)return function Ly(e){if(e.length>0)throw new He(204,!1);const n=function Tm(e){return e&&(e[Lu]||e[Zl])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new He(204,!1)}function Gm(e,r,n){let o;if(uc(e)){const s=An(e);return Ts(s)||oo(s)}if(ud(e))o=()=>An(e.useValue);else if(function zm(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Uu(e.deps||[]));else if(function Yu(e){return!(!e||!e.useExisting)}(e))o=()=>We(An(e.useExisting));else{const s=An(e&&(e.useClass||e.provide));if(!function Wm(e){return!!e.deps}(e))return Ts(s)||oo(s);o=()=>new s(...Uu(e.deps))}return o}function Hc(e,r,n=!1){return{factory:e,value:r,multi:n?[]:void 0}}function Ea(e,r){for(const n of e)Array.isArray(n)?Ea(n,r):n&&ed(n)?Ea(n.\u0275providers,r):r(n)}function Da(e,r){e instanceof si&&e.assertNotDestroyed();const o=Ks(e),s=bo(void 0);try{return r()}finally{Ks(o),bo(s)}}class Sf{constructor(r,n,o){this.previousValue=r,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function Qm(e,r,n,o){null!==r?r.applyValueToInputSignal(r,o):e[n]=o}function so(){return hd}function hd(e){return e.type.prototype.ngOnChanges&&(e.setInput=zy),xf}function xf(){const e=eg(this),r=e?.current;if(r){const n=e.previous;if(n===Te)e.previous=r;else for(let o in r)n[o]=r[o];e.current=null,this.ngOnChanges(r)}}function zy(e,r,n,o,s){const l=this.declaredInputs[o],y=eg(e)||function tg(e,r){return e[Jm]=r}(e,{previous:Te,current:null}),E=y.current||(y.current={}),O=y.previous,N=O[l];E[l]=new Sf(N&&N.currentValue,n,O===Te),Qm(e,r,s,n)}so.ngInherit=!0;const Jm="__ngSimpleChanges__";function eg(e){return e[Jm]||null}const Qo=function(e,r,n){};function Gc(e,r){for(let n=r.directiveStart,o=r.directiveEnd;n<o;n++){const l=e.data[n].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:O,ngAfterViewChecked:N,ngOnDestroy:$}=l;y&&(e.contentHooks??=[]).push(-n,y),E&&((e.contentHooks??=[]).push(n,E),(e.contentCheckHooks??=[]).push(n,E)),O&&(e.viewHooks??=[]).push(-n,O),N&&((e.viewHooks??=[]).push(n,N),(e.viewCheckHooks??=[]).push(n,N)),null!=$&&(e.destroyHooks??=[]).push(n,$)}}function fd(e,r,n){ng(e,r,3,n)}function pd(e,r,n,o){(3&e[qt])===n&&ng(e,r,n,o)}function Ef(e,r){let n=e[qt];(3&n)===r&&(n&=16383,n+=1,e[qt]=n)}function ng(e,r,n,o){const l=o??-1,y=r.length-1;let E=0;for(let O=void 0!==o?65535&e[Ec]:0;O<y;O++)if("number"==typeof r[O+1]){if(E=r[O],null!=o&&E>=o)break}else r[O]<0&&(e[Ec]+=65536),(E<l||-1==l)&&(Gy(e,n,r,O),e[Ec]=(4294901760&e[Ec])+O+2),O++}function rg(e,r){Qo(4,e,r);const n=f(null);try{r.call(e)}finally{f(n),Qo(5,e,r)}}function Gy(e,r,n,o){const s=n[o]<0,l=n[o+1],E=e[s?-n[o]:n[o]];s?e[qt]>>14<e[Ec]>>16&&(3&e[qt])===r&&(e[qt]+=16384,rg(E,l)):rg(E,l)}const Wc=-1;class T{constructor(r,n,o){this.factory=r,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}function qe(e){return e!==Wc}function bt(e){return 32767&e}function Mt(e,r){let n=function xt(e){return e>>16}(e),o=r;for(;n>0;)o=o[Tc],n--;return o}let sn=!0;function an(e){const r=sn;return sn=e,r}const Ct=255,Nt=5;let Tn=0;const Ft={};function Rn(e,r){const n=pn(e,r);if(-1!==n)return n;const o=r[ut];o.firstCreatePass&&(e.injectorIndex=r.length,gr(o.data,e),gr(r,null),gr(o.blueprint,null));const s=wn(e,r),l=e.injectorIndex;if(qe(s)){const y=bt(s),E=Mt(s,r),O=E[ut].data;for(let N=0;N<8;N++)r[l+N]=E[y+N]|O[y+N]}return r[l+8]=s,l}function gr(e,r){e.push(0,0,0,0,0,0,0,0,r)}function pn(e,r){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===r[e.injectorIndex+8]?-1:e.injectorIndex}function wn(e,r){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,s=r;for(;null!==s;){if(o=K1(s),null===o)return Wc;if(n++,s=s[Tc],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return Wc}function gi(e,r,n){!function zn(e,r,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(Ue)&&(o=n[Ue]),null==o&&(o=n[Ue]=Tn++);const s=o&Ct;r.data[e+(s>>Nt)]|=1<<s}(e,r,n)}function ao(e,r,n){if(n&_t.Optional||void 0!==e)return e;nd()}function Hr(e,r,n,o){if(n&_t.Optional&&void 0===o&&(o=null),!(n&(_t.Self|_t.Host))){const s=e[Ji],l=bo(void 0);try{return s?s.get(r,o,n&_t.Optional):Pm(r,o,n&_t.Optional)}finally{bo(l)}}return ao(o,0,n)}function Wi(e,r,n,o=_t.Default,s){if(null!==e){if(2048&r[qt]&&!(o&_t.Self)){const y=function PR(e,r,n,o,s){let l=e,y=r;for(;null!==l&&null!==y&&2048&y[qt]&&!(512&y[qt]);){const E=ds(l,y,n,o|_t.Self,Ft);if(E!==Ft)return E;let O=l.parent;if(!O){const N=y[xu];if(N){const $=N.get(n,Ft,o);if($!==Ft)return $}O=K1(y),y=y[Tc]}l=O}return s}(e,r,n,o,Ft);if(y!==Ft)return y}const l=ds(e,r,n,o,Ft);if(l!==Ft)return l}return Hr(r,n,o,s)}function ds(e,r,n,o,s){const l=function ig(e){if("string"==typeof e)return e.charCodeAt(0)||0;const r=e.hasOwnProperty(Ue)?e[Ue]:void 0;return"number"==typeof r?r>=0?r&Ct:og:r}(n);if("function"==typeof l){if(!bm(r,e,o))return o&_t.Host?ao(s,0,o):Hr(r,n,o,s);try{let y;if(y=l(o),null!=y||o&_t.Optional)return y;nd()}finally{Fo()}}else if("number"==typeof l){let y=null,E=pn(e,r),O=Wc,N=o&_t.Host?r[Yr][Ii]:null;for((-1===E||o&_t.SkipSelf)&&(O=-1===E?wn(e,r):r[E+8],O!==Wc&&Xu(o,!1)?(y=r[ut],E=bt(O),r=Mt(O,r)):E=-1);-1!==E;){const $=r[ut];if(Df(l,E,$.data)){const H=Oa(E,r,n,y,o,N);if(H!==Ft)return H}O=r[E+8],O!==Wc&&Xu(o,r[ut].data[E+8]===N)&&Df(l,E,r)?(y=$,E=bt(O),r=Mt(O,r)):E=-1}}return s}function Oa(e,r,n,o,s,l){const y=r[ut],E=y.data[e+8],$=Es(E,y,n,null==o?ys(E)&&sn:o!=y&&0!=(3&E.type),s&_t.Host&&l===E);return null!==$?_o(r,y,$,E):Ft}function Es(e,r,n,o,s){const l=e.providerIndexes,y=r.data,E=1048575&l,O=e.directiveStart,$=l>>20,ae=s?E+$:e.directiveEnd;for(let me=o?E:E+$;me<ae;me++){const Ce=y[me];if(me<O&&n===Ce||me>=O&&Ce.type===n)return me}if(s){const me=y[O];if(me&&ko(me)&&me.type===n)return O}return null}function _o(e,r,n,o){let s=e[n];const l=r.data;if(function M(e){return e instanceof T}(s)){const y=s;y.resolving&&function td(e,r){throw r&&r.join(" > "),new He(-200,e)}(function vr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Pn(e)}(l[n]));const E=an(y.canSeeViewProviders);y.resolving=!0;const N=y.injectImpl?bo(y.injectImpl):null;bm(e,o,_t.Default);try{s=e[n]=y.factory(void 0,l,e,o),r.firstCreatePass&&n>=o.directiveStart&&function Tf(e,r,n){const{ngOnChanges:o,ngOnInit:s,ngDoCheck:l}=r.type.prototype;if(o){const y=hd(r);(n.preOrderHooks??=[]).push(e,y),(n.preOrderCheckHooks??=[]).push(e,y)}s&&(n.preOrderHooks??=[]).push(0-e,s),l&&((n.preOrderHooks??=[]).push(e,l),(n.preOrderCheckHooks??=[]).push(e,l))}(n,l[n],r)}finally{null!==N&&bo(N),an(E),y.resolving=!1,Fo()}}return s}function Df(e,r,n){return!!(n[r+(e>>Nt)]&1<<e)}function Xu(e,r){return!(e&_t.Self||e&_t.Host&&r)}class di{constructor(r,n){this._tNode=r,this._lView=n}get(r,n,o){return Wi(this._tNode,this._lView,r,id(o),n)}}function og(){return new di(Ir(),st())}function Kr(e){return pr(()=>{const r=e.prototype.constructor,n=r[De]||qc(r),o=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==o;){const l=s[De]||qc(s);if(l&&l!==n)return l;s=Object.getPrototypeOf(s)}return l=>new l})}function qc(e){return Xo(e)?()=>{const r=qc(An(e));return r&&r()}:Ts(e)}function K1(e){const r=e[ut],n=r.type;return 2===n?r.declTNode:1===n?e[Ii]:null}function ex(e,r=null,n=null,o){const s=tx(e,r,n,o);return s.resolveInjectorInitializers(),s}function tx(e,r=null,n=null,o,s=new Set){const l=[n||Ie,Qs(e)];return o=o||("object"==typeof e?void 0:lt(e)),new si(l,r||ld(),o||null,s)}let vi=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Nc;static#t=this.NULL=new cd;static create(n,o){if(Array.isArray(n))return ex({name:""},o,n,"");{const s=n.name??"";return ex({name:s},n.parent,n.providers,s)}}static#n=this.\u0275prov=Ot({token:e,providedIn:"any",factory:()=>We(cc)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function qy(e){return e.ngOriginalError}class Ds{constructor(){this._console=console}handleError(r){const n=this._findOriginalError(r);this._console.error("ERROR",r),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(r){let n=r&&qy(r);for(;n&&qy(n);)n=qy(n);return n||null}}const rx=new Dt("",{providedIn:"root",factory:()=>yt(Ds).handleError.bind(void 0)}),ox=new Dt("",{providedIn:"root",factory:()=>!1});let cg,ug;function md(e){return function Yy(){if(void 0===cg&&(cg=null,gn.trustedTypes))try{cg=gn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return cg}()?.createHTML(e)||e}function sx(e){return function Ky(){if(void 0===ug&&(ug=null,gn.trustedTypes))try{ug=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ug}()?.createHTML(e)||e}class Zu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ar})`}}class UR extends Zu{getTypeName(){return"HTML"}}class zR extends Zu{getTypeName(){return"Style"}}class HR extends Zu{getTypeName(){return"Script"}}class GR extends Zu{getTypeName(){return"URL"}}class WR extends Zu{getTypeName(){return"ResourceURL"}}function hs(e){return e instanceof Zu?e.changingThisBreaksApplicationSecurity:e}function Ia(e,r){const n=function qR(e){return e instanceof Zu&&e.getTypeName()||null}(e);if(null!=n&&n!==r){if("ResourceURL"===n&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${n} (see ${ar})`)}return n===r}class JR{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const n=(new window.DOMParser).parseFromString(md(r),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(r):(n.removeChild(n.firstChild),n)}catch{return null}}}class ek{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const n=this.inertDocument.createElement("template");return n.innerHTML=md(r),n}}const nk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lg(e){return(e=String(e)).match(nk)?e:"unsafe:"+e}function dc(e){const r={};for(const n of e.split(","))r[n]=!0;return r}function Mf(...e){const r={};for(const n of e)for(const o in n)n.hasOwnProperty(o)&&(r[o]=!0);return r}const lx=dc("area,br,col,hr,img,wbr"),dx=dc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hx=dc("rp,rt"),Xy=Mf(lx,Mf(dx,dc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mf(hx,dc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mf(hx,dx)),Zy=dc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fx=Mf(Zy,dc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rk=dc("script,style,template");class ik{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let n=r.firstChild,o=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=this.checkClobberedElement(n,n.nextSibling);if(s){n=s;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(r){const n=r.nodeName.toLowerCase();if(!Xy.hasOwnProperty(n))return this.sanitizedSomething=!0,!rk.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const o=r.attributes;for(let s=0;s<o.length;s++){const l=o.item(s),y=l.name,E=y.toLowerCase();if(!fx.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let O=l.value;Zy[E]&&(O=lg(O)),this.buf.push(" ",y,'="',px(O),'"')}return this.buf.push(">"),!0}endElement(r){const n=r.nodeName.toLowerCase();Xy.hasOwnProperty(n)&&!lx.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(r){this.buf.push(px(r))}checkClobberedElement(r,n){if(n&&(r.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return n}}const ok=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sk=/([^\#-~ |!])/g;function px(e){return e.replace(/&/g,"&amp;").replace(ok,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(sk,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dg;function mx(e,r){let n=null;try{dg=dg||function ux(e){const r=new ek(e);return function tk(){try{return!!(new window.DOMParser).parseFromString(md(""),"text/html")}catch{return!1}}()?new JR(r):r}(e);let o=r?String(r):"";n=dg.getInertBodyElement(o);let s=5,l=o;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,o=l,l=n.innerHTML,n=dg.getInertBodyElement(o)}while(o!==l);return md((new ik).sanitizeChildren(Qy(n)||n))}finally{if(n){const o=Qy(n)||n;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Qy(e){return"content"in e&&function ak(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var wo=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(wo||{});function gd(e){const r=If();return r?sx(r.sanitize(wo.HTML,e)||""):Ia(e,"HTML")?sx(hs(e)):mx(cs(),Pn(e))}function hg(e){const r=If();return r?r.sanitize(wo.URL,e)||"":Ia(e,"URL")?hs(e):lg(Pn(e))}function If(){const e=st();return e&&e[Co].sanitizer}const Jy=new Map;let _k=0;const t_="__ngContext__";function Oo(e,r){eo(r)?(e[t_]=r[Su],function Sk(e){Jy.set(e[Su],e)}(r)):e[t_]=r}function fs(e){return e instanceof Function?e():e}var Kc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Kc||{});let o_;function s_(e,r){return o_(e,r)}function vd(e,r,n,o,s){if(null!=o){let l,y=!1;to(o)?l=o:eo(o)&&(y=!0,o=o[nn]);const E=cn(o);0===e&&null!==n?null==s?Fx(r,n,E):Qu(r,n,E,s||null,!0):1===e&&null!==n?Qu(r,n,E,s||null,!0):2===e?function _g(e,r,n){const o=vg(e,r);o&&function Hk(e,r,n,o){e.removeChild(r,n,o)}(e,o,r,n)}(r,E,y):3===e&&r.destroyNode(E),null!=l&&function qk(e,r,n,o,s){const l=n[Ro];l!==cn(n)&&vd(r,e,o,l,s);for(let E=Lr;E<n.length;E++){const O=n[E];wg(O[ut],O,e,r,o,l)}}(r,e,l,n,s)}}function gg(e,r,n){return e.createElement(r,n)}function Rx(e,r){wg(e,r,r[In],2,null,null)}function kx(e,r){const n=e[vs],o=n.indexOf(r);n.splice(o,1)}function Pf(e,r){if(e.length<=Lr)return;const n=Lr+r,o=e[n];if(o){const s=o[pa];null!==s&&s!==e&&kx(s,o),r>0&&(e[n-1][dr]=o[dr]);const l=Ru(e,Lr+r);!function Lk(e,r){Rx(e,r),r[nn]=null,r[Ii]=null}(o[ut],o);const y=l[Us];null!==y&&y.detachView(l[ut]),o[Cr]=null,o[dr]=null,o[qt]&=-129}return o}function bg(e,r){if(!(256&r[qt])){const n=r[In];n.destroyNode&&wg(e,r,n,3,null,null),function Bk(e){let r=e[fa];if(!r)return c_(e[ut],e);for(;r;){let n=null;if(eo(r))n=r[fa];else{const o=r[Lr];o&&(n=o)}if(!n){for(;r&&!r[dr]&&r!==e;)eo(r)&&c_(r[ut],r),r=r[Cr];null===r&&(r=e),eo(r)&&c_(r[ut],r),n=r&&r[dr]}r=n}}(r)}}function c_(e,r){if(!(256&r[qt])){r[qt]&=-129,r[qt]|=256,r[ma]&&function V(e){if(Z(e),Q(e))for(let r=0;r<e.producerNode.length;r++)X(e.producerNode[r],e.producerIndexOfThis[r]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(r[ma]),function zk(e,r){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const s=r[n[o]];if(!(s instanceof T)){const l=n[o+1];if(Array.isArray(l))for(let y=0;y<l.length;y+=2){const E=s[l[y]],O=l[y+1];Qo(4,E,O);try{O.call(E)}finally{Qo(5,E,O)}}else{Qo(4,s,l);try{l.call(s)}finally{Qo(5,s,l)}}}}}(e,r),function Uk(e,r){const n=e.cleanup,o=r[$i];if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const y=n[l+3];y>=0?o[y]():o[-y].unsubscribe(),l+=2}else n[l].call(o[n[l+1]]);null!==o&&(r[$i]=null);const s=r[ho];if(null!==s){r[ho]=null;for(let l=0;l<s.length;l++)(0,s[l])()}}(e,r),1===r[ut].type&&r[In].destroy();const n=r[pa];if(null!==n&&to(r[Cr])){n!==r[Cr]&&kx(n,r);const o=r[Us];null!==o&&o.detachView(e)}!function xk(e){Jy.delete(e[Su])}(r)}}function u_(e,r,n){return function Nx(e,r,n){let o=r;for(;null!==o&&40&o.type;)o=(r=o).parent;if(null===o)return n[nn];{const{componentOffset:s}=o;if(s>-1){const{encapsulation:l}=e.data[o.directiveStart+s];if(l===$n.None||l===$n.Emulated)return null}return ii(o,n)}}(e,r.parent,n)}function Qu(e,r,n,o,s){e.insertBefore(r,n,o,s)}function Fx(e,r,n){e.appendChild(r,n)}function Lx(e,r,n,o,s){null!==o?Qu(e,r,n,o,s):Fx(e,r,n)}function vg(e,r){return e.parentNode(r)}function jx(e,r,n){return Vx(e,r,n)}let l_,Vx=function Bx(e,r,n){return 40&e.type?ii(e,n):null};function yg(e,r,n,o){const s=u_(e,o,r),l=r[In],E=jx(o.parent||r[Ii],o,r);if(null!=s)if(Array.isArray(n))for(let O=0;O<n.length;O++)Lx(l,s,n[O],E,!1);else Lx(l,s,n,E,!1);void 0!==l_&&l_(l,o,r,n,s)}function Rf(e,r){if(null!==r){const n=r.type;if(3&n)return ii(r,e);if(4&n)return d_(-1,e[r.index]);if(8&n){const o=r.child;if(null!==o)return Rf(e,o);{const s=e[r.index];return to(s)?d_(-1,s):cn(s)}}if(32&n)return s_(r,e)()||cn(e[r.index]);{const o=Ux(e,r);return null!==o?Array.isArray(o)?o[0]:Rf(ga(e[Yr]),o):Rf(e,r.next)}}return null}function Ux(e,r){return null!==r?e[Yr][Ii].projection[r.projection]:null}function d_(e,r){const n=Lr+e+1;if(n<r.length){const o=r[n],s=o[ut].firstChild;if(null!==s)return Rf(o,s)}return r[Ro]}function h_(e,r,n,o,s,l,y){for(;null!=n;){const E=o[n.index],O=n.type;if(y&&0===r&&(E&&Oo(cn(E),o),n.flags|=2),32!=(32&n.flags))if(8&O)h_(e,r,n.child,o,s,l,!1),vd(r,e,s,E,l);else if(32&O){const N=s_(n,o);let $;for(;$=N();)vd(r,e,s,$,l);vd(r,e,s,E,l)}else 16&O?Hx(e,r,o,n,s,l):vd(r,e,s,E,l);n=y?n.projectionNext:n.next}}function wg(e,r,n,o,s,l){h_(n,o,e.firstChild,r,s,l,!1)}function Hx(e,r,n,o,s,l){const y=n[Yr],O=y[Ii].projection[o.projection];if(Array.isArray(O))for(let N=0;N<O.length;N++)vd(r,e,s,O[N],l);else{let N=O;const $=y[Cr];ic(o)&&(N.flags|=128),h_(e,r,N,$,s,l,!0)}}function Gx(e,r,n){""===n?e.removeAttribute(r,"class"):e.setAttribute(r,"class",n)}function Wx(e,r,n){const{mergedAttrs:o,classes:s,styles:l}=n;null!==o&&fn(e,r,o),null!==s&&Gx(e,r,s),null!==l&&function Kk(e,r,n){e.setAttribute(r,"style",n)}(e,r,l)}const qn={};function Zt(e=1){qx(Dn(),st(),Pi()+e,!1)}function qx(e,r,n,o){if(!o)if(3==(3&r[qt])){const l=e.preOrderCheckHooks;null!==l&&fd(r,l,n)}else{const l=e.preOrderHooks;null!==l&&pd(r,l,0,n)}va(n)}function je(e,r=_t.Default){const n=st();return null===n?We(e,r):Wi(Ir(),n,An(e),r)}function f_(){throw new Error("invalid")}function Yx(e,r,n,o,s,l){const y=f(null);try{let E=null;s&ct.SignalBased&&(E=r[o][m]),null!==E&&void 0!==E.transformFn&&(l=E.transformFn(l)),s&ct.HasDecoratorInputTransform&&(l=e.inputTransforms[o].call(r,l)),null!==e.setInput?e.setInput(r,E,l,n,o):Qm(r,E,o,l)}finally{f(y)}}function Sg(e,r,n,o,s,l,y,E,O,N,$){const H=r.blueprint.slice();return H[nn]=s,H[qt]=204|o,(null!==N||e&&2048&e[qt])&&(H[qt]|=2048),Du(H),H[Cr]=H[Tc]=e,H[Mr]=n,H[Co]=y||e&&e[Co],H[In]=E||e&&e[In],H[Ji]=O||e&&e[Ji]||null,H[Ii]=l,H[Su]=function wk(){return _k++}(),H[rs]=$,H[xu]=N,H[Yr]=2==r.type?e[Yr]:H,H}function yd(e,r,n,o,s){let l=e.data[r];if(null===l)l=function p_(e,r,n,o,s){const l=Hl(),y=ec(),O=e.data[r]=function rN(e,r,n,o,s,l){let y=r?r.injectorIndex:-1,E=0;return ba()&&(E|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?l:l&&l.parent,n,r,o,s);return null===e.firstChild&&(e.firstChild=O),null!==l&&(y?null==l.child&&null!==O.parent&&(l.child=O):null===l.next&&(l.next=O,O.prev=l)),O}(e,r,n,o,s),function mm(){return Sn.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=n,l.value=o,l.attrs=s;const y=function Gs(){const e=Sn.lFrame,r=e.currentTNode;return e.isParent?r:r.parent}();l.injectorIndex=null===y?-1:y.injectorIndex}return as(l,!0),l}function kf(e,r,n,o){if(0===n)return-1;const s=r.length;for(let l=0;l<n;l++)r.push(o),e.blueprint.push(o),e.data.push(null);return s}function Kx(e,r,n,o,s){const l=Pi(),y=2&o;try{va(-1),y&&r.length>Nn&&qx(e,r,Nn,!1),Qo(y?2:0,s),n(o,s)}finally{va(l),Qo(y?3:1,s)}}function m_(e,r,n){if(Ah(r)){const o=f(null);try{const l=r.directiveEnd;for(let y=r.directiveStart;y<l;y++){const E=e.data[y];E.contentQueries&&E.contentQueries(1,n[y],y)}}finally{f(o)}}}function g_(e,r,n){Ai()&&(function lN(e,r,n,o){const s=n.directiveStart,l=n.directiveEnd;ys(n)&&function bN(e,r,n){const o=ii(r,e),s=Xx(n);let y=16;n.signals?y=4096:n.onPush&&(y=64);const E=xg(e,Sg(e,s,null,y,o,r,null,e[Co].rendererFactory.createRenderer(o,n),null,null,null));e[r.index]=E}(r,n,e.data[s+n.componentOffset]),e.firstCreatePass||Rn(n,r),Oo(o,r);const y=n.initialInputs;for(let E=s;E<l;E++){const O=e.data[E],N=_o(r,e,E,n);Oo(N,r),null!==y&&vN(0,E-s,N,O,0,y),ko(O)&&(To(n.index,r)[Mr]=_o(r,e,E,n))}}(e,r,n,ii(n,r)),64==(64&n.flags)&&tC(e,r,n))}function b_(e,r,n=ii){const o=r.localNames;if(null!==o){let s=r.index+1;for(let l=0;l<o.length;l+=2){const y=o[l+1],E=-1===y?n(r,e):e[y];e[s++]=E}}}function Xx(e){const r=e.tView;return null===r||r.incompleteFirstPass?e.tView=v_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):r}function v_(e,r,n,o,s,l,y,E,O,N,$){const H=Nn+o,ae=H+s,me=function Zk(e,r){const n=[];for(let o=0;o<r;o++)n.push(o<e?null:qn);return n}(H,ae),Ce="function"==typeof N?N():N;return me[ut]={type:e,blueprint:me,template:n,queries:null,viewQuery:E,declTNode:r,data:me.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:O,consts:Ce,incompleteFirstPass:!1,ssrId:$}}let Zx=()=>null;function Qx(e,r,n,o,s){for(let l in r){if(!r.hasOwnProperty(l))continue;const y=r[l];if(void 0===y)continue;o??={};let E,O=ct.None;Array.isArray(y)?(E=y[0],O=y[1]):E=y;let N=l;if(null!==s){if(!s.hasOwnProperty(l))continue;N=s[l]}0===e?Jx(o,n,N,E,O):Jx(o,n,N,E)}return o}function Jx(e,r,n,o,s){let l;e.hasOwnProperty(n)?(l=e[n]).push(r,o):l=e[n]=[r,o],void 0!==s&&l.push(s)}function es(e,r,n,o,s,l,y,E){const O=ii(r,n);let $,N=r.inputs;!E&&null!=N&&($=N[o])?(x_(e,n,$,o,s),ys(r)&&function sN(e,r){const n=To(r,e);16&n[qt]||(n[qt]|=64)}(n,r.index)):3&r.type&&(o=function oN(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),s=null!=y?y(s,r.value||"",o):s,l.setProperty(O,o,s))}function y_(e,r,n,o){if(Ai()){const s=null===o?null:{"":-1},l=function hN(e,r){const n=e.directiveRegistry;let o=null,s=null;if(n)for(let l=0;l<n.length;l++){const y=n[l];if(Cc(r,y.selectors,!1))if(o||(o=[]),ko(y))if(null!==y.findHostDirectiveDefs){const E=[];s=s||new Map,y.findHostDirectiveDefs(y,E,s),o.unshift(...E,y),__(e,r,E.length)}else o.unshift(y),__(e,r,0);else s=s||new Map,y.findHostDirectiveDefs?.(y,o,s),o.push(y)}return null===o?null:[o,s]}(e,n);let y,E;null===l?y=E=null:[y,E]=l,null!==y&&eC(e,r,n,y,s,E),s&&function fN(e,r,n){if(r){const o=e.localNames=[];for(let s=0;s<r.length;s+=2){const l=n[r[s+1]];if(null==l)throw new He(-301,!1);o.push(r[s],l)}}}(n,o,s)}n.mergedAttrs=li(n.mergedAttrs,n.attrs)}function eC(e,r,n,o,s,l){for(let N=0;N<o.length;N++)gi(Rn(n,r),e,o[N].type);!function mN(e,r,n){e.flags|=1,e.directiveStart=r,e.directiveEnd=r+n,e.providerIndexes=r}(n,e.data.length,o.length);for(let N=0;N<o.length;N++){const $=o[N];$.providersResolver&&$.providersResolver($)}let y=!1,E=!1,O=kf(e,r,o.length,null);for(let N=0;N<o.length;N++){const $=o[N];n.mergedAttrs=li(n.mergedAttrs,$.hostAttrs),gN(e,n,r,O,$),pN(O,$,s),null!==$.contentQueries&&(n.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(n.flags|=64);const H=$.type.prototype;!y&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),y=!0),!E&&(H.ngOnChanges||H.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),E=!0),O++}!function iN(e,r,n){const s=r.directiveEnd,l=e.data,y=r.attrs,E=[];let O=null,N=null;for(let $=r.directiveStart;$<s;$++){const H=l[$],ae=n?n.get(H):null,Ce=ae?ae.outputs:null;O=Qx(0,H.inputs,$,O,ae?ae.inputs:null),N=Qx(1,H.outputs,$,N,Ce);const Ne=null===O||null===y||bu(r)?null:yN(O,$,y);E.push(Ne)}null!==O&&(O.hasOwnProperty("class")&&(r.flags|=8),O.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=E,r.inputs=O,r.outputs=N}(e,n,l)}function tC(e,r,n){const o=n.directiveStart,s=n.directiveEnd,l=n.index,y=function Hh(){return Sn.lFrame.currentDirectiveIndex}();try{va(l);for(let E=o;E<s;E++){const O=e.data[E],N=r[E];Wl(E),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&dN(O,N)}}finally{va(-1),Wl(y)}}function dN(e,r){null!==e.hostBindings&&e.hostBindings(1,r)}function __(e,r,n){r.componentOffset=n,(e.components??=[]).push(r.index)}function pN(e,r,n){if(n){if(r.exportAs)for(let o=0;o<r.exportAs.length;o++)n[r.exportAs[o]]=e;ko(r)&&(n[""]=e)}}function gN(e,r,n,o,s){e.data[o]=s;const l=s.factory||(s.factory=Ts(s.type)),y=new T(l,ko(s),je);e.blueprint[o]=y,n[o]=y,function cN(e,r,n,o,s){const l=s.hostBindings;if(l){let y=e.hostBindingOpCodes;null===y&&(y=e.hostBindingOpCodes=[]);const E=~r.index;(function uN(e){let r=e.length;for(;r>0;){const n=e[--r];if("number"==typeof n&&n<0)return n}return 0})(y)!=E&&y.push(E),y.push(n,o,l)}}(e,r,o,kf(e,n,s.hostVars,qn),s)}function Aa(e,r,n,o,s,l){const y=ii(e,r);!function w_(e,r,n,o,s,l,y){if(null==l)e.removeAttribute(r,s,n);else{const E=null==y?Pn(l):y(l,o||"",s);e.setAttribute(r,s,E,n)}}(r[In],y,l,e.value,n,o,s)}function vN(e,r,n,o,s,l){const y=l[r];if(null!==y)for(let E=0;E<y.length;)Yx(o,n,y[E++],y[E++],y[E++],y[E++])}function yN(e,r,n){let o=null,s=0;for(;s<n.length;){const l=n[s];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===o&&(o=[]);const y=e[l];for(let E=0;E<y.length;E+=3)if(y[E]===r){o.push(l,y[E+1],y[E+2],n[s+1]);break}}s+=2}else s+=2;else s+=4}return o}function nC(e,r,n,o){return[e,!0,0,r,null,o,null,n,null,null]}function rC(e,r){const n=e.contentQueries;if(null!==n){const o=f(null);try{for(let s=0;s<n.length;s+=2){const y=n[s+1];if(-1!==y){const E=e.data[y];Gn(n[s]),E.contentQueries(2,r[y],y)}}}finally{f(o)}}}function xg(e,r){return e[fa]?e[Tr][dr]=r:e[fa]=r,e[Tr]=r,r}function S_(e,r,n){Gn(0);const o=f(null);try{r(e,n)}finally{f(o)}}function iC(e){return e[$i]||(e[$i]=[])}function oC(e){return e.cleanup||(e.cleanup=[])}function sC(e,r,n){return(null===e||ko(e))&&(n=function zs(e){for(;Array.isArray(e);){if("object"==typeof e[Nl])return e;e=e[nn]}return null}(n[r.index])),n[In]}function Cg(e,r){const n=e[Ji],o=n?n.get(Ds,null):null;o&&o.handleError(r)}function x_(e,r,n,o,s){for(let l=0;l<n.length;){const y=n[l++],E=n[l++],O=n[l++];Yx(e.data[y],r[y],o,E,O,s)}}function _N(e,r){const n=To(r,e),o=n[ut];!function wN(e,r){for(let n=r.length;n<e.blueprint.length;n++)r.push(e.blueprint[n])}(o,n);const s=n[nn];null!==s&&null===n[rs]&&(n[rs]=sd(s,n[Ji])),C_(o,n,n[Mr])}function C_(e,r,n){tc(r);try{const o=e.viewQuery;null!==o&&S_(1,o,n);const s=e.template;null!==s&&Kx(e,r,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),r[Us]?.finishViewCreation(e),e.staticContentQueries&&rC(e,r),e.staticViewQueries&&S_(2,e.viewQuery,n);const l=e.components;null!==l&&function SN(e,r){for(let n=0;n<r.length;n++)_N(e,r[n])}(r,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{r[qt]&=-5,Wh()}}function Nf(e,r,n,o){const s=r.tView,E=Sg(e,s,n,4096&e[qt]?4096:16,null,r,null,null,null,o?.injector??null,o?.dehydratedView??null);E[pa]=e[r.index];const N=e[Us];return null!==N&&(E[Us]=N.createEmbeddedView(s)),C_(s,E,n),E}function _d(e,r){return!r||null===r.firstChild||ic(e)}function Ff(e,r,n,o=!0){const s=r[ut];if(function Vk(e,r,n,o){const s=Lr+o,l=n.length;o>0&&(n[s-1][dr]=r),o<l-Lr?(r[dr]=n[s],Yl(n,Lr+o,r)):(n.push(r),r[dr]=null),r[Cr]=n;const y=r[pa];null!==y&&n!==y&&function $k(e,r){const n=e[vs];r[Yr]!==r[Cr][Cr][Yr]&&(e[qt]|=Oc.HasTransplantedViews),null===n?e[vs]=[r]:n.push(r)}(y,r);const E=r[Us];null!==E&&E.insertView(e),Ou(r),r[qt]|=128}(s,r,e,n),o){const y=d_(n,e),E=r[In],O=vg(E,e[Ro]);null!==O&&function jk(e,r,n,o,s,l){o[nn]=s,o[Ii]=r,wg(e,o,n,1,s,l)}(s,e[Ii],E,r,O,y)}const l=r[rs];null!==l&&null!==l.firstChild&&(l.firstChild=null)}function Lf(e,r,n,o,s=!1){for(;null!==n;){const l=r[n.index];null!==l&&o.push(cn(l)),to(l)&&cC(l,o);const y=n.type;if(8&y)Lf(e,r,n.child,o);else if(32&y){const E=s_(n,r);let O;for(;O=E();)o.push(O)}else if(16&y){const E=Ux(r,n);if(Array.isArray(E))o.push(...E);else{const O=ga(r[Yr]);Lf(O[ut],O,E,o,!0)}}n=s?n.projectionNext:n.next}return o}function cC(e,r){for(let n=Lr;n<e.length;n++){const o=e[n],s=o[ut].firstChild;null!==s&&Lf(o[ut],o,s,r)}e[Ro]!==e[nn]&&r.push(e[Ro])}let uC=[];const EN={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ss(e.lView)},consumerOnSignalRead(){this.lView[ma]=this}};function lC(e){return hC(e[fa])}function dC(e){return hC(e[dr])}function hC(e){for(;null!==e&&!to(e);)e=e[dr];return e}function Tg(e,r=!0,n=0){const o=e[Co],s=o.rendererFactory;s.begin?.();try{!function MN(e,r){E_(e,r);let n=0;for(;os(e);){if(100===n)throw new He(103,!1);n++,E_(e,1)}}(e,n)}catch(y){throw r&&Cg(e,y),y}finally{s.end?.(),o.inlineEffectRunner?.flush()}}function IN(e,r,n,o){const s=r[qt];if(256==(256&s))return;r[Co].inlineEffectRunner?.flush(),tc(r);let y=null,E=null;(function AN(e){return 2!==e.type})(e)&&(E=function xN(e){return e[ma]??function CN(e){const r=uC.pop()??Object.create(EN);return r.lView=e,r}(e)}(r),y=function P(e){return e&&(e.nextProducerIndex=0),f(e)}(E));try{Du(r),function Uh(e){return Sn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Kx(e,r,n,2,o);const O=3==(3&s);if(O){const H=e.preOrderCheckHooks;null!==H&&fd(r,H,null)}else{const H=e.preOrderHooks;null!==H&&pd(r,H,0,null),Ef(r,0)}if(function PN(e){for(let r=lC(e);null!==r;r=dC(r)){if(!(r[qt]&Oc.HasTransplantedViews))continue;const n=r[vs];for(let o=0;o<n.length;o++){fy(n[o])}}}(r),pC(r,0),null!==e.contentQueries&&rC(e,r),O){const H=e.contentCheckHooks;null!==H&&fd(r,H)}else{const H=e.contentHooks;null!==H&&pd(r,H,1),Ef(r,1)}!function Xk(e,r){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const s=n[o];if(s<0)va(~s);else{const l=s,y=n[++o],E=n[++o];gm(y,l),E(2,r[l])}}}finally{va(-1)}}(e,r);const N=e.components;null!==N&&gC(r,N,0);const $=e.viewQuery;if(null!==$&&S_(2,$,o),O){const H=e.viewCheckHooks;null!==H&&fd(r,H)}else{const H=e.viewHooks;null!==H&&pd(r,H,2),Ef(r,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r[Ya]){for(const H of r[Ya])H();r[Ya]=null}r[qt]&=-73}catch(O){throw ss(r),O}finally{null!==E&&(function k(e,r){if(f(r),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Q(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)X(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(E,y),function TN(e){e.lView[ma]!==e&&(e.lView=null,uC.push(e))}(E)),Wh()}}function pC(e,r){for(let n=lC(e);null!==n;n=dC(n))for(let o=Lr;o<n.length;o++)mC(n[o],r)}function RN(e,r,n){mC(To(r,e),n)}function mC(e,r){jh(e)&&E_(e,r)}function E_(e,r){const o=e[ut],s=e[qt],l=e[ma];let y=!!(0===r&&16&s);if(y||=!!(64&s&&0===r),y||=!!(1024&s),y||=!(!l?.dirty||!B(l)),l&&(l.dirty=!1),e[qt]&=-9217,y)IN(o,e,o.template,e[Mr]);else if(8192&s){pC(e,1);const E=o.components;null!==E&&gC(e,E,1)}}function gC(e,r,n){for(let o=0;o<r.length;o++)RN(e,r[o],n)}function jf(e){for(e[Co].changeDetectionScheduler?.notify();e;){e[qt]|=64;const r=ga(e);if(Ph(e)&&!r)return e;e=r}return null}class Bf{get rootNodes(){const r=this._lView,n=r[ut];return Lf(n,r,n.firstChild,[])}constructor(r,n,o=!0){this._lView=r,this._cdRefInjectingView=n,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mr]}set context(r){this._lView[Mr]=r}get destroyed(){return 256==(256&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Cr];if(to(r)){const n=r[8],o=n?n.indexOf(this):-1;o>-1&&(Pf(r,o),Ru(n,o))}this._attachedToViewContainer=!1}bg(this._lView[ut],this._lView)}onDestroy(r){po(this._lView,r)}markForCheck(){jf(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-129}reattach(){Ou(this._lView),this._lView[qt]|=128}detectChanges(){this._lView[qt]|=1024,Tg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Rx(this._lView[ut],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=r,Ou(this._lView)}}let ea=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=FN}return e})();const kN=ea,NN=class extends kN{constructor(r,n,o){super(),this._declarationLView=r,this._declarationTContainer=n,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,n){return this.createEmbeddedViewImpl(r,n)}createEmbeddedViewImpl(r,n,o){const s=Nf(this._declarationLView,this._declarationTContainer,r,{injector:n,dehydratedView:o});return new Bf(s)}};function FN(){return Eg(Ir(),st())}function Eg(e,r){return 4&e.type?new NN(r,e,_a(e,r)):null}let SC=()=>null;function wd(e,r){return SC(e,r)}class P_{}class iF{}class xC{}class sF{resolveComponentFactory(r){throw function oF(e){const r=Error(`No component factory found for ${lt(e)}.`);return r.ngComponent=e,r}(r)}}let Sd=(()=>{class e{static#e=this.NULL=new sF}return e})();class R_{}let fc=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function aF(){const e=st(),n=To(Ir().index,e);return(eo(n)?n:e)[In]}()}return e})(),cF=(()=>{class e{static#e=this.\u0275prov=Ot({token:e,providedIn:"root",factory:()=>null})}return e})();const k_={};function EC(e){return function TC(e){return"function"==typeof e&&void 0!==e[m]}(e)&&"function"==typeof e.set}function DC(e){const r=f(null);try{return e()}finally{f(r)}}function Ag(e){return!!function N_(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class OC{constructor(){}supports(r){return Ag(r)}create(r){return new pF(r)}}const fF=(e,r)=>r;class pF{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||fF}forEachItem(r){let n;for(n=this._itHead;null!==n;n=n._next)r(n)}forEachOperation(r){let n=this._itHead,o=this._removalsHead,s=0,l=null;for(;n||o;){const y=!o||n&&n.currentIndex<IC(o,s,l)?n:o,E=IC(y,s,l),O=y.currentIndex;if(y===o)s--,o=o._nextRemoved;else if(n=n._next,null==y.previousIndex)s++;else{l||(l=[]);const N=E-s,$=O-s;if(N!=$){for(let ae=0;ae<N;ae++){const me=ae<l.length?l[ae]:l[ae]=0,Ce=me+ae;$<=Ce&&Ce<N&&(l[ae]=me+1)}l[y.previousIndex]=$-N}}E!==O&&r(y,E,O)}}forEachPreviousItem(r){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)r(n)}forEachAddedItem(r){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)r(n)}forEachMovedItem(r){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)r(n)}forEachRemovedItem(r){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)r(n)}forEachIdentityChange(r){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)r(n)}diff(r){if(null==r&&(r=[]),!Ag(r))throw new He(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s,l,y,n=this._itHead,o=!1;if(Array.isArray(r)){this.length=r.length;for(let E=0;E<this.length;E++)l=r[E],y=this._trackByFn(E,l),null!==n&&Object.is(n.trackById,y)?(o&&(n=this._verifyReinsertion(n,l,y,E)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,y,E),o=!0),n=n._next}else s=0,function hF(e,r){if(Array.isArray(e))for(let n=0;n<e.length;n++)r(e[n]);else{const n=e[Symbol.iterator]();let o;for(;!(o=n.next()).done;)r(o.value)}}(r,E=>{y=this._trackByFn(s,E),null!==n&&Object.is(n.trackById,y)?(o&&(n=this._verifyReinsertion(n,E,y,s)),Object.is(n.item,E)||this._addIdentityChange(n,E)):(n=this._mismatch(n,E,y,s),o=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,n,o,s){let l;return null===r?l=this._itTail:(l=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(r.item,n)||this._addIdentityChange(r,n),this._reinsertAfter(r,l,s)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(o,s))?(Object.is(r.item,n)||this._addIdentityChange(r,n),this._moveAfter(r,l,s)):r=this._addAfter(new mF(n,o),l,s),r}_verifyReinsertion(r,n,o,s){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?r=this._reinsertAfter(l,r._prev,s):r.currentIndex!=s&&(r.currentIndex=s,this._addToMoves(r,s)),r}_truncate(r){for(;null!==r;){const n=r._next;this._addToRemovals(this._unlink(r)),r=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,n,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const s=r._prevRemoved,l=r._nextRemoved;return null===s?this._removalsHead=l:s._nextRemoved=l,null===l?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(r,n,o),this._addToMoves(r,o),r}_moveAfter(r,n,o){return this._unlink(r),this._insertAfter(r,n,o),this._addToMoves(r,o),r}_addAfter(r,n,o){return this._insertAfter(r,n,o),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,n,o){const s=null===n?this._itHead:n._next;return r._next=s,r._prev=n,null===s?this._itTail=r:s._prev=r,null===n?this._itHead=r:n._next=r,null===this._linkedRecords&&(this._linkedRecords=new MC),this._linkedRecords.put(r),r.currentIndex=o,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const n=r._prev,o=r._next;return null===n?this._itHead=o:n._next=o,null===o?this._itTail=n:o._prev=n,r}_addToMoves(r,n){return r.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,n){return r.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class mF{constructor(r,n){this.item=r,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gF{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,n){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===n||n<=o.currentIndex)&&Object.is(o.trackById,r))return o;return null}remove(r){const n=r._prevDup,o=r._nextDup;return null===n?this._head=o:n._nextDup=o,null===o?this._tail=n:o._prevDup=n,null===this._head}}class MC{constructor(){this.map=new Map}put(r){const n=r.trackById;let o=this.map.get(n);o||(o=new gF,this.map.set(n,o)),o.add(r)}get(r,n){const s=this.map.get(r);return s?s.get(r,n):null}remove(r){const n=r.trackById;return this.map.get(n).remove(r)&&this.map.delete(n),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IC(e,r,n){const o=e.previousIndex;if(null===o)return o;let s=0;return n&&o<n.length&&(s=n[o]),o+r+s}function PC(){return new F_([new OC])}let F_=(()=>{class e{static#e=this.\u0275prov=Ot({token:e,providedIn:"root",factory:PC});constructor(n){this.factories=n}static create(n,o){if(null!=o){const s=o.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||PC()),deps:[[e,new ac,new Zs]]}}find(n){const o=this.factories.find(s=>s.supports(n));if(null!=o)return o;throw new He(901,!1)}}return e})(),pc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=_F}return e})();function _F(e){return function wF(e,r,n){if(ys(e)&&!n){const o=To(e.index,r);return new Bf(o,o)}return 47&e.type?new Bf(r[Yr],r):null}(Ir(),st(),16==(16&e))}let Rg=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=TF;static#t=this.__NG_ENV_ID__=n=>n}return e})();class CF extends Rg{constructor(r){super(),this._lView=r}onDestroy(r){return po(this._lView,r),()=>function $l(e,r){if(null===e[ho])return;const n=e[ho].indexOf(r);-1!==n&&e[ho].splice(n,1)}(this._lView,r)}}function TF(){return new CF(st())}const kC=new Set;function Ju(e){kC.has(e)||(kC.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function NC(...e){}class _n{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ee(!1),this.onMicrotaskEmpty=new ee(!1),this.onStable=new ee(!1),this.onError=new ee(!1),typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&n,s.shouldCoalesceRunChangeDetection=o,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function AF(){const e="function"==typeof gn.requestAnimationFrame;let r=gn[e?"requestAnimationFrame":"setTimeout"],n=gn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&n){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function kF(e){const r=()=>{!function RF(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(gn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,j_(e),e.isCheckStableRunning=!0,L_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),j_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,s,l,y,E)=>{if(function NF(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(E))return n.invokeTask(s,l,y,E);try{return FC(e),n.invokeTask(s,l,y,E)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&r(),LC(e)}},onInvoke:(n,o,s,l,y,E,O)=>{try{return FC(e),n.invoke(s,l,y,E,O)}finally{e.shouldCoalesceRunChangeDetection&&r(),LC(e)}},onHasTask:(n,o,s,l)=>{n.hasTask(s,l),o===s&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,j_(e),L_(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,o,s,l)=>(n.handleError(s,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_n.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(_n.isInAngularZone())throw new He(909,!1)}run(r,n,o){return this._inner.run(r,n,o)}runTask(r,n,o,s){const l=this._inner,y=l.scheduleEventTask("NgZoneEvent: "+s,r,PF,NC,NC);try{return l.runTask(y,n,o)}finally{l.cancelTask(y)}}runGuarded(r,n,o){return this._inner.runGuarded(r,n,o)}runOutsideAngular(r){return this._outer.run(r)}}const PF={};function L_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function j_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function FC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function LC(e){e._nesting--,L_(e)}class jC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ee,this.onMicrotaskEmpty=new ee,this.onStable=new ee,this.onError=new ee}run(r,n,o){return r.apply(n,o)}runGuarded(r,n,o){return r.apply(n,o)}runOutsideAngular(r){return r()}runTask(r,n,o,s){return r.apply(n,o)}}var el=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(el||{});const BC={destroy(){}};function $C(e,r){!r&&function dd(e){if(!xa()&&!function Ey(){return Hi}())throw new He(-203,!1)}();const n=r?.injector??yt(vi);if(!function Yc(e){return"browser"===(e??yt(vi)).get(Ko)}(n))return BC;Ju("NgAfterNextRender");const o=n.get(Hf),s=o.handler??=new zC,l=r?.phase??el.MixedReadWrite,y=()=>{s.unregister(O),E()},E=n.get(Rg).onDestroy(y),O=new UC(n,l,()=>{y(),e()});return s.register(O),{destroy:y}}class UC{constructor(r,n,o){this.phase=n,this.callbackFn=o,this.zone=r.get(_n),this.errorHandler=r.get(Ds,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}}class zC{constructor(){this.executingCallbacks=!1,this.buckets={[el.EarlyRead]:new Set,[el.Write]:new Set,[el.MixedReadWrite]:new Set,[el.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const n of r)n.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let Hf=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const o of n)o();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Ot({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ng(e,r,n){let o=n?e.styles:null,s=n?e.classes:null,l=0;if(null!==r)for(let y=0;y<r.length;y++){const E=r[y];"number"==typeof E?l=E:1==l?s=wt(s,E):2==l&&(o=wt(o,E+": "+r[++y]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=s:e.classesWithoutHost=s}class WC extends Sd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const n=Xn(r);return new qf(n,this.ngModule)}}function qC(e){const r=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n];void 0!==o&&r.push({propName:Array.isArray(o)?o[0]:o,templateName:n})}return r}class $F{constructor(r,n){this.injector=r,this.parentInjector=n}get(r,n,o){o=id(o);const s=this.injector.get(r,k_,o);return s!==k_||n===k_?s:this.parentInjector.get(r,n,o)}}class qf extends xC{get inputs(){const r=this.componentDef,n=r.inputTransforms,o=qC(r.inputs);if(null!==n)for(const s of o)n.hasOwnProperty(s.propName)&&(s.transform=n[s.propName]);return o}get outputs(){return qC(this.componentDef.outputs)}constructor(r,n){super(),this.componentDef=r,this.ngModule=n,this.componentType=r.type,this.selector=function kl(e){return e.map(Rl).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!n}create(r,n,o,s){let l=(s=s||this.ngModule)instanceof jo?s:s?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const y=l?new $F(r,l):r,E=y.get(R_,null);if(null===E)throw new He(407,!1);const H={rendererFactory:E,sanitizer:y.get(cF,null),inlineEffectRunner:null,afterRenderEventManager:y.get(Hf,null),changeDetectionScheduler:y.get(P_,null)},ae=E.createRenderer(null,this.componentDef),me=this.componentDef.selectors[0][0]||"div",Ce=o?function Qk(e,r,n,o){const l=o.get(ox,!1)||n===$n.ShadowDom,y=e.selectRootElement(r,l);return function Jk(e){Zx(e)}(y),y}(ae,o,this.componentDef.encapsulation,y):gg(ae,me,function VF(e){const r=e.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(me));let Ne=512;this.componentDef.signals?Ne|=4096:this.componentDef.onPush||(Ne|=16);let Ge=null;null!==Ce&&(Ge=sd(Ce,y,!0));const mt=v_(0,null,null,1,0,null,null,null,null,null,null),Xe=Sg(null,mt,null,Ne,null,null,H,ae,y,null,Ge);let jt,tn;tc(Xe);try{const En=this.componentDef;let sr,ti=null;En.findHostDirectiveDefs?(sr=[],ti=new Map,En.findHostDirectiveDefs(En,sr,ti),sr.push(En)):sr=[En];const Zi=function zF(e,r){const n=e[ut],o=Nn;return e[o]=r,yd(n,o,2,"#host",null)}(Xe,Ce),xc=function HF(e,r,n,o,s,l,y){const E=s[ut];!function GF(e,r,n,o){for(const s of e)r.mergedAttrs=li(r.mergedAttrs,s.hostAttrs);null!==r.mergedAttrs&&(Ng(r,r.mergedAttrs,!0),null!==n&&Wx(o,n,r))}(o,e,r,y);let O=null;null!==r&&(O=sd(r,s[Ji]));const N=l.rendererFactory.createRenderer(r,n);let $=16;n.signals?$=4096:n.onPush&&($=64);const H=Sg(s,Xx(n),null,$,s[e.index],e,l,N,null,null,O);return E.firstCreatePass&&__(E,e,o.length-1),xg(s,H),s[e.index]=H}(Zi,Ce,En,sr,Xe,H,ae);tn=fo(mt,Nn),Ce&&function qF(e,r,n,o){if(o)fn(e,n,["ng-version","17.2.1"]);else{const{attrs:s,classes:l}=function Mh(e){const r=[],n=[];let o=1,s=2;for(;o<e.length;){let l=e[o];if("string"==typeof l)2===s?""!==l&&r.push(l,e[++o]):8===s&&n.push(l);else{if(!uo(s))break;s=l}o++}return{attrs:r,classes:n}}(r.selectors[0]);s&&fn(e,n,s),l&&l.length>0&&Gx(e,n,l.join(" "))}}(ae,En,Ce,o),void 0!==n&&function YF(e,r,n){const o=e.projection=[];for(let s=0;s<r.length;s++){const l=n[s];o.push(null!=l?Array.from(l):null)}}(tn,this.ngContentSelectors,n),jt=function WF(e,r,n,o,s,l){const y=Ir(),E=s[ut],O=ii(y,s);eC(E,s,y,n,null,o);for(let $=0;$<n.length;$++)Oo(_o(s,E,y.directiveStart+$,y),s);tC(E,s,y),O&&Oo(O,s);const N=_o(s,E,y.directiveStart+y.componentOffset,y);if(e[Mr]=s[Mr]=N,null!==l)for(const $ of l)$(N,r);return m_(E,y,e),N}(xc,En,sr,ti,Xe,[KF]),C_(mt,Xe,null)}finally{Wh()}return new UF(this.componentType,jt,_a(tn,Xe),Xe,tn)}}class UF extends iF{constructor(r,n,o,s,l){super(),this.location=o,this._rootLView=s,this._tNode=l,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Bf(s,void 0,!1),this.componentType=r}setInput(r,n){const o=this._tNode.inputs;let s;if(null!==o&&(s=o[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),n))return;const l=this._rootLView;x_(l[ut],l,s,r,n),this.previousInputValues.set(r,n),jf(To(this._tNode.index,l))}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function KF(){const e=Ir();Gc(st()[ut],e)}let Os=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=XF}return e})();function XF(){return XC(Ir(),st())}const ZF=Os,YC=class extends ZF{constructor(r,n,o){super(),this._lContainer=r,this._hostTNode=n,this._hostLView=o}get element(){return _a(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const r=wn(this._hostTNode,this._hostLView);if(qe(r)){const n=Mt(r,this._hostLView),o=bt(r);return new di(n[ut].data[o+8],n)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const n=KC(this._lContainer);return null!==n&&n[r]||null}get length(){return this._lContainer.length-Lr}createEmbeddedView(r,n,o){let s,l;"number"==typeof o?s=o:null!=o&&(s=o.index,l=o.injector);const y=wd(this._lContainer,r.ssrId),E=r.createEmbeddedViewImpl(n||{},l,y);return this.insertImpl(E,s,_d(this._hostTNode,y)),E}createComponent(r,n,o,s,l){const y=r&&!function Ku(e){return"function"==typeof e}(r);let E;if(y)E=n;else{const Ce=n||{};E=Ce.index,o=Ce.injector,s=Ce.projectableNodes,l=Ce.environmentInjector||Ce.ngModuleRef}const O=y?r:new qf(Xn(r)),N=o||this.parentInjector;if(!l&&null==O.ngModule){const Ne=(y?N:this.parentInjector).get(jo,null);Ne&&(l=Ne)}const $=Xn(O.componentType??{}),H=wd(this._lContainer,$?.id??null),me=O.create(N,s,H?.firstChild??null,l);return this.insertImpl(me.hostView,E,_d(this._hostTNode,H)),me}insert(r,n){return this.insertImpl(r,n,!0)}insertImpl(r,n,o){const s=r._lView;if(function Bh(e){return to(e[Cr])}(s)){const E=this.indexOf(r);if(-1!==E)this.detach(E);else{const O=s[Cr],N=new YC(O,O[Ii],O[Cr]);N.detach(N.indexOf(r))}}const l=this._adjustIndex(n),y=this._lContainer;return Ff(y,s,l,o),r.attachToViewContainerRef(),Yl($_(y),l,r),r}move(r,n){return this.insert(r,n)}indexOf(r){const n=KC(this._lContainer);return null!==n?n.indexOf(r):-1}remove(r){const n=this._adjustIndex(r,-1),o=Pf(this._lContainer,n);o&&(Ru($_(this._lContainer),n),bg(o[ut],o))}detach(r){const n=this._adjustIndex(r,-1),o=Pf(this._lContainer,n);return o&&null!=Ru($_(this._lContainer),n)?new Bf(o):null}_adjustIndex(r,n=0){return r??this.length+n}};function KC(e){return e[8]}function $_(e){return e[8]||(e[8]=[])}function XC(e,r){let n;const o=r[e.index];return to(o)?n=o:(n=nC(o,r,null,e),r[e.index]=n,xg(r,n)),ZC(n,r,e,o),new YC(n,e,r)}let ZC=function JC(e,r,n,o){if(e[Ro])return;let s;s=8&n.type?cn(o):function QF(e,r){const n=e[In],o=n.createComment(""),s=ii(r,e);return Qu(n,vg(n,s),o,function Gk(e,r){return e.nextSibling(r)}(n,s),!1),o}(r,n),e[Ro]=s},U_=()=>!1;class z_{constructor(r){this.queryList=r,this.matches=null}clone(){return new z_(this.queryList)}setDirty(){this.queryList.setDirty()}}class H_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const n=r.queries;if(null!==n){const o=null!==r.contentQueries?r.contentQueries[0]:n.length,s=[];for(let l=0;l<o;l++){const y=n.getByIndex(l);s.push(this.queries[y.indexInDeclarationView].clone())}return new H_(s)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let n=0;n<this.queries.length;n++)null!==K_(r,n).matches&&this.queries[n].setDirty()}}class eT{constructor(r,n,o=null){this.flags=n,this.read=o,this.predicate="string"==typeof r?function sL(e){return e.split(",").map(r=>r.trim())}(r):r}}class G_{constructor(r=[]){this.queries=r}elementStart(r,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(r,n)}elementEnd(r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(r)}embeddedTView(r){let n=null;for(let o=0;o<this.length;o++){const s=null!==n?n.length:0,l=this.getByIndex(o).embeddedTView(r,s);l&&(l.indexInDeclarationView=o,null!==n?n.push(l):n=[l])}return null!==n?new G_(n):null}template(r,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(r,n)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class W_{constructor(r,n=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(r,n){this.isApplyingToNode(n)&&this.matchTNode(r,n)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,n){this.elementStart(r,n)}embeddedTView(r,n){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,n),new W_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let o=r.parent;for(;null!==o&&8&o.type&&o.index!==n;)o=o.parent;return n===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(r,n){const o=this.metadata.predicate;if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=o[s];this.matchTNodeWithReadOption(r,n,nL(n,l)),this.matchTNodeWithReadOption(r,n,Es(n,r,l,!1,!1))}else o===ea?4&n.type&&this.matchTNodeWithReadOption(r,n,-1):this.matchTNodeWithReadOption(r,n,Es(n,r,o,!1,!1))}matchTNodeWithReadOption(r,n,o){if(null!==o){const s=this.metadata.read;if(null!==s)if(s===nr||s===Os||s===ea&&4&n.type)this.addMatch(n.index,-2);else{const l=Es(n,r,s,!1,!1);null!==l&&this.addMatch(n.index,l)}else this.addMatch(n.index,o)}}addMatch(r,n){null===this.matches?this.matches=[r,n]:this.matches.push(r,n)}}function nL(e,r){const n=e.localNames;if(null!==n)for(let o=0;o<n.length;o+=2)if(n[o]===r)return n[o+1];return null}function iL(e,r,n,o){return-1===n?function rL(e,r){return 11&e.type?_a(e,r):4&e.type?Eg(e,r):null}(r,e):-2===n?function oL(e,r,n){return n===nr?_a(r,e):n===ea?Eg(r,e):n===Os?XC(r,e):void 0}(e,r,o):_o(e,e[ut],n,r)}function tT(e,r,n,o){const s=r[Us].queries[o];if(null===s.matches){const l=e.data,y=n.matches,E=[];for(let O=0;null!==y&&O<y.length;O+=2){const N=y[O];E.push(N<0?null:iL(r,l[N],y[O+1],n.metadata.read))}s.matches=E}return s.matches}function q_(e,r,n,o){const s=e.queries.getByIndex(n),l=s.matches;if(null!==l){const y=tT(e,r,s,n);for(let E=0;E<l.length;E+=2){const O=l[E];if(O>0)o.push(y[E/2]);else{const N=l[E+1],$=r[-O];for(let H=Lr;H<$.length;H++){const ae=$[H];ae[pa]===ae[Cr]&&q_(ae[ut],ae,N,o)}if(null!==$[vs]){const H=$[vs];for(let ae=0;ae<H.length;ae++){const me=H[ae];q_(me[ut],me,N,o)}}}}}return o}function nT(e,r,n){const o=new Ss(4==(4&n));return function nN(e,r,n,o){const s=iC(r);s.push(n),e.firstCreatePass&&oC(e).push(o,s.length-1)}(e,r,o,o.destroy),(r[Us]??=new H_).queries.push(new z_(o))-1}function oT(e,r,n){null===e.queries&&(e.queries=new G_),e.queries.track(new W_(r,n))}function K_(e,r){return e.queries.getByIndex(r)}function sT(e,r){const n=e[ut],o=K_(n,r);return o.crossesNgTemplate?q_(n,e,r,[]):tT(n,e,o,r)}function or(e){let r=function bT(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const o=[e];for(;r;){let s;if(ko(e))s=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new He(903,!1);s=r.\u0275dir}if(s){if(n){o.push(s);const y=e;y.inputs=Lg(e.inputs),y.inputTransforms=Lg(e.inputTransforms),y.declaredInputs=Lg(e.declaredInputs),y.outputs=Lg(e.outputs);const E=s.hostBindings;E&&wL(e,E);const O=s.viewQuery,N=s.contentQueries;if(O&&yL(e,O),N&&_L(e,N),bL(e,s),It(e.outputs,s.outputs),ko(s)&&s.data.animation){const $=e.data;$.animation=($.animation||[]).concat(s.data.animation)}}const l=s.features;if(l)for(let y=0;y<l.length;y++){const E=l[y];E&&E.ngInherit&&E(e),E===or&&(n=!1)}}r=Object.getPrototypeOf(r)}!function vL(e){let r=0,n=null;for(let o=e.length-1;o>=0;o--){const s=e[o];s.hostVars=r+=s.hostVars,s.hostAttrs=li(s.hostAttrs,n=li(n,s.hostAttrs))}}(o)}function bL(e,r){for(const n in r.inputs){if(!r.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const o=r.inputs[n];if(void 0!==o&&(e.inputs[n]=o,e.declaredInputs[n]=r.declaredInputs[n],null!==r.inputTransforms)){const s=Array.isArray(o)?o[0]:o;if(!r.inputTransforms.hasOwnProperty(s))continue;e.inputTransforms??={},e.inputTransforms[s]=r.inputTransforms[s]}}}function Lg(e){return e===Te?{}:e===Ie?[]:e}function yL(e,r){const n=e.viewQuery;e.viewQuery=n?(o,s)=>{r(o,s),n(o,s)}:r}function _L(e,r){const n=e.contentQueries;e.contentQueries=n?(o,s,l)=>{r(o,s,l),n(o,s,l)}:r}function wL(e,r){const n=e.hostBindings;e.hostBindings=n?(o,s)=>{r(o,s),n(o,s)}:r}function Kf(e){const r=e.inputConfig,n={};for(const o in r)if(r.hasOwnProperty(o)){const s=r[o];Array.isArray(s)&&s[3]&&(n[o]=s[3])}e.inputTransforms=n}class tl{}class wT{}class Z_ extends tl{constructor(r,n,o){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new WC(this);const s=zr(r);this._bootstrapComponents=fs(s.bootstrap),this._r3Injector=tx(r,n,[{provide:tl,useValue:this},{provide:Sd,useValue:this.componentFactoryResolver},...o],lt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Q_ extends wT{constructor(r){super(),this.moduleType=r}create(r){return new Z_(this.moduleType,r,[])}}class ST extends tl{constructor(r){super(),this.componentFactoryResolver=new WC(this),this.instance=null;const n=new si([...r.providers,{provide:tl,useValue:this},{provide:Sd,useValue:this.componentFactoryResolver}],r.parent||ld(),r.debugName,new Set(["environment"]));this.injector=n,r.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function J_(e,r,n=null){return new ST({providers:e,parent:r,debugName:n,runEnvironmentInitializers:!0}).injector}let nl=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Pa(e,r,n){return e[r]=n}function Ci(e,r,n){return!Object.is(e[r],n)&&(e[r]=n,!0)}function Sr(e,r,n,o,s,l,y,E){const O=st(),N=Dn(),$=e+Nn,H=N.firstCreatePass?function IL(e,r,n,o,s,l,y,E,O){const N=r.consts,$=yd(r,e,4,y||null,Eo(N,E));y_(r,n,$,Eo(N,O)),Gc(r,$);const H=$.tView=v_(2,$,o,s,l,r.directiveRegistry,r.pipeRegistry,null,r.schemas,N,null);return null!==r.queries&&(r.queries.template(r,$),H.queries=r.queries.embeddedTView($)),$}($,N,O,r,n,o,s,l,y):N.data[$];as(H,!1);const ae=xT(N,O,H,e);Mc()&&yg(N,O,ae,H),Oo(ae,O);const me=nC(ae,O,ae,H);return O[$]=me,xg(O,me),function QC(e,r,n){return U_(e,r,n)}(me,H,O),Ka(H)&&g_(N,O,H),null!=y&&b_(O,H,E),Sr}let xT=function CT(e,r,n,o){return Ws(!0),r[In].createComment("")};function Ni(e,r,n,o){const s=st();return Ci(s,qo(),r)&&(Dn(),Aa(jr(),s,e,r,n,o)),Ni}function Gg(e,r){return e<<17|r<<2}function Jc(e){return e>>17&32767}function l0(e){return 2|e}function ol(e){return(131068&e)>>2}function d0(e,r){return-131069&e|r<<2}function h0(e){return 1|e}function tE(e,r,n,o){const s=e[n+1],l=null===r;let y=o?Jc(s):ol(s),E=!1;for(;0!==y&&(!1===E||l);){const N=e[y+1];p3(e[y],r)&&(E=!0,e[y+1]=o?h0(N):l0(N)),y=o?Jc(N):ol(N)}E&&(e[n+1]=o?l0(s):h0(s))}function p3(e,r){return null===e||null==r||(Array.isArray(e)?e[1]:e)===r||!(!Array.isArray(e)||"string"!=typeof r)&&rc(e,r)>=0}const qi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nE(e){return e.substring(qi.key,qi.keyEnd)}function rE(e,r){const n=qi.textEnd;return n===r?-1:(r=qi.keyEnd=function v3(e,r,n){for(;r<n&&e.charCodeAt(r)>32;)r++;return r}(e,qi.key=r,n),Bd(e,r,n))}function Bd(e,r,n){for(;r<n&&e.charCodeAt(r)<=32;)r++;return r}function rn(e,r,n){const o=st();return Ci(o,qo(),r)&&es(Dn(),jr(),o,e,r,o[In],n,!1),rn}function f0(e,r,n,o,s){const y=s?"class":"style";x_(e,n,r.inputs[y],y,o)}function p0(e,r,n){return ta(e,r,n,!1),p0}function Zn(e,r){return ta(e,r,null,!0),Zn}function Vd(e){!function na(e,r,n,o){const s=Dn(),l=Yo(2);s.firstUpdatePass&&uE(s,null,l,o);const y=st();if(n!==qn&&Ci(y,l,n)){const E=s.data[Pi()];if(fE(E,o)&&!cE(s,l)){let O=o?E.classesWithoutHost:E.stylesWithoutHost;null!==O&&(n=wt(O,n||"")),f0(s,E,y,n,o)}else!function O3(e,r,n,o,s,l,y,E){s===qn&&(s=Ie);let O=0,N=0,$=0<s.length?s[0]:null,H=0<l.length?l[0]:null;for(;null!==$||null!==H;){const ae=O<s.length?s[O+1]:void 0,me=N<l.length?l[N+1]:void 0;let Ne,Ce=null;$===H?(O+=2,N+=2,ae!==me&&(Ce=H,Ne=me)):null===H||null!==$&&$<H?(O+=2,Ce=$):(N+=2,Ce=H,Ne=me),null!==Ce&&dE(e,r,n,o,Ce,Ne,y,E),$=O<s.length?s[O]:null,H=N<l.length?l[N]:null}}(s,E,y,y[In],y[l+1],y[l+1]=function E3(e,r,n){if(null==n||""===n)return Ie;const o=[],s=hs(n);if(Array.isArray(s))for(let l=0;l<s.length;l++)e(o,s[l],!0);else if("object"==typeof s)for(const l in s)s.hasOwnProperty(l)&&e(o,l,s[l]);else"string"==typeof s&&r(o,s);return o}(e,r,n),o,l)}}(D3,ka,e,!0)}function ka(e,r){for(let n=function g3(e){return function oE(e){qi.key=0,qi.keyEnd=0,qi.value=0,qi.valueEnd=0,qi.textEnd=e.length}(e),rE(e,Bd(e,0,qi.textEnd))}(r);n>=0;n=rE(r,n))ro(e,nE(r),!0)}function ta(e,r,n,o){const s=st(),l=Dn(),y=Yo(2);l.firstUpdatePass&&uE(l,e,y,o),r!==qn&&Ci(s,y,r)&&dE(l,l.data[Pi()],s,s[In],e,s[y+1]=function M3(e,r){return null==e||""===e||("string"==typeof r?e+=r:"object"==typeof e&&(e=lt(hs(e)))),e}(r,n),o,y)}function cE(e,r){return r>=e.expandoStartIndex}function uE(e,r,n,o){const s=e.data;if(null===s[n+1]){const l=s[Pi()],y=cE(e,n);fE(l,o)&&null===r&&!y&&(r=!1),r=function S3(e,r,n,o){const s=Iu(e);let l=o?r.residualClasses:r.residualStyles;if(null===s)0===(o?r.classBindings:r.styleBindings)&&(n=ep(n=m0(null,e,r,n,o),r.attrs,o),l=null);else{const y=r.directiveStylingLast;if(-1===y||e[y]!==s)if(n=m0(s,e,r,n,o),null===l){let O=function x3(e,r,n){const o=n?r.classBindings:r.styleBindings;if(0!==ol(o))return e[Jc(o)]}(e,r,o);void 0!==O&&Array.isArray(O)&&(O=m0(null,e,r,O[1],o),O=ep(O,r.attrs,o),function C3(e,r,n,o){e[Jc(n?r.classBindings:r.styleBindings)]=o}(e,r,o,O))}else l=function T3(e,r,n){let o;const s=r.directiveEnd;for(let l=1+r.directiveStylingLast;l<s;l++)o=ep(o,e[l].hostAttrs,n);return ep(o,r.attrs,n)}(e,r,o)}return void 0!==l&&(o?r.residualClasses=l:r.residualStyles=l),n}(s,l,r,o),function h3(e,r,n,o,s,l){let y=l?r.classBindings:r.styleBindings,E=Jc(y),O=ol(y);e[o]=n;let $,N=!1;if(Array.isArray(n)?($=n[1],(null===$||rc(n,$)>0)&&(N=!0)):$=n,s)if(0!==O){const ae=Jc(e[E+1]);e[o+1]=Gg(ae,E),0!==ae&&(e[ae+1]=d0(e[ae+1],o)),e[E+1]=function l3(e,r){return 131071&e|r<<17}(e[E+1],o)}else e[o+1]=Gg(E,0),0!==E&&(e[E+1]=d0(e[E+1],o)),E=o;else e[o+1]=Gg(O,0),0===E?E=o:e[O+1]=d0(e[O+1],o),O=o;N&&(e[o+1]=l0(e[o+1])),tE(e,$,o,!0),tE(e,$,o,!1),function f3(e,r,n,o,s){const l=s?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof r&&rc(l,r)>=0&&(n[o+1]=h0(n[o+1]))}(r,$,e,o,l),y=Gg(E,O),l?r.classBindings=y:r.styleBindings=y}(s,l,r,n,y,o)}}function m0(e,r,n,o,s){let l=null;const y=n.directiveEnd;let E=n.directiveStylingLast;for(-1===E?E=n.directiveStart:E++;E<y&&(l=r[E],o=ep(o,l.hostAttrs,s),l!==e);)E++;return null!==e&&(n.directiveStylingLast=E),o}function ep(e,r,n){const o=n?1:2;let s=-1;if(null!==r)for(let l=0;l<r.length;l++){const y=r[l];"number"==typeof y?s=y:s===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ro(e,y,!!n||r[++l]))}return void 0===e?null:e}function D3(e,r,n){const o=String(r);""!==o&&!o.includes(" ")&&ro(e,o,n)}function dE(e,r,n,o,s,l,y,E){if(!(3&r.type))return;const O=e.data,N=O[E+1],$=function d3(e){return 1==(1&e)}(N)?hE(O,r,n,s,ol(N),y):void 0;Wg($)||(Wg(l)||function u3(e){return 2==(2&e)}(N)&&(l=hE(O,null,n,s,E,y)),function Yk(e,r,n,o,s){if(r)s?e.addClass(n,o):e.removeClass(n,o);else{let l=-1===o.indexOf("-")?void 0:Kc.DashCase;null==s?e.removeStyle(n,o,l):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),l|=Kc.Important),e.setStyle(n,o,s,l))}}(o,y,No(Pi(),n),s,l))}function hE(e,r,n,o,s,l){const y=null===r;let E;for(;s>0;){const O=e[s],N=Array.isArray(O),$=N?O[1]:O,H=null===$;let ae=n[s+1];ae===qn&&(ae=H?Ie:void 0);let me=H?Sa(ae,o):$===o?ae:void 0;if(N&&!Wg(me)&&(me=Sa(O,o)),Wg(me)&&(E=me,y))return E;const Ce=e[s+1];s=y?Jc(Ce):ol(Ce)}if(null!==r){let O=l?r.residualClasses:r.residualStyles;null!=O&&(E=Sa(O,o))}return E}function Wg(e){return void 0!==e}function fE(e,r){return 0!=(e.flags&(r?8:16))}function qg(e,r,n){Ju("NgControlFlow");const o=st(),s=qo(),l=function v0(e,r){return e[r]}(o,Nn+e);if(Ci(o,s,r)){const E=f(null);try{if(function T_(e,r){const n=Pf(e,r);return void 0!==n&&bg(n[ut],n),n}(l,0),-1!==r){const O=function y0(e,r){return fo(e,r)}(o[ut],Nn+r),N=wd(l,O.tView.ssrId);Ff(l,Nf(o,O,n,{dehydratedView:N}),0,_d(O,N))}}finally{f(E)}}else{const E=function aC(e,r){const n=Lr+r;if(n<e.length)return e[n]}(l,0);void 0!==E&&(E[Mr]=n)}}function kt(e,r,n,o){const s=st(),l=Dn(),y=Nn+e,E=s[In],O=l.firstCreatePass?function Z3(e,r,n,o,s,l){const y=r.consts,O=yd(r,e,2,o,Eo(y,s));return y_(r,n,O,Eo(y,l)),null!==O.attrs&&Ng(O,O.attrs,!1),null!==O.mergedAttrs&&Ng(O,O.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,O),O}(y,l,s,r,n,o):l.data[y],N=bE(l,s,O,E,r,e);s[y]=N;const $=Ka(O);return as(O,!0),Wx(E,N,O),32!=(32&O.flags)&&Mc()&&yg(l,s,N,O),0===function my(){return Sn.lFrame.elementDepthCount}()&&Oo(N,s),function Ul(){Sn.lFrame.elementDepthCount++}(),$&&(g_(l,s,O),m_(l,O,s)),null!==o&&b_(s,O),kt}function en(){let e=Ir();ec()?Mu():(e=e.parent,as(e,!1));const r=e;(function fm(e){return Sn.skipHydrationRootTNode===e})(r)&&function Ja(){Sn.skipHydrationRootTNode=null}(),function hm(){Sn.lFrame.elementDepthCount--}();const n=Dn();return n.firstCreatePass&&(Gc(n,e),Ah(e)&&n.queries.elementEnd(e)),null!=r.classesWithoutHost&&function te(e){return 0!=(8&e.flags)}(r)&&f0(n,r,st(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function pe(e){return 0!=(16&e.flags)}(r)&&f0(n,r,st(),r.stylesWithoutHost,!1),en}function Er(e,r,n,o){return kt(e,r,n,o),en(),Er}let bE=(e,r,n,o,s,l)=>(Ws(!0),gg(o,s,function Pu(){return Sn.lFrame.currentNamespace}()));function Wr(){return st()}function Yg(e,r,n){const o=st();return Ci(o,qo(),r)&&es(Dn(),jr(),o,e,r,o[In],n,!0),Yg}function Kg(e,r,n){const o=st();if(Ci(o,qo(),r)){const l=Dn(),y=jr();es(l,y,o,e,r,sC(Iu(l.data),y,o),n,!0)}return Kg}const Ud="en-US";let SE=Ud;function Fn(e,r,n,o){const s=st(),l=Dn(),y=Ir();return C0(l,s,s[In],y,e,r,o),Fn}function eb(e,r){const n=Ir(),o=st(),s=Dn();return C0(s,o,sC(Iu(s.data),n,o),n,e,r),eb}function C0(e,r,n,o,s,l,y){const E=Ka(o),N=e.firstCreatePass&&oC(e),$=r[Mr],H=iC(r);let ae=!0;if(3&o.type||y){const Ne=ii(o,r),Ge=y?y(Ne):Ne,mt=H.length,Xe=y?tn=>y(cn(tn[o.index])):o.index;let jt=null;if(!y&&E&&(jt=function J4(e,r,n,o){const s=e.cleanup;if(null!=s)for(let l=0;l<s.length-1;l+=2){const y=s[l];if(y===n&&s[l+1]===o){const E=r[$i],O=s[l+2];return E.length>O?E[O]:null}"string"==typeof y&&(l+=2)}return null}(e,r,s,o.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=l,jt.__ngLastListenerFn__=l,ae=!1;else{l=YE(o,r,$,l,!1);const tn=n.listen(Ge,s,l);H.push(l,tn),N&&N.push(s,Xe,mt,mt+1)}}else l=YE(o,r,$,l,!1);const me=o.outputs;let Ce;if(ae&&null!==me&&(Ce=me[s])){const Ne=Ce.length;if(Ne)for(let Ge=0;Ge<Ne;Ge+=2){const En=r[Ce[Ge]][Ce[Ge+1]].subscribe(l),sr=H.length;H.push(l,En),N&&N.push(s,o.index,sr,"function"==typeof En?sr+1:-(sr+1))}}}function qE(e,r,n,o){try{return Qo(6,r,n),!1!==n(o)}catch(s){return Cg(e,s),!1}finally{Qo(7,r,n)}}function YE(e,r,n,o,s){return function l(y){if(y===Function)return o;jf(e.componentOffset>-1?To(e.index,r):r);let O=qE(r,n,o,y),N=l.__ngNextListenerFn__;for(;N;)O=qE(r,n,N,y)&&O,N=N.__ngNextListenerFn__;return s&&!1===O&&y.preventDefault(),O}}function ln(e=1){return function ql(e){return(Sn.lFrame.contextLView=function Vh(e,r){for(;e>0;)r=r[Tc],e--;return r}(e,Sn.lFrame.contextLView))[Mr]}(e)}function ej(e,r){let n=null;const o=function yu(e){const r=e.attrs;if(null!=r){const n=r.indexOf(5);if(!(1&n))return r[n+1]}return null}(e);for(let s=0;s<r.length;s++){const l=r[s];if("*"!==l){if(null===o?Cc(e,l,!0):_u(o,l))return s}else n=s}return n}function mc(e){const r=st()[Yr][Ii];if(!r.projection){const o=r.projection=function ku(e,r){const n=[];for(let o=0;o<e;o++)n.push(r);return n}(e?e.length:1,null),s=o.slice();let l=r.child;for(;null!==l;){const y=e?ej(l,e):0;null!==y&&(s[y]?s[y].projectionNext=l:o[y]=l,s[y]=l),l=l.next}}}function So(e,r=0,n){const o=st(),s=Dn(),l=yd(s,Nn+e,16,null,n||null);null===l.projection&&(l.projection=r),Mu(),(!o[rs]||ba())&&32!=(32&l.flags)&&function Wk(e,r,n){Hx(r[In],0,r,n,u_(e,n,r),jx(n.parent||r[Ii],n,r))}(s,o,l)}function tb(e,r,n,o){!function iT(e,r,n,o){const s=Dn();if(s.firstCreatePass){const l=Ir();oT(s,new eT(r,n,o),l.index),function aL(e,r){const n=e.contentQueries||(e.contentQueries=[]);r!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,r)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}return nT(s,st(),n)}(e,r,n,o)}function eu(e,r,n){!function rT(e,r,n){const o=Dn();return o.firstCreatePass&&(oT(o,new eT(e,r,n),-1),2==(2&r)&&(o.staticViewQueries=!0)),nT(o,st(),r)}(e,r,n)}function ra(e){const r=st(),n=Dn(),o=Au();Gn(o+1);const s=K_(n,o);if(e.dirty&&function hy(e){return 4==(4&e[qt])}(r)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const l=sT(r,o);e.reset(l,wm),e.notifyOnChanges()}return!0}return!1}function ia(){return function Y_(e,r){return e[Us].queries[r].queryList}(st(),Au())}function Qn(e,r=""){const n=st(),o=Dn(),s=e+Nn,l=o.firstCreatePass?yd(o,s,1,r,null):o.data[s],y=pD(o,n,l,r,e);n[s]=y,Mc()&&yg(o,n,y,l),as(l,!1)}let pD=(e,r,n,o,s)=>(Ws(!0),function mg(e,r){return e.createText(r)}(r[In],o));function Mo(e){return sp("",e,""),Mo}function sp(e,r,n){const o=st(),s=function Ad(e,r,n,o){return Ci(e,qo(),n)?r+Pn(n)+o:qn}(o,e,r,n);return s!==qn&&function hc(e,r,n){const o=No(r,e);!function Px(e,r,n){e.setValue(r,n)}(e[In],o,n)}(o,Pi(),s),sp}function ap(e,r,n){EC(r)&&(r=r());const o=st();return Ci(o,qo(),r)&&es(Dn(),jr(),o,e,r,o[In],n,!1),ap}function nb(e,r){const n=EC(e);return n&&e.set(r),n}function cp(e,r){const n=st(),o=Dn(),s=Ir();return C0(o,n,n[In],s,e,r),cp}function E0(e,r,n,o,s){if(e=An(e),Array.isArray(e))for(let l=0;l<e.length;l++)E0(e[l],r,n,o,s);else{const l=Dn(),y=st(),E=Ir();let O=uc(e)?e:An(e.provide);const N=Gm(e),$=1048575&E.providerIndexes,H=E.directiveStart,ae=E.providerIndexes>>20;if(uc(e)||!e.multi){const me=new T(N,s,je),Ce=O0(O,r,s?$:$+ae,H);-1===Ce?(gi(Rn(E,y),l,O),D0(l,e,r.length),r.push(O),E.directiveStart++,E.directiveEnd++,s&&(E.providerIndexes+=1048576),n.push(me),y.push(me)):(n[Ce]=me,y[Ce]=me)}else{const me=O0(O,r,$+ae,H),Ce=O0(O,r,$,$+ae),Ge=Ce>=0&&n[Ce];if(s&&!Ge||!s&&!(me>=0&&n[me])){gi(Rn(E,y),l,O);const mt=function yj(e,r,n,o,s){const l=new T(e,n,je);return l.multi=[],l.index=r,l.componentProviders=0,xD(l,s,o&&!n),l}(s?vj:bj,n.length,s,o,N);!s&&Ge&&(n[Ce].providerFactory=mt),D0(l,e,r.length,0),r.push(O),E.directiveStart++,E.directiveEnd++,s&&(E.providerIndexes+=1048576),n.push(mt),y.push(mt)}else D0(l,e,me>-1?me:Ce,xD(n[s?Ce:me],N,!s&&o));!s&&o&&Ge&&n[Ce].componentProviders++}}}function D0(e,r,n,o){const s=uc(r),l=function Fy(e){return!!e.useClass}(r);if(s||l){const O=(l?An(r.useClass):r).prototype.ngOnDestroy;if(O){const N=e.destroyHooks||(e.destroyHooks=[]);if(!s&&r.multi){const $=N.indexOf(n);-1===$?N.push(n,[o,O]):N[$+1].push(o,O)}else N.push(n,O)}}}function xD(e,r,n){return n&&e.componentProviders++,e.multi.push(r)-1}function O0(e,r,n,o){for(let s=n;s<o;s++)if(r[s]===e)return s;return-1}function bj(e,r,n,o){return M0(this.multi,[])}function vj(e,r,n,o){const s=this.multi;let l;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=_o(n,n[ut],this.providerFactory.index,o);l=E.slice(0,y),M0(s,l);for(let O=y;O<E.length;O++)l.push(E[O])}else l=[],M0(s,l);return l}function M0(e,r){for(let n=0;n<e.length;n++)r.push((0,e[n])());return r}function Zr(e,r=[]){return n=>{n.providersResolver=(o,s)=>function gj(e,r,n){const o=Dn();if(o.firstCreatePass){const s=ko(e);E0(n,o.data,o.blueprint,s,!0),E0(r,o.data,o.blueprint,s,!1)}}(o,s?s(e):e,r)}}let _j=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=Wn(0,n.type),s=o.length>0?J_([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ot({token:e,providedIn:"environment",factory:()=>new e(We(jo))})}return e})();function ns(e){Ju("NgStandalone"),e.getStandaloneInjector=r=>r.get(_j).getOrCreateStandaloneInjector(e)}function up(e,r){const n=e[r];return n===qn?void 0:n}function RD(e,r,n,o,s,l,y){const E=r+n;return function rl(e,r,n,o){const s=Ci(e,r,n);return Ci(e,r+1,o)||s}(e,E,s,l)?Pa(e,E+2,y?o.call(y,s,l):o(s,l)):up(e,E+2)}function Jn(e,r){const n=Dn();let o;const s=e+Nn;n.firstCreatePass?(o=function Vj(e,r){if(r)for(let n=r.length-1;n>=0;n--){const o=r[n];if(e===o.name)return o}}(r,n.pipeRegistry),n.data[s]=o,o.onDestroy&&(n.destroyHooks??=[]).push(s,o.onDestroy)):o=n.data[s];const l=o.factory||(o.factory=Ts(o.type)),E=bo(je);try{const O=an(!1),N=l();return an(O),function ij(e,r,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),r[n]=o}(n,st(),s,N),N}finally{bo(E)}}function xo(e,r,n){const o=e+Nn,s=st(),l=Qa(s,o);return lp(s,o)?function PD(e,r,n,o,s,l){const y=r+n;return Ci(e,y,s)?Pa(e,y+1,l?o.call(l,s):o(s)):up(e,y+1)}(s,Ui(),r,l.transform,n,l):l.transform(n)}function Qr(e,r,n,o){const s=e+Nn,l=st(),y=Qa(l,s);return lp(l,s)?RD(l,Ui(),r,y.transform,n,o,y):y.transform(n,o)}function lp(e,r){return e[ut].data[r].pure}let ob=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const nO=new Dt(""),ab=new Dt("");let j0,F0=(()=>{class e{constructor(n,o,s){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,j0||(function LB(e){j0=e}(s),s.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_n.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,s){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==l),n()},o)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:s})}whenStable(n,o,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,s){return[]}static#e=this.\u0275fac=function(o){return new(o||e)(We(_n),We(L0),We(ab))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})(),L0=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return j0?.findTestabilityInTree(this,n,o)??null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function fp(e){return!!e&&"function"==typeof e.then}function rO(e){return!!e&&"function"==typeof e.subscribe}const B0=new Dt("");let V0=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=yt(B0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const s of this.appInits){const l=s();if(fp(l))n.push(l);else if(rO(l)){const y=new Promise((E,O)=>{l.subscribe({complete:E,error:O})});n.push(y)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(s=>{this.reject(s)}),0===n.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $0=new Dt("");function sO(e,r){return Array.isArray(r)?r.reduce(sO,e):{...e,...r}}let tu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=yt(rx),this.afterRenderEffectManager=yt(Hf),this.componentTypes=[],this.components=[],this.isStable=yt(nl).hasPendingTasks.pipe(Yt(n=>!n)),this._injector=yt(jo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const s=n instanceof xC;if(!this._injector.get(V0).done)throw!s&&function Qi(e){const r=Xn(e)||Ur(e)||mr(e);return null!==r&&r.standalone}(n),new He(405,!1);let y;y=s?n:this._injector.get(Sd).resolveComponentFactory(n),this.componentTypes.push(y.componentType);const E=function jB(e){return e.isBoundToModule}(y)?void 0:this._injector.get(tl),N=y.create(vi.NULL,[],o||y.selector,E),$=N.location.nativeElement,H=N.injector.get(nO,null);return H?.registerApplication($),N.onDestroy(()=>{this.detachView(N.hostView),cb(this.components,N),H?.unregisterApplication($)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new He(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let n=0;do{if(100===n)throw new He(103,!1);const o=0===n;for(let{_lView:s,notifyErrorHandler:l}of this._views)!o&&!aO(s)||this.detectChangesInView(s,l,o);this.afterRenderEffectManager.execute(),n++}while(this._views.some(({_lView:o})=>aO(o)))}detectChangesInView(n,o,s){let l;s?(l=0,n[qt]|=1024):l=64&n[qt]?0:1,Tg(n,o,l)}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;cb(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get($0,[]);[...this._bootstrapListeners,...o].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>cb(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new He(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cb(e,r){const n=e.indexOf(r);n>-1&&e.splice(n,1)}function aO(e){return os(e)}class VB{constructor(r,n){this.ngModuleFactory=r,this.componentFactories=n}}let cO=(()=>{class e{compileModuleSync(n){return new Q_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),l=fs(zr(n).declarations).reduce((y,E)=>{const O=Xn(E);return O&&y.push(new qf(O)),y},[]);return new VB(o,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zB=(()=>{class e{constructor(){this.zone=yt(_n),this.applicationRef=yt(tu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HB(){const e=yt(_n),r=yt(Ds);return n=>e.runOutsideAngular(()=>r.handleError(n))}let WB=(()=>{class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=yt(_n),this.pendingTasks=yt(nl)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_n.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_n.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Na=new Dt("",{providedIn:"root",factory:()=>yt(Na,_t.Optional|_t.SkipSelf)||function qB(){return typeof $localize<"u"&&$localize.locale||Ud}()}),U0=new Dt("");let hO=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const s=function FF(e="zone.js",r){return"noop"===e?new jC:"zone.js"===e?new _n(r):e}(o?.ngZone,function dO(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return s.run(()=>{const l=function ML(e,r,n){return new Z_(e,r,n)}(n.moduleType,this.injector,function lO(e){return[{provide:_n,useFactory:e},{provide:Si,multi:!0,useFactory:()=>{const r=yt(zB,{optional:!0});return()=>r.initialize()}},{provide:Si,multi:!0,useFactory:()=>{const r=yt(WB);return()=>{r.initialize()}}},{provide:rx,useFactory:HB}]}(()=>s)),y=l.injector.get(Ds,null);return s.runOutsideAngular(()=>{const E=s.onError.subscribe({next:O=>{y.handleError(O)}});l.onDestroy(()=>{cb(this._modules,l),E.unsubscribe()})}),function oO(e,r,n){try{const o=n();return fp(o)?o.catch(s=>{throw r.runOutsideAngular(()=>e.handleError(s)),s}):o}catch(o){throw r.runOutsideAngular(()=>e.handleError(o)),o}}(y,s,()=>{const E=l.injector.get(V0);return E.runInitializers(),E.donePromise.then(()=>(function xE(e){"string"==typeof e&&(SE=e.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Na,Ud)||Ud),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,o=[]){const s=sO({},o);return function UB(e,r,n){const o=new Q_(n);return Promise.resolve(o)}(0,0,n).then(l=>this.bootstrapModuleFactory(l,s))}_moduleDoBootstrap(n){const o=n.injector.get(tu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>o.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new He(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(U0,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||e)(We(vi))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),nu=null;const fO=new Dt("");function pO(e,r,n=[]){const o=`Platform: ${r}`,s=new Dt(o);return(l=[])=>{let y=z0();if(!y||y.injector.get(fO,!1)){const E=[...n,...l,{provide:s,useValue:!0}];e?e(E):function XB(e){if(nu&&!nu.get(fO,!1))throw new He(400,!1);(function iO(){!function ft(e){dt=e}(()=>{throw new He(600,!1)})})(),nu=e;const r=e.get(hO);(function gO(e){e.get(xn,null)?.forEach(n=>n())})(e)}(function mO(e=[],r){return vi.create({name:r,providers:[{provide:gf,useValue:"platform"},{provide:U0,useValue:new Set([()=>nu=null])},...e]})}(E,o))}return function ZB(e){const r=z0();if(!r)throw new He(401,!1);return r}()}}function z0(){return nu?.get(hO)??null}const nV=pO(null,"core",[]);let rV=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(o){return new(o||e)(We(tu))};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({})}return e})();function As(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let $O=null;function ru(){return $O}class RV{}const er=new Dt("");let X0=(()=>{class e{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:()=>yt(NV),providedIn:"platform"})}return e})();const kV=new Dt("");let NV=(()=>{class e extends X0{constructor(){super(),this._doc=yt(er),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ru().getBaseHref(this._doc)}onPopState(n){const o=ru().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=ru().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,s){this._history.pushState(n,o,s)}replaceState(n,o,s){this._history.replaceState(n,o,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Z0(e,r){if(0==e.length)return r;if(0==r.length)return e;let n=0;return e.endsWith("/")&&n++,r.startsWith("/")&&n++,2==n?e+r.substring(1):1==n?e+r:e+"/"+r}function UO(e){const r=e.match(/#|\?|$/),n=r&&r.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function gc(e){return e&&"?"!==e[0]?"?"+e:e}let ul=(()=>{class e{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:()=>yt(zO),providedIn:"root"})}return e})();const Q0=new Dt("");let zO=(()=>{class e extends ul{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??yt(er).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Z0(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+gc(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${o}${s}`:o}pushState(n,o,s,l){const y=this.prepareExternalUrl(s+gc(l));this._platformLocation.pushState(n,o,y)}replaceState(n,o,s,l){const y=this.prepareExternalUrl(s+gc(l));this._platformLocation.replaceState(n,o,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(o){return new(o||e)(We(X0),We(Q0,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),FV=(()=>{class e extends ul{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const o=this._platformLocation.hash??"#";return o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=Z0(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,s,l){let y=this.prepareExternalUrl(s+gc(l));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.pushState(n,o,y)}replaceState(n,o,s,l){let y=this.prepareExternalUrl(s+gc(l));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(o){return new(o||e)(We(X0),We(Q0,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})(),ll=(()=>{class e{constructor(n){this._subject=new ee,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function BV(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(UO(HO(o))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+gc(o))}normalize(n){return e.stripTrailingSlash(function jV(e,r){if(!e||!r.startsWith(e))return r;const n=r.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:r}(this._basePath,HO(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",s=null){this._locationStrategy.pushState(s,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gc(o)),s)}replaceState(n,o="",s=null){this._locationStrategy.replaceState(s,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gc(o)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(s=>s(n,o))}subscribe(n,o,s){return this._subject.subscribe({next:n,error:o,complete:s})}static#e=this.normalizeQueryParams=gc;static#t=this.joinWithSlash=Z0;static#n=this.stripTrailingSlash=UO;static#r=this.\u0275fac=function(o){return new(o||e)(We(ul))};static#i=this.\u0275prov=Ot({token:e,factory:()=>function LV(){return new ll(We(ul))}(),providedIn:"root"})}return e})();function HO(e){return e.replace(/\/index.html$/,"")}function JO(e,r){r=encodeURIComponent(r);for(const n of e.split(";")){const o=n.indexOf("="),[s,l]=-1==o?[n,""]:[n.slice(0,o),n.slice(o+1)];if(s.trim()===r)return decodeURIComponent(l)}return null}class T${constructor(r,n,o,s){this.$implicit=r,this.ngForOf=n,this.index=o,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nM=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,s){this._viewContainer=n,this._template=o,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((s,l,y)=>{if(null==s.previousIndex)o.createEmbeddedView(this._template,new T$(s.item,this._ngForOf,-1,-1),null===y?void 0:y);else if(null==y)o.remove(null===l?void 0:l);else if(null!==l){const E=o.get(l);o.move(E,y),rM(E,s)}});for(let s=0,l=o.length;s<l;s++){const E=o.get(s).context;E.index=s,E.count=l,E.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{rM(o.get(s.currentIndex),s)})}static ngTemplateContextGuard(n,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(je(Os),je(ea),je(F_))};static#t=this.\u0275dir=Jt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function rM(e,r){e.context.$implicit=r.item}let dl=(()=>{class e{constructor(n,o){this._viewContainer=n,this._context=new E$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){iM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){iM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(je(Os),je(ea))};static#t=this.\u0275dir=Jt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class E${constructor(){this.$implicit=null,this.ngIf=null}}function iM(e,r){if(r&&!r.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${lt(r)}'.`)}class I${createSubscription(r,n){return DC(()=>r.subscribe({next:n,error:o=>{throw o}}))}dispose(r){DC(()=>r.unsubscribe())}}class A${createSubscription(r,n){return r.then(n,o=>{throw o})}dispose(r){}}const P$=new A$,R$=new I$;let Ob=(()=>{class e{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(fp(n))return P$;if(rO(n))return R$;throw function sa(e,r){return new He(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}static#e=this.\u0275fac=function(o){return new(o||e)(je(pc,16))};static#t=this.\u0275pipe=pi({name:"async",type:e,pure:!1,standalone:!0})}return e})(),Mb=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({})}return e})();const aM="browser";function cM(e){return e===aM}function uM(e){return"server"===e}let eU=(()=>{class e{static#e=this.\u0275prov=Ot({token:e,providedIn:"root",factory:()=>cM(yt(Ko))?new tU(yt(er),window):new rU})}return e})();class tU{constructor(r,n){this.document=r,this.window=n,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(r){this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){const n=function nU(e,r){const n=e.getElementById(r)||e.getElementsByName(r)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const o=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=o.currentNode;for(;s;){const l=s.shadowRoot;if(l){const y=l.getElementById(r)||l.querySelector(`[name="${r}"]`);if(y)return y}s=o.nextNode()}}return null}(this.document,r);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(r){this.window.history.scrollRestoration=r}scrollToElement(r){const n=r.getBoundingClientRect(),o=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(o-l[0],s-l[1])}}class rU{setOffset(r){}getScrollPosition(){return[0,0]}scrollToPosition(r){}scrollToAnchor(r){}setHistoryScrollRestoration(r){}}class lM{}class AU extends RV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pw extends AU{static makeCurrent(){!function PV(e){$O??=e}(new pw)}onAndCancel(r,n,o){return r.addEventListener(n,o),()=>{r.removeEventListener(n,o)}}dispatchEvent(r,n){r.dispatchEvent(n)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,n){return(n=n||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,n){return"window"===n?window:"document"===n?r:"body"===n?r.body:null}getBaseHref(r){const n=function PU(){return yp=yp||document.querySelector("base"),yp?yp.getAttribute("href"):null}();return null==n?null:function RU(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){yp=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return JO(document.cookie,r)}}let yp=null,NU=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();const Pb=new Dt("");let yM=(()=>{class e{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,s){return this._findPluginFor(o).addEventListener(n,o,s)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(l=>l.supports(n)),!o)throw new He(5101,!1);return this._eventNameToPlugin.set(n,o),o}static#e=this.\u0275fac=function(o){return new(o||e)(We(Pb),We(_n))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();class mw{constructor(r){this._doc=r}}const gw="ng-app-id";let _M=(()=>{class e{constructor(n,o,s,l={}){this.doc=n,this.appId=o,this.nonce=s,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uM(l),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(s=>s.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${gw}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(s=>{null!=s.textContent&&o.set(s.textContent,s)}),o}return null}changeUsageCount(n,o){const s=this.styleRef;if(s.has(n)){const l=s.get(n);return l.usage+=o,l.usage}return s.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const s=this.styleNodesInDOM,l=s?.get(o);if(l?.parentNode===n)return s.delete(o),l.removeAttribute(gw),l;{const y=this.doc.createElement("style");return this.nonce&&y.setAttribute("nonce",this.nonce),y.textContent=o,this.platformIsServer&&y.setAttribute(gw,this.appId),n.appendChild(y),y}}addStyleToHost(n,o){const s=this.getStyleElement(n,o),l=this.styleRef,y=l.get(o)?.elements;y?y.push(s):l.set(o,{elements:[s],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(o){return new(o||e)(We(er),We(oc),We(ju,8),We(Ko))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();const bw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vw=/%COMP%/g,BU=new Dt("",{providedIn:"root",factory:()=>!0});function SM(e,r){return r.map(n=>n.replace(vw,e))}let yw=(()=>{class e{constructor(n,o,s,l,y,E,O,N=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=s,this.removeStylesOnCompDestroy=l,this.doc=y,this.platformId=E,this.ngZone=O,this.nonce=N,this.rendererByCompId=new Map,this.platformIsServer=uM(E),this.defaultRenderer=new _w(n,y,O,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===$n.ShadowDom&&(o={...o,encapsulation:$n.Emulated});const s=this.getOrCreateRenderer(n,o);return s instanceof CM?s.applyToHost(n):s instanceof ww&&s.applyStyles(),s}getOrCreateRenderer(n,o){const s=this.rendererByCompId;let l=s.get(o.id);if(!l){const y=this.doc,E=this.ngZone,O=this.eventManager,N=this.sharedStylesHost,$=this.removeStylesOnCompDestroy,H=this.platformIsServer;switch(o.encapsulation){case $n.Emulated:l=new CM(O,N,o,this.appId,$,y,E,H);break;case $n.ShadowDom:return new zU(O,N,n,o,y,E,this.nonce,H);default:l=new ww(O,N,o,$,y,E,H)}s.set(o.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(o){return new(o||e)(We(yM),We(_M),We(oc),We(BU),We(er),We(Ko),We(_n),We(ju))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();class _w{constructor(r,n,o,s){this.eventManager=r,this.doc=n,this.ngZone=o,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,n){return n?this.doc.createElementNS(bw[n]||n,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,n){(xM(r)?r.content:r).appendChild(n)}insertBefore(r,n,o){r&&(xM(r)?r.content:r).insertBefore(n,o)}removeChild(r,n){r&&r.removeChild(n)}selectRootElement(r,n){let o="string"==typeof r?this.doc.querySelector(r):r;if(!o)throw new He(-5104,!1);return n||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,n,o,s){if(s){n=s+":"+n;const l=bw[s];l?r.setAttributeNS(l,n,o):r.setAttribute(n,o)}else r.setAttribute(n,o)}removeAttribute(r,n,o){if(o){const s=bw[o];s?r.removeAttributeNS(s,n):r.removeAttribute(`${o}:${n}`)}else r.removeAttribute(n)}addClass(r,n){r.classList.add(n)}removeClass(r,n){r.classList.remove(n)}setStyle(r,n,o,s){s&(Kc.DashCase|Kc.Important)?r.style.setProperty(n,o,s&Kc.Important?"important":""):r.style[n]=o}removeStyle(r,n,o){o&Kc.DashCase?r.style.removeProperty(n):r.style[n]=""}setProperty(r,n,o){null!=r&&(r[n]=o)}setValue(r,n){r.nodeValue=n}listen(r,n,o){if("string"==typeof r&&!(r=ru().getGlobalEventTarget(this.doc,r)))throw new Error(`Unsupported event target ${r} for event ${n}`);return this.eventManager.addEventListener(r,n,this.decoratePreventDefault(o))}decoratePreventDefault(r){return n=>{if("__ngUnwrap__"===n)return r;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>r(n)):r(n))&&n.preventDefault()}}}function xM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class zU extends _w{constructor(r,n,o,s,l,y,E,O){super(r,l,y,O),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const N=SM(s.id,s.styles);for(const $ of N){const H=document.createElement("style");E&&H.setAttribute("nonce",E),H.textContent=$,this.shadowRoot.appendChild(H)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,n){return super.appendChild(this.nodeOrShadowRoot(r),n)}insertBefore(r,n,o){return super.insertBefore(this.nodeOrShadowRoot(r),n,o)}removeChild(r,n){return super.removeChild(this.nodeOrShadowRoot(r),n)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ww extends _w{constructor(r,n,o,s,l,y,E,O){super(r,l,y,E),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=s,this.styles=O?SM(O,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class CM extends ww{constructor(r,n,o,s,l,y,E,O){const N=s+"-"+o.id;super(r,n,o,l,y,E,O,N),this.contentAttr=function VU(e){return"_ngcontent-%COMP%".replace(vw,e)}(N),this.hostAttr=function $U(e){return"_nghost-%COMP%".replace(vw,e)}(N)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,n){const o=super.createElement(r,n);return super.setAttribute(o,this.contentAttr,""),o}}let HU=(()=>{class e extends mw{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,s){return n.addEventListener(o,s,!1),()=>this.removeEventListener(n,o,s)}removeEventListener(n,o,s){return n.removeEventListener(o,s)}static#e=this.\u0275fac=function(o){return new(o||e)(We(er))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();const TM=["alt","control","meta","shift"],GU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WU={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let qU=(()=>{class e extends mw{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,o,s){const l=e.parseEventName(o),y=e.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ru().onAndCancel(n,l.domEventName,y))}static parseEventName(n){const o=n.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;const l=e._normalizeKey(o.pop());let y="",E=o.indexOf("code");if(E>-1&&(o.splice(E,1),y="code."),TM.forEach(N=>{const $=o.indexOf(N);$>-1&&(o.splice($,1),y+=N+".")}),y+=l,0!=o.length||0===l.length)return null;const O={};return O.domEventName=s,O.fullKey=y,O}static matchEventFullKeyCode(n,o){let s=GU[n.key]||n.key,l="";return o.indexOf("code.")>-1&&(s=n.code,l="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),TM.forEach(y=>{y!==s&&(0,WU[y])(n)&&(l+=y+".")}),l+=s,l===o)}static eventCallback(n,o,s){return l=>{e.matchEventFullKeyCode(l,n)&&s.runGuarded(()=>o(l))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(o){return new(o||e)(We(er))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();const DM=[{provide:Ko,useValue:aM},{provide:xn,useValue:function YU(){pw.makeCurrent()},multi:!0},{provide:er,useFactory:function XU(){return function xm(e){Rc=e}(document),document},deps:[]}],ZU=pO(nV,"browser",DM),QU=new Dt(""),OM=[{provide:ab,useClass:class kU{addToWindow(r){gn.getAngularTestability=(o,s=!0)=>{const l=r.findTestabilityInTree(o,s);if(null==l)throw new He(5103,!1);return l},gn.getAllAngularTestabilities=()=>r.getAllTestabilities(),gn.getAllAngularRootElements=()=>r.getAllRootElements(),gn.frameworkStabilizers||(gn.frameworkStabilizers=[]),gn.frameworkStabilizers.push(o=>{const s=gn.getAllAngularTestabilities();let l=s.length;const y=function(){l--,0==l&&o()};s.forEach(E=>{E.whenStable(y)})})}findTestabilityInTree(r,n,o){return null==n?null:r.getTestability(n)??(o?ru().isShadowRoot(n)?this.findTestabilityInTree(r,n.host,!0):this.findTestabilityInTree(r,n.parentElement,!0):null)}},deps:[]},{provide:nO,useClass:F0,deps:[_n,L0,ab]},{provide:F0,useClass:F0,deps:[_n,L0,ab]}],MM=[{provide:gf,useValue:"root"},{provide:Ds,useFactory:function KU(){return new Ds},deps:[]},{provide:Pb,useClass:HU,multi:!0,deps:[er,_n,Ko]},{provide:Pb,useClass:qU,multi:!0,deps:[er]},yw,_M,yM,{provide:R_,useExisting:yw},{provide:lM,useClass:NU,deps:[]},[]];let IM=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:oc,useValue:n.appId}]}}static#e=this.\u0275fac=function(o){return new(o||e)(We(QU,12))};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({providers:[...MM,...OM],imports:[Mb,rV]})}return e})(),JU=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(o){return new(o||e)(We(er))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const r6={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Rb=new Dt("HammerGestureConfig"),RM=new Dt("HammerLoader");let kM=(()=>{class e{constructor(){this.events=[],this.overrides={}}buildHammer(n){const o=new Hammer(n,this.options);o.get("pinch").set({enable:!0}),o.get("rotate").set({enable:!0});for(const s in this.overrides)o.get(s).set(this.overrides[s]);return o}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})(),i6=(()=>{class e extends mw{constructor(n,o,s,l){super(n),this._config=o,this.console=s,this.loader=l,this._loaderPromise=null}supports(n){return!(!r6.hasOwnProperty(n.toLowerCase())&&!this.isCustomEvent(n)||!window.Hammer&&!this.loader)}addEventListener(n,o,s){const l=this.manager.getZone();if(o=o.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||l.runOutsideAngular(()=>this.loader());let y=!1,E=()=>{y=!0};return l.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?y||(E=this.addEventListener(n,o,s)):E=()=>{}}).catch(()=>{E=()=>{}})),()=>{E()}}return l.runOutsideAngular(()=>{const y=this._config.buildHammer(n),E=function(O){l.runGuarded(function(){s(O)})};return y.on(o,E),()=>{y.off(o,E),"function"==typeof y.destroy&&y.destroy()}})}isCustomEvent(n){return this._config.events.indexOf(n)>-1}static#e=this.\u0275fac=function(o){return new(o||e)(We(er),We(Rb),We(ob),We(RM,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})(),o6=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({providers:[{provide:Pb,useClass:i6,multi:!0,deps:[er,Rb,ob,[new Zs,RM]]},{provide:Rb,useClass:kM,deps:[]}]})}return e})(),kb=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:function(o){let s=null;return s=o?new(o||e):We(s6),s},providedIn:"root"})}return e})(),s6=(()=>{class e extends kb{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case wo.NONE:return o;case wo.HTML:return Ia(o,"HTML")?hs(o):mx(this._doc,String(o)).toString();case wo.STYLE:return Ia(o,"Style")?hs(o):o;case wo.SCRIPT:if(Ia(o,"Script"))return hs(o);throw new He(5200,!1);case wo.URL:return Ia(o,"URL")?hs(o):lg(String(o));case wo.RESOURCE_URL:if(Ia(o,"ResourceURL"))return hs(o);throw new He(5201,!1);default:throw new He(5202,!1)}}bypassSecurityTrustHtml(n){return function YR(e){return new UR(e)}(n)}bypassSecurityTrustStyle(n){return function KR(e){return new zR(e)}(n)}bypassSecurityTrustScript(n){return function XR(e){return new HR(e)}(n)}bypassSecurityTrustUrl(n){return function ZR(e){return new GR(e)}(n)}bypassSecurityTrustResourceUrl(n){return function QR(e){return new WR(e)}(n)}static#e=this.\u0275fac=function(o){return new(o||e)(We(er))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qd(e){return e&&"function"==typeof e.schedule}const FM=e=>r=>{for(let n=0,o=e.length;n<o&&!r.closed;n++)r.next(e[n]);r.complete()};function Sw(e,r){return new ye(n=>{const o=new Ee;let s=0;return o.add(r.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||o.add(this.schedule())):n.complete()})),o})}function xw(e,r){return r?Sw(e,r):new ye(FM(e))}function bn(...e){let r=e[e.length-1];return qd(r)?(e.pop(),Sw(e,r)):xw(e)}const Nb=function c6(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),LM=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function jM(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const Cw=e=>{if(e&&"function"==typeof e[Le])return(e=>r=>{const n=e[Le]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(r)})(e);if(LM(e))return FM(e);if(jM(e))return(e=>r=>(e.then(n=>{r.closed||(r.next(n),r.complete())},n=>r.error(n)).then(null,F),r))(e);if(e&&"function"==typeof e[Nb])return(e=>r=>{const n=e[Nb]();for(;;){let o;try{o=n.next()}catch(s){return r.error(s),r}if(o.done){r.complete();break}if(r.next(o.value),r.closed)break}return"function"==typeof n.return&&r.add(()=>{n.return&&n.return()}),r})(e);{const n=`You provided ${J(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function Ki(e,r){return r?function g6(e,r){if(null!=e){if(function p6(e){return e&&"function"==typeof e[Le]}(e))return function d6(e,r){return new ye(n=>{const o=new Ee;return o.add(r.schedule(()=>{const s=e[Le]();o.add(s.subscribe({next(l){o.add(r.schedule(()=>n.next(l)))},error(l){o.add(r.schedule(()=>n.error(l)))},complete(){o.add(r.schedule(()=>n.complete()))}}))})),o})}(e,r);if(jM(e))return function h6(e,r){return new ye(n=>{const o=new Ee;return o.add(r.schedule(()=>e.then(s=>{o.add(r.schedule(()=>{n.next(s),o.add(r.schedule(()=>n.complete()))}))},s=>{o.add(r.schedule(()=>n.error(s)))}))),o})}(e,r);if(LM(e))return Sw(e,r);if(function m6(e){return e&&"function"==typeof e[Nb]}(e)||"string"==typeof e)return function f6(e,r){if(!e)throw new Error("Iterable cannot be null");return new ye(n=>{const o=new Ee;let s;return o.add(()=>{s&&"function"==typeof s.return&&s.return()}),o.add(r.schedule(()=>{s=e[Nb](),o.add(r.schedule(function(){if(n.closed)return;let l,y;try{const E=s.next();l=E.value,y=E.done}catch(E){return void n.error(E)}y?n.complete():(n.next(l),this.schedule())}))})),o})}(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,r):e instanceof ye?e:new ye(Cw(e))}class Yd extends q{constructor(r){super(),this.parent=r}_next(r){this.parent.notifyNext(r)}_error(r){this.parent.notifyError(r),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Kd extends q{notifyNext(r){this.destination.next(r)}notifyError(r){this.destination.error(r)}notifyComplete(){this.destination.complete()}}function Xd(e,r){if(r.closed)return;if(e instanceof ye)return e.subscribe(r);let n;try{n=Cw(e)(r)}catch(o){r.error(o)}return n}function Uo(e,r,n=Number.POSITIVE_INFINITY){return"function"==typeof r?o=>o.pipe(Uo((s,l)=>Ki(e(s,l)).pipe(Yt((y,E)=>r(s,y,l,E))),n)):("number"==typeof r&&(n=r),o=>o.lift(new b6(e,n)))}class b6{constructor(r,n=Number.POSITIVE_INFINITY){this.project=r,this.concurrent=n}call(r,n){return n.subscribe(new v6(r,this.project,this.concurrent))}}class v6 extends Kd{constructor(r,n,o=Number.POSITIVE_INFINITY){super(r),this.project=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)}_tryNext(r){let n;const o=this.index++;try{n=this.project(r,o)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(n)}_innerSub(r){const n=new Yd(this),o=this.destination;o.add(n);const s=Xd(r,n);s!==n&&o.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(r){this.destination.next(r)}notifyComplete(){const r=this.buffer;this.active--,r.length>0?this._next(r.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Zd(e,r){return Uo(e,r,1)}function wi(e,r){return function(o){return o.lift(new y6(e,r))}}class y6{constructor(r,n){this.predicate=r,this.thisArg=n}call(r,n){return n.subscribe(new _6(r,this.predicate,this.thisArg))}}class _6 extends q{constructor(r,n,o){super(r),this.predicate=n,this.thisArg=o,this.count=0}_next(r){let n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}n&&this.destination.next(r)}}function Qd(e){return r=>r.lift(new w6(e))}class w6{constructor(r){this.callback=r}call(r,n){return n.subscribe(new S6(r,this.callback))}}class S6 extends q{constructor(r,n){super(r),this.add(new Ee(n))}}function ks(e,r){return"function"==typeof r?n=>n.pipe(ks((o,s)=>Ki(e(o,s)).pipe(Yt((l,y)=>r(o,l,s,y))))):n=>n.lift(new x6(e))}class x6{constructor(r){this.project=r}call(r,n){return n.subscribe(new C6(r,this.project))}}class C6 extends Kd{constructor(r,n){super(r),this.project=n,this.index=0}_next(r){let n;const o=this.index++;try{n=this.project(r,o)}catch(s){return void this.destination.error(s)}this._innerSub(n)}_innerSub(r){const n=this.innerSubscription;n&&n.unsubscribe();const o=new Yd(this),s=this.destination;s.add(o),this.innerSubscription=Xd(r,o),this.innerSubscription!==o&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}class Fb{}class Lb{}class Ns{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?"string"==typeof r?this.lazyInit=()=>{this.headers=new Map,r.split("\n").forEach(n=>{const o=n.indexOf(":");if(o>0){const s=n.slice(0,o),l=s.toLowerCase(),y=n.slice(o+1).trim();this.maybeSetNormalizedName(s,l),this.headers.has(l)?this.headers.get(l).push(y):this.headers.set(l,[y])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((n,o)=>{this.setHeaderEntries(o,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([n,o])=>{this.setHeaderEntries(n,o)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const n=this.headers.get(r.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,n){return this.clone({name:r,value:n,op:"a"})}set(r,n){return this.clone({name:r,value:n,op:"s"})}delete(r,n){return this.clone({name:r,value:n,op:"d"})}maybeSetNormalizedName(r,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,r)}init(){this.lazyInit&&(this.lazyInit instanceof Ns?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(n=>{this.headers.set(n,r.headers.get(n)),this.normalizedNames.set(n,r.normalizedNames.get(n))})}clone(r){const n=new Ns;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ns?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([r]),n}applyUpdate(r){const n=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,n);const s=("a"===r.op?this.headers.get(n):void 0)||[];s.push(...o),this.headers.set(n,s);break;case"d":const l=r.value;if(l){let y=this.headers.get(n);if(!y)return;y=y.filter(E=>-1===l.indexOf(E)),0===y.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,y)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(r,n){const o=(Array.isArray(n)?n:[n]).map(l=>l.toString()),s=r.toLowerCase();this.headers.set(s,o),this.maybeSetNormalizedName(r,s)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>r(this.normalizedNames.get(n),this.headers.get(n)))}}class T6{encodeKey(r){return BM(r)}encodeValue(r){return BM(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const D6=/%(\d[a-f0-9])/gi,O6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BM(e){return encodeURIComponent(e).replace(D6,(r,n)=>O6[n]??r)}function jb(e){return`${e}`}class iu{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new T6,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function E6(e,r){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{const l=s.indexOf("="),[y,E]=-1==l?[r.decodeKey(s),""]:[r.decodeKey(s.slice(0,l)),r.decodeValue(s.slice(l+1))],O=n.get(y)||[];O.push(E),n.set(y,O)}),n}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(n=>{const o=r.fromObject[n],s=Array.isArray(o)?o.map(jb):[jb(o)];this.map.set(n,s)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const n=this.map.get(r);return n?n[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,n){return this.clone({param:r,value:n,op:"a"})}appendAll(r){const n=[];return Object.keys(r).forEach(o=>{const s=r[o];Array.isArray(s)?s.forEach(l=>{n.push({param:o,value:l,op:"a"})}):n.push({param:o,value:s,op:"a"})}),this.clone(n)}set(r,n){return this.clone({param:r,value:n,op:"s"})}delete(r,n){return this.clone({param:r,value:n,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const n=this.encoder.encodeKey(r);return this.map.get(r).map(o=>n+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const n=new iu({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(r),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const n=("a"===r.op?this.map.get(r.param):void 0)||[];n.push(jb(r.value)),this.map.set(r.param,n);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const s=o.indexOf(jb(r.value));-1!==s&&o.splice(s,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class M6{constructor(){this.map=new Map}set(r,n){return this.map.set(r,n),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function VM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function $M(e){return typeof Blob<"u"&&e instanceof Blob}function UM(e){return typeof FormData<"u"&&e instanceof FormData}class wp{constructor(r,n,o,s){let l;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function I6(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==o?o:null,l=s):l=o,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),this.transferCache=l.transferCache),this.headers??=new Ns,this.context??=new M6,this.params){const y=this.params.toString();if(0===y.length)this.urlWithParams=n;else{const E=n.indexOf("?");this.urlWithParams=n+(-1===E?"?":E<n.length-1?"&":"")+y}}else this.params=new iu,this.urlWithParams=n}serializeBody(){return null===this.body?null:VM(this.body)||$M(this.body)||UM(this.body)||function A6(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof iu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||UM(this.body)?null:$M(this.body)?this.body.type||null:VM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof iu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){const n=r.method||this.method,o=r.url||this.url,s=r.responseType||this.responseType,l=void 0!==r.body?r.body:this.body,y=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,E=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let O=r.headers||this.headers,N=r.params||this.params;const $=r.context??this.context;return void 0!==r.setHeaders&&(O=Object.keys(r.setHeaders).reduce((H,ae)=>H.set(ae,r.setHeaders[ae]),O)),r.setParams&&(N=Object.keys(r.setParams).reduce((H,ae)=>H.set(ae,r.setParams[ae]),N)),new wp(n,o,l,{params:N,headers:O,context:$,reportProgress:E,responseType:s,withCredentials:y})}}var ou=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ou||{});class Tw{constructor(r,n=Sp.Ok,o="OK"){this.headers=r.headers||new Ns,this.status=void 0!==r.status?r.status:n,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class Bb extends Tw{constructor(r={}){super(r),this.type=ou.ResponseHeader}clone(r={}){return new Bb({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class hl extends Tw{constructor(r={}){super(r),this.type=ou.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new hl({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class Jd extends Tw{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}var Sp=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Sp||{});function Ew(e,r){return{body:r,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let Vb=(()=>{class e{constructor(n){this.handler=n}request(n,o,s={}){let l;if(n instanceof wp)l=n;else{let O,N;O=s.headers instanceof Ns?s.headers:new Ns(s.headers),s.params&&(N=s.params instanceof iu?s.params:new iu({fromObject:s.params})),l=new wp(n,o,void 0!==s.body?s.body:null,{headers:O,context:s.context,params:N,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}const y=bn(l).pipe(Zd(O=>this.handler.handle(O)));if(n instanceof wp||"events"===s.observe)return y;const E=y.pipe(wi(O=>O instanceof hl));switch(s.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return E.pipe(Yt(O=>{if(null!==O.body&&!(O.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return O.body}));case"blob":return E.pipe(Yt(O=>{if(null!==O.body&&!(O.body instanceof Blob))throw new Error("Response is not a Blob.");return O.body}));case"text":return E.pipe(Yt(O=>{if(null!==O.body&&"string"!=typeof O.body)throw new Error("Response is not a string.");return O.body}));default:return E.pipe(Yt(O=>O.body))}case"response":return E;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new iu).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,s={}){return this.request("PATCH",n,Ew(s,o))}post(n,o,s={}){return this.request("POST",n,Ew(s,o))}put(n,o,s={}){return this.request("PUT",n,Ew(s,o))}static#e=this.\u0275fac=function(o){return new(o||e)(We(Fb))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();function HM(e,r){return r(e)}function F6(e,r){return(n,o)=>r.intercept(n,{handle:s=>e(s,o)})}const j6=new Dt(""),xp=new Dt(""),GM=new Dt(""),WM=new Dt("");function B6(){let e=null;return(r,n)=>{null===e&&(e=(yt(j6,{optional:!0})??[]).reduceRight(F6,HM));const o=yt(nl),s=o.add();return e(r,n).pipe(Qd(()=>o.remove(s)))}}let qM=(()=>{class e extends Fb{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=yt(nl);const s=yt(WM,{optional:!0});this.backend=s??n}handle(n){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(xp),...this.injector.get(GM,[])]));this.chain=s.reduceRight((l,y)=>function L6(e,r,n){return(o,s)=>Da(n,()=>r(o,l=>e(l,s)))}(l,y,this.injector),HM)}const o=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(Qd(()=>this.pendingTasks.remove(o)))}static#e=this.\u0275fac=function(o){return new(o||e)(We(Lb),We(jo))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();const H6=/^\)\]\}',?\n/;let KM=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new He(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?Ki(o.\u0275loadImpl()):bn(null)).pipe(ks(()=>new ye(l=>{const y=o.build();if(y.open(n.method,n.urlWithParams),n.withCredentials&&(y.withCredentials=!0),n.headers.forEach((Ne,Ge)=>y.setRequestHeader(Ne,Ge.join(","))),n.headers.has("Accept")||y.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const Ne=n.detectContentTypeHeader();null!==Ne&&y.setRequestHeader("Content-Type",Ne)}if(n.responseType){const Ne=n.responseType.toLowerCase();y.responseType="json"!==Ne?Ne:"text"}const E=n.serializeBody();let O=null;const N=()=>{if(null!==O)return O;const Ne=y.statusText||"OK",Ge=new Ns(y.getAllResponseHeaders()),mt=function G6(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(y)||n.url;return O=new Bb({headers:Ge,status:y.status,statusText:Ne,url:mt}),O},$=()=>{let{headers:Ne,status:Ge,statusText:mt,url:Xe}=N(),jt=null;Ge!==Sp.NoContent&&(jt=typeof y.response>"u"?y.responseText:y.response),0===Ge&&(Ge=jt?Sp.Ok:0);let tn=Ge>=200&&Ge<300;if("json"===n.responseType&&"string"==typeof jt){const En=jt;jt=jt.replace(H6,"");try{jt=""!==jt?JSON.parse(jt):null}catch(sr){jt=En,tn&&(tn=!1,jt={error:sr,text:jt})}}tn?(l.next(new hl({body:jt,headers:Ne,status:Ge,statusText:mt,url:Xe||void 0})),l.complete()):l.error(new Jd({error:jt,headers:Ne,status:Ge,statusText:mt,url:Xe||void 0}))},H=Ne=>{const{url:Ge}=N(),mt=new Jd({error:Ne,status:y.status||0,statusText:y.statusText||"Unknown Error",url:Ge||void 0});l.error(mt)};let ae=!1;const me=Ne=>{ae||(l.next(N()),ae=!0);let Ge={type:ou.DownloadProgress,loaded:Ne.loaded};Ne.lengthComputable&&(Ge.total=Ne.total),"text"===n.responseType&&y.responseText&&(Ge.partialText=y.responseText),l.next(Ge)},Ce=Ne=>{let Ge={type:ou.UploadProgress,loaded:Ne.loaded};Ne.lengthComputable&&(Ge.total=Ne.total),l.next(Ge)};return y.addEventListener("load",$),y.addEventListener("error",H),y.addEventListener("timeout",H),y.addEventListener("abort",H),n.reportProgress&&(y.addEventListener("progress",me),null!==E&&y.upload&&y.upload.addEventListener("progress",Ce)),y.send(E),l.next({type:ou.Sent}),()=>{y.removeEventListener("error",H),y.removeEventListener("abort",H),y.removeEventListener("load",$),y.removeEventListener("timeout",H),n.reportProgress&&(y.removeEventListener("progress",me),null!==E&&y.upload&&y.upload.removeEventListener("progress",Ce)),y.readyState!==y.DONE&&y.abort()}})))}static#e=this.\u0275fac=function(o){return new(o||e)(We(lM))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();const Mw=new Dt(""),XM=new Dt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ZM=new Dt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class QM{}let Y6=(()=>{class e{constructor(n,o,s){this.doc=n,this.platform=o,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=JO(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(o){return new(o||e)(We(er),We(Ko),We(XM))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();function K6(e,r){const n=e.url.toLowerCase();if(!yt(Mw)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return r(e);const o=yt(QM).getToken(),s=yt(ZM);return null!=o&&!e.headers.has(s)&&(e=e.clone({headers:e.headers.set(s,o)})),r(e)}var su=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(su||{});function X6(...e){const r=[Vb,KM,qM,{provide:Fb,useExisting:qM},{provide:Lb,useExisting:KM},{provide:xp,useValue:K6,multi:!0},{provide:Mw,useValue:!0},{provide:QM,useClass:Y6}];for(const n of e)r.push(...n.\u0275providers);return function qu(e){return{\u0275providers:e}}(r)}const JM=new Dt("");function Z6(){return function fl(e,r){return{\u0275kind:e,\u0275providers:r}}(su.LegacyInterceptors,[{provide:JM,useFactory:B6},{provide:xp,useExisting:JM,multi:!0}])}let Q6=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({providers:[X6(Z6())]})}return e})();var Bn=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(Bn||{});const yc="*";function Iw(e,r){return{type:Bn.Trigger,name:e,definitions:r,options:{}}}function eh(e,r=null){return{type:Bn.Animate,styles:r,timings:e}}function aa(e){return{type:Bn.Style,styles:e,offset:null}}function th(e,r,n){return{type:Bn.State,name:e,styles:r,options:n}}function nh(e,r,n=null){return{type:Bn.Transition,expr:e,animation:r,options:n}}class Cp{constructor(r=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(o=>o()),n.length=0}}class uI{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let n=0,o=0,s=0;const l=this.players.length;0==l?queueMicrotask(()=>this._onFinish()):this.players.forEach(y=>{y.onDone(()=>{++n==l&&this._onFinish()}),y.onDestroy(()=>{++o==l&&this._onDestroy()}),y.onStart(()=>{++s==l&&this._onStart()})}),this.totalTime=this.players.reduce((y,E)=>Math.max(y,E.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const n=r*this.totalTime;this.players.forEach(o=>{const s=o.totalTime?Math.min(1,n/o.totalTime):1;o.setPosition(s)})}getPosition(){const r=this.players.reduce((n,o)=>null===n||o.totalTime>n.totalTime?o:n,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(o=>o()),n.length=0}}function lI(e){return new He(3e3,!1)}function au(e){switch(e.length){case 0:return new Cp;case 1:return e[0];default:return new uI(e)}}function dI(e,r,n=new Map,o=new Map){const s=[],l=[];let y=-1,E=null;if(r.forEach(O=>{const N=O.get("offset"),$=N==y,H=$&&E||new Map;O.forEach((ae,me)=>{let Ce=me,Ne=ae;if("offset"!==me)switch(Ce=e.normalizePropertyName(Ce,s),Ne){case"!":Ne=n.get(me);break;case yc:Ne=o.get(me);break;default:Ne=e.normalizeStyleValue(me,Ce,Ne,s)}H.set(Ce,Ne)}),$||l.push(H),E=H,y=N}),s.length)throw function P5(e){return new He(3502,!1)}();return l}function Pw(e,r,n,o){switch(r){case"start":e.onStart(()=>o(n&&Rw(n,"start",e)));break;case"done":e.onDone(()=>o(n&&Rw(n,"done",e)));break;case"destroy":e.onDestroy(()=>o(n&&Rw(n,"destroy",e)))}}function Rw(e,r,n){const l=kw(e.element,e.triggerName,e.fromState,e.toState,r||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),y=e._data;return null!=y&&(l._data=y),l}function kw(e,r,n,o,s="",l=0,y){return{element:e,triggerName:r,fromState:n,toState:o,phaseName:s,totalTime:l,disabled:!!y}}function ms(e,r,n){let o=e.get(r);return o||e.set(r,o=n),o}function hI(e){const r=e.indexOf(":");return[e.substring(1,r),e.slice(r+1)]}const H5=typeof document>"u"?null:document.documentElement;function Nw(e){const r=e.parentNode||e.host||null;return r===H5?null:r}let pl=null,fI=!1;function pI(e,r){for(;r;){if(r===e)return!0;r=Nw(r)}return!1}function mI(e,r,n){if(n)return Array.from(e.querySelectorAll(r));const o=e.querySelector(r);return o?[o]:[]}let Fw=(()=>{class e{validateStyleProperty(n){return function W5(e){pl||(pl=function q5(){return typeof document<"u"?document.body:null}()||{},fI=!!pl.style&&"WebkitAppearance"in pl.style);let r=!0;return pl.style&&!function G5(e){return"ebkit"==e.substring(1,6)}(e)&&(r=e in pl.style,!r&&fI&&(r="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in pl.style)),r}(n)}matchesElement(n,o){return!1}containsElement(n,o){return pI(n,o)}getParentElement(n){return Nw(n)}query(n,o,s){return mI(n,o,s)}computeStyle(n,o,s){return s||""}animate(n,o,s,l,y,E=[],O){return new Cp(s,l)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();class Lw{static#e=this.NOOP=new Fw}class jw{}const K5=1e3,Bw="ng-enter",Ub="ng-leave",zb="ng-trigger",Hb=".ng-trigger",bI="ng-animating",Vw=".ng-animating";function _c(e){if("number"==typeof e)return e;const r=e.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:$w(parseFloat(r[1]),r[2])}function $w(e,r){return"s"===r?e*K5:e}function Gb(e,r,n){return e.hasOwnProperty("duration")?e:function Z5(e,r,n){let s,l=0,y="";if("string"==typeof e){const E=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===E)return r.push(lI()),{duration:0,delay:0,easing:""};s=$w(parseFloat(E[1]),E[2]);const O=E[3];null!=O&&(l=$w(parseFloat(O),E[4]));const N=E[5];N&&(y=N)}else s=e;if(!n){let E=!1,O=r.length;s<0&&(r.push(function l5(){return new He(3100,!1)}()),E=!0),l<0&&(r.push(function d5(){return new He(3101,!1)}()),E=!0),E&&r.splice(O,0,lI())}return{duration:s,delay:l,easing:y}}(e,r,n)}function Fa(e,r,n){r.forEach((o,s)=>{const l=zw(s);n&&!n.has(s)&&n.set(s,e.style[l]),e.style[l]=o})}function ml(e,r){r.forEach((n,o)=>{const s=zw(o);e.style[s]=""})}function Tp(e){return Array.isArray(e)?1==e.length?e[0]:function o5(e,r=null){return{type:Bn.Sequence,steps:e,options:r}}(e):e}const Uw=new RegExp("{{\\s*(.+?)\\s*}}","g");function yI(e){let r=[];if("string"==typeof e){let n;for(;n=Uw.exec(e);)r.push(n[1]);Uw.lastIndex=0}return r}function Ep(e,r,n){const o=`${e}`,s=o.replace(Uw,(l,y)=>{let E=r[y];return null==E&&(n.push(function f5(e){return new He(3003,!1)}()),E=""),E.toString()});return s==o?e:s}const e8=/-+([a-z0-9])/g;function zw(e){return e.replace(e8,(...r)=>r[1].toUpperCase())}function gs(e,r,n){switch(r.type){case Bn.Trigger:return e.visitTrigger(r,n);case Bn.State:return e.visitState(r,n);case Bn.Transition:return e.visitTransition(r,n);case Bn.Sequence:return e.visitSequence(r,n);case Bn.Group:return e.visitGroup(r,n);case Bn.Animate:return e.visitAnimate(r,n);case Bn.Keyframes:return e.visitKeyframes(r,n);case Bn.Style:return e.visitStyle(r,n);case Bn.Reference:return e.visitReference(r,n);case Bn.AnimateChild:return e.visitAnimateChild(r,n);case Bn.AnimateRef:return e.visitAnimateRef(r,n);case Bn.Query:return e.visitQuery(r,n);case Bn.Stagger:return e.visitStagger(r,n);default:throw function p5(e){return new He(3004,!1)}()}}function Hw(e,r){return window.getComputedStyle(e)[r]}const r8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _I extends jw{normalizePropertyName(r,n){return zw(r)}normalizeStyleValue(r,n,o,s){let l="";const y=o.toString().trim();if(r8.has(n)&&0!==o&&"0"!==o)if("number"==typeof o)l="px";else{const E=o.match(/^[+-]?[\d\.]+([a-z]*)$/);E&&0==E[1].length&&s.push(function m5(e,r){return new He(3005,!1)}())}return y+l}}const Wb="*";const qb=new Set(["true","1"]),Yb=new Set(["false","0"]);function wI(e,r){const n=qb.has(e)||Yb.has(e),o=qb.has(r)||Yb.has(r);return(s,l)=>{let y=e==Wb||e==s,E=r==Wb||r==l;return!y&&n&&"boolean"==typeof s&&(y=s?qb.has(e):Yb.has(e)),!E&&o&&"boolean"==typeof l&&(E=l?qb.has(r):Yb.has(r)),y&&E}}const a8=new RegExp("s*:selfs*,?","g");function Gw(e,r,n,o){return new c8(e).build(r,n,o)}class c8{constructor(r){this._driver=r}build(r,n,o){const s=new d8(n);return this._resetContextStyleTimingState(s),gs(this,Tp(r),s)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,n){let o=n.queryCount=0,s=n.depCount=0;const l=[],y=[];return"@"==r.name.charAt(0)&&n.errors.push(function g5(){return new He(3006,!1)}()),r.definitions.forEach(E=>{if(this._resetContextStyleTimingState(n),E.type==Bn.State){const O=E,N=O.name;N.toString().split(/\s*,\s*/).forEach($=>{O.name=$,l.push(this.visitState(O,n))}),O.name=N}else if(E.type==Bn.Transition){const O=this.visitTransition(E,n);o+=O.queryCount,s+=O.depCount,y.push(O)}else n.errors.push(function b5(){return new He(3007,!1)}())}),{type:Bn.Trigger,name:r.name,states:l,transitions:y,queryCount:o,depCount:s,options:null}}visitState(r,n){const o=this.visitStyle(r.styles,n),s=r.options&&r.options.params||null;if(o.containsDynamicStyles){const l=new Set,y=s||{};o.styles.forEach(E=>{E instanceof Map&&E.forEach(O=>{yI(O).forEach(N=>{y.hasOwnProperty(N)||l.add(N)})})}),l.size&&n.errors.push(function v5(e,r){return new He(3008,!1)}(0,l.values()))}return{type:Bn.State,name:r.name,style:o,options:s?{params:s}:null}}visitTransition(r,n){n.queryCount=0,n.depCount=0;const o=gs(this,Tp(r.animation),n),s=function i8(e,r){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(o=>function o8(e,r,n){if(":"==e[0]){const O=function s8(e,r){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,o)=>parseFloat(o)>parseFloat(n);case":decrement":return(n,o)=>parseFloat(o)<parseFloat(n);default:return r.push(function O5(e){return new He(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof O)return void r.push(O);e=O}const o=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return n.push(function D5(e){return new He(3015,!1)}()),r;const s=o[1],l=o[2],y=o[3];r.push(wI(s,y)),"<"==l[0]&&(s!=Wb||y!=Wb)&&r.push(wI(y,s))}(o,n,r)):n.push(e),n}(r.expr,n.errors);return{type:Bn.Transition,matchers:s,animation:o,queryCount:n.queryCount,depCount:n.depCount,options:gl(r.options)}}visitSequence(r,n){return{type:Bn.Sequence,steps:r.steps.map(o=>gs(this,o,n)),options:gl(r.options)}}visitGroup(r,n){const o=n.currentTime;let s=0;const l=r.steps.map(y=>{n.currentTime=o;const E=gs(this,y,n);return s=Math.max(s,n.currentTime),E});return n.currentTime=s,{type:Bn.Group,steps:l,options:gl(r.options)}}visitAnimate(r,n){const o=function f8(e,r){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return Ww(Gb(e,r).duration,0,"");const n=e;if(n.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Ww(0,0,"");return l.dynamic=!0,l.strValue=n,l}const s=Gb(n,r);return Ww(s.duration,s.delay,s.easing)}(r.timings,n.errors);n.currentAnimateTimings=o;let s,l=r.styles?r.styles:aa({});if(l.type==Bn.Keyframes)s=this.visitKeyframes(l,n);else{let y=r.styles,E=!1;if(!y){E=!0;const N={};o.easing&&(N.easing=o.easing),y=aa(N)}n.currentTime+=o.duration+o.delay;const O=this.visitStyle(y,n);O.isEmptyStep=E,s=O}return n.currentAnimateTimings=null,{type:Bn.Animate,timings:o,style:s,options:null}}visitStyle(r,n){const o=this._makeStyleAst(r,n);return this._validateStyleAst(o,n),o}_makeStyleAst(r,n){const o=[],s=Array.isArray(r.styles)?r.styles:[r.styles];for(let E of s)"string"==typeof E?E===yc?o.push(E):n.errors.push(new He(3002,!1)):o.push(new Map(Object.entries(E)));let l=!1,y=null;return o.forEach(E=>{if(E instanceof Map&&(E.has("easing")&&(y=E.get("easing"),E.delete("easing")),!l))for(let O of E.values())if(O.toString().indexOf("{{")>=0){l=!0;break}}),{type:Bn.Style,styles:o,easing:y,offset:r.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(r,n){const o=n.currentAnimateTimings;let s=n.currentTime,l=n.currentTime;o&&l>0&&(l-=o.duration+o.delay),r.styles.forEach(y=>{"string"!=typeof y&&y.forEach((E,O)=>{const N=n.collectedStyles.get(n.currentQuerySelector),$=N.get(O);let H=!0;$&&(l!=s&&l>=$.startTime&&s<=$.endTime&&(n.errors.push(function _5(e,r,n,o,s){return new He(3010,!1)}()),H=!1),l=$.startTime),H&&N.set(O,{startTime:l,endTime:s}),n.options&&function J5(e,r,n){const o=r.params||{},s=yI(e);s.length&&s.forEach(l=>{o.hasOwnProperty(l)||n.push(function h5(e){return new He(3001,!1)}())})}(E,n.options,n.errors)})})}visitKeyframes(r,n){const o={type:Bn.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function w5(){return new He(3011,!1)}()),o;let l=0;const y=[];let E=!1,O=!1,N=0;const $=r.steps.map(mt=>{const Xe=this._makeStyleAst(mt,n);let jt=null!=Xe.offset?Xe.offset:function h8(e){if("string"==typeof e)return null;let r=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const o=n;r=parseFloat(o.get("offset")),o.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;r=parseFloat(n.get("offset")),n.delete("offset")}return r}(Xe.styles),tn=0;return null!=jt&&(l++,tn=Xe.offset=jt),O=O||tn<0||tn>1,E=E||tn<N,N=tn,y.push(tn),Xe});O&&n.errors.push(function S5(){return new He(3012,!1)}()),E&&n.errors.push(function x5(){return new He(3200,!1)}());const H=r.steps.length;let ae=0;l>0&&l<H?n.errors.push(function C5(){return new He(3202,!1)}()):0==l&&(ae=1/(H-1));const me=H-1,Ce=n.currentTime,Ne=n.currentAnimateTimings,Ge=Ne.duration;return $.forEach((mt,Xe)=>{const jt=ae>0?Xe==me?1:ae*Xe:y[Xe],tn=jt*Ge;n.currentTime=Ce+Ne.delay+tn,Ne.duration=tn,this._validateStyleAst(mt,n),mt.offset=jt,o.styles.push(mt)}),o}visitReference(r,n){return{type:Bn.Reference,animation:gs(this,Tp(r.animation),n),options:gl(r.options)}}visitAnimateChild(r,n){return n.depCount++,{type:Bn.AnimateChild,options:gl(r.options)}}visitAnimateRef(r,n){return{type:Bn.AnimateRef,animation:this.visitReference(r.animation,n),options:gl(r.options)}}visitQuery(r,n){const o=n.currentQuerySelector,s=r.options||{};n.queryCount++,n.currentQuery=r;const[l,y]=function u8(e){const r=!!e.split(/\s*,\s*/).find(n=>":self"==n);return r&&(e=e.replace(a8,"")),e=e.replace(/@\*/g,Hb).replace(/@\w+/g,n=>Hb+"-"+n.slice(1)).replace(/:animating/g,Vw),[e,r]}(r.selector);n.currentQuerySelector=o.length?o+" "+l:l,ms(n.collectedStyles,n.currentQuerySelector,new Map);const E=gs(this,Tp(r.animation),n);return n.currentQuery=null,n.currentQuerySelector=o,{type:Bn.Query,selector:l,limit:s.limit||0,optional:!!s.optional,includeSelf:y,animation:E,originalSelector:r.selector,options:gl(r.options)}}visitStagger(r,n){n.currentQuery||n.errors.push(function T5(){return new He(3013,!1)}());const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:Gb(r.timings,n.errors,!0);return{type:Bn.Stagger,animation:gs(this,Tp(r.animation),n),timings:o,options:null}}}class d8{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gl(e){return e?(e={...e}).params&&(e.params=function l8(e){return e?{...e}:null}(e.params)):e={},e}function Ww(e,r,n){return{duration:e,delay:r,easing:n}}function qw(e,r,n,o,s,l,y=null,E=!1){return{type:1,element:e,keyframes:r,preStyleProps:n,postStyleProps:o,duration:s,delay:l,totalTime:s+l,easing:y,subTimeline:E}}class Kb{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,n){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...n)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const g8=new RegExp(":enter","g"),v8=new RegExp(":leave","g");function Yw(e,r,n,o,s,l=new Map,y=new Map,E,O,N=[]){return(new y8).buildKeyframes(e,r,n,o,s,l,y,E,O,N)}class y8{buildKeyframes(r,n,o,s,l,y,E,O,N,$=[]){N=N||new Kb;const H=new Kw(r,n,N,s,l,$,[]);H.options=O;const ae=O.delay?_c(O.delay):0;H.currentTimeline.delayNextStep(ae),H.currentTimeline.setStyles([y],null,H.errors,O),gs(this,o,H);const me=H.timelines.filter(Ce=>Ce.containsAnimation());if(me.length&&E.size){let Ce;for(let Ne=me.length-1;Ne>=0;Ne--){const Ge=me[Ne];if(Ge.element===n){Ce=Ge;break}}Ce&&!Ce.allowOnlyTimelineStyles()&&Ce.setStyles([E],null,H.errors,O)}return me.length?me.map(Ce=>Ce.buildKeyframes()):[qw(n,[],[],[],0,ae,"",!1)]}visitTrigger(r,n){}visitState(r,n){}visitTransition(r,n){}visitAnimateChild(r,n){const o=n.subInstructions.get(n.element);if(o){const s=n.createSubContext(r.options),l=n.currentTimeline.currentTime,y=this._visitSubInstructions(o,s,s.options);l!=y&&n.transformIntoNewTimeline(y)}n.previousNode=r}visitAnimateRef(r,n){const o=n.createSubContext(r.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],n,o),this.visitReference(r.animation,o),n.transformIntoNewTimeline(o.currentTimeline.currentTime),n.previousNode=r}_applyAnimationRefDelays(r,n,o){for(const s of r){const l=s?.delay;if(l){const y="number"==typeof l?l:_c(Ep(l,s?.params??{},n.errors));o.delayNextStep(y)}}}_visitSubInstructions(r,n,o){let l=n.currentTimeline.currentTime;const y=null!=o.duration?_c(o.duration):null,E=null!=o.delay?_c(o.delay):null;return 0!==y&&r.forEach(O=>{const N=n.appendInstructionToTimeline(O,y,E);l=Math.max(l,N.duration+N.delay)}),l}visitReference(r,n){n.updateOptions(r.options,!0),gs(this,r.animation,n),n.previousNode=r}visitSequence(r,n){const o=n.subContextCount;let s=n;const l=r.options;if(l&&(l.params||l.delay)&&(s=n.createSubContext(l),s.transformIntoNewTimeline(),null!=l.delay)){s.previousNode.type==Bn.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Xb);const y=_c(l.delay);s.delayNextStep(y)}r.steps.length&&(r.steps.forEach(y=>gs(this,y,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>o&&s.transformIntoNewTimeline()),n.previousNode=r}visitGroup(r,n){const o=[];let s=n.currentTimeline.currentTime;const l=r.options&&r.options.delay?_c(r.options.delay):0;r.steps.forEach(y=>{const E=n.createSubContext(r.options);l&&E.delayNextStep(l),gs(this,y,E),s=Math.max(s,E.currentTimeline.currentTime),o.push(E.currentTimeline)}),o.forEach(y=>n.currentTimeline.mergeTimelineCollectedStyles(y)),n.transformIntoNewTimeline(s),n.previousNode=r}_visitTiming(r,n){if(r.dynamic){const o=r.strValue;return Gb(n.params?Ep(o,n.params,n.errors):o,n.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,n){const o=n.currentAnimateTimings=this._visitTiming(r.timings,n),s=n.currentTimeline;o.delay&&(n.incrementTime(o.delay),s.snapshotCurrentStyles());const l=r.style;l.type==Bn.Keyframes?this.visitKeyframes(l,n):(n.incrementTime(o.duration),this.visitStyle(l,n),s.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=r}visitStyle(r,n){const o=n.currentTimeline,s=n.currentAnimateTimings;!s&&o.hasCurrentStyleProperties()&&o.forwardFrame();const l=s&&s.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(l):o.setStyles(r.styles,l,n.errors,n.options),n.previousNode=r}visitKeyframes(r,n){const o=n.currentAnimateTimings,s=n.currentTimeline.duration,l=o.duration,E=n.createSubContext().currentTimeline;E.easing=o.easing,r.styles.forEach(O=>{E.forwardTime((O.offset||0)*l),E.setStyles(O.styles,O.easing,n.errors,n.options),E.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(E),n.transformIntoNewTimeline(s+l),n.previousNode=r}visitQuery(r,n){const o=n.currentTimeline.currentTime,s=r.options||{},l=s.delay?_c(s.delay):0;l&&(n.previousNode.type===Bn.Style||0==o&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Xb);let y=o;const E=n.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!s.optional,n.errors);n.currentQueryTotal=E.length;let O=null;E.forEach((N,$)=>{n.currentQueryIndex=$;const H=n.createSubContext(r.options,N);l&&H.delayNextStep(l),N===n.element&&(O=H.currentTimeline),gs(this,r.animation,H),H.currentTimeline.applyStylesToKeyframe(),y=Math.max(y,H.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(y),O&&(n.currentTimeline.mergeTimelineCollectedStyles(O),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=r}visitStagger(r,n){const o=n.parentContext,s=n.currentTimeline,l=r.timings,y=Math.abs(l.duration),E=y*(n.currentQueryTotal-1);let O=y*n.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":O=E-O;break;case"full":O=o.currentStaggerTime}const $=n.currentTimeline;O&&$.delayNextStep(O);const H=$.currentTime;gs(this,r.animation,n),n.previousNode=r,o.currentStaggerTime=s.currentTime-H+(s.startTime-o.currentTimeline.startTime)}}const Xb={};class Kw{constructor(r,n,o,s,l,y,E,O){this._driver=r,this.element=n,this.subInstructions=o,this._enterClassName=s,this._leaveClassName=l,this.errors=y,this.timelines=E,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=O||new Zb(this._driver,n,0),E.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,n){if(!r)return;const o=r;let s=this.options;null!=o.duration&&(s.duration=_c(o.duration)),null!=o.delay&&(s.delay=_c(o.delay));const l=o.params;if(l){let y=s.params;y||(y=this.options.params={}),Object.keys(l).forEach(E=>{(!n||!y.hasOwnProperty(E))&&(y[E]=Ep(l[E],y,this.errors))})}}_copyOptions(){const r={};if(this.options){const n=this.options.params;if(n){const o=r.params={};Object.keys(n).forEach(s=>{o[s]=n[s]})}}return r}createSubContext(r=null,n,o){const s=n||this.element,l=new Kw(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,o||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(r),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(r){return this.previousNode=Xb,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,n,o){const s={duration:n??r.duration,delay:this.currentTimeline.currentTime+(o??0)+r.delay,easing:""},l=new _8(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,s,r.stretchStartingKeyframe);return this.timelines.push(l),s}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,n,o,s,l,y){let E=[];if(s&&E.push(this.element),r.length>0){r=(r=r.replace(g8,"."+this._enterClassName)).replace(v8,"."+this._leaveClassName);let N=this._driver.query(this.element,r,1!=o);0!==o&&(N=o<0?N.slice(N.length+o,N.length):N.slice(0,o)),E.push(...N)}return!l&&0==E.length&&y.push(function E5(e){return new He(3014,!1)}()),E}}class Zb{constructor(r,n,o,s){this._driver=r,this.element=n,this.startTime=o,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+r),n&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,n){return this.applyStylesToKeyframe(),new Zb(this._driver,r,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,n){this._localTimelineStyles.set(r,n),this._globalTimelineStyles.set(r,n),this._styleSummary.set(r,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[n,o]of this._globalTimelineStyles)this._backFill.set(n,o||yc),this._currentKeyframe.set(n,yc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,n,o,s){n&&this._previousKeyframe.set("easing",n);const l=s&&s.params||{},y=function w8(e,r){const n=new Map;let o;return e.forEach(s=>{if("*"===s){o??=r.keys();for(let l of o)n.set(l,yc)}else for(let[l,y]of s)n.set(l,y)}),n}(r,this._globalTimelineStyles);for(let[E,O]of y){const N=Ep(O,l,o);this._pendingStyles.set(E,N),this._localTimelineStyles.has(E)||this._backFill.set(E,this._globalTimelineStyles.get(E)??yc),this._updateStyle(E,N)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,n)=>{this._currentKeyframe.set(n,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,r)}))}snapshotCurrentStyles(){for(let[r,n]of this._localTimelineStyles)this._pendingStyles.set(r,n),this._updateStyle(r,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let n in this._currentKeyframe)r.push(n);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((n,o)=>{const s=this._styleSummary.get(o);(!s||n.time>s.time)&&this._updateStyle(o,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,n=new Set,o=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((E,O)=>{const N=new Map([...this._backFill,...E]);N.forEach(($,H)=>{"!"===$?r.add(H):$===yc&&n.add(H)}),o||N.set("offset",O/this.duration),s.push(N)});const l=[...r.values()],y=[...n.values()];if(o){const E=s[0],O=new Map(E);E.set("offset",0),O.set("offset",1),s=[E,O]}return qw(this.element,s,l,y,this.duration,this.startTime,this.easing,!1)}}class _8 extends Zb{constructor(r,n,o,s,l,y,E=!1){super(r,n,y.delay),this.keyframes=o,this.preStyleProps=s,this.postStyleProps=l,this._stretchStartingKeyframe=E,this.timings={duration:y.duration,delay:y.delay,easing:y.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:n,duration:o,easing:s}=this.timings;if(this._stretchStartingKeyframe&&n){const l=[],y=o+n,E=n/y,O=new Map(r[0]);O.set("offset",0),l.push(O);const N=new Map(r[0]);N.set("offset",CI(E)),l.push(N);const $=r.length-1;for(let H=1;H<=$;H++){let ae=new Map(r[H]);const me=ae.get("offset");ae.set("offset",CI((n+me*o)/y)),l.push(ae)}o=y,n=0,s="",r=l}return qw(this.element,r,this.preStyleProps,this.postStyleProps,o,n,s,!0)}}function CI(e,r=3){const n=Math.pow(10,r-1);return Math.round(e*n)/n}function TI(e,r,n,o,s,l,y,E,O,N,$,H,ae){return{type:0,element:e,triggerName:r,isRemovalTransition:s,fromState:n,fromStyles:l,toState:o,toStyles:y,timelines:E,queriedElements:O,preStyleProps:N,postStyleProps:$,totalTime:H,errors:ae}}const Xw={};class EI{constructor(r,n,o){this._triggerName=r,this.ast=n,this._stateStyles=o}match(r,n,o,s){return function S8(e,r,n,o,s){return e.some(l=>l(r,n,o,s))}(this.ast.matchers,r,n,o,s)}buildStyles(r,n,o){let s=this._stateStyles.get("*");return void 0!==r&&(s=this._stateStyles.get(r?.toString())||s),s?s.buildStyles(n,o):new Map}build(r,n,o,s,l,y,E,O,N,$){const H=[],ae=this.ast.options&&this.ast.options.params||Xw,Ce=this.buildStyles(o,E&&E.params||Xw,H),Ne=O&&O.params||Xw,Ge=this.buildStyles(s,Ne,H),mt=new Set,Xe=new Map,jt=new Map,tn="void"===s,En={params:DI(Ne,ae),delay:this.ast.options?.delay},sr=$?[]:Yw(r,n,this.ast.animation,l,y,Ce,Ge,En,N,H);let ti=0;return sr.forEach(Zi=>{ti=Math.max(Zi.duration+Zi.delay,ti)}),H.length?TI(n,this._triggerName,o,s,tn,Ce,Ge,[],[],Xe,jt,ti,H):(sr.forEach(Zi=>{const xc=Zi.element,Dh=ms(Xe,xc,new Set);Zi.preStyleProps.forEach(Ol=>Dh.add(Ol));const OR=ms(jt,xc,new Set);Zi.postStyleProps.forEach(Ol=>OR.add(Ol)),xc!==n&&mt.add(xc)}),TI(n,this._triggerName,o,s,tn,Ce,Ge,sr,[...mt.values()],Xe,jt,ti))}}function DI(e,r){const n={...r};return Object.entries(e).forEach(([o,s])=>{null!=s&&(n[o]=s)}),n}class x8{constructor(r,n,o){this.styles=r,this.defaultParams=n,this.normalizer=o}buildStyles(r,n){const o=new Map,s=DI(r,this.defaultParams);return this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((y,E)=>{y&&(y=Ep(y,s,n));const O=this.normalizer.normalizePropertyName(E,n);y=this.normalizer.normalizeStyleValue(E,O,y,n),o.set(E,y)})}),o}}class T8{constructor(r,n,o){this.name=r,this.ast=n,this._normalizer=o,this.transitionFactories=[],this.states=new Map,n.states.forEach(s=>{this.states.set(s.name,new x8(s.style,s.options&&s.options.params||{},o))}),OI(this.states,"true","1"),OI(this.states,"false","0"),n.transitions.forEach(s=>{this.transitionFactories.push(new EI(r,s,this.states))}),this.fallbackTransition=function E8(e,r,n){return new EI(e,{type:Bn.Transition,animation:{type:Bn.Sequence,steps:[],options:null},matchers:[(y,E)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,n,o,s){return this.transitionFactories.find(y=>y.match(r,n,o,s))||null}matchStyles(r,n,o){return this.fallbackTransition.buildStyles(r,n,o)}}function OI(e,r,n){e.has(r)?e.has(n)||e.set(n,e.get(r)):e.has(n)&&e.set(r,e.get(n))}const D8=new Kb;class O8{constructor(r,n,o){this.bodyNode=r,this._driver=n,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,n){const o=[],l=Gw(this._driver,n,o,[]);if(o.length)throw function R5(e){return new He(3503,!1)}();this._animations.set(r,l)}_buildPlayer(r,n,o){const s=r.element,l=dI(this._normalizer,r.keyframes,n,o);return this._driver.animate(s,l,r.duration,r.delay,r.easing,[],!0)}create(r,n,o={}){const s=[],l=this._animations.get(r);let y;const E=new Map;if(l?(y=Yw(this._driver,n,l,Bw,Ub,new Map,new Map,o,D8,s),y.forEach($=>{const H=ms(E,$.element,new Map);$.postStyleProps.forEach(ae=>H.set(ae,null))})):(s.push(function k5(){return new He(3300,!1)}()),y=[]),s.length)throw function N5(e){return new He(3504,!1)}();E.forEach(($,H)=>{$.forEach((ae,me)=>{$.set(me,this._driver.computeStyle(H,me,yc))})});const N=au(y.map($=>{const H=E.get($.element);return this._buildPlayer($,new Map,H)}));return this._playersById.set(r,N),N.onDestroy(()=>this.destroy(r)),this.players.push(N),N}destroy(r){const n=this._getPlayer(r);n.destroy(),this._playersById.delete(r);const o=this.players.indexOf(n);o>=0&&this.players.splice(o,1)}_getPlayer(r){const n=this._playersById.get(r);if(!n)throw function F5(e){return new He(3301,!1)}();return n}listen(r,n,o,s){const l=kw(n,"","","");return Pw(this._getPlayer(r),o,l,s),()=>{}}command(r,n,o,s){if("register"==o)return void this.register(r,s[0]);if("create"==o)return void this.create(r,n,s[0]||{});const l=this._getPlayer(r);switch(o){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(r)}}}const MI="ng-animate-queued",Zw="ng-animate-disabled",R8=[],II={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},k8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ca="__ng_removed";class Qw{get params(){return this.options.params}constructor(r,n=""){this.namespaceId=n;const o=r&&r.hasOwnProperty("value");if(this.value=function j8(e){return e??null}(o?r.value:r),o){const{value:l,...y}=r;this.options=y}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){const n=r.params;if(n){const o=this.options.params;Object.keys(n).forEach(s=>{null==o[s]&&(o[s]=n[s])})}}}const Dp="void",Jw=new Qw(Dp);class N8{constructor(r,n,o){this.id=r,this.hostElement=n,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Fs(n,this._hostClassName)}listen(r,n,o,s){if(!this._triggers.has(n))throw function L5(e,r){return new He(3302,!1)}();if(null==o||0==o.length)throw function j5(e){return new He(3303,!1)}();if(!function B8(e){return"start"==e||"done"==e}(o))throw function B5(e,r){return new He(3400,!1)}();const l=ms(this._elementListeners,r,[]),y={name:n,phase:o,callback:s};l.push(y);const E=ms(this._engine.statesByElement,r,new Map);return E.has(n)||(Fs(r,zb),Fs(r,zb+"-"+n),E.set(n,Jw)),()=>{this._engine.afterFlush(()=>{const O=l.indexOf(y);O>=0&&l.splice(O,1),this._triggers.has(n)||E.delete(n)})}}register(r,n){return!this._triggers.has(r)&&(this._triggers.set(r,n),!0)}_getTrigger(r){const n=this._triggers.get(r);if(!n)throw function V5(e){return new He(3401,!1)}();return n}trigger(r,n,o,s=!0){const l=this._getTrigger(n),y=new eS(this.id,n,r);let E=this._engine.statesByElement.get(r);E||(Fs(r,zb),Fs(r,zb+"-"+n),this._engine.statesByElement.set(r,E=new Map));let O=E.get(n);const N=new Qw(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&O&&N.absorbOptions(O.options),E.set(n,N),O||(O=Jw),N.value!==Dp&&O.value===N.value){if(!function U8(e,r){const n=Object.keys(e),o=Object.keys(r);if(n.length!=o.length)return!1;for(let s=0;s<n.length;s++){const l=n[s];if(!r.hasOwnProperty(l)||e[l]!==r[l])return!1}return!0}(O.params,N.params)){const Ne=[],Ge=l.matchStyles(O.value,O.params,Ne),mt=l.matchStyles(N.value,N.params,Ne);Ne.length?this._engine.reportError(Ne):this._engine.afterFlush(()=>{ml(r,Ge),Fa(r,mt)})}return}const ae=ms(this._engine.playersByElement,r,[]);ae.forEach(Ne=>{Ne.namespaceId==this.id&&Ne.triggerName==n&&Ne.queued&&Ne.destroy()});let me=l.matchTransition(O.value,N.value,r,N.params),Ce=!1;if(!me){if(!s)return;me=l.fallbackTransition,Ce=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:n,transition:me,fromState:O,toState:N,player:y,isFallbackTransition:Ce}),Ce||(Fs(r,MI),y.onStart(()=>{rh(r,MI)})),y.onDone(()=>{let Ne=this.players.indexOf(y);Ne>=0&&this.players.splice(Ne,1);const Ge=this._engine.playersByElement.get(r);if(Ge){let mt=Ge.indexOf(y);mt>=0&&Ge.splice(mt,1)}}),this.players.push(y),ae.push(y),y}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(n=>n.delete(r)),this._elementListeners.forEach((n,o)=>{this._elementListeners.set(o,n.filter(s=>s.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const n=this._engine.playersByElement.get(r);n&&(n.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,n){const o=this._engine.driver.query(r,Hb,!0);o.forEach(s=>{if(s[ca])return;const l=this._engine.fetchNamespacesByElement(s);l.size?l.forEach(y=>y.triggerLeaveAnimation(s,n,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(r,n,o,s){const l=this._engine.statesByElement.get(r),y=new Map;if(l){const E=[];if(l.forEach((O,N)=>{if(y.set(N,O.value),this._triggers.has(N)){const $=this.trigger(r,N,Dp,s);$&&E.push($)}}),E.length)return this._engine.markElementAsRemoved(this.id,r,!0,n,y),o&&au(E).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const n=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(n&&o){const s=new Set;n.forEach(l=>{const y=l.name;if(s.has(y))return;s.add(y);const O=this._triggers.get(y).fallbackTransition,N=o.get(y)||Jw,$=new Qw(Dp),H=new eS(this.id,y,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:y,transition:O,fromState:N,toState:$,player:H,isFallbackTransition:!0})})}}removeNode(r,n){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,n),this.triggerLeaveAnimation(r,n,!0))return;let s=!1;if(o.totalAnimations){const l=o.players.length?o.playersByQueriedElement.get(r):[];if(l&&l.length)s=!0;else{let y=r;for(;y=y.parentNode;)if(o.statesByElement.get(y)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(r),s)o.markElementAsRemoved(this.id,r,!1,n);else{const l=r[ca];(!l||l===II)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,n))}}insertNode(r,n){Fs(r,this._hostClassName)}drainQueuedTransitions(r){const n=[];return this._queue.forEach(o=>{const s=o.player;if(s.destroyed)return;const l=o.element,y=this._elementListeners.get(l);y&&y.forEach(E=>{if(E.name==o.triggerName){const O=kw(l,o.triggerName,o.fromState.value,o.toState.value);O._data=r,Pw(o.player,E.phase,O,E.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):n.push(o)}),this._queue=[],n.sort((o,s)=>{const l=o.transition.ast.depCount,y=s.transition.ast.depCount;return 0==l||0==y?l-y:this._engine.driver.containsElement(o.element,s.element)?1:-1})}destroy(r){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}}class F8{_onRemovalComplete(r,n){this.onRemovalComplete(r,n)}constructor(r,n,o,s){this.bodyNode=r,this.driver=n,this._normalizer=o,this.scheduler=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,y)=>{}}get queuedPlayers(){const r=[];return this._namespaceList.forEach(n=>{n.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,n){const o=new N8(r,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(o,n):(this.newHostElements.set(n,o),this.collectEnterElement(n)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,n){const o=this._namespaceList,s=this.namespacesByHostElement;if(o.length-1>=0){let y=!1,E=this.driver.getParentElement(n);for(;E;){const O=s.get(E);if(O){const N=o.indexOf(O);o.splice(N+1,0,r),y=!0;break}E=this.driver.getParentElement(E)}y||o.unshift(r)}else o.push(r);return s.set(n,r),r}register(r,n){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,n)),o}registerTrigger(r,n,o){let s=this._namespaceLookup[r];s&&s.register(n,o)&&this.totalAnimations++}destroy(r,n){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const o=this._fetchNamespace(r);this.namespacesByHostElement.delete(o.hostElement);const s=this._namespaceList.indexOf(o);s>=0&&this._namespaceList.splice(s,1),o.destroy(n),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const n=new Set,o=this.statesByElement.get(r);if(o)for(let s of o.values())if(s.namespaceId){const l=this._fetchNamespace(s.namespaceId);l&&n.add(l)}return n}trigger(r,n,o,s){if(Qb(n)){const l=this._fetchNamespace(r);if(l)return l.trigger(n,o,s),!0}return!1}insertNode(r,n,o,s){if(!Qb(n))return;const l=n[ca];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const y=this.collectedLeaveElements.indexOf(n);y>=0&&this.collectedLeaveElements.splice(y,1)}if(r){const y=this._fetchNamespace(r);y&&y.insertNode(n,o)}s&&this.collectEnterElement(n)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,n){n?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Fs(r,Zw)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),rh(r,Zw))}removeNode(r,n,o){if(Qb(n)){this.scheduler?.notify();const s=r?this._fetchNamespace(r):null;s?s.removeNode(n,o):this.markElementAsRemoved(r,n,!1,o);const l=this.namespacesByHostElement.get(n);l&&l.id!==r&&l.removeNode(n,o)}else this._onRemovalComplete(n,o)}markElementAsRemoved(r,n,o,s,l){this.collectedLeaveElements.push(n),n[ca]={namespaceId:r,setForRemoval:s,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:l}}listen(r,n,o,s,l){return Qb(n)?this._fetchNamespace(r).listen(n,o,s,l):()=>{}}_buildInstruction(r,n,o,s,l){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,s,r.fromState.options,r.toState.options,n,l)}destroyInnerAnimations(r){let n=this.driver.query(r,Hb,!0);n.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(r,Vw,!0),n.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const n=this.playersByElement.get(r);n&&n.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const n=this.playersByQueriedElement.get(r);n&&n.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return au(this.players).onDone(()=>r());r()})}processLeaveNode(r){const n=r[ca];if(n&&n.setForRemoval){if(r[ca]=II,n.namespaceId){this.destroyInnerAnimations(r);const o=this._fetchNamespace(n.namespaceId);o&&o.clearElementCache(r)}this._onRemovalComplete(r,n.setForRemoval)}r.classList?.contains(Zw)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(r=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,s)=>this._balanceNamespaceList(o,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Fs(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{n=this._flushAnimations(o,r)}finally{for(let s=0;s<o.length;s++)o[s]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],n.length?au(n).onDone(()=>{o.forEach(s=>s())}):o.forEach(s=>s())}}reportError(r){throw function $5(e){return new He(3402,!1)}()}_flushAnimations(r,n){const o=new Kb,s=[],l=new Map,y=[],E=new Map,O=new Map,N=new Map,$=new Set;this.disabledNodes.forEach(dn=>{$.add(dn);const On=this.driver.query(dn,".ng-animate-queued",!0);for(let Ln=0;Ln<On.length;Ln++)$.add(On[Ln])});const H=this.bodyNode,ae=Array.from(this.statesByElement.keys()),me=RI(ae,this.collectedEnterElements),Ce=new Map;let Ne=0;me.forEach((dn,On)=>{const Ln=Bw+Ne++;Ce.set(On,Ln),dn.forEach(xr=>Fs(xr,Ln))});const Ge=[],mt=new Set,Xe=new Set;for(let dn=0;dn<this.collectedLeaveElements.length;dn++){const On=this.collectedLeaveElements[dn],Ln=On[ca];Ln&&Ln.setForRemoval&&(Ge.push(On),mt.add(On),Ln.hasAnimation?this.driver.query(On,".ng-star-inserted",!0).forEach(xr=>mt.add(xr)):Xe.add(On))}const jt=new Map,tn=RI(ae,Array.from(mt));tn.forEach((dn,On)=>{const Ln=Ub+Ne++;jt.set(On,Ln),dn.forEach(xr=>Fs(xr,Ln))}),r.push(()=>{me.forEach((dn,On)=>{const Ln=Ce.get(On);dn.forEach(xr=>rh(xr,Ln))}),tn.forEach((dn,On)=>{const Ln=jt.get(On);dn.forEach(xr=>rh(xr,Ln))}),Ge.forEach(dn=>{this.processLeaveNode(dn)})});const En=[],sr=[];for(let dn=this._namespaceList.length-1;dn>=0;dn--)this._namespaceList[dn].drainQueuedTransitions(n).forEach(Ln=>{const xr=Ln.player,co=Ln.element;if(En.push(xr),this.collectedEnterElements.length){const Ao=co[ca];if(Ao&&Ao.setForMove){if(Ao.previousTriggersValues&&Ao.previousTriggersValues.has(Ln.triggerName)){const Ml=Ao.previousTriggersValues.get(Ln.triggerName),Vs=this.statesByElement.get(Ln.element);if(Vs&&Vs.has(Ln.triggerName)){const uy=Vs.get(Ln.triggerName);uy.value=Ml,Vs.set(Ln.triggerName,uy)}}return void xr.destroy()}}const Wa=!H||!this.driver.containsElement(H,co),bs=jt.get(co),gu=Ce.get(co),yi=this._buildInstruction(Ln,o,gu,bs,Wa);if(yi.errors&&yi.errors.length)return void sr.push(yi);if(Wa)return xr.onStart(()=>ml(co,yi.fromStyles)),xr.onDestroy(()=>Fa(co,yi.toStyles)),void s.push(xr);if(Ln.isFallbackTransition)return xr.onStart(()=>ml(co,yi.fromStyles)),xr.onDestroy(()=>Fa(co,yi.toStyles)),void s.push(xr);const AR=[];yi.timelines.forEach(Ao=>{Ao.stretchStartingKeyframe=!0,this.disabledNodes.has(Ao.element)||AR.push(Ao)}),yi.timelines=AR,o.append(co,yi.timelines),y.push({instruction:yi,player:xr,element:co}),yi.queriedElements.forEach(Ao=>ms(E,Ao,[]).push(xr)),yi.preStyleProps.forEach((Ao,Ml)=>{if(Ao.size){let Vs=O.get(Ml);Vs||O.set(Ml,Vs=new Set),Ao.forEach((uy,L1)=>Vs.add(L1))}}),yi.postStyleProps.forEach((Ao,Ml)=>{let Vs=N.get(Ml);Vs||N.set(Ml,Vs=new Set),Ao.forEach((uy,L1)=>Vs.add(L1))})});if(sr.length){const dn=[];sr.forEach(On=>{dn.push(function U5(e,r){return new He(3505,!1)}())}),En.forEach(On=>On.destroy()),this.reportError(dn)}const ti=new Map,Zi=new Map;y.forEach(dn=>{const On=dn.element;o.has(On)&&(Zi.set(On,On),this._beforeAnimationBuild(dn.player.namespaceId,dn.instruction,ti))}),s.forEach(dn=>{const On=dn.element;this._getPreviousPlayers(On,!1,dn.namespaceId,dn.triggerName,null).forEach(xr=>{ms(ti,On,[]).push(xr),xr.destroy()})});const xc=Ge.filter(dn=>NI(dn,O,N)),Dh=new Map;PI(Dh,this.driver,Xe,N,yc).forEach(dn=>{NI(dn,O,N)&&xc.push(dn)});const Ol=new Map;me.forEach((dn,On)=>{PI(Ol,this.driver,new Set(dn),O,"!")}),xc.forEach(dn=>{const On=Dh.get(dn),Ln=Ol.get(dn);Dh.set(dn,new Map([...On?.entries()??[],...Ln?.entries()??[]]))});const F1=[],MR=[],IR={};y.forEach(dn=>{const{element:On,player:Ln,instruction:xr}=dn;if(o.has(On)){if($.has(On))return Ln.onDestroy(()=>Fa(On,xr.toStyles)),Ln.disabled=!0,Ln.overrideTotalTime(xr.totalTime),void s.push(Ln);let co=IR;if(Zi.size>1){let bs=On;const gu=[];for(;bs=bs.parentNode;){const yi=Zi.get(bs);if(yi){co=yi;break}gu.push(bs)}gu.forEach(yi=>Zi.set(yi,co))}const Wa=this._buildAnimation(Ln.namespaceId,xr,ti,l,Ol,Dh);if(Ln.setRealPlayer(Wa),co===IR)F1.push(Ln);else{const bs=this.playersByElement.get(co);bs&&bs.length&&(Ln.parentPlayer=au(bs)),s.push(Ln)}}else ml(On,xr.fromStyles),Ln.onDestroy(()=>Fa(On,xr.toStyles)),MR.push(Ln),$.has(On)&&s.push(Ln)}),MR.forEach(dn=>{const On=l.get(dn.element);if(On&&On.length){const Ln=au(On);dn.setRealPlayer(Ln)}}),s.forEach(dn=>{dn.parentPlayer?dn.syncPlayerEvents(dn.parentPlayer):dn.destroy()});for(let dn=0;dn<Ge.length;dn++){const On=Ge[dn],Ln=On[ca];if(rh(On,Ub),Ln&&Ln.hasAnimation)continue;let xr=[];if(E.size){let Wa=E.get(On);Wa&&Wa.length&&xr.push(...Wa);let bs=this.driver.query(On,Vw,!0);for(let gu=0;gu<bs.length;gu++){let yi=E.get(bs[gu]);yi&&yi.length&&xr.push(...yi)}}const co=xr.filter(Wa=>!Wa.destroyed);co.length?V8(this,On,co):this.processLeaveNode(On)}return Ge.length=0,F1.forEach(dn=>{this.players.push(dn),dn.onDone(()=>{dn.destroy();const On=this.players.indexOf(dn);this.players.splice(On,1)}),dn.play()}),F1}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,n,o,s,l){let y=[];if(n){const E=this.playersByQueriedElement.get(r);E&&(y=E)}else{const E=this.playersByElement.get(r);if(E){const O=!l||l==Dp;E.forEach(N=>{N.queued||!O&&N.triggerName!=s||y.push(N)})}}return(o||s)&&(y=y.filter(E=>!(o&&o!=E.namespaceId||s&&s!=E.triggerName))),y}_beforeAnimationBuild(r,n,o){const l=n.element,y=n.isRemovalTransition?void 0:r,E=n.isRemovalTransition?void 0:n.triggerName;for(const O of n.timelines){const N=O.element,$=N!==l,H=ms(o,N,[]);this._getPreviousPlayers(N,$,y,E,n.toState).forEach(me=>{const Ce=me.getRealPlayer();Ce.beforeDestroy&&Ce.beforeDestroy(),me.destroy(),H.push(me)})}ml(l,n.fromStyles)}_buildAnimation(r,n,o,s,l,y){const E=n.triggerName,O=n.element,N=[],$=new Set,H=new Set,ae=n.timelines.map(Ce=>{const Ne=Ce.element;$.add(Ne);const Ge=Ne[ca];if(Ge&&Ge.removedBeforeQueried)return new Cp(Ce.duration,Ce.delay);const mt=Ne!==O,Xe=function $8(e){const r=[];return kI(e,r),r}((o.get(Ne)||R8).map(ti=>ti.getRealPlayer())).filter(ti=>!!ti.element&&ti.element===Ne),jt=l.get(Ne),tn=y.get(Ne),En=dI(this._normalizer,Ce.keyframes,jt,tn),sr=this._buildPlayer(Ce,En,Xe);if(Ce.subTimeline&&s&&H.add(Ne),mt){const ti=new eS(r,E,Ne);ti.setRealPlayer(sr),N.push(ti)}return sr});N.forEach(Ce=>{ms(this.playersByQueriedElement,Ce.element,[]).push(Ce),Ce.onDone(()=>function L8(e,r,n){let o=e.get(r);if(o){if(o.length){const s=o.indexOf(n);o.splice(s,1)}0==o.length&&e.delete(r)}return o}(this.playersByQueriedElement,Ce.element,Ce))}),$.forEach(Ce=>Fs(Ce,bI));const me=au(ae);return me.onDestroy(()=>{$.forEach(Ce=>rh(Ce,bI)),Fa(O,n.toStyles)}),H.forEach(Ce=>{ms(s,Ce,[]).push(me)}),me}_buildPlayer(r,n,o){return n.length>0?this.driver.animate(r.element,n,r.duration,r.delay,r.easing,o):new Cp(r.duration,r.delay)}}class eS{constructor(r,n,o){this.namespaceId=r,this.triggerName=n,this.element=o,this._player=new Cp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((n,o)=>{n.forEach(s=>Pw(r,o,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const n=this._player;n.triggerCallback&&r.onStart(()=>n.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,n){ms(this._queuedCallbacks,r,[]).push(n)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const n=this._player;n.triggerCallback&&n.triggerCallback(r)}}function Qb(e){return e&&1===e.nodeType}function AI(e,r){const n=e.style.display;return e.style.display=r??"none",n}function PI(e,r,n,o,s){const l=[];n.forEach(O=>l.push(AI(O)));const y=[];o.forEach((O,N)=>{const $=new Map;O.forEach(H=>{const ae=r.computeStyle(N,H,s);$.set(H,ae),(!ae||0==ae.length)&&(N[ca]=k8,y.push(N))}),e.set(N,$)});let E=0;return n.forEach(O=>AI(O,l[E++])),y}function RI(e,r){const n=new Map;if(e.forEach(E=>n.set(E,[])),0==r.length)return n;const s=new Set(r),l=new Map;function y(E){if(!E)return 1;let O=l.get(E);if(O)return O;const N=E.parentNode;return O=n.has(N)?N:s.has(N)?1:y(N),l.set(E,O),O}return r.forEach(E=>{const O=y(E);1!==O&&n.get(O).push(E)}),n}function Fs(e,r){e.classList?.add(r)}function rh(e,r){e.classList?.remove(r)}function V8(e,r,n){au(n).onDone(()=>e.processLeaveNode(r))}function kI(e,r){for(let n=0;n<e.length;n++){const o=e[n];o instanceof uI?kI(o.players,r):r.push(o)}}function NI(e,r,n){const o=n.get(e);if(!o)return!1;let s=r.get(e);return s?o.forEach(l=>s.add(l)):r.set(e,o),n.delete(e),!0}class Op{constructor(r,n,o,s){this._driver=n,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(l,y)=>{},this._transitionEngine=new F8(r.body,n,o,s),this._timelineEngine=new O8(r.body,n,o),this._transitionEngine.onRemovalComplete=(l,y)=>this.onRemovalComplete(l,y)}registerTrigger(r,n,o,s,l){const y=r+"-"+s;let E=this._triggerCache[y];if(!E){const O=[],$=Gw(this._driver,l,O,[]);if(O.length)throw function A5(e,r){return new He(3404,!1)}();E=function C8(e,r,n){return new T8(e,r,n)}(s,$,this._normalizer),this._triggerCache[y]=E}this._transitionEngine.registerTrigger(n,s,E)}register(r,n){this._transitionEngine.register(r,n)}destroy(r,n){this._transitionEngine.destroy(r,n)}onInsert(r,n,o,s){this._transitionEngine.insertNode(r,n,o,s)}onRemove(r,n,o){this._transitionEngine.removeNode(r,n,o)}disableAnimations(r,n){this._transitionEngine.markElementAsDisabled(r,n)}process(r,n,o,s){if("@"==o.charAt(0)){const[l,y]=hI(o);this._timelineEngine.command(l,n,y,s)}else this._transitionEngine.trigger(r,n,o,s)}listen(r,n,o,s,l){if("@"==o.charAt(0)){const[y,E]=hI(o);return this._timelineEngine.listen(y,n,E,l)}return this._transitionEngine.listen(r,n,o,s,l)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}}class Mp{static#e=this.initialStylesByElement=new WeakMap;constructor(r,n,o){this._element=r,this._startStyles=n,this._endStyles=o,this._state=0;let s=Mp.initialStylesByElement.get(r);s||Mp.initialStylesByElement.set(r,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Fa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fa(this._element,this._initialStyles),this._endStyles&&(Fa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Mp.initialStylesByElement.delete(this._element),this._startStyles&&(ml(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ml(this._element,this._endStyles),this._endStyles=null),Fa(this._element,this._initialStyles),this._state=3)}}function tS(e){let r=null;return e.forEach((n,o)=>{(function H8(e){return"display"===e||"position"===e})(o)&&(r=r||new Map,r.set(o,n))}),r}class FI{constructor(r,n,o,s){this.element=r,this.keyframes=n,this.options=o,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const n=[];return r.forEach(o=>{n.push(Object.fromEntries(o))}),n}_triggerWebAnimation(r,n,o){return r.animate(this._convertKeyframesToObject(n),o)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,s)=>{"offset"!==s&&r.set(s,this._finished?o:Hw(this.element,s))}),this.currentSnapshot=r}triggerCallback(r){const n="start"===r?this._onStartFns:this._onDoneFns;n.forEach(o=>o()),n.length=0}}class LI{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}matchesElement(r,n){return!1}containsElement(r,n){return pI(r,n)}getParentElement(r){return Nw(r)}query(r,n,o){return mI(r,n,o)}computeStyle(r,n,o){return Hw(r,n)}animate(r,n,o,s,l,y=[]){const O={duration:o,delay:s,fill:0==s?"both":"forwards"};l&&(O.easing=l);const N=new Map,$=y.filter(me=>me instanceof FI);(function t8(e,r){return 0===e||0===r})(o,s)&&$.forEach(me=>{me.currentSnapshot.forEach((Ce,Ne)=>N.set(Ne,Ce))});let H=function Q5(e){return e.length?e[0]instanceof Map?e:e.map(r=>new Map(Object.entries(r))):[]}(n).map(me=>new Map(me));H=function n8(e,r,n){if(n.size&&r.length){let o=r[0],s=[];if(n.forEach((l,y)=>{o.has(y)||s.push(y),o.set(y,l)}),s.length)for(let l=1;l<r.length;l++){let y=r[l];s.forEach(E=>y.set(E,Hw(e,E)))}}return r}(r,H,N);const ae=function z8(e,r){let n=null,o=null;return Array.isArray(r)&&r.length?(n=tS(r[0]),r.length>1&&(o=tS(r[r.length-1]))):r instanceof Map&&(n=tS(r)),n||o?new Mp(e,n,o):null}(r,H);return new FI(r,H,O,ae)}}const jI="@.disabled";class BI{constructor(r,n,o,s){this.namespaceId=r,this.delegate=n,this.engine=o,this._onDestroy=s,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,n){return this.delegate.createElement(r,n)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,n){this.delegate.appendChild(r,n),this.engine.onInsert(this.namespaceId,n,r,!1)}insertBefore(r,n,o,s=!0){this.delegate.insertBefore(r,n,o),this.engine.onInsert(this.namespaceId,n,r,s)}removeChild(r,n,o){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(r,n){return this.delegate.selectRootElement(r,n)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,n,o,s){this.delegate.setAttribute(r,n,o,s)}removeAttribute(r,n,o){this.delegate.removeAttribute(r,n,o)}addClass(r,n){this.delegate.addClass(r,n)}removeClass(r,n){this.delegate.removeClass(r,n)}setStyle(r,n,o,s){this.delegate.setStyle(r,n,o,s)}removeStyle(r,n,o){this.delegate.removeStyle(r,n,o)}setProperty(r,n,o){"@"==n.charAt(0)&&n==jI?this.disableAnimations(r,!!o):this.delegate.setProperty(r,n,o)}setValue(r,n){this.delegate.setValue(r,n)}listen(r,n,o){return this.delegate.listen(r,n,o)}disableAnimations(r,n){this.engine.disableAnimations(r,n)}}class G8 extends BI{constructor(r,n,o,s,l){super(n,o,s,l),this.factory=r,this.namespaceId=n}setProperty(r,n,o){"@"==n.charAt(0)?"."==n.charAt(1)&&n==jI?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,n.slice(1),o):this.delegate.setProperty(r,n,o)}listen(r,n,o){if("@"==n.charAt(0)){const s=function W8(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(r);let l=n.slice(1),y="";return"@"!=l.charAt(0)&&([l,y]=function q8(e){const r=e.indexOf(".");return[e.substring(0,r),e.slice(r+1)]}(l)),this.engine.listen(this.namespaceId,s,l,y,E=>{this.factory.scheduleListenerCallback(E._data||-1,o,E)})}return this.delegate.listen(r,n,o)}}class Y8{constructor(r,n,o){this.delegate=r,this.engine=n,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(s,l)=>{const y=l?.parentNode(s);y&&l.removeChild(y,s)}}createRenderer(r,n){const s=this.delegate.createRenderer(r,n);if(!r||!n?.data?.animation){const N=this._rendererCache;let $=N.get(s);return $||($=new BI("",s,this.engine,()=>N.delete(s)),N.set(s,$)),$}const l=n.id,y=n.id+"-"+this._currentId;this._currentId++,this.engine.register(y,r);const E=N=>{Array.isArray(N)?N.forEach(E):this.engine.registerTrigger(l,y,r,N.name,N)};return n.data.animation.forEach(E),new G8(this,y,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,n,o){if(r>=0&&r<this._microtaskId)return void this._zone.run(()=>n(o));const s=this._animationCallbacksBuffer;0==s.length&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(l=>{const[y,E]=l;y(E)}),this._animationCallbacksBuffer=[]})}),s.push([n,o])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let K8=(()=>{class e extends Op{constructor(n,o,s){super(n,o,s,yt(P_,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(o){return new(o||e)(We(er),We(Lw),We(jw))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();const VI=[{provide:jw,useFactory:function X8(){return new _I}},{provide:Op,useClass:K8},{provide:R_,useFactory:function Z8(e,r,n){return new Y8(e,r,n)},deps:[yw,Op,_n]}],nS=[{provide:Lw,useFactory:()=>new LI},{provide:Ri,useValue:"BrowserAnimations"},...VI],$I=[{provide:Lw,useClass:Fw},{provide:Ri,useValue:"NoopAnimations"},...VI];let Q8=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?$I:nS}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({providers:nS,imports:[IM]})}return e})();var lr=function(e){return e.Initial="Initial",e.WaitingForStartRequest="WaitingForStartRequest",e.WaitingToStart="WaitingToStart",e.AvatarUnavailable="AvatarUnavailable",e.MajorError="MajorError",e.Live="Live",e.Paused="Paused",e.Ended="Ended",e}(lr||{}),Di=function(e){return e.OVERLAY="overlay",e.SPLIT_SCREEN="splitScreen",e.FULL_SCREEN="fullScreen",e.CONTAINED="contained",e}(Di||{}),Ip=function(e){return e.LEFT="LEFT",e.CENTER="CENTER",e.RIGHT="RIGHT",e}(Ip||{}),rS=function(e){return e[e.LEFT=-.6]="LEFT",e[e.CENTER=0]="CENTER",e[e.RIGHT=.6]="RIGHT",e}(rS||{});let J8=(()=>{class e{static#e=this.defaultConfig={camera_position_vertical:0,camera_position_horizontal:0,camera_position_distance:0};constructor(n){this.stateService=n}getConfig(n){const o=e.defaultConfig;return void 0===n?o:"string"==typeof n?(o.camera_position_distance=this.getDistance(),o.camera_position_horizontal=this.getHorizontal(n),o):n}getDistance(){return this.stateService.displayAsOverlay()?0:-1}getHorizontal(n){return this.stateService.displayAsFullScreen()?rS[n]:rS.CENTER}}return e})();var hi=g(884);const UI=window.uneeqConfig;(function ez(e){return void 0!==e&&"boolean"==typeof e.production&&"string"==typeof e.uneeqConnectionUrl&&"string"==typeof e.uneeqMediaUrl&&"string"==typeof e.uneeqTokenUrl})(UI)||console.error("UneeQ:","Invalid environment set in config.js");const cu=UI,zI={waiting_for_start_request:{uneeqMessageType:"FrameResize",type:"waiting_for_start_request",style:{width:"100%",position:"fixed",left:"0px",top:"0px",bottom:"0px",height:"100%","border-radius":"0px"},document:{}},waiting_to_start:{uneeqMessageType:"FrameResize",type:"waiting_to_start",style:{width:"100%",position:"fixed",left:"0px",top:"0px",bottom:"0px",height:"100%","border-radius":"0px"}},live:{uneeqMessageType:"FrameResize",type:"live",style:{width:"50%",position:"fixed",left:"0px",top:"0px",bottom:"0px",right:"auto",height:"100%","border-radius":"0px"},document:{style:{position:"absolute",width:"50%",right:"0px"}}},content:{uneeqMessageType:"FrameResize",type:"content",style:{width:"50%",position:"fixed",left:"0px",top:"0px",bottom:"0px",right:"auto",height:"100%","border-radius":"0px"},document:{style:{position:"absolute",width:"50%",right:"0px"}}}},HI={waiting_for_start_request:{uneeqMessageType:"FrameResize",type:"waiting_for_start_request",style:{width:"100%",position:"fixed",right:"0px",top:"auto",bottom:"0px",height:"100%","border-radius":"0px"}},waiting_to_start:{uneeqMessageType:"FrameResize",type:"waiting_to_start",style:{width:"100%",position:"fixed",right:"0px",top:"0px",bottom:"0px",height:"100%","border-radius":"0px"},document:{}},live:{uneeqMessageType:"FrameResize",type:"live",style:{width:"50%",position:"fixed",right:"0px",top:"0px",bottom:"0px",left:"auto",height:"100%","border-radius":"0px"},document:{style:{position:"absolute",width:"50%",left:"0px"}}},content:{uneeqMessageType:"FrameResize",type:"content",style:{width:"50%",position:"fixed",right:"0px",top:"0px",bottom:"0px",left:"auto",height:"100%","border-radius":"0px"},document:{style:{position:"absolute",width:"50%",left:"0px"}}}},iz={initial_hide_cta:{uneeqMessageType:"FrameResize",type:"initial_hide_cta",style:{width:0,height:0,right:0,bottom:0,left:"auto",top:"auto","border-radius":"0px"},document:{style:{width:"100%"}}},initial:{uneeqMessageType:"FrameResize",type:"initial",style:{width:"400px",height:"90px",right:0,bottom:0,left:"auto",top:"auto","border-radius":"0px"},document:{}},initial_small:{uneeqMessageType:"FrameResize",type:"initial_small",style:{width:"100px",height:"90px",right:0,bottom:0,left:"auto",top:"auto","border-radius":"0px"},document:{style:{width:"100%"}}},waiting_to_start:{uneeqMessageType:"FrameResize",type:"waiting_to_start",style:{width:"183px",height:"90px","border-radius":"0px"},document:{}}},GI={waiting_for_start_request:{uneeqMessageType:"FrameResize",type:"waiting_for_start_request",style:{width:"100%",position:"fixed",right:"0px",top:"auto",bottom:"0px",height:"100%","border-radius":"0px"}},waiting_to_start:{uneeqMessageType:"FrameResize",type:"waiting_to_start",style:{width:"100%",position:"fixed",left:"0px",top:"0px",bottom:"0px",height:"100%","border-radius":"0px"}},live:{uneeqMessageType:"FrameResize",type:"live",style:{position:"fixed",width:"340px",height:"220px",top:"auto",right:"0px",left:"auto","border-radius":"0px"},document:{style:{width:"100%"}}},content:{uneeqMessageType:"FrameResize",type:"content",style:{position:"fixed",width:"340px",height:"612px",top:"auto",right:"0px",left:"auto","border-radius":"0px"},document:{style:{width:"100%"}}}},WI={waiting_for_start_request:{uneeqMessageType:"FrameResize",type:"waiting_for_start_request",style:{width:"100%",height:"100%",right:0},document:{}},live:{uneeqMessageType:"FrameResize",type:"live",style:{position:"fixed",top:"auto",right:"0px",left:"auto",width:"220px",height:"210px","border-radius":"0px"},document:{style:{width:"100%"}}},content:{uneeqMessageType:"FrameResize",type:"content",style:{position:"fixed",width:"100%",height:"100%",top:"auto",right:"0px",left:"auto","border-radius":"0px"},document:{style:{width:"100%"}}},waiting_to_start:{uneeqMessageType:"FrameResize",type:"waiting_to_start",style:{width:"100%",position:"fixed",left:"0px",top:"0px",bottom:"0px",height:"100%","border-radius":"0px"}}};var ih=function(e){return e.LEFT="left",e.RIGHT="right",e}(ih||{});const qI={waiting_for_start_request:{uneeqMessageType:"FrameResize",type:"waiting_for_start_request",style:{width:"100%",position:"fixed",right:"0px",top:"auto",bottom:"0px",height:"100%","border-radius":"0px"}},waiting_to_start:{uneeqMessageType:"FrameResize",type:"waiting_to_start",style:{width:"100%",position:"fixed",left:"0px",top:"0px",bottom:"0px",height:"100%","border-radius":"0px"}},live:{uneeqMessageType:"FrameResize",type:"live",style:{position:"fixed",width:"100%",height:"100%",top:"0",left:"0","border-radius":"0px"},document:{style:{width:"100%","overscroll-behavior-y":"contain"}}},content:{uneeqMessageType:"FrameResize",type:"content",style:{position:"fixed",width:"100%",height:"100%",top:"0",left:"0","border-radius":"0px"},document:{style:{width:"100%"}}}},oz={waiting_for_start_request:{uneeqMessageType:"FrameResize",type:"waiting_for_start_request",style:{width:"100%",position:"fixed",right:"0px",top:"auto",bottom:"0px",height:"100%","border-radius":"0px"}},waiting_to_start:{uneeqMessageType:"FrameResize",type:"waiting_to_start",style:{width:"100%",position:"fixed",left:"0px",top:"0px",bottom:"0px",height:"100%","border-radius":"0px"}},live:{uneeqMessageType:"FrameResize",type:"live",style:{width:"100%",height:"100%",top:"0",left:"0","border-radius":"0px",position:"static"},document:{style:{width:"100%","overscroll-behavior-y":"contain"}}},content:{uneeqMessageType:"FrameResize",type:"content",style:{width:"100%",height:"100%",top:"0",left:"0","border-radius":"0px",position:"static"},document:{style:{width:"100%"}}}};var ev=function(e){return e[e.ModalPopup=0]="ModalPopup",e[e.CallToAction=1]="CallToAction",e}(ev||{});let YI=(()=>{class e{constructor(){this.layoutMode=Di.OVERLAY,this.layoutPosition=ih.RIGHT,this.ctaResizeMessage=iz,this.frameResizeMessages={overlay:GI,overlay_mobile:WI,splitScreenLeft:zI,splitScreenRight:HI,fullScreen:qI},this.state=lr.Initial,this.ctaOpen=!1,this.errorOpen=!1,this.contentOpen=!1,this.isMobileLayout=!1,this.startMethod=null,this.displayCallToAction=!1,this.pauseResizeTimeout=null,this.frameResizeMessage=this.frameResizeMessages.overlay}static sendFrameResize(n,o){n.timestamp=(new Date).getTime(),n.layoutMode=o,window.parent.postMessage({msg:n},"*")}stateChangeHandler(n){const o=this.state!==n;this.state=n,this.setFrameMessages(this.layoutMode,this.layoutPosition),this.processFrameSize(o)}setStartMethod(n){this.startMethod=n}ctaOpenChangeHandler(n){this.ctaOpen=n,this.processFrameSize()}setDisplayCallToAction(n){this.displayCallToAction=n}errorOpenChangeHandler(n){this.errorOpen=n,this.processFrameSize()}contentOpenChangeHandler(n,o=!0){this.contentOpen=n,o&&this.processFrameSize()}processMobileLayout(n,o,s=!1,l=!0){this.isMobileLayout=n,this.setFrameMessages(o,this.layoutPosition),l&&this.processFrameSize(s)}setFrameMessages(n=Di.OVERLAY,o=ih.RIGHT,s=!1){this.isMobileLayout&&n!==Di.FULL_SCREEN&&(n=Di.OVERLAY),this.layoutMode=n,this.layoutPosition=o,this.layoutMode===Di.SPLIT_SCREEN?this.frameResizeMessage=this.layoutPosition===ih.LEFT?zI:HI:this.layoutMode===Di.OVERLAY?this.frameResizeMessage=this.isMobileLayout?WI:GI:this.layoutMode===Di.FULL_SCREEN?this.frameResizeMessage=qI:this.layoutMode===Di.CONTAINED?this.frameResizeMessage=oz:console.error("UneeQ: Unexpected layout mode."),s&&this.processFrameSize(!0)}processFrameSize(n=!1){clearTimeout(this.pauseResizeTimeout),this.displayCallToAction||this.state!==lr.Paused&&this.state!==lr.Initial&&this.state!==lr.MajorError&&this.state!==lr.AvatarUnavailable&&this.state!==lr.Ended?this.state===lr.Live?e.sendFrameResize(this.contentOpen?this.frameResizeMessage.content:this.frameResizeMessage.live,this.layoutMode):this.state===lr.WaitingForStartRequest?e.sendFrameResize(this.frameResizeMessage.waiting_for_start_request,this.layoutMode):this.state===lr.WaitingToStart?e.sendFrameResize(this.startMethod===ev.CallToAction?this.ctaResizeMessage.waiting_to_start:this.frameResizeMessage.waiting_to_start,this.layoutMode):this.state===lr.Paused||this.state===lr.Initial||this.state===lr.MajorError||this.state===lr.AvatarUnavailable?this.pauseResizeTimeout=setTimeout(()=>{e.sendFrameResize(this.ctaOpen||this.errorOpen?this.ctaResizeMessage.initial:this.ctaResizeMessage.initial_small,this.layoutMode)},n?200:0):this.state===lr.Ended&&e.sendFrameResize(this.ctaResizeMessage.initial_small,this.layoutMode):e.sendFrameResize(this.ctaResizeMessage.initial_hide_cta,this.layoutMode)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var oh=function(e){return e.PUSH_TO_TALK="PUSH_TO_TALK",e.VOICE_ACTIVITY="VOICE_ACTIVITY",e.SPEECH_RECOGNITION="SPEECH_RECOGNITION",e}(oh||{});const KI={personaShareId:"persona-share-id-not-set",displayCallToAction:!0,callToActionText:"\u{1f44b} Hey! Is there anything I can help you with?.",errorText:"\u26a0 Sorry, I am busy right now. Please try again later.",cameraPosition:Ip.CENTER,layoutMode:Di.OVERLAY,position:ih.RIGHT,customStyles:"",playWelcome:!1,enableTransparentBackground:!1,enableMicrophone:!1,mobileViewWidthBreakpoint:900,renderContent:!0,showUserInputInterface:!1,showClosedCaptions:!0,textInputPlaceholder:"Type here...",languageStrings:{},voiceInputMode:oh.PUSH_TO_TALK,autoStart:!1,nameTagImageUrl:"",backgroundImageUrl:"",resumeSession:!1,speechToTextLocales:"",ctaThumbnailUrl:"",logging:!1,speechRecognitionHintPhrases:"",speechRecognitionHintPhrasesBoost:0,enableInterruptBySpeech:!1};class Br{static validate(r){const n=(o,s)=>Object.values(s).includes(o);console.log("UneeQ: validating options: ",r),Br.validateBoolean("displayCallToAction",r.displayCallToAction),Br.validateBoolean("playWelcome",r.playWelcome),Br.validateBoolean("enableTransparentBackground",r.enableTransparentBackground),Br.validateBoolean("enableMicrophone",r.enableMicrophone),Br.validateBoolean("renderContent",r.renderContent),Br.validateBoolean("showUserInputInterface",r.showUserInputInterface),Br.validateBoolean("showClosedCaptions",r.showClosedCaptions),Br.validateBoolean("autoStart",r.autoStart),Br.validateBoolean("resumeSession",r.resumeSession),Br.validateBoolean("logging",r.logging),Br.validateString("personaShareId",r.personaShareId),Br.validateString("callToActionText",r.callToActionText),Br.validateString("errorText",r.errorText),Br.validateString("customStyles",r.customStyles),Br.validateString("textInputPlaceholder",r.textInputPlaceholder),Br.validateString("backgroundImageUrl",r.backgroundImageUrl),Br.validateString("nameTagImageUrl",r.nameTagImageUrl),Br.validateString("speechToTextLocales",r.speechToTextLocales),Br.validateString("speechRecognitionHintPhrases",r.speechRecognitionHintPhrases),Br.validateJSONIsNotString("customData",r.customData),Br.validateJSONIsNotString("languageStrings",r.languageStrings),Br.validateNumber("mobileViewWidthBreakpoint",r.mobileViewWidthBreakpoint),Br.validateNumber("speechRecognitionHintPhrasesBoost",r.speechRecognitionHintPhrasesBoost),n(r.cameraPosition,Ip)||Br.isValidCameraPosition(r.cameraPosition)||console.error(`UneeQ: An invalid UneeqInteractionsOption was provided, you may experience issues. 'cameraPosition' value provided: ${JSON.stringify(r.cameraPosition)}.`),n(r.layoutMode,Di)||Br.processInvalidEnum("layoutMode",r.layoutMode),n(r.voiceInputMode,oh)||Br.processInvalidEnum("voiceInputMode",r.voiceInputMode),n(r.position,ih)||Br.processInvalidEnum("position",r.position)}static processInvalidEnum(r,n){console.error(`UneeQ: An invalid UneeqInteractionsOption was provided, you may experience issues. '${r}' value provided: ${JSON.stringify(n)}.`)}static validateBoolean(r,n){"boolean"!=typeof n&&console.error(`UneeQ: An invalid UneeqInteractionsOption was provided, you may experience issues. '${r}' value provided: ${JSON.stringify(n)} (expected boolean).`)}static validateString(r,n){"string"!=typeof n&&console.error(`UneeQ: An invalid UneeqInteractionsOption was provided, you may experience issues. '${r}' value provided: ${JSON.stringify(n)} (expected string).`)}static validateNumber(r,n){"number"!=typeof n&&console.error(`UneeQ: An invalid UneeqInteractionsOption was provided, you may experience issues. '${r}' value provided: ${JSON.stringify(n)} (expected number).`)}static validateJSONIsNotString(r,n){"string"==typeof n&&console.error(`UneeQ: An invalid UneeqInteractionsOption was provided, you may experience issues. '${r}' value provided: ${JSON.stringify(n)} (expected JSON).`)}static isValidCameraPosition(r){return r&&"number"==typeof r.camera_position_vertical&&"number"==typeof r.camera_position_horizontal&&"number"==typeof r.camera_position_distance}}const wc={callToActionText:"\u{1f44b} Hey! It is so good to meet you.",errorText:"An error occurred.",textInputPlaceholder:"Type here...",showContentToolTip:"Show Content",sendQuestionButtonToolTip:"Send Message",startRecordingButtonToolTip:"Start Recording",unmuteMicrophoneToolTip:"Unmute",muteMicrophoneToolTip:"Mute",microphonePermissionNotAllowedButtonToolTip:"Microphone permission not allowed",microphoneEnabledHintTitle:"Microphone Enabled",microphoneEnabledHintText:"You can speak to me, I'm listening.",microphoneEnabledHintTitleOverlay:"Mic Enabled",microphoneNotAllowedMessage:"Microphone permission was not allowed. Please allow access to your microphone via your browser settings, and try again.",recordingTapToStart:"Tap to record, tap again to send",recordingSpeakNowPrompt:"Speak now",recordingTapStopWhenDone:"Tap stop when done",recordingStopButtonToolTip:"Stop Recording",recordingRequestingMicrophonePrompt:"Requesting Microphone",settingsExitButton:"Exit",confirmExitDescription:"Are you sure you want to exit?",confirmExitStayButton:"STAY",confirmExitEndButton:"EXIT",hideContentButton:"Hide Content",hideDigitalHumanButton:"Hide Digital Human",errorDigitalHumanResponse:"Sorry, something has gone wrong. Please try again soon. (16001)"};var zo=function(e){return e[e.INITIAL=0]="INITIAL",e[e.REQUESTING=1]="REQUESTING",e[e.BLOCKED=2]="BLOCKED",e[e.ALLOWED=3]="ALLOWED",e}(zo||{});class sz{static transform(r=""){const n=/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/g,o=/\b(?:https?:\/\/|www\.)[^\s<>()]+/g,s=[];let l=0,y=r.replace(n,E=>(s.push(E),`__EMAIL_URL_PLACEHOLDER_${l++}__`)).replace(o,E=>(s.push(E),`__EMAIL_URL_PLACEHOLDER_${l++}__`));return y=y.replace(/<\/?[^>]+(>|$)/g,""),y=y.replace(/([.!?])(?=[^\s.!?])/g,"$1 "),y=y.replace(/\s+/g," ").trim(),y=y.replace(/__EMAIL_URL_PLACEHOLDER_(\d+)__/g,(E,O)=>{const N=s[parseInt(O)];return N.match(n)?`<a href="mailto:${N}">${N}</a>`:N.match(o)?`<a href="${N}" target="_blank">${N}</a>`:N}),y}}let br=(()=>{class e{constructor(n){this.frameManagerService=n,this.isMobileLayout=!1,this.isAudioRecording=!1,this.isUserSpeaking=!1,this.interruptionBlocked=!1,this.showContent=!1,this.settingsOpen=!1,this.contentExpanded=!1,this.i18nRefresh=Date.now(),this.digitalHumanMuted=!1,this.sessionResumed=!1,this.showMicEnabledHint=new hn(!1),this.closedCaptions=new hn([]),this.micPermissionState=new hn(zo.INITIAL),this._activeContent=null,this._state=lr.Initial,this._showErrorText=!1,this._uneeqInteractionsOptions={},this.localStorageAvailable=e.checkLocalStorageAvailability()}static postToParentFrame(n){n.timestamp=(new Date).getTime(),window.parent.postMessage({msg:n},"*")}static notifyParentFrame(n){e.postToParentFrame({uneeqMessageType:"Notification",msg:n})}static checkLocalStorageAvailability(){const n="UneeqLocalStoreCheck";try{return localStorage.setItem(n,n),localStorage.removeItem(n),!0}catch(o){return console.warn("UneeQ: Local storage availability check failed. Reason: ",o),!1}}get state(){return this._state}set state(n){e.postToParentFrame({uneeqMessageType:"SessionStateUpdate",live:n===lr.Live,state:n,sessionResumed:this.sessionResumed}),n===lr.Paused&&this.hideContent(),this._state=n,this.frameManagerService.stateChangeHandler(n)}get showErrorText(){return this._showErrorText}set showErrorText(n){this._showErrorText=n,this.frameManagerService.errorOpenChangeHandler(n)}set uneeqInteractionsOptions(n){this.setDeprecatedDefaultLanguageStrings(n);const o=this._uneeqInteractionsOptions;this._uneeqInteractionsOptions=Object.assign(KI,n),this.i18nRefresh=Date.now(),Br.validate(this._uneeqInteractionsOptions),this.layoutMode=this._uneeqInteractionsOptions.layoutMode,void 0===n.displayCallToAction&&(this._uneeqInteractionsOptions.displayCallToAction=this._uneeqInteractionsOptions.layoutMode===Di.OVERLAY),this.frameManagerService.setDisplayCallToAction(this._uneeqInteractionsOptions.displayCallToAction),o.displayCallToAction!==this._uneeqInteractionsOptions.displayCallToAction&&this.frameManagerService.ctaOpenChangeHandler(this._uneeqInteractionsOptions.displayCallToAction),this._uneeqInteractionsOptions.voiceInputMode===oh.SPEECH_RECOGNITION&&(this.isAudioRecording=!0)}get uneeqInteractionsOptions(){return this._uneeqInteractionsOptions}set layoutMode(n){Object.values(Di).includes(n)?(this._uneeqInteractionsOptions.layoutMode=n,this.frameManagerService.contentOpenChangeHandler(this.showContent,!1),this.frameManagerService.processMobileLayout(this.displayAsMobile(),this.layoutMode),this.frameManagerService.setFrameMessages(n,this.uneeqInteractionsOptions.position,!0)):console.error("UneeQ: Invalid layout mode set. Layout mode not updated.")}get layoutMode(){return this._uneeqInteractionsOptions.layoutMode}get activeContent(){return this._activeContent}set activeContent(n){this._uneeqInteractionsOptions.renderContent&&(this.layoutMode===Di.OVERLAY&&this.showContent?(this.showContent=!1,setTimeout(()=>{this._activeContent=n,this.showContent=!0},500)):(this._activeContent=n,this.showContent=!0),this.frameManagerService.contentOpenChangeHandler(!0))}hideContent(){this.showContent=!1,setTimeout(()=>{this.frameManagerService.contentOpenChangeHandler(!1)},500)}hideCallToAction(){this.uneeqInteractionsOptions.displayCallToAction=!1,this.frameManagerService.ctaOpenChangeHandler(!1),e.postToParentFrame({uneeqMessageType:"CallToActionDismissed"})}hideError(){this.showErrorText=!1}resizeFrameToInitial(){this.frameManagerService.stateChangeHandler(this.state)}displayAsFullScreen(){return this.layoutMode===Di.FULL_SCREEN||this.layoutMode===Di.CONTAINED}displayAsFullScreenMobile(){return this.isMobileLayout&&this.displayAsFullScreen()}displayAsSplitScreen(){return this.layoutMode===Di.SPLIT_SCREEN&&!this.isMobileLayout}displayAsOverlay(){return this.layoutMode===Di.OVERLAY||this.isMobileLayout&&!this.displayAsFullScreen()}displayAsMobile(){return this.isMobileLayout&&!this.displayAsFullScreen()}setDeprecatedDefaultLanguageStrings(n){(void 0!==n.callToActionText||void 0!==n.errorText||void 0!==n.textInputPlaceholder)&&console.warn("UneeQ: Deprecated - callToActionText, errorText and textInputPlaceholder have been deprecated, use languageStrings instead. See https://docs.uneeq.io/customizing-your-experience"),wc.callToActionText=n.callToActionText||wc.callToActionText,wc.errorText=n.errorText||wc.errorText,wc.textInputPlaceholder=n.textInputPlaceholder||wc.textInputPlaceholder}addClosedCaption(n){if(n.isFinal){n.transcript=sz.transform(n.transcript);const o=this.closedCaptions.value;""!==n.transcript&&(o.push(n),this.closedCaptions.next(o.slice(-2)))}}static#e=this.\u0275fac=function(o){return new(o||e)(We(YI))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ap(e){return null!=e&&"false"!=`${e}`}function XI(e,r=0){return function az(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):r}function tv(e){return Array.isArray(e)?e:[e]}function Li(e){return null==e?"":"string"==typeof e?e:`${e}px`}function sh(e){return e instanceof nr?e.nativeElement:e}function nv(e,r,n,o){return vn(n)&&(o=n,n=void 0),o?nv(e,r,n).pipe(Yt(s=>G(s)?o(...s):o(s))):new ye(s=>{ZI(e,r,function l(y){s.next(arguments.length>1?Array.prototype.slice.call(arguments):y)},s,n)})}function ZI(e,r,n,o,s){let l;if(function lz(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const y=e;e.addEventListener(r,n,s),l=()=>y.removeEventListener(r,n,s)}else if(function uz(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const y=e;e.on(r,n),l=()=>y.off(r,n)}else if(function cz(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const y=e;e.addListener(r,n),l=()=>y.removeListener(r,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let y=0,E=e.length;y<E;y++)ZI(e[y],r,n,o,s)}o.add(l)}class dz extends Ee{constructor(r,n){super()}schedule(r,n=0){return this}}class iS extends dz{constructor(r,n){super(r,n),this.scheduler=r,this.work=n,this.pending=!1}schedule(r,n=0){if(this.closed)return this;this.state=r;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this}requestAsyncId(r,n,o=0){return setInterval(r.flush.bind(r,this),o)}recycleAsyncId(r,n,o=0){if(null!==o&&this.delay===o&&!1===this.pending)return n;clearInterval(n)}execute(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(r,n);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,n){let s,o=!1;try{this.work(r)}catch(l){o=!0,s=!!l&&l||new Error(l)}if(o)return this.unsubscribe(),s}_unsubscribe(){const r=this.id,n=this.scheduler,o=n.actions,s=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&o.splice(s,1),null!=r&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null}}let QI=(()=>{class e{constructor(n,o=e.now){this.SchedulerAction=n,this.now=o}schedule(n,o=0,s){return new this.SchedulerAction(this,n).schedule(s,o)}}return e.now=()=>Date.now(),e})();class La extends QI{constructor(r,n=QI.now){super(r,()=>La.delegate&&La.delegate!==this?La.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(r,n=0,o){return La.delegate&&La.delegate!==this?La.delegate.schedule(r,n,o):super.schedule(r,n,o)}flush(r){const{actions:n}=this;if(this.active)return void n.push(r);let o;this.active=!0;do{if(o=r.execute(r.state,r.delay))break}while(r=n.shift());if(this.active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}}}new class fz extends La{flush(r){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let o,s=-1,l=n.length;r=r||n.shift();do{if(o=r.execute(r.state,r.delay))break}while(++s<l&&(r=n.shift()));if(this.active=!1,o){for(;++s<l&&(r=n.shift());)r.unsubscribe();throw o}}}(class hz extends iS{constructor(r,n){super(r,n),this.scheduler=r,this.work=n}requestAsyncId(r,n,o=0){return null!==o&&o>0?super.requestAsyncId(r,n,o):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(()=>r.flush(null))))}recycleAsyncId(r,n,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(r,n,o);0===r.actions.length&&(cancelAnimationFrame(n),r.scheduled=void 0)}});let mz=1;const gz=Promise.resolve(),rv={};function JI(e){return e in rv&&(delete rv[e],!0)}const eA={setImmediate(e){const r=mz++;return rv[r]=!0,gz.then(()=>JI(r)&&e()),r},clearImmediate(e){JI(e)}},iv=(new class vz extends La{flush(r){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let o,s=-1,l=n.length;r=r||n.shift();do{if(o=r.execute(r.state,r.delay))break}while(++s<l&&(r=n.shift()));if(this.active=!1,o){for(;++s<l&&(r=n.shift());)r.unsubscribe();throw o}}}(class bz extends iS{constructor(r,n){super(r,n),this.scheduler=r,this.work=n}requestAsyncId(r,n,o=0){return null!==o&&o>0?super.requestAsyncId(r,n,o):(r.actions.push(this),r.scheduled||(r.scheduled=eA.setImmediate(r.flush.bind(r,null))))}recycleAsyncId(r,n,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(r,n,o);0===r.actions.length&&(eA.clearImmediate(n),r.scheduled=void 0)}}),new La(iS));class wz{constructor(r){this.durationSelector=r}call(r,n){return n.subscribe(new Sz(r,this.durationSelector))}}class Sz extends Kd{constructor(r,n){super(r),this.durationSelector=n,this.hasValue=!1}_next(r){if(this.value=r,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:s}=this;n=s(r)}catch(s){return this.destination.error(s)}const o=Xd(n,new Yd(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:r,hasValue:n,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function tA(e){return!G(e)&&e-parseFloat(e)+1>=0}function Cz(e){const{index:r,period:n,subscriber:o}=e;if(o.next(r),!o.closed){if(-1===n)return o.complete();e.index=r+1,this.schedule(e,n)}}function nA(e,r=iv){return function _z(e){return function(n){return n.lift(new wz(e))}}(()=>function xz(e=0,r,n){let o=-1;return tA(r)?o=Number(r)<1?1:Number(r):qd(r)&&(n=r),qd(n)||(n=iv),new ye(s=>{const l=tA(e)?e:+e-n.now();return n.schedule(Cz,l,{index:0,period:o,subscriber:s})})}(e,r))}function Ho(e){return r=>r.lift(new Tz(e))}class Tz{constructor(r){this.notifier=r}call(r,n){const o=new Ez(r),s=Xd(this.notifier,new Yd(o));return s&&!o.seenValue?(o.add(s),n.subscribe(o)):o}}class Ez extends Kd{constructor(r){super(r),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let oS;try{oS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{oS=!1}let Pp,Xi=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?cM(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(o){return new(o||e)(We(Ko))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ov(e){return function Dz(){if(null==Pp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pp=!0}))}finally{Pp=Pp||!1}return Pp}()?e:!!e.capture}var ja=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(ja||{});let sv,bl,sS;function iA(){if(null==bl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bl=!1,bl;if("scrollBehavior"in document.documentElement.style)bl=!0;else{const e=Element.prototype.scrollTo;bl=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return bl}function Rp(){if("object"!=typeof document||!document)return ja.NORMAL;if(null==sv){const e=document.createElement("div"),r=e.style;e.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";const n=document.createElement("div"),o=n.style;o.width="2px",o.height="1px",e.appendChild(n),document.body.appendChild(e),sv=ja.NORMAL,0===e.scrollLeft&&(e.scrollLeft=1,sv=0===e.scrollLeft?ja.NEGATED:ja.INVERTED),e.remove()}return sv}function aS(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}function uu(e){return e.composedPath?e.composedPath()[0]:e.target}function cS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Iz=new Dt("cdk-dir-doc",{providedIn:"root",factory:function Az(){return yt(er)}}),Pz=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let kp=(()=>{class e{constructor(n){this.value="ltr",this.change=new ee,n&&(this.value=function Rz(e){const r=e?.toLowerCase()||"";return"auto"===r&&typeof navigator<"u"&&navigator?.language?Pz.test(navigator.language)?"rtl":"ltr":"rtl"===r?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(o){return new(o||e)(We(Iz,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Np=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({})}return e})(),uS=(()=>{class e{constructor(n,o,s){this._ngZone=n,this._platform=o,this._scrolled=new Lt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const o=this.scrollContainers.get(n);o&&(o.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new ye(o=>{this._globalSubscription||this._addGlobalListener();const s=n>0?this._scrolled.pipe(nA(n)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):bn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(n,o){const s=this.getAncestorScrollContainers(n);return this.scrolled(o).pipe(wi(l=>!l||s.indexOf(l)>-1))}getAncestorScrollContainers(n){const o=[];return this.scrollContainers.forEach((s,l)=>{this._scrollableContainsElement(l,n)&&o.push(l)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,o){let s=sh(o),l=n.getElementRef().nativeElement;do{if(s==l)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>nv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(o){return new(o||e)(We(_n),We(Xi),We(er,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lS=(()=>{class e{constructor(n,o,s,l){this.elementRef=n,this.scrollDispatcher=o,this.ngZone=s,this.dir=l,this._destroyed=new Lt,this._elementScrolled=new ye(y=>this.ngZone.runOutsideAngular(()=>nv(this.elementRef.nativeElement,"scroll").pipe(Ho(this._destroyed)).subscribe(y)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const o=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=s?n.end:n.start),null==n.right&&(n.right=s?n.start:n.end),null!=n.bottom&&(n.top=o.scrollHeight-o.clientHeight-n.bottom),s&&Rp()!=ja.NORMAL?(null!=n.left&&(n.right=o.scrollWidth-o.clientWidth-n.left),Rp()==ja.INVERTED?n.left=n.right:Rp()==ja.NEGATED&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=o.scrollWidth-o.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const o=this.elementRef.nativeElement;iA()?o.scrollTo(n):(null!=n.top&&(o.scrollTop=n.top),null!=n.left&&(o.scrollLeft=n.left))}measureScrollOffset(n){const o="left",s="right",l=this.elementRef.nativeElement;if("top"==n)return l.scrollTop;if("bottom"==n)return l.scrollHeight-l.clientHeight-l.scrollTop;const y=this.dir&&"rtl"==this.dir.value;return"start"==n?n=y?s:o:"end"==n&&(n=y?o:s),y&&Rp()==ja.INVERTED?n==o?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:y&&Rp()==ja.NEGATED?n==o?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:n==o?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}static#e=this.\u0275fac=function(o){return new(o||e)(je(nr),je(uS),je(_n),je(kp,8))};static#t=this.\u0275dir=Jt({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return e})(),dS=(()=>{class e{constructor(n,o,s){this._platform=n,this._change=new Lt,this._changeListener=l=>{this._change.next(l)},this._document=s,o.runOutsideAngular(()=>{if(n.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:o,height:s}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+s,right:n.left+o,height:s,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,o=this._getWindow(),s=n.documentElement,l=s.getBoundingClientRect();return{top:-l.top||n.body.scrollTop||o.scrollY||s.scrollTop||0,left:-l.left||n.body.scrollLeft||o.scrollX||s.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(nA(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(o){return new(o||e)(We(Xi),We(_n),We(er,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),av=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({})}return e})(),oA=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({imports:[Np,av,Np,av]})}return e})();const sA=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),vl=new ye(e=>e.complete());function hS(e){return e?function Fz(e){return new ye(r=>e.schedule(()=>r.complete()))}(e):vl}function Go(e){return r=>0===e?hS():r.lift(new Lz(e))}class Lz{constructor(r){if(this.total=r,this.total<0)throw new sA}call(r,n){return n.subscribe(new jz(r,this.total))}}class jz extends q{constructor(r,n){super(r),this.total=n,this.count=0}_next(r){const n=this.total,o=++this.count;o<=n&&(this.destination.next(r),o===n&&(this.destination.complete(),this.unsubscribe()))}}class fS{attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;null!=r&&(this._attachedHost=null,r.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(r){this._attachedHost=r}}class Fp extends fS{constructor(r,n,o,s,l){super(),this.component=r,this.viewContainerRef=n,this.injector=o,this.componentFactoryResolver=s,this.projectableNodes=l}}class pS extends fS{constructor(r,n,o,s){super(),this.templateRef=r,this.viewContainerRef=n,this.context=o,this.injector=s}get origin(){return this.templateRef.elementRef}attach(r,n=this.context){return this.context=n,super.attach(r)}detach(){return this.context=void 0,super.detach()}}class Bz extends fS{constructor(r){super(),this.element=r instanceof nr?r.nativeElement:r}}class cv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(r){return r instanceof Fp?(this._attachedPortal=r,this.attachComponentPortal(r)):r instanceof pS?(this._attachedPortal=r,this.attachTemplatePortal(r)):this.attachDomPortal&&r instanceof Bz?(this._attachedPortal=r,this.attachDomPortal(r)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Vz extends cv{constructor(r,n,o,s,l){super(),this.outletElement=r,this._componentFactoryResolver=n,this._appRef=o,this._defaultInjector=s,this.attachDomPortal=y=>{const E=y.element,O=this._document.createComment("dom-portal");E.parentNode.insertBefore(O,E),this.outletElement.appendChild(E),this._attachedPortal=y,super.setDisposeFn(()=>{O.parentNode&&O.parentNode.replaceChild(E,O)})},this._document=l}attachComponentPortal(r){const o=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component);let s;return r.viewContainerRef?(s=r.viewContainerRef.createComponent(o,r.viewContainerRef.length,r.injector||r.viewContainerRef.injector,r.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=o.create(r.injector||this._defaultInjector||vi.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=r,s}attachTemplatePortal(r){let n=r.viewContainerRef,o=n.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return o.rootNodes.forEach(s=>this.outletElement.appendChild(s)),o.detectChanges(),this.setDisposeFn(()=>{let s=n.indexOf(o);-1!==s&&n.remove(s)}),this._attachedPortal=r,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(r){return r.hostView.rootNodes[0]}}let Lp=(()=>{class e extends cv{constructor(n,o,s){super(),this._componentFactoryResolver=n,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new ee,this.attachDomPortal=l=>{const y=l.element,E=this._document.createComment("dom-portal");l.setAttachedHost(this),y.parentNode.insertBefore(E,y),this._getRootNode().appendChild(y),this._attachedPortal=l,super.setDisposeFn(()=>{E.parentNode&&E.parentNode.replaceChild(y,E)})},this._document=s}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);const o=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,l=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),y=o.createComponent(l,o.length,n.injector||o.injector,n.projectableNodes||void 0);return o!==this._viewContainerRef&&this._getRootNode().appendChild(y.hostView.rootNodes[0]),super.setDisposeFn(()=>y.destroy()),this._attachedPortal=n,this._attachedRef=y,this.attached.emit(y),y}attachTemplatePortal(n){n.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static#e=this.\u0275fac=function(o){return new(o||e)(je(Sd),je(Os),je(er))};static#t=this.\u0275dir=Jt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ct.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[or]})}return e})(),jp=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({})}return e})();function ch(e=Number.POSITIVE_INFINITY){return Uo(Me,e)}function mS(...e){let r=Number.POSITIVE_INFINITY,n=null,o=e[e.length-1];return qd(o)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===n&&1===e.length&&e[0]instanceof ye?e[0]:ch(r)(xw(e,n))}const aA=iA();class $z{constructor(r,n){this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=Li(-this._previousScrollPosition.left),r.style.top=Li(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const r=this._document.documentElement,o=r.style,s=this._document.body.style,l=o.scrollBehavior||"",y=s.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),aA&&(o.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),aA&&(o.scrollBehavior=l,s.scrollBehavior=y)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,o=this._viewportRuler.getViewportSize();return n.scrollHeight>o.height||n.scrollWidth>o.width}}class Uz{constructor(r,n,o,s){this._scrollDispatcher=r,this._ngZone=n,this._viewportRuler=o,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(r){this._overlayRef=r}enable(){if(this._scrollSubscription)return;const r=this._scrollDispatcher.scrolled(0).pipe(wi(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class cA{enable(){}disable(){}attach(){}}function gS(e,r){return r.some(n=>e.bottom<n.top||e.top>n.bottom||e.right<n.left||e.left>n.right)}function uA(e,r){return r.some(n=>e.top<n.top||e.bottom>n.bottom||e.left<n.left||e.right>n.right)}class zz{constructor(r,n,o,s){this._scrollDispatcher=r,this._viewportRuler=n,this._ngZone=o,this._config=s,this._scrollSubscription=null}attach(r){this._overlayRef=r}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:s}=this._viewportRuler.getViewportSize();gS(n,[{width:o,height:s,bottom:s,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Hz=(()=>{class e{constructor(n,o,s,l){this._scrollDispatcher=n,this._viewportRuler=o,this._ngZone=s,this.noop=()=>new cA,this.close=y=>new Uz(this._scrollDispatcher,this._ngZone,this._viewportRuler,y),this.block=()=>new $z(this._viewportRuler,this._document),this.reposition=y=>new zz(this._scrollDispatcher,this._viewportRuler,this._ngZone,y),this._document=l}static#e=this.\u0275fac=function(o){return new(o||e)(We(uS),We(dS),We(_n),We(er))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class bS{constructor(r){if(this.scrollStrategy=new cA,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r){const n=Object.keys(r);for(const o of n)void 0!==r[o]&&(this[o]=r[o])}}}class Gz{constructor(r,n){this.connectionPair=r,this.scrollableViewProperties=n}}let lA=(()=>{class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const o=this._attachedOverlays.indexOf(n);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(o){return new(o||e)(We(er))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wz=(()=>{class e extends lA{constructor(n,o){super(n),this._ngZone=o,this._keydownListener=s=>{const l=this._attachedOverlays;for(let y=l.length-1;y>-1;y--)if(l[y]._keydownEvents.observers.length>0){const E=l[y]._keydownEvents;this._ngZone?this._ngZone.run(()=>E.next(s)):E.next(s);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(o){return new(o||e)(We(er),We(_n,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qz=(()=>{class e extends lA{constructor(n,o,s){super(n),this._platform=o,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=uu(l)},this._clickListener=l=>{const y=uu(l),E="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:y;this._pointerDownEventTarget=null;const O=this._attachedOverlays.slice();for(let N=O.length-1;N>-1;N--){const $=O[N];if($._outsidePointerEvents.observers.length<1||!$.hasAttached())continue;if($.overlayElement.contains(y)||$.overlayElement.contains(E))break;const H=$._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>H.next(l)):H.next(l)}}}add(n){if(super.add(n),!this._isAttached){const o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(o){return new(o||e)(We(er),We(Xi),We(_n,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uv=(()=>{class e{constructor(n,o){this._platform=o,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||cS()){const s=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let l=0;l<s.length;l++)s[l].remove()}const o=this._document.createElement("div");o.classList.add(n),cS()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}static#e=this.\u0275fac=function(o){return new(o||e)(We(er),We(Xi))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class lv{constructor(r,n,o,s,l,y,E,O,N,$=!1){this._portalOutlet=r,this._host=n,this._pane=o,this._config=s,this._ngZone=l,this._keyboardDispatcher=y,this._document=E,this._location=O,this._outsideClickDispatcher=N,this._animationsDisabled=$,this._backdropElement=null,this._backdropClick=new Lt,this._attachments=new Lt,this._detachments=new Lt,this._locationChanges=Ee.EMPTY,this._backdropClickHandler=H=>this._backdropClick.next(H),this._backdropTransitionendHandler=H=>{this._disposeBackdrop(H.target)},this._keydownEvents=new Lt,this._outsidePointerEvents=new Lt,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(r){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(r);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Go(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){const r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,r&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config={...this._config,...r},this._updateElementSize()}setDirection(r){this._config={...this._config,direction:r},this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){const r=this._config.direction;return r?"string"==typeof r?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const r=this._pane.style;r.width=Li(this._config.width),r.height=Li(this._config.height),r.minWidth=Li(this._config.minWidth),r.minHeight=Li(this._config.minHeight),r.maxWidth=Li(this._config.maxWidth),r.maxHeight=Li(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){const r="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(r)})}):this._backdropElement.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const r=this._backdropElement;if(r){if(this._animationsDisabled)return void this._disposeBackdrop(r);r.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{r.addEventListener("transitionend",this._backdropTransitionendHandler)}),r.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(r)},500))}}_toggleClasses(r,n,o){const s=tv(n||[]).filter(l=>!!l);s.length&&(o?r.classList.add(...s):r.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const r=this._ngZone.onStable.pipe(Ho(mS(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),r.unsubscribe())})})}_disposeScrollStrategy(){const r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}_disposeBackdrop(r){r&&(r.removeEventListener("click",this._backdropClickHandler),r.removeEventListener("transitionend",this._backdropTransitionendHandler),r.remove(),this._backdropElement===r&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const dA="cdk-overlay-connected-position-bounding-box",Yz=/([A-Za-z%]+)$/;class Kz{get positions(){return this._preferredPositions}constructor(r,n,o,s,l){this._viewportRuler=n,this._document=o,this._platform=s,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Lt,this._resizeSubscription=Ee.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}attach(r){this._validatePositions(),r.hostElement.classList.add(dA),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const r=this._originRect,n=this._overlayRect,o=this._viewportRect,s=this._containerRect,l=[];let y;for(let E of this._preferredPositions){let O=this._getOriginPoint(r,s,E),N=this._getOverlayPoint(O,n,E),$=this._getOverlayFit(N,n,o,E);if($.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(E,O);this._canFitWithFlexibleDimensions($,N,o)?l.push({position:E,origin:O,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(O,E)}):(!y||y.overlayFit.visibleArea<$.visibleArea)&&(y={overlayFit:$,overlayPoint:N,originPoint:O,position:E,overlayRect:n})}if(l.length){let E=null,O=-1;for(const N of l){const $=N.boundingBoxRect.width*N.boundingBoxRect.height*(N.position.weight||1);$>O&&(O=$,E=N)}return this._isPushed=!1,void this._applyPosition(E.position,E.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(y.position,y.originPoint);this._applyPosition(y.position,y.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(dA),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,n)}else this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,-1===r.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,n,o){let s,l;if("center"==o.originX)s=r.left+r.width/2;else{const y=this._isRtl()?r.right:r.left,E=this._isRtl()?r.left:r.right;s="start"==o.originX?y:E}return n.left<0&&(s-=n.left),l="center"==o.originY?r.top+r.height/2:"top"==o.originY?r.top:r.bottom,n.top<0&&(l-=n.top),{x:s,y:l}}_getOverlayPoint(r,n,o){let s,l;return s="center"==o.overlayX?-n.width/2:"start"===o.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,l="center"==o.overlayY?-n.height/2:"top"==o.overlayY?0:-n.height,{x:r.x+s,y:r.y+l}}_getOverlayFit(r,n,o,s){const l=fA(n);let{x:y,y:E}=r,O=this._getOffset(s,"x"),N=this._getOffset(s,"y");O&&(y+=O),N&&(E+=N);let ae=0-E,me=E+l.height-o.height,Ce=this._subtractOverflows(l.width,0-y,y+l.width-o.width),Ne=this._subtractOverflows(l.height,ae,me),Ge=Ce*Ne;return{visibleArea:Ge,isCompletelyWithinViewport:l.width*l.height===Ge,fitsInViewportVertically:Ne===l.height,fitsInViewportHorizontally:Ce==l.width}}_canFitWithFlexibleDimensions(r,n,o){if(this._hasFlexibleDimensions){const s=o.bottom-n.y,l=o.right-n.x,y=hA(this._overlayRef.getConfig().minHeight),E=hA(this._overlayRef.getConfig().minWidth);return(r.fitsInViewportVertically||null!=y&&y<=s)&&(r.fitsInViewportHorizontally||null!=E&&E<=l)}return!1}_pushOverlayOnScreen(r,n,o){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};const s=fA(n),l=this._viewportRect,y=Math.max(r.x+s.width-l.width,0),E=Math.max(r.y+s.height-l.height,0),O=Math.max(l.top-o.top-r.y,0),N=Math.max(l.left-o.left-r.x,0);let $=0,H=0;return $=s.width<=l.width?N||-y:r.x<this._viewportMargin?l.left-o.left-r.x:0,H=s.height<=l.height?O||-E:r.y<this._viewportMargin?l.top-o.top-r.y:0,this._previousPushAmount={x:$,y:H},{x:r.x+$,y:r.y+H}}_applyPosition(r,n){if(this._setTransformOrigin(r),this._setOverlayElementStyles(n,r),this._setBoundingBoxStyles(n,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._lastPosition=r,this._positionChanges.observers.length){const o=this._getScrollVisibility(),s=new Gz(r,o);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,s=r.overlayY;o="center"===r.overlayX?"center":this._isRtl()?"start"===r.overlayX?"right":"left":"start"===r.overlayX?"left":"right";for(let l=0;l<n.length;l++)n[l].style.transformOrigin=`${o} ${s}`}_calculateBoundingBoxRect(r,n){const o=this._viewportRect,s=this._isRtl();let l,y,E,$,H,ae;if("top"===n.overlayY)y=r.y,l=o.height-y+this._viewportMargin;else if("bottom"===n.overlayY)E=o.height-r.y+2*this._viewportMargin,l=o.height-E+this._viewportMargin;else{const me=Math.min(o.bottom-r.y+o.top,r.y),Ce=this._lastBoundingBoxSize.height;l=2*me,y=r.y-me,l>Ce&&!this._isInitialRender&&!this._growAfterOpen&&(y=r.y-Ce/2)}if("end"===n.overlayX&&!s||"start"===n.overlayX&&s)ae=o.width-r.x+this._viewportMargin,$=r.x-this._viewportMargin;else if("start"===n.overlayX&&!s||"end"===n.overlayX&&s)H=r.x,$=o.right-r.x;else{const me=Math.min(o.right-r.x+o.left,r.x),Ce=this._lastBoundingBoxSize.width;$=2*me,H=r.x-me,$>Ce&&!this._isInitialRender&&!this._growAfterOpen&&(H=r.x-Ce/2)}return{top:y,left:H,bottom:E,right:ae,width:$,height:l}}_setBoundingBoxStyles(r,n){const o=this._calculateBoundingBoxRect(r,n);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,y=this._overlayRef.getConfig().maxWidth;s.height=Li(o.height),s.top=Li(o.top),s.bottom=Li(o.bottom),s.width=Li(o.width),s.left=Li(o.left),s.right=Li(o.right),s.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",s.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",l&&(s.maxHeight=Li(l)),y&&(s.maxWidth=Li(y))}this._lastBoundingBoxSize=o,yl(this._boundingBox.style,s)}_resetBoundingBoxStyles(){yl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,n){const o={},s=this._hasExactPosition(),l=this._hasFlexibleDimensions,y=this._overlayRef.getConfig();if(s){const $=this._viewportRuler.getViewportScrollPosition();yl(o,this._getExactOverlayY(n,r,$)),yl(o,this._getExactOverlayX(n,r,$))}else o.position="static";let E="",O=this._getOffset(n,"x"),N=this._getOffset(n,"y");O&&(E+=`translateX(${O}px) `),N&&(E+=`translateY(${N}px)`),o.transform=E.trim(),y.maxHeight&&(s?o.maxHeight=Li(y.maxHeight):l&&(o.maxHeight="")),y.maxWidth&&(s?o.maxWidth=Li(y.maxWidth):l&&(o.maxWidth="")),yl(this._pane.style,o)}_getExactOverlayY(r,n,o){let s={top:"",bottom:""},l=this._getOverlayPoint(n,this._overlayRect,r);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,o)),"bottom"===r.overlayY?s.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":s.top=Li(l.y),s}_getExactOverlayX(r,n,o){let y,s={left:"",right:""},l=this._getOverlayPoint(n,this._overlayRect,r);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,o)),y=this._isRtl()?"end"===r.overlayX?"left":"right":"end"===r.overlayX?"right":"left","right"===y?s.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":s.left=Li(l.x),s}_getScrollVisibility(){const r=this._getOriginRect(),n=this._pane.getBoundingClientRect(),o=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:uA(r,o),isOriginOutsideView:gS(r,o),isOverlayClipped:uA(n,o),isOverlayOutsideView:gS(n,o)}}_subtractOverflows(r,...n){return n.reduce((o,s)=>o-Math.max(s,0),r)}_getNarrowedViewportRect(){const r=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+r-this._viewportMargin,bottom:o.top+n-this._viewportMargin,width:r-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,n){return"x"===n?null==r.offsetX?this._offsetX:r.offsetX:null==r.offsetY?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&tv(r).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){const r=this._origin;if(r instanceof nr)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();const n=r.width||0,o=r.height||0;return{top:r.y,bottom:r.y+o,left:r.x,right:r.x+n,height:o,width:n}}}function yl(e,r){for(let n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);return e}function hA(e){if("number"!=typeof e&&null!=e){const[r,n]=e.split(Yz);return n&&"px"!==n?null:parseFloat(r)}return e||null}function fA(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const pA="cdk-global-overlay-wrapper";class Xz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(r){const n=r.getConfig();this._overlayRef=r,this._width&&!n.width&&r.updateSize({width:this._width}),this._height&&!n.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(pA),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const r=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:s,height:l,maxWidth:y,maxHeight:E}=o,O=!("100%"!==s&&"100vw"!==s||y&&"100%"!==y&&"100vw"!==y),N=!("100%"!==l&&"100vh"!==l||E&&"100%"!==E&&"100vh"!==E),$=this._xPosition,H=this._xOffset,ae="rtl"===this._overlayRef.getConfig().direction;let me="",Ce="",Ne="";O?Ne="flex-start":"center"===$?(Ne="center",ae?Ce=H:me=H):ae?"left"===$||"end"===$?(Ne="flex-end",me=H):("right"===$||"start"===$)&&(Ne="flex-start",Ce=H):"left"===$||"start"===$?(Ne="flex-start",me=H):("right"===$||"end"===$)&&(Ne="flex-end",Ce=H),r.position=this._cssPosition,r.marginLeft=O?"0":me,r.marginTop=N?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=O?"0":Ce,n.justifyContent=Ne,n.alignItems=N?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const r=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,o=n.style;n.classList.remove(pA),o.justifyContent=o.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}}let Zz=(()=>{class e{constructor(n,o,s,l){this._viewportRuler=n,this._document=o,this._platform=s,this._overlayContainer=l}global(){return new Xz}flexibleConnectedTo(n){return new Kz(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(o){return new(o||e)(We(dS),We(er),We(Xi),We(uv))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qz=0,Ba=(()=>{class e{constructor(n,o,s,l,y,E,O,N,$,H,ae,me){this.scrollStrategies=n,this._overlayContainer=o,this._componentFactoryResolver=s,this._positionBuilder=l,this._keyboardDispatcher=y,this._injector=E,this._ngZone=O,this._document=N,this._directionality=$,this._location=H,this._outsideClickDispatcher=ae,this._animationsModuleType=me}create(n){const o=this._createHostElement(),s=this._createPaneElement(o),l=this._createPortalOutlet(s),y=new bS(n);return y.direction=y.direction||this._directionality.value,new lv(l,o,s,y,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const o=this._document.createElement("div");return o.id="cdk-overlay-"+Qz++,o.classList.add("cdk-overlay-pane"),n.appendChild(o),o}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(tu)),new Vz(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(o){return new(o||e)(We(Hz),We(uv),We(Sd),We(Zz),We(Wz),We(vi),We(_n),We(er),We(kp),We(ll),We(qz),We(Ri,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Jz=new Dt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const e=yt(Ba);return()=>e.scrollStrategies.reposition()}}),tH={provide:Jz,deps:[Ba],useFactory:function eH(e){return()=>e.scrollStrategies.reposition()}};let vS=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({providers:[Ba,tH],imports:[Np,jp,oA,oA]})}return e})();function dv(e,...r){return r.length?r.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function lu(){}function ji(e,r,n){return function(s){return s.lift(new _H(e,r,n))}}class _H{constructor(r,n,o){this.nextOrObserver=r,this.error=n,this.complete=o}call(r,n){return n.subscribe(new wH(r,this.nextOrObserver,this.error,this.complete))}}class wH extends q{constructor(r,n,o,s){super(r),this._tapNext=lu,this._tapError=lu,this._tapComplete=lu,this._tapError=o||lu,this._tapComplete=s||lu,vn(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||lu,this._tapError=n.error||lu,this._tapComplete=n.complete||lu)}_next(r){try{this._tapNext.call(this._context,r)}catch(n){return void this.destination.error(n)}this.destination.next(r)}_error(r){try{this._tapError.call(this._context,r)}catch(n){return void this.destination.error(n)}this.destination.error(r)}_complete(){try{this._tapComplete.call(this._context)}catch(r){return void this.destination.error(r)}return this.destination.complete()}}function _S(e,r=iv){return n=>n.lift(new SH(e,r))}class SH{constructor(r,n){this.dueTime=r,this.scheduler=n}call(r,n){return n.subscribe(new xH(r,this.dueTime,this.scheduler))}}class xH extends q{constructor(r,n,o){super(r),this.dueTime=n,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(CH,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:r}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}}clearDebounce(){const r=this.debouncedSubscription;null!==r&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)}}function CH(e){e.debouncedNext()}function mA(e){return r=>r.lift(new TH(e))}class TH{constructor(r){this.total=r}call(r,n){return n.subscribe(new EH(r,this.total))}}class EH extends q{constructor(r,n){super(r),this.total=n,this.count=0}_next(r){++this.count>this.total&&this.destination.next(r)}}function gA(e,r){return n=>n.lift(new DH(e,r))}class DH{constructor(r,n){this.compare=r,this.keySelector=n}call(r,n){return n.subscribe(new OH(r,this.compare,this.keySelector))}}class OH extends q{constructor(r,n,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(r,n){return r===n}_next(r){let n;try{const{keySelector:s}=this;n=s?s(r):r}catch(s){return this.destination.error(s)}let o=!1;if(this.hasKey)try{const{compare:s}=this;o=s(this.key,n)}catch(s){return this.destination.error(s)}else this.hasKey=!0;o||(this.key=n,this.destination.next(r))}}let MH=(()=>{class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IH=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({providers:[MH]})}return e})();class AH extends q{notifyNext(r,n,o,s,l){this.destination.next(n)}notifyError(r,n){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class PH extends q{constructor(r,n,o){super(),this.parent=r,this.outerValue=n,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function RH(e,r,n,o,s=new PH(e,n,o)){if(!s.closed)return r instanceof ye?r.subscribe(s):Cw(r)(s)}const bA={};function hv(...e){let r,n;return qd(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&G(e[0])&&(e=e[0]),xw(e,n).lift(new kH(r))}class kH{constructor(r){this.resultSelector=r}call(r,n){return n.subscribe(new NH(r,this.resultSelector))}}class NH extends AH{constructor(r,n){super(r),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(bA),this.observables.push(r)}_complete(){const r=this.observables,n=r.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let o=0;o<n;o++)this.add(RH(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,n,o){const s=this.values,y=this.toRespond?s[o]===bA?--this.toRespond:this.toRespond:0;s[o]=n,0===y&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(r){let n;try{n=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(n)}}function fv(...e){return function FH(){return ch(1)}()(bn(...e))}function uh(...e){const r=e[e.length-1];return qd(r)?(e.pop(),n=>fv(e,n,r)):n=>fv(e,n)}const vA=new Set;let _l,LH=(()=>{class e{constructor(n,o){this._platform=n,this._nonce=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):BH}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function jH(e,r){if(!vA.has(e))try{_l||(_l=document.createElement("style"),r&&(_l.nonce=r),_l.setAttribute("type","text/css"),document.head.appendChild(_l)),_l.sheet&&(_l.sheet.insertRule(`@media ${e} {body{ }}`,0),vA.add(e))}catch(n){console.error(n)}}(n,this._nonce),this._matchMedia(n)}static#e=this.\u0275fac=function(o){return new(o||e)(We(Xi),We(ju,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BH(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let yA=(()=>{class e{constructor(n,o){this._mediaMatcher=n,this._zone=o,this._queries=new Map,this._destroySubject=new Lt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return _A(tv(n)).some(s=>this._registerQuery(s).mql.matches)}observe(n){let l=hv(_A(tv(n)).map(y=>this._registerQuery(y).observable));return l=fv(l.pipe(Go(1)),l.pipe(mA(1),_S(0))),l.pipe(Yt(y=>{const E={matches:!1,breakpoints:{}};return y.forEach(({matches:O,query:N})=>{E.matches=E.matches||O,E.breakpoints[N]=O}),E}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const o=this._mediaMatcher.matchMedia(n),l={observable:new ye(y=>{const E=O=>this._zone.run(()=>y.next(O));return o.addListener(E),()=>{o.removeListener(E)}}).pipe(uh(o),Yt(({matches:y})=>({query:n,matches:y})),Ho(this._destroySubject)),mql:o};return this._queries.set(n,l),l}static#e=this.\u0275fac=function(o){return new(o||e)(We(LH),We(_n))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _A(e){return e.map(r=>r.split(",")).reduce((r,n)=>r.concat(n)).map(r=>r.trim())}let pv=(()=>{class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function GH(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const o=function HH(e){try{return e.frameElement}catch{return null}}(function JH(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(n));if(o&&(-1===CA(o)||!this.isVisible(o)))return!1;let s=n.nodeName.toLowerCase(),l=CA(n);return n.hasAttribute("contenteditable")?-1!==l:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function ZH(e){let r=e.nodeName.toLowerCase(),n="input"===r&&e.type;return"text"===n||"password"===n||"select"===r||"textarea"===r}(n))&&("audio"===s?!!n.hasAttribute("controls")&&-1!==l:"video"===s?-1!==l&&(null!==l||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,o){return function QH(e){return!function qH(e){return function KH(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function WH(e){let r=e.nodeName.toLowerCase();return"input"===r||"select"===r||"button"===r||"textarea"===r}(e)||function YH(e){return function XH(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||xA(e))}(n)&&!this.isDisabled(n)&&(o?.ignoreVisibility||this.isVisible(n))}static#e=this.\u0275fac=function(o){return new(o||e)(We(Xi))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xA(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let r=e.getAttribute("tabindex");return!(!r||isNaN(parseInt(r,10)))}function CA(e){if(!xA(e))return null;const r=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}class TA{get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}constructor(r,n,o,s,l=!1){this._element=r,this._checker=n,this._ngZone=o,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}destroy(){const r=this._startAnchor,n=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){const n=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return"start"==r?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){const o=this._getFirstTabbableElement(n);return o?.focus(r),!!o}return n.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){const n=this._getRegionBoundary("start");return n&&n.focus(r),!!n}focusLastTabbableElement(r){const n=this._getRegionBoundary("end");return n&&n.focus(r),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;const n=r.children;for(let o=0;o<n.length;o++){const s=n[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[o]):null;if(s)return s}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;const n=r.children;for(let o=n.length-1;o>=0;o--){const s=n[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[o]):null;if(s)return s}return null}_createAnchor(){const r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,n){r?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._ngZone.isStable?r():this._ngZone.onStable.pipe(Go(1)).subscribe(r)}}let wS=(()=>{class e{constructor(n,o,s){this._checker=n,this._ngZone=o,this._document=s}create(n,o=!1){return new TA(n,this._checker,this._ngZone,this._document,o)}static#e=this.\u0275fac=function(o){return new(o||e)(We(pv),We(_n),We(er))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function EA(e){return 0===e.buttons||0===e.detail}function DA(e){const r=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}const e9=new Dt("cdk-input-modality-detector-options"),t9={ignoreKeys:[18,17,224,91,16]},lh=ov({passive:!0,capture:!0});let n9=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(n,o,s,l){this._platform=n,this._mostRecentTarget=null,this._modality=new hn(null),this._lastTouchMs=0,this._onKeydown=y=>{this._options?.ignoreKeys?.some(E=>E===y.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=uu(y))},this._onMousedown=y=>{Date.now()-this._lastTouchMs<650||(this._modality.next(EA(y)?"keyboard":"mouse"),this._mostRecentTarget=uu(y))},this._onTouchstart=y=>{DA(y)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=uu(y))},this._options={...t9,...l},this.modalityDetected=this._modality.pipe(mA(1)),this.modalityChanged=this.modalityDetected.pipe(gA()),n.isBrowser&&o.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,lh),s.addEventListener("mousedown",this._onMousedown,lh),s.addEventListener("touchstart",this._onTouchstart,lh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,lh),document.removeEventListener("mousedown",this._onMousedown,lh),document.removeEventListener("touchstart",this._onTouchstart,lh))}static#e=this.\u0275fac=function(o){return new(o||e)(We(Xi),We(_n),We(er),We(e9,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const r9=new Dt("liveAnnouncerElement",{providedIn:"root",factory:function i9(){return null}}),o9=new Dt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let s9=0,a9=(()=>{class e{constructor(n,o,s,l){this._ngZone=o,this._defaultOptions=l,this._document=s,this._liveElement=n||this._createLiveElement()}announce(n,...o){const s=this._defaultOptions;let l,y;return 1===o.length&&"number"==typeof o[0]?y=o[0]:[l,y]=o,this.clear(),clearTimeout(this._previousTimeout),l||(l=s&&s.politeness?s.politeness:"polite"),null==y&&s&&(y=s.duration),this._liveElement.setAttribute("aria-live",l),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(E=>this._currentResolve=E)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,"number"==typeof y&&(this._previousTimeout=setTimeout(()=>this.clear(),y)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const n="cdk-live-announcer-element",o=this._document.getElementsByClassName(n),s=this._document.createElement("div");for(let l=0;l<o.length;l++)o[l].remove();return s.classList.add(n),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id="cdk-live-announcer-"+s9++,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(n){const o=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<o.length;s++){const l=o[s],y=l.getAttribute("aria-owns");y?-1===y.indexOf(n)&&l.setAttribute("aria-owns",y+" "+n):l.setAttribute("aria-owns",n)}}static#e=this.\u0275fac=function(o){return new(o||e)(We(r9,8),We(_n),We(er),We(o9,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var mv=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(mv||{});const c9=new Dt("cdk-focus-monitor-default-options"),gv=ov({passive:!0,capture:!0});let bv=(()=>{class e{constructor(n,o,s,l,y){this._ngZone=n,this._platform=o,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Lt,this._rootNodeFocusAndBlurListener=E=>{for(let N=uu(E);N;N=N.parentElement)"focus"===E.type?this._onFocus(E,N):this._onBlur(E,N)},this._document=l,this._detectionMode=y?.detectionMode||mv.IMMEDIATE}monitor(n,o=!1){const s=sh(n);if(!this._platform.isBrowser||1!==s.nodeType)return bn();const l=function Mz(e){if(function Oz(){if(null==sS){const e=typeof document<"u"?document.head:null;sS=!(!e||!e.createShadowRoot&&!e.attachShadow)}return sS}()){const r=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}(s)||this._getDocument(),y=this._elementInfo.get(s);if(y)return o&&(y.checkChildren=!0),y.subject;const E={checkChildren:o,subject:new Lt,rootNode:l};return this._elementInfo.set(s,E),this._registerGlobalListeners(E),E.subject}stopMonitoring(n){const o=sh(n),s=this._elementInfo.get(o);s&&(s.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(s))}focusVia(n,o,s){const l=sh(n);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([E,O])=>this._originChanged(E,o,O)):(this._setOrigin(o),"function"==typeof l.focus&&l.focus(s))}ngOnDestroy(){this._elementInfo.forEach((n,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===mv.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,o){n.classList.toggle("cdk-focused",!!o),n.classList.toggle("cdk-touch-focused","touch"===o),n.classList.toggle("cdk-keyboard-focused","keyboard"===o),n.classList.toggle("cdk-mouse-focused","mouse"===o),n.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(n,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&o,this._detectionMode===mv.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,o){const s=this._elementInfo.get(o),l=uu(n);!s||!s.checkChildren&&o!==l||this._originChanged(o,this._getFocusOrigin(l),s)}_onBlur(n,o){const s=this._elementInfo.get(o);!s||s.checkChildren&&n.relatedTarget instanceof Node&&o.contains(n.relatedTarget)||(this._setClasses(o),this._emitOrigin(s,null))}_emitOrigin(n,o){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(o))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const o=n.rootNode,s=this._rootNodeFocusListenerCount.get(o)||0;s||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,gv),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,gv)}),this._rootNodeFocusListenerCount.set(o,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ho(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(n){const o=n.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const s=this._rootNodeFocusListenerCount.get(o);s>1?this._rootNodeFocusListenerCount.set(o,s-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gv),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gv),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,o,s){this._setClasses(n,o),this._emitOrigin(s,o),this._lastFocusOrigin=o}_getClosestElementsInfo(n){const o=[];return this._elementInfo.forEach((s,l)=>{(l===n||s.checkChildren&&l.contains(n))&&o.push([l,s])}),o}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:o,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!o||o===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const l=n.labels;if(l)for(let y=0;y<l.length;y++)if(l[y].contains(o))return!0;return!1}static#e=this.\u0275fac=function(o){return new(o||e)(We(_n),We(Xi),We(n9),We(er,8),We(c9,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var wl=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(wl||{});const MA="cdk-high-contrast-black-on-white",IA="cdk-high-contrast-white-on-black",SS="cdk-high-contrast-active";let AA=(()=>{class e{constructor(n,o){this._platform=n,this._document=o,this._breakpointSubscription=yt(yA).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return wl.NONE;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const o=this._document.defaultView||window,s=o&&o.getComputedStyle?o.getComputedStyle(n):null,l=(s&&s.backgroundColor||"").replace(/ /g,"");switch(n.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return wl.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return wl.BLACK_ON_WHITE}return wl.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(SS,MA,IA),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();o===wl.BLACK_ON_WHITE?n.add(SS,MA):o===wl.WHITE_ON_BLACK&&n.add(SS,IA)}}static#e=this.\u0275fac=function(o){return new(o||e)(We(Xi),We(er))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),u9=(()=>{class e{constructor(n){n._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(o){return new(o||e)(We(AA))};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({imports:[IH]})}return e})();function vv(e){return new ye(r=>{let n;try{n=e()}catch(s){return void r.error(s)}return(n?Ki(n):hS()).subscribe(r)})}function l9(e,r){}class yv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let PA=(()=>{class e extends cv{constructor(n,o,s,l,y,E,O,N){super(),this._elementRef=n,this._focusTrapFactory=o,this._config=l,this._interactivityChecker=y,this._ngZone=E,this._overlayRef=O,this._focusMonitor=N,this._platform=yt(Xi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=yt(pc),this.attachDomPortal=$=>{this._portalOutlet.hasAttached();const H=this._portalOutlet.attachDomPortal($);return this._contentAttached(),H},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){const o=this._ariaLabelledByQueue.indexOf(n);o>-1&&(this._ariaLabelledByQueue.splice(o,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),o}attachTemplatePortal(n){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),o}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,o){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{n.removeEventListener("blur",s),n.removeEventListener("mousedown",s),n.removeAttribute("tabindex")};n.addEventListener("blur",s),n.addEventListener("mousedown",s)})),n.focus(o)}_focusByCssSelector(n,o){let s=this._elementRef.nativeElement.querySelector(n);s&&this._forceFocus(s,o)}_trapFocus(){const n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const n=this._config.restoreFocus;let o=null;if("string"==typeof n?o=this._document.querySelector(n):"boolean"==typeof n?o=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(o=n),this._config.restoreFocus&&o&&"function"==typeof o.focus){const s=aS(),l=this._elementRef.nativeElement;(!s||s===this._document.body||s===l||l.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,o=aS();return n===o||n.contains(o)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=aS()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(o){return new(o||e)(je(nr),je(wS),je(er,8),je(yv),je(pv),je(_n),je(lv),je(bv))};static#t=this.\u0275cmp=Or({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(o,s){if(1&o&&eu(Lp,7),2&o){let l;ra(l=ia())&&(s._portalOutlet=l.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(o,s){2&o&&Ni("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[or,ns],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(o,s){1&o&&Sr(0,l9,0,0,"ng-template",0)},dependencies:[Lp],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})();class xS{constructor(r,n){this.overlayRef=r,this.config=n,this.closed=new Lt,this.disableClose=n.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(o=>{27===o.keyCode&&!this.disableClose&&!dv(o)&&(o.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=r.detachments().subscribe(()=>{!1!==n.closeOnOverlayDetachments&&this.close()})}close(r,n){if(this.containerInstance){const o=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),o.next(r),o.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",n=""){return this.overlayRef.updateSize({width:r,height:n}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}}const RA=new Dt("DialogScrollStrategy",{providedIn:"root",factory:()=>{const e=yt(Ba);return()=>e.scrollStrategies.block()}}),d9=new Dt("DialogData"),h9=new Dt("DefaultDialogConfig");let p9=0,kA=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,o,s,l,y,E){this._overlay=n,this._injector=o,this._defaultOptions=s,this._parentDialog=l,this._overlayContainer=y,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Lt,this._afterOpenedAtThisLevel=new Lt,this._ariaHiddenElements=new Map,this.afterAllClosed=vv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(uh(void 0))),this._scrollStrategy=E}open(n,o){(o={...this._defaultOptions||new yv,...o}).id=o.id||"cdk-dialog-"+p9++,o.id&&this.getDialogById(o.id);const l=this._getOverlayConfig(o),y=this._overlay.create(l),E=new xS(y,o),O=this._attachContainer(y,E,o);return E.containerInstance=O,this._attachDialogContent(n,E,O,o),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(E),E.closed.subscribe(()=>this._removeOpenDialog(E,!0)),this.afterOpened.next(E),E}closeAll(){CS(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(o=>o.id===n)}ngOnDestroy(){CS(this._openDialogsAtThisLevel,n=>{!1===n.config.closeOnDestroy&&this._removeOpenDialog(n,!1)}),CS(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){const o=new bS({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(o.backdropClass=n.backdropClass),o}_attachContainer(n,o,s){const l=s.injector||s.viewContainerRef?.injector,y=[{provide:yv,useValue:s},{provide:xS,useValue:o},{provide:lv,useValue:n}];let E;s.container?"function"==typeof s.container?E=s.container:(E=s.container.type,y.push(...s.container.providers(s))):E=PA;const O=new Fp(E,s.viewContainerRef,vi.create({parent:l||this._injector,providers:y}),s.componentFactoryResolver);return n.attach(O).instance}_attachDialogContent(n,o,s,l){if(n instanceof ea){const y=this._createInjector(l,o,s,void 0);let E={$implicit:l.data,dialogRef:o};l.templateContext&&(E={...E,..."function"==typeof l.templateContext?l.templateContext():l.templateContext}),s.attachTemplatePortal(new pS(n,null,E,y))}else{const y=this._createInjector(l,o,s,this._injector),E=s.attachComponentPortal(new Fp(n,l.viewContainerRef,y,l.componentFactoryResolver));o.componentRef=E,o.componentInstance=E.instance}}_createInjector(n,o,s,l){const y=n.injector||n.viewContainerRef?.injector,E=[{provide:d9,useValue:n.data},{provide:xS,useValue:o}];return n.providers&&("function"==typeof n.providers?E.push(...n.providers(o,n,s)):E.push(...n.providers)),n.direction&&(!y||!y.get(kp,null,{optional:!0}))&&E.push({provide:kp,useValue:{value:n.direction,change:bn()}}),vi.create({parent:y||l,providers:E})}_removeOpenDialog(n,o){const s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,y)=>{l?y.setAttribute("aria-hidden",l):y.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),o&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const o=n.parentElement.children;for(let s=o.length-1;s>-1;s--){const l=o[s];l!==n&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(o){return new(o||e)(We(Ba),We(vi),We(h9,8),We(e,12),We(uv),We(RA))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CS(e,r){let n=e.length;for(;n--;)r(e[n])}let m9=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({providers:[kA],imports:[vS,jp,u9,jp]})}return e})();const b9=new Dt("mat-sanity-checks",{providedIn:"root",factory:function g9(){return!0}});let Ls=(()=>{class e{constructor(n,o,s){this._sanityChecks=o,this._document=s,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!cS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}static#e=this.\u0275fac=function(o){return new(o||e)(We(AA),We(b9,8),We(er))};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({imports:[Np,Np]})}return e})();var js=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(js||{});class C9{constructor(r,n,o,s=!1){this._renderer=r,this.element=n,this.config=o,this._animationForciblyDisabledThroughCss=s,this.state=js.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const LA=ov({passive:!0,capture:!0});class T9{constructor(){this._events=new Map,this._delegateEventHandler=r=>{const n=uu(r);n&&this._events.get(r.type)?.forEach((o,s)=>{(s===n||s.contains(n))&&o.forEach(l=>l.handleEvent(r))})}}addHandler(r,n,o,s){const l=this._events.get(n);if(l){const y=l.get(o);y?y.add(s):l.set(o,new Set([s]))}else this._events.set(n,new Map([[o,new Set([s])]])),r.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,LA)})}removeHandler(r,n,o){const s=this._events.get(r);if(!s)return;const l=s.get(n);l&&(l.delete(o),0===l.size&&s.delete(n),0===s.size&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,LA)))}}const jA={enterDuration:225,exitDuration:150},BA=ov({passive:!0,capture:!0}),VA=["mousedown","touchstart"],$A=["mouseup","mouseleave","touchend","touchcancel"];class _v{static#e=this._eventManager=new T9;constructor(r,n,o,s){this._target=r,this._ngZone=n,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=sh(o))}fadeInRipple(r,n,o={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...jA,...o.animation};o.centered&&(r=s.left+s.width/2,n=s.top+s.height/2);const y=o.radius||function D9(e,r,n){const o=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),s=Math.max(Math.abs(r-n.top),Math.abs(r-n.bottom));return Math.sqrt(o*o+s*s)}(r,n,s),E=r-s.left,O=n-s.top,N=l.enterDuration,$=document.createElement("div");$.classList.add("mat-ripple-element"),$.style.left=E-y+"px",$.style.top=O-y+"px",$.style.height=2*y+"px",$.style.width=2*y+"px",null!=o.color&&($.style.backgroundColor=o.color),$.style.transitionDuration=`${N}ms`,this._containerElement.appendChild($);const H=window.getComputedStyle($),me=H.transitionDuration,Ce="none"===H.transitionProperty||"0s"===me||"0s, 0s"===me||0===s.width&&0===s.height,Ne=new C9(this,$,o,Ce);$.style.transform="scale3d(1, 1, 1)",Ne.state=js.FADING_IN,o.persistent||(this._mostRecentTransientRipple=Ne);let Ge=null;return!Ce&&(N||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const mt=()=>this._finishRippleTransition(Ne),Xe=()=>this._destroyRipple(Ne);$.addEventListener("transitionend",mt),$.addEventListener("transitioncancel",Xe),Ge={onTransitionEnd:mt,onTransitionCancel:Xe}}),this._activeRipples.set(Ne,Ge),(Ce||!N)&&this._finishRippleTransition(Ne),Ne}fadeOutRipple(r){if(r.state===js.FADING_OUT||r.state===js.HIDDEN)return;const n=r.element,o={...jA,...r.config.animation};n.style.transitionDuration=`${o.exitDuration}ms`,n.style.opacity="0",r.state=js.FADING_OUT,(r._animationForciblyDisabledThroughCss||!o.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){const n=sh(r);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,VA.forEach(o=>{_v._eventManager.addHandler(this._ngZone,o,n,this)}))}handleEvent(r){"mousedown"===r.type?this._onMousedown(r):"touchstart"===r.type?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$A.forEach(n=>{this._triggerElement.addEventListener(n,this,BA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){r.state===js.FADING_IN?this._startFadeOutTransition(r):r.state===js.FADING_OUT&&this._destroyRipple(r)}_startFadeOutTransition(r){const n=r===this._mostRecentTransientRipple,{persistent:o}=r.config;r.state=js.VISIBLE,!o&&(!n||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){const n=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=js.HIDDEN,null!==n&&(r.element.removeEventListener("transitionend",n.onTransitionEnd),r.element.removeEventListener("transitioncancel",n.onTransitionCancel)),r.element.remove()}_onMousedown(r){const n=EA(r),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!o&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!DA(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=r.changedTouches;if(n)for(let o=0;o<n.length;o++)this.fadeInRipple(n[o].clientX,n[o].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{!r.config.persistent&&(r.state===js.VISIBLE||r.config.terminateOnPointerUp&&r.state===js.FADING_IN)&&r.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const r=this._triggerElement;r&&(VA.forEach(n=>_v._eventManager.removeHandler(n,r,this)),this._pointerUpEventsRegistered&&$A.forEach(n=>r.removeEventListener(n,this,BA)))}}const UA=new Dt("mat-ripple-global-options");let O9=(()=>{class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,o,s,l,y){this._elementRef=n,this._animationMode=y,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new _v(this,o,n,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,o=0,s){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,o,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}static#e=this.\u0275fac=function(o){return new(o||e)(je(nr),je(_n),je(Xi),je(UA,8),je(Ri,8))};static#t=this.\u0275dir=Jt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(o,s){2&o&&Zn("mat-ripple-unbounded",s.unbounded)},inputs:{color:[ct.None,"matRippleColor","color"],unbounded:[ct.None,"matRippleUnbounded","unbounded"],centered:[ct.None,"matRippleCentered","centered"],radius:[ct.None,"matRippleRadius","radius"],animation:[ct.None,"matRippleAnimation","animation"],disabled:[ct.None,"matRippleDisabled","disabled"],trigger:[ct.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return e})(),M9=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({imports:[Ls,Ls]})}return e})();const zA={capture:!0},HA=["focus","click","mouseenter","touchstart"],TS="mat-ripple-loader-uninitialized",ES="mat-ripple-loader-class-name",GA="mat-ripple-loader-centered",wv="mat-ripple-loader-disabled";let I9=(()=>{class e{constructor(){this._document=yt(er,{optional:!0}),this._animationMode=yt(Ri,{optional:!0}),this._globalRippleOptions=yt(UA,{optional:!0}),this._platform=yt(Xi),this._ngZone=yt(_n),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;const s=n.target.closest(`[${TS}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(const n of HA)this._document?.addEventListener(n,this._onInteraction,zA)})}ngOnDestroy(){const n=this._hosts.keys();for(const o of n)this.destroyRipple(o);for(const o of HA)this._document?.removeEventListener(o,this._onInteraction,zA)}configureRipple(n,o){n.setAttribute(TS,""),(o.className||!n.hasAttribute(ES))&&n.setAttribute(ES,o.className||""),o.centered&&n.setAttribute(GA,""),o.disabled&&n.setAttribute(wv,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,o){const s=this._hosts.get(n);s?s.disabled=o:o?n.setAttribute(wv,""):n.removeAttribute(wv)}_createRipple(n){if(!this._document)return;const o=this._hosts.get(n);if(o)return o;n.querySelector(".mat-ripple")?.remove();const s=this._document.createElement("span");s.classList.add("mat-ripple",n.getAttribute(ES)),n.append(s);const l=new O9(new nr(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return l._isInitialized=!0,l.trigger=n,l.centered=n.hasAttribute(GA),l.disabled=n.hasAttribute(wv),this.attachRipple(n,l),l}attachRipple(n,o){n.removeAttribute(TS),this._hosts.set(n,o)}destroyRipple(n){const o=this._hosts.get(n);o&&(o.ngOnDestroy(),this._hosts.delete(n))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function A9(e,r){}class DS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const OS="mdc-dialog--open",WA="mdc-dialog--opening",qA="mdc-dialog--closing";let YA=(()=>{class e extends PA{constructor(n,o,s,l,y,E,O,N,$){super(n,o,s,l,y,E,O,$),this._animationMode=N,this._animationStateChanged=new ee,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?XA(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?XA(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(KA,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(WA,OS)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(OS),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(OS),this._animationsEnabled?(this._hostElement.style.setProperty(KA,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(qA)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(WA,qA)}_waitForAnimationToComplete(n,o){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(o,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(n){const o=super.attachComponentPortal(n);return o.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),o}static#e=this.\u0275fac=function(o){return new(o||e)(je(nr),je(wS),je(er,8),je(DS),je(pv),je(_n),je(lv),je(Ri,8),je(bv))};static#t=this.\u0275cmp=Or({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(o,s){2&o&&(Yg("id",s._config.id),Ni("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Zn("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[or,ns],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(o,s){1&o&&(kt(0,"div",0)(1,"div",1),Sr(2,A9,0,0,"ng-template",2),en()())},dependencies:[Lp],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return e})();const KA="--mat-dialog-transition-duration";function XA(e){return null==e?null:"number"==typeof e?e:e.endsWith("ms")?XI(e.substring(0,e.length-2)):e.endsWith("s")?1e3*XI(e.substring(0,e.length-1)):"0"===e?0:null}var Sv=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(Sv||{});class MS{constructor(r,n,o){this._ref=r,this._containerInstance=o,this._afterOpened=new Lt,this._beforeClosed=new Lt,this._state=Sv.OPEN,this.disableClose=n.disableClose,this.id=r.id,r.addPanelClass("mat-mdc-dialog-panel"),o._animationStateChanged.pipe(wi(s=>"opened"===s.state),Go(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(wi(s=>"closed"===s.state),Go(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),mS(this.backdropClick(),this.keydownEvents().pipe(wi(s=>27===s.keyCode&&!this.disableClose&&!dv(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),ZA(this,"keydown"===s.type?"keyboard":"mouse"))})}close(r){this._result=r,this._containerInstance._animationStateChanged.pipe(wi(n=>"closing"===n.state),Go(1)).subscribe(n=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Sv.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(r){let n=this._ref.config.positionStrategy;return r&&(r.left||r.right)?r.left?n.left(r.left):n.right(r.right):n.centerHorizontally(),r&&(r.top||r.bottom)?r.top?n.top(r.top):n.bottom(r.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(r="",n=""){return this._ref.updateSize(r,n),this}addPanelClass(r){return this._ref.addPanelClass(r),this}removePanelClass(r){return this._ref.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=Sv.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function ZA(e,r,n){return e._closeInteractionType=r,e.close(n)}const IS=new Dt("MatMdcDialogData"),k9=new Dt("mat-mdc-dialog-default-options"),QA=new Dt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const e=yt(Ba);return()=>e.scrollStrategies.block()}});let F9=0,Vp=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,o,s,l,y,E,O,N){this._overlay=n,this._defaultOptions=l,this._scrollStrategy=y,this._parentDialog=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Lt,this._afterOpenedAtThisLevel=new Lt,this.dialogConfigClass=DS,this.afterAllClosed=vv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(uh(void 0))),this._dialog=o.get(kA),this._dialogRefConstructor=MS,this._dialogContainerType=YA,this._dialogDataToken=IS}open(n,o){let s;(o={...this._defaultOptions||new DS,...o}).id=o.id||"mat-mdc-dialog-"+F9++,o.scrollStrategy=o.scrollStrategy||this._scrollStrategy();const l=this._dialog.open(n,{...o,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:o},{provide:yv,useValue:o}]},templateContext:()=>({dialogRef:s}),providers:(y,E,O)=>(s=new this._dialogRefConstructor(y,o,O),s.updatePosition(o?.position),[{provide:this._dialogContainerType,useValue:O},{provide:this._dialogDataToken,useValue:E.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentRef=l.componentRef,s.componentInstance=l.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const y=this.openDialogs.indexOf(s);y>-1&&(this.openDialogs.splice(y,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(o=>o.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let o=n.length;for(;o--;)n[o].close()}static#e=this.\u0275fac=function(o){return new(o||e)(We(Ba),We(vi),We(ll,8),We(k9,8),We(QA),We(e,12),We(uv),We(Ri,8))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),JA=(()=>{class e{constructor(n,o,s){this.dialogRef=n,this._elementRef=o,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function tP(e,r){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-mdc-dialog-container");)n=n.parentElement;return n?r.find(o=>o.id===n.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(n){const o=n._matDialogClose||n._matDialogCloseResult;o&&(this.dialogResult=o.currentValue)}_onButtonClick(n){ZA(this.dialogRef,0===n.screenX&&0===n.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(o){return new(o||e)(je(MS,8),je(nr),je(Vp))};static#t=this.\u0275dir=Jt({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(o,s){1&o&&Fn("click",function(y){return s._onButtonClick(y)}),2&o&&Ni("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{ariaLabel:[ct.None,"aria-label","ariaLabel"],type:"type",dialogResult:[ct.None,"mat-dialog-close","dialogResult"],_matDialogClose:[ct.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[so]})}return e})();let nP=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({providers:[Vp],imports:[m9,vS,jp,Ls,Ls]})}return e})(),$9=(()=>{class e{constructor(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-loader"]],decls:5,vars:0,consts:[[1,"lds-ellipsis"]],template:function(o,s){1&o&&(kt(0,"div",0),Er(1,"div")(2,"div")(3,"div")(4,"div"),en())},styles:["[_nghost-%COMP%]   .lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:65px}[_nghost-%COMP%]   .lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:#000;animation-timing-function:cubic-bezier(0,1,1,0)}[_nghost-%COMP%]   .lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:_ngcontent-%COMP%_lds-ellipsis1 .6s infinite}[_nghost-%COMP%]   .lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:_ngcontent-%COMP%_lds-ellipsis2 .6s infinite}[_nghost-%COMP%]   .lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:_ngcontent-%COMP%_lds-ellipsis2 .6s infinite}[_nghost-%COMP%]   .lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:_ngcontent-%COMP%_lds-ellipsis3 .6s infinite}@keyframes _ngcontent-%COMP%_lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes _ngcontent-%COMP%_lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}"]})}return e})(),xv=(()=>{class e{constructor(n){this.sanitizer=n}transform(n){return n?this.sanitizer.bypassSecurityTrustHtml(n):""}static#e=this.\u0275fac=function(o){return new(o||e)(je(kb,16))};static#t=this.\u0275pipe=pi({name:"safeHtml",type:e,pure:!0})}return e})();function U9(e,r){if(1&e){const n=Wr();kt(0,"div"),Er(1,"div",4),Jn(2,"safeHtml"),kt(3,"button",5),Fn("click",function(){return ur(n),hr(ln(2).start())}),Qn(4),en()()}if(2&e){const n=ln(2);Zt(),rn("innerHTML",xo(2,2,n.data.content),gd),Zt(3),Mo(n.startButtonText)}}function z9(e,r){1&e&&(kt(0,"div",6),Er(1,"app-loader"),en())}function H9(e,r){if(1&e&&(kt(0,"div",1),Sr(1,U9,5,4,"div",2)(2,z9,2,0,"div",3),en()),2&e){const n=ln();Zt(),rn("ngIf",n.stateService.state!==n.appState.WaitingToStart),Zt(),rn("ngIf",n.stateService.state===n.appState.WaitingToStart)}}let G9=(()=>{class e{constructor(n,o,s){this.data=n,this.uneeqService=o,this.stateService=s,this.appState=lr,this.startButtonText="Let us start",n.startButtonText&&(this.startButtonText=n.startButtonText)}start(){this.uneeqService.initDigitalHuman(ev.ModalPopup)}static#e=this.\u0275fac=function(o){return new(o||e)(je(IS),je(Ch),je(br))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-start-session-popup"]],decls:1,vars:1,consts:[["id","custom-popup","class","custom-popup-styling popup-defaults animate-transition",4,"ngIf"],["id","custom-popup",1,"custom-popup-styling","popup-defaults","animate-transition"],[4,"ngIf"],["id","session-loading","class","popup-loader",4,"ngIf"],[3,"innerHTML"],["id","start-button",3,"click"],["id","session-loading",1,"popup-loader"]],template:function(o,s){1&o&&Sr(0,H9,3,2,"div",0),2&o&&rn("ngIf",s.stateService.state!==s.appState.Live)},dependencies:[dl,$9,xv],styles:["[_nghost-%COMP%]   .popup-loader[_ngcontent-%COMP%]{display:block;text-align:center;animation:fadeIn ease 1s}[_nghost-%COMP%]   .popup-defaults[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:25px}[_nghost-%COMP%]   .popup-defaults[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;display:block}[_nghost-%COMP%]   .custom-popup-styling[_ngcontent-%COMP%]{border-radius:8px;max-width:100%;box-sizing:border-box}[_nghost-%COMP%]   .custom-popup-styling[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;outline:none;cursor:pointer;margin:auto 0 0 auto;border-radius:4px;background:var(--primary-color);color:var(--secondary-text-color)}"]})}return e})();var Cv=function(e){return e.Initialize="INITIALIZE",e.StartPopup="START_POPUP",e}(Cv||{});const W9=["mat-button",""],AS=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],PS=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Y9=["mat-fab",""],K9=["mat-mini-fab",""],Z9=["mat-icon-button",""],Q9=["*"],J9=new Dt("MAT_BUTTON_CONFIG"),e7=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let Tv=(()=>{class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,o,s,l){this._elementRef=n,this._platform=o,this._ngZone=s,this._animationMode=l,this._focusMonitor=yt(bv),this._rippleLoader=yt(I9),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const y=yt(J9,{optional:!0}),E=n.nativeElement,O=E.classList;this.disabledInteractive=y?.disabledInteractive??!1,this._rippleLoader?.configureRipple(E,{className:"mat-mdc-button-ripple"});for(const{attribute:N,mdcClasses:$}of e7)E.hasAttribute(N)&&O.add(...$)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",o){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,o):this._elementRef.nativeElement.focus(o)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(o){f_()};static#t=this.\u0275dir=Jt({type:e,inputs:{color:"color",disableRipple:[ct.HasDecoratorInputTransform,"disableRipple","disableRipple",As],disabled:[ct.HasDecoratorInputTransform,"disabled","disabled",As],ariaDisabled:[ct.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",As],disabledInteractive:[ct.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",As]},features:[Kf]})}return e})(),iP=(()=>{class e extends Tv{constructor(n,o,s,l){super(n,o,s,l)}static#e=this.\u0275fac=function(o){return new(o||e)(je(nr),je(Xi),je(_n),je(Ri,8))};static#t=this.\u0275cmp=Or({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(o,s){2&o&&(Ni("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),Vd(s.color?"mat-"+s.color:""),Zn("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[or,ns],attrs:W9,ngContentSelectors:PS,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,s){1&o&&(mc(AS),Er(0,"span",0),So(1),kt(2,"span",1),So(3,1),en(),So(4,2),Er(5,"span",2)(6,"span",3)),2&o&&Zn("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})();const oP=new Dt("mat-mdc-fab-default-options",{providedIn:"root",factory:sP});function sP(){return{color:"accent"}}const Ev=sP();let t7=(()=>{class e extends Tv{constructor(n,o,s,l,y){super(n,o,s,l),this._options=y,this._isFab=!0,this._options=this._options||Ev,this.color=this._options.color||Ev.color}static#e=this.\u0275fac=function(o){return new(o||e)(je(nr),je(Xi),je(_n),je(Ri,8),je(oP,8))};static#t=this.\u0275cmp=Or({type:e,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(o,s){2&o&&(Ni("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),Vd(s.color?"mat-"+s.color:""),Zn("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0)("mdc-fab--extended",s.extended)("mat-mdc-extended-fab",s.extended))},inputs:{extended:[ct.HasDecoratorInputTransform,"extended","extended",As]},exportAs:["matButton"],standalone:!0,features:[Kf,or,ns],attrs:Y9,ngContentSelectors:PS,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,s){1&o&&(mc(AS),Er(0,"span",0),So(1),kt(2,"span",1),So(3,1),en(),So(4,2),Er(5,"span",2)(6,"span",3)),2&o&&Zn("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab{background-color:var(--mdc-fab-container-color)}.mat-mdc-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-mini-fab{background-color:var(--mdc-fab-small-container-color)}.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-small-icon-size);height:var(--mdc-fab-small-icon-size);font-size:var(--mdc-fab-small-icon-size)}.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-small-container-shape)}.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-small-container-shape)}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:var(--mdc-extended-fab-container-shape)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled,.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab[disabled],.mat-mdc-fab[disabled]:focus,.mat-mdc-fab.mat-mdc-button-disabled,.mat-mdc-fab.mat-mdc-button-disabled:focus,.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab[disabled]:focus,.mat-mdc-mini-fab.mat-mdc-button-disabled,.mat-mdc-mini-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab.mat-mdc-button-disabled-interactive,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{box-shadow:var(--mdc-extended-fab-container-elevation-shadow)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}'],encapsulation:2,changeDetection:0})}return e})(),Dv=(()=>{class e extends Tv{constructor(n,o,s,l,y){super(n,o,s,l),this._options=y,this._isFab=!0,this._options=this._options||Ev,this.color=this._options.color||Ev.color}static#e=this.\u0275fac=function(o){return new(o||e)(je(nr),je(Xi),je(_n),je(Ri,8),je(oP,8))};static#t=this.\u0275cmp=Or({type:e,selectors:[["button","mat-mini-fab",""]],hostVars:14,hostBindings:function(o,s){2&o&&(Ni("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),Vd(s.color?"mat-"+s.color:""),Zn("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[or,ns],attrs:K9,ngContentSelectors:PS,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,s){1&o&&(mc(AS),Er(0,"span",0),So(1),kt(2,"span",1),So(3,1),en(),So(4,2),Er(5,"span",2)(6,"span",3)),2&o&&Zn("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab{background-color:var(--mdc-fab-container-color)}.mat-mdc-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-mini-fab{background-color:var(--mdc-fab-small-container-color)}.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-small-icon-size);height:var(--mdc-fab-small-icon-size);font-size:var(--mdc-fab-small-icon-size)}.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-small-container-shape)}.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-small-container-shape)}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:var(--mdc-extended-fab-container-shape)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled,.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab[disabled],.mat-mdc-fab[disabled]:focus,.mat-mdc-fab.mat-mdc-button-disabled,.mat-mdc-fab.mat-mdc-button-disabled:focus,.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab[disabled]:focus,.mat-mdc-mini-fab.mat-mdc-button-disabled,.mat-mdc-mini-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab.mat-mdc-button-disabled-interactive,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{box-shadow:var(--mdc-extended-fab-container-elevation-shadow)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}'],encapsulation:2,changeDetection:0})}return e})(),n7=(()=>{class e extends Tv{constructor(n,o,s,l){super(n,o,s,l),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(o){return new(o||e)(je(nr),je(Xi),je(_n),je(Ri,8))};static#t=this.\u0275cmp=Or({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(o,s){2&o&&(Ni("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),Vd(s.color?"mat-"+s.color:""),Zn("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[or,ns],attrs:Z9,ngContentSelectors:Q9,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,s){1&o&&(mc(),Er(0,"span",0),So(1),Er(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),RS=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({imports:[Ls,M9,Ls]})}return e})();function r7(e,r){if(1&e){const n=Wr();kt(0,"div",1)(1,"button",2),Fn("click",function(){return ur(n),hr(ln().action())}),Qn(2),en()()}if(2&e){const n=ln();Zt(2),sp(" ",n.data.action," ")}}const i7=["label"];function o7(e,r){}const s7=Math.pow(2,31)-1;class Ov{constructor(r,n){this._overlayRef=n,this._afterDismissed=new Lt,this._afterOpened=new Lt,this._onAction=new Lt,this._dismissedByAction=!1,this.containerInstance=r,r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,s7))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const kS=new Dt("MatSnackBarData");class Mv{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let NS=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=Jt({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return e})(),FS=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=Jt({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return e})(),LS=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=Jt({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return e})(),aP=(()=>{class e{constructor(n,o){this.snackBarRef=n,this.data=o}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(o){return new(o||e)(je(Ov),je(kS))};static#t=this.\u0275cmp=Or({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[ns],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(o,s){1&o&&(kt(0,"div",0),Qn(1),en(),Sr(2,r7,3,1,"div",1)),2&o&&(Zt(),sp(" ",s.data.message,"\n"),Zt(),qg(2,s.hasAction?2:-1))},dependencies:[iP,NS,FS,LS],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return e})();const a7={snackBarState:Iw("state",[th("void, hidden",aa({transform:"scale(0.8)",opacity:0})),th("visible",aa({transform:"scale(1)",opacity:1})),nh("* => visible",eh("150ms cubic-bezier(0, 0, 0.2, 1)")),nh("* => void, * => hidden",eh("75ms cubic-bezier(0.4, 0.0, 1, 1)",aa({opacity:0})))])};let c7=0,cP=(()=>{class e extends cv{constructor(n,o,s,l,y){super(),this._ngZone=n,this._elementRef=o,this._changeDetectorRef=s,this._platform=l,this.snackBarConfig=y,this._document=yt(er),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Lt,this._onExit=new Lt,this._onEnter=new Lt,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+c7++,this.attachDomPortal=E=>{this._assertNotAttached();const O=this._portalOutlet.attachDomPortal(E);return this._afterPortalAttached(),O},this._live="assertive"!==y.politeness||y.announcementMessage?"off"===y.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();const o=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),o}attachTemplatePortal(n){this._assertNotAttached();const o=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),o}onAnimationEnd(n){const{fromState:o,toState:s}=n;if(("void"===s&&"void"!==o||"hidden"===s)&&this._completeExit(),"visible"===s){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const n=this._elementRef.nativeElement,o=this.snackBarConfig.panelClass;o&&(Array.isArray(o)?o.forEach(y=>n.classList.add(y)):n.classList.add(o)),this._exposeToModals();const s=this._label.nativeElement,l="mdc-snackbar__label";s.classList.toggle(l,!s.querySelector(`.${l}`))}_exposeToModals(){const n=this._liveElementId,o=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<o.length;s++){const l=o[s],y=l.getAttribute("aria-owns");this._trackedModals.add(l),y?-1===y.indexOf(n)&&l.setAttribute("aria-owns",y+" "+n):l.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{const o=n.getAttribute("aria-owns");if(o){const s=o.replace(this._liveElementId,"").trim();s.length>0?n.setAttribute("aria-owns",s):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),o=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&o){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(s=document.activeElement),n.removeAttribute("aria-hidden"),o.appendChild(n),s?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(o){return new(o||e)(je(_n),je(nr),je(pc),je(Xi),je(Mv))};static#t=this.\u0275cmp=Or({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(o,s){if(1&o&&(eu(Lp,7),eu(i7,7)),2&o){let l;ra(l=ia())&&(s._portalOutlet=l.first),ra(l=ia())&&(s._label=l.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(o,s){1&o&&eb("@state.done",function(y){return s.onAnimationEnd(y)}),2&o&&Kg("@state",s._animationState)},standalone:!0,features:[or,ns],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(o,s){1&o&&(kt(0,"div",0)(1,"div",1,2)(3,"div",3),Sr(4,o7,0,0,"ng-template",4),en(),Er(5,"div"),en()()),2&o&&(Zt(5),Ni("aria-live",s._live)("role",s._role)("id",s._liveElementId))},dependencies:[Lp],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[a7.snackBarState]}})}return e})();const l7=new Dt("mat-snack-bar-default-options",{providedIn:"root",factory:function u7(){return new Mv}});let uP=(()=>{class e{get _openedSnackBarRef(){const n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(n,o,s,l,y,E){this._overlay=n,this._live=o,this._injector=s,this._breakpointObserver=l,this._parentSnackBar=y,this._defaultConfig=E,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=aP,this.snackBarContainerComponent=cP,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(n,o){return this._attach(n,o)}openFromTemplate(n,o){return this._attach(n,o)}open(n,o="",s){const l={...this._defaultConfig,...s};return l.data={message:n,action:o},l.announcementMessage===n&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,o){const l=vi.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:Mv,useValue:o}]}),y=new Fp(this.snackBarContainerComponent,o.viewContainerRef,l),E=n.attach(y);return E.instance.snackBarConfig=o,E.instance}_attach(n,o){const s={...new Mv,...this._defaultConfig,...o},l=this._createOverlay(s),y=this._attachSnackBarContainer(l,s),E=new Ov(y,l);if(n instanceof ea){const O=new pS(n,null,{$implicit:s.data,snackBarRef:E});E.instance=y.attachTemplatePortal(O)}else{const O=this._createInjector(s,E),N=new Fp(n,void 0,O),$=y.attachComponentPortal(N);E.instance=$.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ho(l.detachments())).subscribe(O=>{l.overlayElement.classList.toggle(this.handsetCssClass,O.matches)}),s.announcementMessage&&y._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(E,s),this._openedSnackBarRef=E,this._openedSnackBarRef}_animateSnackBar(n,o){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),o.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),o.duration&&o.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(o.duration))}_createOverlay(n){const o=new bS;o.direction=n.direction;let s=this._overlay.position().global();const l="rtl"===n.direction,y="left"===n.horizontalPosition||"start"===n.horizontalPosition&&!l||"end"===n.horizontalPosition&&l,E=!y&&"center"!==n.horizontalPosition;return y?s.left("0"):E?s.right("0"):s.centerHorizontally(),"top"===n.verticalPosition?s.top("0"):s.bottom("0"),o.positionStrategy=s,this._overlay.create(o)}_createInjector(n,o){return vi.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:Ov,useValue:o},{provide:kS,useValue:n.data}]})}static#e=this.\u0275fac=function(o){return new(o||e)(We(Ba),We(a9),We(vi),We(yA),We(e,12),We(l7))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lP=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({providers:[uP],imports:[vS,jp,RS,Ls,aP,Ls]})}return e})();function $p(e,r){return new ye(r?n=>r.schedule(d7,0,{error:e,subscriber:n}):n=>n.error(e))}function d7({error:e,subscriber:r}){r.error(e)}function dP(...e){if(1===e.length){const r=e[0];if(G(r))return Iv(r,null);if(J(r)&&Object.getPrototypeOf(r)===Object.prototype){const n=Object.keys(r);return Iv(n.map(o=>r[o]),n)}}if("function"==typeof e[e.length-1]){const r=e.pop();return Iv(e=1===e.length&&G(e[0])?e[0]:e,null).pipe(Yt(n=>r(...n)))}return Iv(e,null)}function Iv(e,r){return new ye(n=>{const o=e.length;if(0===o)return void n.complete();const s=new Array(o);let l=0,y=0;for(let E=0;E<o;E++){const O=Ki(e[E]);let N=!1;n.add(O.subscribe({next:$=>{N||(N=!0,y++),s[E]=$},error:$=>n.error($),complete:()=>{l++,(l===o||!N)&&(y===o&&n.next(r?r.reduce(($,H,ae)=>($[H]=s[ae],$),{}):s),n.complete())}}))}})}function dh(e){return function(n){const o=new h7(e),s=n.lift(o);return o.caught=s}}class h7{constructor(r){this.selector=r}call(r,n){return n.subscribe(new f7(r,this.selector,this.caught))}}class f7 extends Kd{constructor(r,n,o){super(r),this.selector=n,this.caught=o}error(r){if(!this.isStopped){let n;try{n=this.selector(r,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const o=new Yd(this);this.add(o);const s=Xd(n,o);s!==o&&this.add(s)}}}function Av(){return function(r){return r.lift(new p7(r))}}class p7{constructor(r){this.connectable=r}call(r,n){const{connectable:o}=this;o._refCount++;const s=new m7(r,o),l=n.subscribe(s);return s.closed||(s.connection=o.connect()),l}}class m7 extends q{constructor(r,n){super(r),this.connectable=n}_unsubscribe(){const{connectable:r}=this;if(!r)return void(this.connection=null);this.connectable=null;const n=r._refCount;if(n<=0)return void(this.connection=null);if(r._refCount=n-1,n>1)return void(this.connection=null);const{connection:o}=this,s=r._connection;this.connection=null,s&&(!o||s===o)&&s.unsubscribe()}}class jS extends ye{constructor(r,n){super(),this.source=r,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Ee,r.add(this.source.subscribe(new b7(this.getSubject(),this))),r.closed&&(this._connection=null,r=Ee.EMPTY)),r}refCount(){return Av()(this)}}const g7=(()=>{const e=jS.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class b7 extends mn{constructor(r,n){super(r),this.connectable=n}_error(r){this._unsubscribe(),super._error(r)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const r=this.connectable;if(r){this.connectable=null;const n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}}}class _7{constructor(r,n){this.subjectFactory=r,this.selector=n}call(r,n){const{selector:o}=this,s=this.subjectFactory(),l=o(s).subscribe(r);return l.add(n.subscribe(s)),l}}function w7(){return new Lt}const x7=["*"];let Pv;function Up(e){return function C7(){if(void 0===Pv&&(Pv=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(Pv=e.trustedTypes.createPolicy("angular#components",{createHTML:r=>r}))}return Pv}()?.createHTML(e)||e}function hP(e){return Error(`Unable to find icon with the name "${e}"`)}function fP(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function pP(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Sl{constructor(r,n,o){this.url=r,this.svgText=n,this.options=o}}let Rv=(()=>{class e{constructor(n,o,s,l){this._httpClient=n,this._sanitizer=o,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(n,o,s){return this.addSvgIconInNamespace("",n,o,s)}addSvgIconLiteral(n,o,s){return this.addSvgIconLiteralInNamespace("",n,o,s)}addSvgIconInNamespace(n,o,s,l){return this._addSvgIconConfig(n,o,new Sl(s,null,l))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,o,s,l){const y=this._sanitizer.sanitize(wo.HTML,s);if(!y)throw pP(s);const E=Up(y);return this._addSvgIconConfig(n,o,new Sl("",E,l))}addSvgIconSet(n,o){return this.addSvgIconSetInNamespace("",n,o)}addSvgIconSetLiteral(n,o){return this.addSvgIconSetLiteralInNamespace("",n,o)}addSvgIconSetInNamespace(n,o,s){return this._addSvgIconSetConfig(n,new Sl(o,null,s))}addSvgIconSetLiteralInNamespace(n,o,s){const l=this._sanitizer.sanitize(wo.HTML,o);if(!l)throw pP(o);const y=Up(l);return this._addSvgIconSetConfig(n,new Sl("",y,s))}registerFontClassAlias(n,o=n){return this._fontCssClassesByAlias.set(n,o),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const o=this._sanitizer.sanitize(wo.RESOURCE_URL,n);if(!o)throw fP(n);const s=this._cachedIconsByUrl.get(o);return s?bn(kv(s)):this._loadSvgIconFromConfig(new Sl(n,null)).pipe(ji(l=>this._cachedIconsByUrl.set(o,l)),Yt(l=>kv(l)))}getNamedSvgIcon(n,o=""){const s=mP(o,n);let l=this._svgIconConfigs.get(s);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(o,n),l)return this._svgIconConfigs.set(s,l),this._getSvgFromConfig(l);const y=this._iconSetConfigs.get(o);return y?this._getSvgFromIconSetConfigs(n,y):$p(hP(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?bn(kv(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(Yt(o=>kv(o)))}_getSvgFromIconSetConfigs(n,o){const s=this._extractIconWithNameFromAnySet(n,o);return s?bn(s):dP(o.filter(y=>!y.svgText).map(y=>this._loadSvgIconSetFromConfig(y).pipe(dh(E=>{const N=`Loading icon set URL: ${this._sanitizer.sanitize(wo.RESOURCE_URL,y.url)} failed: ${E.message}`;return this._errorHandler.handleError(new Error(N)),bn(null)})))).pipe(Yt(()=>{const y=this._extractIconWithNameFromAnySet(n,o);if(!y)throw hP(n);return y}))}_extractIconWithNameFromAnySet(n,o){for(let s=o.length-1;s>=0;s--){const l=o[s];if(l.svgText&&l.svgText.toString().indexOf(n)>-1){const y=this._svgElementFromConfig(l),E=this._extractSvgIconFromSet(y,n,l.options);if(E)return E}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(ji(o=>n.svgText=o),Yt(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?bn(null):this._fetchIcon(n).pipe(ji(o=>n.svgText=o))}_extractSvgIconFromSet(n,o,s){const l=n.querySelector(`[id="${o}"]`);if(!l)return null;const y=l.cloneNode(!0);if(y.removeAttribute("id"),"svg"===y.nodeName.toLowerCase())return this._setSvgAttributes(y,s);if("symbol"===y.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(y),s);const E=this._svgElementFromString(Up("<svg></svg>"));return E.appendChild(y),this._setSvgAttributes(E,s)}_svgElementFromString(n){const o=this._document.createElement("DIV");o.innerHTML=n;const s=o.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(n){const o=this._svgElementFromString(Up("<svg></svg>")),s=n.attributes;for(let l=0;l<s.length;l++){const{name:y,value:E}=s[l];"id"!==y&&o.setAttribute(y,E)}for(let l=0;l<n.childNodes.length;l++)n.childNodes[l].nodeType===this._document.ELEMENT_NODE&&o.appendChild(n.childNodes[l].cloneNode(!0));return o}_setSvgAttributes(n,o){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),o&&o.viewBox&&n.setAttribute("viewBox",o.viewBox),n}_fetchIcon(n){const{url:o,options:s}=n,l=s?.withCredentials??!1;if(!this._httpClient)throw function T7(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const y=this._sanitizer.sanitize(wo.RESOURCE_URL,o);if(!y)throw fP(o);const E=this._inProgressUrlFetches.get(y);if(E)return E;const O=this._httpClient.get(y,{responseType:"text",withCredentials:l}).pipe(Yt(N=>Up(N)),Qd(()=>this._inProgressUrlFetches.delete(y)),function S7(){return e=>Av()(function y7(e,r){return function(o){let s;if(s="function"==typeof e?e:function(){return e},"function"==typeof r)return o.lift(new _7(s,r));const l=Object.create(o,g7);return l.source=o,l.subjectFactory=s,l}}(w7)(e))}());return this._inProgressUrlFetches.set(y,O),O}_addSvgIconConfig(n,o,s){return this._svgIconConfigs.set(mP(n,o),s),this}_addSvgIconSetConfig(n,o){const s=this._iconSetConfigs.get(n);return s?s.push(o):this._iconSetConfigs.set(n,[o]),this}_svgElementFromConfig(n){if(!n.svgElement){const o=this._svgElementFromString(n.svgText);this._setSvgAttributes(o,n.options),n.svgElement=o}return n.svgElement}_getIconConfigFromResolvers(n,o){for(let s=0;s<this._resolvers.length;s++){const l=this._resolvers[s](o,n);if(l)return D7(l)?new Sl(l.url,null,l.options):new Sl(l,null)}}static#e=this.\u0275fac=function(o){return new(o||e)(We(Vb,8),We(kb),We(er,8),We(Ds))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kv(e){return e.cloneNode(!0)}function mP(e,r){return e+":"+r}function D7(e){return!(!e.url||!e.options)}const O7=new Dt("MAT_ICON_DEFAULT_OPTIONS"),M7=new Dt("mat-icon-location",{providedIn:"root",factory:function I7(){const e=yt(er),r=e?e.location:null;return{getPathname:()=>r?r.pathname+r.search:""}}}),gP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],A7=gP.map(e=>`[${e}]`).join(", "),P7=/^url\(['"]?#(.*?)['"]?\)$/;let du=(()=>{class e{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const o=this._cleanupFontValue(n);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const o=this._cleanupFontValue(n);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}constructor(n,o,s,l,y,E){this._elementRef=n,this._iconRegistry=o,this._location=l,this._errorHandler=y,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ee.EMPTY,E&&(E.color&&(this.color=this._defaultColor=E.color),E.fontSet&&(this.fontSet=E.fontSet)),s||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const o=n.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let o=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const s=n.childNodes[o];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,o=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>n.classList.remove(s)),o.forEach(s=>n.classList.add(s)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&!o.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const o=this._elementsWithExternalReferences;o&&o.forEach((s,l)=>{s.forEach(y=>{l.setAttribute(y.name,`url('${n}#${y.value}')`)})})}_cacheChildrenWithExternalReferences(n){const o=n.querySelectorAll(A7),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<o.length;l++)gP.forEach(y=>{const E=o[l],O=E.getAttribute(y),N=O?O.match(P7):null;if(N){let $=s.get(E);$||($=[],s.set(E,$)),$.push({name:y,value:N[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[o,s]=this._splitIconName(n);o&&(this._svgNamespace=o),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,o).pipe(Go(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${s}! ${l.message}`))})}}static#e=this.\u0275fac=function(o){return new(o||e)(je(nr),je(Rv),function Of(e){return function bi(e,r){if("class"===r)return e.classes;if("style"===r)return e.styles;const n=e.attrs;if(n){const o=n.length;let s=0;for(;s<o;){const l=n[s];if(jn(l))break;if(0===l)s+=2;else if("number"==typeof l)for(s++;s<o&&"string"==typeof n[s];)s++;else{if(l===r)return n[s+1];s+=2}}}return null}(Ir(),e)}("aria-hidden"),je(M7),je(Ds),je(O7,8))};static#t=this.\u0275cmp=Or({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(o,s){2&o&&(Ni("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Vd(s.color?"mat-"+s.color:""),Zn("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:[ct.HasDecoratorInputTransform,"inline","inline",As],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Kf,ns],ngContentSelectors:x7,decls:1,vars:0,template:function(o,s){1&o&&(mc(),So(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),bP=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({imports:[Ls,Ls]})}return e})(),Va=(()=>{class e{constructor(n){this.state=n,this.preferredLanguages=[...navigator.languages||[],"default"]}transform(n,o){if(!this.state.uneeqInteractionsOptions.languageStrings)return;const s=this.state.uneeqInteractionsOptions.languageStrings;for(const l of this.preferredLanguages)if(Object.prototype.hasOwnProperty.call(s,l)&&Object.prototype.hasOwnProperty.call(s[l],n))return s[l][n];return Object.prototype.hasOwnProperty.call(wc,n)?wc[n]:(console.warn("UneeQ: Language key provided was not found: ",n,o),n)}static#e=this.\u0275fac=function(o){return new(o||e)(je(br,16))};static#t=this.\u0275pipe=pi({name:"i18n",type:e,pure:!0})}return e})(),R7=(()=>{class e{constructor(n,o,s){this.snackBarRef=n,this.stateService=o,this.data=s}close(){this.snackBarRef.dismiss()}static#e=this.\u0275fac=function(o){return new(o||e)(je(Ov),je(br),je(kS))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-snack-error"]],decls:6,vars:4,consts:[["matSnackBarLabel","",3,"innerText"],["matSnackBarActions",""],["mat-icon-button","","matSnackBarAction","",3,"click"]],template:function(o,s){1&o&&(Er(0,"span",0),Jn(1,"i18n"),kt(2,"span",1)(3,"button",2),Fn("click",function(){return s.close()}),kt(4,"mat-icon"),Qn(5,"close"),en()()()),2&o&&rn("innerText",Qr(1,1,s.data,s.stateService.i18nRefresh))},dependencies:[du,n7,NS,FS,LS,Va],styles:["[_nghost-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;margin:8px 0}"]})}return e})();class k7{static sendMessage(r,n){const s=JSON.stringify(n),l=new DataView(new ArrayBuffer(3+2*s.length));let y=0;l.setUint8(y,50),y++,l.setUint16(y,s.length,!0),y+=2;for(let E=0;E<s.length;E++)l.setUint16(y,s.charCodeAt(E),!0),y+=2;return r.deviceManager.mediaHandler.webRTC.sendDataMessage(l.buffer),l.buffer}}const Nv=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function Fv(e=null){return r=>r.lift(new F7(e))}class F7{constructor(r){this.defaultValue=r}call(r,n){return n.subscribe(new L7(r,this.defaultValue))}}class L7 extends q{constructor(r,n){super(r),this.defaultValue=n,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function vP(e=V7){return r=>r.lift(new j7(e))}class j7{constructor(r){this.errorFactory=r}call(r,n){return n.subscribe(new B7(r,this.errorFactory))}}class B7 extends q{constructor(r,n){super(r),this.errorFactory=n,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)}}}function V7(){return new Nv}function xl(e,r){const n=arguments.length>=2;return o=>o.pipe(e?wi((s,l)=>e(s,l,o)):Me,Go(1),n?Fv(r):vP(()=>new Nv))}class U7{constructor(r,n,o=!1){this.accumulator=r,this.seed=n,this.hasSeed=o}call(r,n){return n.subscribe(new z7(r,this.accumulator,this.seed,this.hasSeed))}}class z7 extends q{constructor(r,n,o,s){super(r),this.accumulator=n,this._seed=o,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const n=this.index++;let o;try{o=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=o,this.destination.next(o)}}function BS(e){return function(n){return 0===e?hS():n.lift(new H7(e))}}class H7{constructor(r){if(this.total=r,this.total<0)throw new sA}call(r,n){return n.subscribe(new G7(r,this.total))}}class G7 extends q{constructor(r,n){super(r),this.total=n,this.ring=new Array,this.count=0}_next(r){const n=this.ring,o=this.total,s=this.count++;n.length<o?n.push(r):n[s%o]=r}_complete(){const r=this.destination;let n=this.count;if(n>0){const o=this.count>=this.total?this.total:this.count,s=this.ring;for(let l=0;l<o;l++){const y=n++%o;r.next(s[y])}}r.complete()}}function VS(e){return r=>r.lift(new q7(e))}class q7{constructor(r){this.value=r}call(r,n){return n.subscribe(new Y7(r,this.value))}}class Y7 extends q{constructor(r,n){super(r),this.value=n}_next(r){this.destination.next(this.value)}}const rr="primary",zp=Symbol("RouteTitle");class K7{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const n=this.params[r];return Array.isArray(n)?n[0]:n}return null}getAll(r){if(this.has(r)){const n=this.params[r];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function hh(e){return new K7(e)}function X7(e,r,n){const o=n.path.split("/");if(o.length>e.length||"full"===n.pathMatch&&(r.hasChildren()||o.length<e.length))return null;const s={};for(let l=0;l<o.length;l++){const y=o[l],E=e[l];if(y.startsWith(":"))s[y.substring(1)]=E;else if(y!==E.path)return null}return{consumed:e.slice(0,o.length),posParams:s}}function $a(e,r){const n=e?$S(e):void 0,o=r?$S(r):void 0;if(!n||!o||n.length!=o.length)return!1;let s;for(let l=0;l<n.length;l++)if(s=n[l],!yP(e[s],r[s]))return!1;return!0}function $S(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function yP(e,r){if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return!1;const n=[...e].sort(),o=[...r].sort();return n.every((s,l)=>o[l]===s)}return e===r}function _P(e){return e.length>0?e[e.length-1]:null}function hu(e){return function N7(e){return!!e&&(e instanceof ye||"function"==typeof e.lift&&"function"==typeof e.subscribe)}(e)?e:fp(e)?Ki(Promise.resolve(e)):bn(e)}const Q7={exact:function xP(e,r,n){if(!Cl(e.segments,r.segments)||!Lv(e.segments,r.segments,n)||e.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!e.children[o]||!xP(e.children[o],r.children[o],n))return!1;return!0},subset:CP},wP={exact:function J7(e,r){return $a(e,r)},subset:function eG(e,r){return Object.keys(r).length<=Object.keys(e).length&&Object.keys(r).every(n=>yP(e[n],r[n]))},ignored:()=>!0};function SP(e,r,n){return Q7[n.paths](e.root,r.root,n.matrixParams)&&wP[n.queryParams](e.queryParams,r.queryParams)&&!("exact"===n.fragment&&e.fragment!==r.fragment)}function CP(e,r,n){return TP(e,r,r.segments,n)}function TP(e,r,n,o){if(e.segments.length>n.length){const s=e.segments.slice(0,n.length);return!(!Cl(s,n)||r.hasChildren()||!Lv(s,n,o))}if(e.segments.length===n.length){if(!Cl(e.segments,n)||!Lv(e.segments,n,o))return!1;for(const s in r.children)if(!e.children[s]||!CP(e.children[s],r.children[s],o))return!1;return!0}{const s=n.slice(0,e.segments.length),l=n.slice(e.segments.length);return!!(Cl(e.segments,s)&&Lv(e.segments,s,o)&&e.children[rr])&&TP(e.children[rr],r,l,o)}}function Lv(e,r,n){return r.every((o,s)=>wP[n](e[s].parameters,o.parameters))}class fh{constructor(r=new Gr([],{}),n={},o=null){this.root=r,this.queryParams=n,this.fragment=o}get queryParamMap(){return this._queryParamMap??=hh(this.queryParams),this._queryParamMap}toString(){return rG.serialize(this)}}class Gr{constructor(r,n){this.segments=r,this.children=n,this.parent=null,Object.values(n).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jv(this)}}class Hp{constructor(r,n){this.path=r,this.parameters=n}get parameterMap(){return this._parameterMap??=hh(this.parameters),this._parameterMap}toString(){return OP(this)}}function Cl(e,r){return e.length===r.length&&e.every((n,o)=>n.path===r[o].path)}let ph=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:()=>new US,providedIn:"root"})}return e})();class US{parse(r){const n=new pG(r);return new fh(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(r){const n=`/${Gp(r.root,!0)}`,o=function sG(e){const r=Object.entries(e).map(([n,o])=>Array.isArray(o)?o.map(s=>`${Bv(n)}=${Bv(s)}`).join("&"):`${Bv(n)}=${Bv(o)}`).filter(n=>n);return r.length?`?${r.join("&")}`:""}(r.queryParams),s="string"==typeof r.fragment?`#${function iG(e){return encodeURI(e)}(r.fragment)}`:"";return`${n}${o}${s}`}}const rG=new US;function jv(e){return e.segments.map(r=>OP(r)).join("/")}function Gp(e,r){if(!e.hasChildren())return jv(e);if(r){const n=e.children[rr]?Gp(e.children[rr],!1):"",o=[];return Object.entries(e.children).forEach(([s,l])=>{s!==rr&&o.push(`${s}:${Gp(l,!1)}`)}),o.length>0?`${n}(${o.join("//")})`:n}{const n=function nG(e,r){let n=[];return Object.entries(e.children).forEach(([o,s])=>{o===rr&&(n=n.concat(r(s,o)))}),Object.entries(e.children).forEach(([o,s])=>{o!==rr&&(n=n.concat(r(s,o)))}),n}(e,(o,s)=>s===rr?[Gp(e.children[rr],!1)]:[`${s}:${Gp(o,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[rr]?`${jv(e)}/${n[0]}`:`${jv(e)}/(${n.join("//")})`}}function EP(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bv(e){return EP(e).replace(/%3B/gi,";")}function zS(e){return EP(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vv(e){return decodeURIComponent(e)}function DP(e){return Vv(e.replace(/\+/g,"%20"))}function OP(e){return`${zS(e.path)}${function oG(e){return Object.entries(e).map(([r,n])=>`;${zS(r)}=${zS(n)}`).join("")}(e.parameters)}`}const aG=/^[^\/()?;#]+/;function HS(e){const r=e.match(aG);return r?r[0]:""}const cG=/^[^\/()?;=#]+/,lG=/^[^=?&#]+/,hG=/^[^&#]+/;class pG{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gr([],{}):new Gr([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(n).length>0)&&(o[rr]=new Gr(r,n)),o}parseSegment(){const r=HS(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new He(4009,!1);return this.capture(r),new Hp(Vv(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const n=function uG(e){const r=e.match(cG);return r?r[0]:""}(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){const s=HS(this.remaining);s&&(o=s,this.capture(o))}r[Vv(n)]=Vv(o)}parseQueryParam(r){const n=function dG(e){const r=e.match(lG);return r?r[0]:""}(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){const y=function fG(e){const r=e.match(hG);return r?r[0]:""}(this.remaining);y&&(o=y,this.capture(o))}const s=DP(n),l=DP(o);if(r.hasOwnProperty(s)){let y=r[s];Array.isArray(y)||(y=[y],r[s]=y),y.push(l)}else r[s]=l}parseParens(r){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=HS(this.remaining),s=this.remaining[o.length];if("/"!==s&&")"!==s&&";"!==s)throw new He(4010,!1);let l;o.indexOf(":")>-1?(l=o.slice(0,o.indexOf(":")),this.capture(l),this.capture(":")):r&&(l=rr);const y=this.parseChildren();n[l]=1===Object.keys(y).length?y[rr]:new Gr([],y),this.consumeOptional("//")}return n}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new He(4011,!1)}}function MP(e){return e.segments.length>0?new Gr([],{[rr]:e}):e}function IP(e){const r={};for(const[o,s]of Object.entries(e.children)){const l=IP(s);if(o===rr&&0===l.segments.length&&l.hasChildren())for(const[y,E]of Object.entries(l.children))r[y]=E;else(l.segments.length>0||l.hasChildren())&&(r[o]=l)}return function mG(e){if(1===e.numberOfChildren&&e.children[rr]){const r=e.children[rr];return new Gr(e.segments.concat(r.segments),r.children)}return e}(new Gr(e.segments,r))}function mh(e){return e instanceof fh}function AP(e){let r;const s=MP(function n(l){const y={};for(const O of l.children){const N=n(O);y[O.outlet]=N}const E=new Gr(l.url,y);return l===e&&(r=E),E}(e.root));return r??s}function PP(e,r,n,o){let s=e;for(;s.parent;)s=s.parent;if(0===r.length)return GS(s,s,s,n,o);const l=function bG(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new kP(!0,0,e);let r=0,n=!1;const o=e.reduce((s,l,y)=>{if("object"==typeof l&&null!=l){if(l.outlets){const E={};return Object.entries(l.outlets).forEach(([O,N])=>{E[O]="string"==typeof N?N.split("/"):N}),[...s,{outlets:E}]}if(l.segmentPath)return[...s,l.segmentPath]}return"string"!=typeof l?[...s,l]:0===y?(l.split("/").forEach((E,O)=>{0==O&&"."===E||(0==O&&""===E?n=!0:".."===E?r++:""!=E&&s.push(E))}),s):[...s,l]},[]);return new kP(n,r,o)}(r);if(l.toRoot())return GS(s,s,new Gr([],{}),n,o);const y=function vG(e,r,n){if(e.isAbsolute)return new Uv(r,!0,0);if(!n)return new Uv(r,!1,NaN);if(null===n.parent)return new Uv(n,!0,0);const o=$v(e.commands[0])?0:1;return function yG(e,r,n){let o=e,s=r,l=n;for(;l>s;){if(l-=s,o=o.parent,!o)throw new He(4005,!1);s=o.segments.length}return new Uv(o,!1,s-l)}(n,n.segments.length-1+o,e.numberOfDoubleDots)}(l,s,e),E=y.processChildren?qp(y.segmentGroup,y.index,l.commands):NP(y.segmentGroup,y.index,l.commands);return GS(s,y.segmentGroup,E,n,o)}function $v(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Wp(e){return"object"==typeof e&&null!=e&&e.outlets}function GS(e,r,n,o,s){let y,l={};o&&Object.entries(o).forEach(([O,N])=>{l[O]=Array.isArray(N)?N.map($=>`${$}`):`${N}`}),y=e===r?n:RP(e,r,n);const E=MP(IP(y));return new fh(E,l,s)}function RP(e,r,n){const o={};return Object.entries(e.children).forEach(([s,l])=>{o[s]=l===r?n:RP(l,r,n)}),new Gr(e.segments,o)}class kP{constructor(r,n,o){if(this.isAbsolute=r,this.numberOfDoubleDots=n,this.commands=o,r&&o.length>0&&$v(o[0]))throw new He(4003,!1);const s=o.find(Wp);if(s&&s!==_P(o))throw new He(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uv{constructor(r,n,o){this.segmentGroup=r,this.processChildren=n,this.index=o}}function NP(e,r,n){if(e??=new Gr([],{}),0===e.segments.length&&e.hasChildren())return qp(e,r,n);const o=function wG(e,r,n){let o=0,s=r;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(o>=n.length)return l;const y=e.segments[s],E=n[o];if(Wp(E))break;const O=`${E}`,N=o<n.length-1?n[o+1]:null;if(s>0&&void 0===O)break;if(O&&N&&"object"==typeof N&&void 0===N.outlets){if(!LP(O,N,y))return l;o+=2}else{if(!LP(O,{},y))return l;o++}s++}return{match:!0,pathIndex:s,commandIndex:o}}(e,r,n),s=n.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){const l=new Gr(e.segments.slice(0,o.pathIndex),{});return l.children[rr]=new Gr(e.segments.slice(o.pathIndex),e.children),qp(l,0,s)}return o.match&&0===s.length?new Gr(e.segments,{}):o.match&&!e.hasChildren()?WS(e,r,n):o.match?qp(e,0,s):WS(e,r,n)}function qp(e,r,n){if(0===n.length)return new Gr(e.segments,{});{const o=function _G(e){return Wp(e[0])?e[0].outlets:{[rr]:e}}(n),s={};if(Object.keys(o).some(l=>l!==rr)&&e.children[rr]&&1===e.numberOfChildren&&0===e.children[rr].segments.length){const l=qp(e.children[rr],r,n);return new Gr(e.segments,l.children)}return Object.entries(o).forEach(([l,y])=>{"string"==typeof y&&(y=[y]),null!==y&&(s[l]=NP(e.children[l],r,y))}),Object.entries(e.children).forEach(([l,y])=>{void 0===o[l]&&(s[l]=y)}),new Gr(e.segments,s)}}function WS(e,r,n){const o=e.segments.slice(0,r);let s=0;for(;s<n.length;){const l=n[s];if(Wp(l)){const O=SG(l.outlets);return new Gr(o,O)}if(0===s&&$v(n[0])){o.push(new Hp(e.segments[r].path,FP(n[0]))),s++;continue}const y=Wp(l)?l.outlets[rr]:`${l}`,E=s<n.length-1?n[s+1]:null;y&&E&&$v(E)?(o.push(new Hp(y,FP(E))),s+=2):(o.push(new Hp(y,{})),s++)}return new Gr(o,{})}function SG(e){const r={};return Object.entries(e).forEach(([n,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[n]=WS(new Gr([],{}),0,o))}),r}function FP(e){const r={};return Object.entries(e).forEach(([n,o])=>r[n]=`${o}`),r}function LP(e,r,n){return e==n.path&&$a(r,n.parameters)}const Yp="imperative";var yr=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(yr||{});class Ua{constructor(r,n){this.id=r,this.url=n}}class zv extends Ua{constructor(r,n,o="imperative",s=null){super(r,n),this.type=yr.NavigationStart,this.navigationTrigger=o,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sc extends Ua{constructor(r,n,o){super(r,n),this.urlAfterRedirects=o,this.type=yr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Bs=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Bs||{}),Hv=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Hv||{});class gh extends Ua{constructor(r,n,o,s){super(r,n),this.reason=o,this.code=s,this.type=yr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bh extends Ua{constructor(r,n,o,s){super(r,n),this.reason=o,this.code=s,this.type=yr.NavigationSkipped}}class Gv extends Ua{constructor(r,n,o,s){super(r,n),this.error=o,this.target=s,this.type=yr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jP extends Ua{constructor(r,n,o,s){super(r,n),this.urlAfterRedirects=o,this.state=s,this.type=yr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xG extends Ua{constructor(r,n,o,s){super(r,n),this.urlAfterRedirects=o,this.state=s,this.type=yr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CG extends Ua{constructor(r,n,o,s,l){super(r,n),this.urlAfterRedirects=o,this.state=s,this.shouldActivate=l,this.type=yr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TG extends Ua{constructor(r,n,o,s){super(r,n),this.urlAfterRedirects=o,this.state=s,this.type=yr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EG extends Ua{constructor(r,n,o,s){super(r,n),this.urlAfterRedirects=o,this.state=s,this.type=yr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DG{constructor(r){this.route=r,this.type=yr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OG{constructor(r){this.route=r,this.type=yr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class MG{constructor(r){this.snapshot=r,this.type=yr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IG{constructor(r){this.snapshot=r,this.type=yr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AG{constructor(r){this.snapshot=r,this.type=yr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PG{constructor(r){this.snapshot=r,this.type=yr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BP{constructor(r,n,o){this.routerEvent=r,this.position=n,this.anchor=o,this.type=yr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qS{}class YS{constructor(r){this.url=r}}class RG{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kp,this.attachRef=null}}let Kp=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const s=this.getOrCreateContext(n);s.outlet=o,this.contexts.set(n,s)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new RG,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class VP{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const n=this.pathFromRoot(r);return n.length>1?n[n.length-2]:null}children(r){const n=KS(r,this._root);return n?n.children.map(o=>o.value):[]}firstChild(r){const n=KS(r,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(r){const n=XS(r,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==r)}pathFromRoot(r){return XS(r,this._root).map(n=>n.value)}}function KS(e,r){if(e===r.value)return r;for(const n of r.children){const o=KS(e,n);if(o)return o}return null}function XS(e,r){if(e===r.value)return[r];for(const n of r.children){const o=XS(e,n);if(o.length)return o.unshift(r),o}return[]}class ua{constructor(r,n){this.value=r,this.children=n}toString(){return`TreeNode(${this.value})`}}function vh(e){const r={};return e&&e.children.forEach(n=>r[n.value.outlet]=n),r}class $P extends VP{constructor(r,n){super(r),this.snapshot=n,JS(this,r)}toString(){return this.snapshot.toString()}}function UP(e){const r=function kG(e){const l=new QS([],{},{},"",{},rr,e,null,{});return new zP("",new ua(l,[]))}(e),n=new hn([new Hp("",{})]),o=new hn({}),s=new hn({}),l=new hn({}),y=new hn(""),E=new Tl(n,o,l,y,s,rr,e,r.root);return E.snapshot=r.root,new $P(new ua(E,[]),r)}class Tl{constructor(r,n,o,s,l,y,E,O){this.urlSubject=r,this.paramsSubject=n,this.queryParamsSubject=o,this.fragmentSubject=s,this.dataSubject=l,this.outlet=y,this.component=E,this._futureSnapshot=O,this.title=this.dataSubject?.pipe(Yt(N=>N[zp]))??bn(void 0),this.url=r,this.params=n,this.queryParams=o,this.fragment=s,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Yt(r=>hh(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Yt(r=>hh(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZS(e,r,n="emptyOnly"){let o;const{routeConfig:s}=e;return o=null===r||"always"!==n&&""!==s?.path&&(r.component||r.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...r.params,...e.params},data:{...r.data,...e.data},resolve:{...e.data,...r.data,...s?.data,...e._resolvedData}},s&&GP(s)&&(o.resolve[zp]=s.title),o}class QS{get title(){return this.data?.[zp]}constructor(r,n,o,s,l,y,E,O,N){this.url=r,this.params=n,this.queryParams=o,this.fragment=s,this.data=l,this.outlet=y,this.component=E,this.routeConfig=O,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hh(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zP extends VP{constructor(r,n){super(n),this.url=r,JS(this,n)}toString(){return HP(this._root)}}function JS(e,r){r.value._routerState=e,r.children.forEach(n=>JS(e,n))}function HP(e){const r=e.children.length>0?` { ${e.children.map(HP).join(", ")} } `:"";return`${e.value}${r}`}function e1(e){if(e.snapshot){const r=e.snapshot,n=e._futureSnapshot;e.snapshot=n,$a(r.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),r.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),$a(r.params,n.params)||e.paramsSubject.next(n.params),function Z7(e,r){if(e.length!==r.length)return!1;for(let n=0;n<e.length;++n)if(!$a(e[n],r[n]))return!1;return!0}(r.url,n.url)||e.urlSubject.next(n.url),$a(r.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function t1(e,r){const n=$a(e.params,r.params)&&function tG(e,r){return Cl(e,r)&&e.every((n,o)=>$a(n.parameters,r[o].parameters))}(e.url,r.url);return n&&!(!e.parent!=!r.parent)&&(!e.parent||t1(e.parent,r.parent))}function GP(e){return"string"==typeof e.title||null===e.title}let WP=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=rr,this.activateEvents=new ee,this.deactivateEvents=new ee,this.attachEvents=new ee,this.detachEvents=new ee,this.parentContexts=yt(Kp),this.location=yt(Os),this.changeDetector=yt(pc),this.environmentInjector=yt(jo),this.inputBinder=yt(Wv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:s}=n.name;if(o)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new He(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new He(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new He(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new He(4013,!1);this._activatedRoute=n;const s=this.location,y=n.snapshot.component,E=this.parentContexts.getOrCreateContext(this.name).children,O=new NG(n,E,s.injector);this.activated=s.createComponent(y,{index:s.length,injector:O,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=Jt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[so]})}return e})();class NG{constructor(r,n,o){this.route=r,this.childContexts=n,this.parent=o}get(r,n){return r===Tl?this.route:r===Kp?this.childContexts:this.parent.get(r,n)}}const Wv=new Dt("");let qP=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,s=hv([o.queryParams,o.params,o.data]).pipe(ks(([l,y,E],O)=>(E={...l,...y,...E},0===O?bn(E):Promise.resolve(E)))).subscribe(l=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const y=function AV(e){const r=Xn(e);if(!r)return null;const n=new qf(r);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}(o.component);if(y)for(const{templateName:E}of y.inputs)n.activatedComponentRef.setInput(E,l[E]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,s)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();function Xp(e,r,n){if(n&&e.shouldReuseRoute(r.value,n.value.snapshot)){const o=n.value;o._futureSnapshot=r.value;const s=function LG(e,r,n){return r.children.map(o=>{for(const s of n.children)if(e.shouldReuseRoute(o.value,s.value.snapshot))return Xp(e,o,s);return Xp(e,o)})}(e,r,n);return new ua(o,s)}{if(e.shouldAttach(r.value)){const l=e.retrieve(r.value);if(null!==l){const y=l.route;return y.value._futureSnapshot=r.value,y.children=r.children.map(E=>Xp(e,E)),y}}const o=function jG(e){return new Tl(new hn(e.url),new hn(e.params),new hn(e.queryParams),new hn(e.fragment),new hn(e.data),e.outlet,e.component,e)}(r.value),s=r.children.map(l=>Xp(e,l));return new ua(o,s)}}const YP="ngNavigationCancelingError";function KP(e,r){const{redirectTo:n,navigationBehaviorOptions:o}=mh(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,s=XP(!1,Bs.Redirect);return s.url=n,s.navigationBehaviorOptions=o,s}function XP(e,r){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[YP]=!0,n.cancellationCode=r,n}function ZP(e){return!!e&&e[YP]}let QP=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=Or({type:e,selectors:[["ng-component"]],standalone:!0,features:[ns],decls:1,vars:0,template:function(o,s){1&o&&Er(0,"router-outlet")},dependencies:[WP],encapsulation:2})}return e})();function n1(e){const r=e.children&&e.children.map(n1),n=r?{...e,children:r}:{...e};return!n.component&&!n.loadComponent&&(r||n.loadChildren)&&n.outlet&&n.outlet!==rr&&(n.component=QP),n}function za(e){return e.outlet||rr}function Zp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let r=e.parent;r;r=r.parent){const n=r.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class WG{constructor(r,n,o,s,l){this.routeReuseStrategy=r,this.futureState=n,this.currState=o,this.forwardEvent=s,this.inputBindingEnabled=l}activate(r){const n=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,o,r),e1(this.futureState.root),this.activateChildRoutes(n,o,r)}deactivateChildRoutes(r,n,o){const s=vh(n);r.children.forEach(l=>{const y=l.value.outlet;this.deactivateRoutes(l,s[y],o),delete s[y]}),Object.values(s).forEach(l=>{this.deactivateRouteAndItsChildren(l,o)})}deactivateRoutes(r,n,o){const s=r.value,l=n?n.value:null;if(s===l)if(s.component){const y=o.getContext(s.outlet);y&&this.deactivateChildRoutes(r,n,y.children)}else this.deactivateChildRoutes(r,n,o);else l&&this.deactivateRouteAndItsChildren(n,o)}deactivateRouteAndItsChildren(r,n){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,n):this.deactivateRouteAndOutlet(r,n)}detachAndStoreRouteSubtree(r,n){const o=n.getContext(r.value.outlet),s=o&&r.value.component?o.children:n,l=vh(r);for(const y of Object.values(l))this.deactivateRouteAndItsChildren(y,s);if(o&&o.outlet){const y=o.outlet.detach(),E=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:y,route:r,contexts:E})}}deactivateRouteAndOutlet(r,n){const o=n.getContext(r.value.outlet),s=o&&r.value.component?o.children:n,l=vh(r);for(const y of Object.values(l))this.deactivateRouteAndItsChildren(y,s);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(r,n,o){const s=vh(n);r.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],o),this.forwardEvent(new PG(l.value.snapshot))}),r.children.length&&this.forwardEvent(new IG(r.value.snapshot))}activateRoutes(r,n,o){const s=r.value,l=n?n.value:null;if(e1(s),s===l)if(s.component){const y=o.getOrCreateContext(s.outlet);this.activateChildRoutes(r,n,y.children)}else this.activateChildRoutes(r,n,o);else if(s.component){const y=o.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const E=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),y.children.onOutletReAttached(E.contexts),y.attachRef=E.componentRef,y.route=E.route.value,y.outlet&&y.outlet.attach(E.componentRef,E.route.value),e1(E.route.value),this.activateChildRoutes(r,null,y.children)}else{const E=Zp(s.snapshot);y.attachRef=null,y.route=s,y.injector=E,y.outlet&&y.outlet.activateWith(s,y.injector),this.activateChildRoutes(r,null,y.children)}}else this.activateChildRoutes(r,null,o)}}class JP{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class qv{constructor(r,n){this.component=r,this.route=n}}function qG(e,r,n){const o=e._root;return Qp(o,r?r._root:null,n,[o.value])}function yh(e,r){const n=Symbol(),o=r.get(e,n);return o===n?"function"!=typeof e||function Ys(e){return null!==Fu(e)}(e)?r.get(e):e:o}function Qp(e,r,n,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=vh(r);return e.children.forEach(y=>{(function KG(e,r,n,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=e.value,y=r?r.value:null,E=n?n.getContext(e.value.outlet):null;if(y&&l.routeConfig===y.routeConfig){const O=function XG(e,r,n){if("function"==typeof n)return n(e,r);switch(n){case"pathParamsChange":return!Cl(e.url,r.url);case"pathParamsOrQueryParamsChange":return!Cl(e.url,r.url)||!$a(e.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!t1(e,r)||!$a(e.queryParams,r.queryParams);default:return!t1(e,r)}}(y,l,l.routeConfig.runGuardsAndResolvers);O?s.canActivateChecks.push(new JP(o)):(l.data=y.data,l._resolvedData=y._resolvedData),Qp(e,r,l.component?E?E.children:null:n,o,s),O&&E&&E.outlet&&E.outlet.isActivated&&s.canDeactivateChecks.push(new qv(E.outlet.component,y))}else y&&Jp(r,E,s),s.canActivateChecks.push(new JP(o)),Qp(e,null,l.component?E?E.children:null:n,o,s)})(y,l[y.value.outlet],n,o.concat([y.value]),s),delete l[y.value.outlet]}),Object.entries(l).forEach(([y,E])=>Jp(E,n.getContext(y),s)),s}function Jp(e,r,n){const o=vh(e),s=e.value;Object.entries(o).forEach(([l,y])=>{Jp(y,s.component?r?r.children.getContext(l):null:r,n)}),n.canDeactivateChecks.push(new qv(s.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,s))}function em(e){return"function"==typeof e}function e2(e){return e instanceof Nv||"EmptyError"===e?.name}const Yv=Symbol("INITIAL_VALUE");function _h(){return ks(e=>hv(e.map(r=>r.pipe(Go(1),uh(Yv)))).pipe(Yt(r=>{for(const n of r)if(!0!==n){if(n===Yv)return Yv;if(!1===n||n instanceof fh)return n}return!0}),wi(r=>r!==Yv),Go(1)))}function t2(e){return function ne(...e){return xe(e)}(ji(r=>{if(mh(r))throw KP(0,r)}),Yt(r=>!0===r))}class r1{constructor(r){this.segmentGroup=r||null}}class o1 extends Error{constructor(r){super(),this.urlTree=r}}function wh(e){return $p(new r1(e))}class mW{constructor(r,n){this.urlSerializer=r,this.urlTree=n}lineralizeSegments(r,n){let o=[],s=n.root;for(;;){if(o=o.concat(s.segments),0===s.numberOfChildren)return bn(o);if(s.numberOfChildren>1||!s.children[rr])return $p(new He(4e3,!1));s=s.children[rr]}}applyRedirectCommands(r,n,o){const s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),r,o);if(n.startsWith("/"))throw new o1(s);return s}applyRedirectCreateUrlTree(r,n,o,s){const l=this.createSegmentGroup(r,n.root,o,s);return new fh(l,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(r,n){const o={};return Object.entries(r).forEach(([s,l])=>{if("string"==typeof l&&l.startsWith(":")){const E=l.substring(1);o[s]=n[E]}else o[s]=l}),o}createSegmentGroup(r,n,o,s){const l=this.createSegments(r,n.segments,o,s);let y={};return Object.entries(n.children).forEach(([E,O])=>{y[E]=this.createSegmentGroup(r,O,o,s)}),new Gr(l,y)}createSegments(r,n,o,s){return n.map(l=>l.path.startsWith(":")?this.findPosParam(r,l,s):this.findOrReturn(l,o))}findPosParam(r,n,o){const s=o[n.path.substring(1)];if(!s)throw new He(4001,!1);return s}findOrReturn(r,n){let o=0;for(const s of n){if(s.path===r.path)return n.splice(o),s;o++}return r}}const s1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gW(e,r,n,o,s){const l=a1(e,r,n);return l.matched?(o=function VG(e,r){return e.providers&&!e._injector&&(e._injector=J_(e.providers,r,`Route: ${e.path}`)),e._injector??r}(r,o),function hW(e,r,n,o){const s=r.canMatch;return s&&0!==s.length?bn(s.map(y=>{const E=yh(y,e);return hu(function nW(e){return e&&em(e.canMatch)}(E)?E.canMatch(r,n):Da(e,()=>E(r,n)))})).pipe(_h(),t2()):bn(!0)}(o,r,n).pipe(Yt(y=>!0===y?l:{...s1}))):bn(l)}function a1(e,r,n){if("**"===r.path)return function bW(e){return{matched:!0,parameters:e.length>0?_P(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===r.path)return"full"===r.pathMatch&&(e.hasChildren()||n.length>0)?{...s1}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(r.matcher||X7)(n,e,r);if(!s)return{...s1};const l={};Object.entries(s.posParams??{}).forEach(([E,O])=>{l[E]=O.path});const y=s.consumed.length>0?{...l,...s.consumed[s.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:y,positionalParamSegments:s.posParams??{}}}function n2(e,r,n,o){return n.length>0&&function _W(e,r,n){return n.some(o=>Kv(e,r,o)&&za(o)!==rr)}(e,n,o)?{segmentGroup:new Gr(r,yW(o,new Gr(n,e.children))),slicedSegments:[]}:0===n.length&&function wW(e,r,n){return n.some(o=>Kv(e,r,o))}(e,n,o)?{segmentGroup:new Gr(e.segments,vW(e,n,o,e.children)),slicedSegments:n}:{segmentGroup:new Gr(e.segments,e.children),slicedSegments:n}}function vW(e,r,n,o){const s={};for(const l of n)if(Kv(e,r,l)&&!o[za(l)]){const y=new Gr([],{});s[za(l)]=y}return{...o,...s}}function yW(e,r){const n={};n[rr]=r;for(const o of e)if(""===o.path&&za(o)!==rr){const s=new Gr([],{});n[za(o)]=s}return n}function Kv(e,r,n){return(!(e.hasChildren()||r.length>0)||"full"!==n.pathMatch)&&""===n.path}class CW{}class DW{constructor(r,n,o,s,l,y,E){this.injector=r,this.configLoader=n,this.rootComponentType=o,this.config=s,this.urlTree=l,this.paramsInheritanceStrategy=y,this.urlSerializer=E,this.applyRedirects=new mW(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new He(4002,`'${r.segmentGroup}'`)}recognize(){const r=n2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(Yt(n=>{const o=new QS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rr,this.rootComponentType,null,{}),s=new ua(o,n),l=new zP("",s),y=function gG(e,r,n=null,o=null){return PP(AP(e),r,n,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return y.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(y),this.inheritParamsAndData(l._root,null),{state:l,tree:y}}))}match(r){return this.processSegmentGroup(this.injector,this.config,r,rr).pipe(dh(o=>{if(o instanceof o1)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof r1?this.noMatchError(o):o}))}inheritParamsAndData(r,n){const o=r.value,s=ZS(o,n,this.paramsInheritanceStrategy);o.params=Object.freeze(s.params),o.data=Object.freeze(s.data),r.children.forEach(l=>this.inheritParamsAndData(l,o))}processSegmentGroup(r,n,o,s){return 0===o.segments.length&&o.hasChildren()?this.processChildren(r,n,o):this.processSegment(r,n,o,o.segments,s,!0).pipe(Yt(l=>l instanceof ua?[l]:[]))}processChildren(r,n,o){const s=[];for(const l of Object.keys(o.children))"primary"===l?s.unshift(l):s.push(l);return Ki(s).pipe(Zd(l=>{const y=o.children[l],E=function HG(e,r){const n=e.filter(o=>za(o)===r);return n.push(...e.filter(o=>za(o)!==r)),n}(n,l);return this.processSegmentGroup(r,E,y,l)}),function $7(e,r){let n=!1;return arguments.length>=2&&(n=!0),function(s){return s.lift(new U7(e,r,n))}}((l,y)=>(l.push(...y),l)),Fv(null),function W7(e,r){const n=arguments.length>=2;return o=>o.pipe(e?wi((s,l)=>e(s,l,o)):Me,BS(1),n?Fv(r):vP(()=>new Nv))}(),Uo(l=>{if(null===l)return wh(o);const y=r2(l);return function OW(e){e.sort((r,n)=>r.value.outlet===rr?-1:n.value.outlet===rr?1:r.value.outlet.localeCompare(n.value.outlet))}(y),bn(y)}))}processSegment(r,n,o,s,l,y){return Ki(n).pipe(Zd(E=>this.processSegmentAgainstRoute(E._injector??r,n,E,o,s,l,y).pipe(dh(O=>{if(O instanceof r1)return bn(null);throw O}))),xl(E=>!!E),dh(E=>{if(e2(E))return function xW(e,r,n){return 0===r.length&&!e.children[n]}(o,s,l)?bn(new CW):wh(o);throw E}))}processSegmentAgainstRoute(r,n,o,s,l,y,E){return function SW(e,r,n,o){return!!(za(e)===o||o!==rr&&Kv(r,n,e))&&a1(r,e,n).matched}(o,s,l,y)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(r,s,o,l,y):this.allowRedirects&&E?this.expandSegmentAgainstRouteUsingRedirect(r,s,n,o,l,y):wh(s):wh(s)}expandSegmentAgainstRouteUsingRedirect(r,n,o,s,l,y){const{matched:E,consumedSegments:O,positionalParamSegments:N,remainingSegments:$}=a1(n,s,l);if(!E)return wh(n);s.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const H=this.applyRedirects.applyRedirectCommands(O,s.redirectTo,N);return this.applyRedirects.lineralizeSegments(s,H).pipe(Uo(ae=>this.processSegment(r,o,n,ae.concat($),y,!1)))}matchSegmentAgainstRoute(r,n,o,s,l){const y=gW(n,o,s,r);return"**"===o.path&&(n.children={}),y.pipe(ks(E=>E.matched?this.getChildConfig(r=o._injector??r,o,s).pipe(ks(({routes:O})=>{const N=o._loadedInjector??r,{consumedSegments:$,remainingSegments:H,parameters:ae}=E,me=new QS($,ae,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function IW(e){return e.data||{}}(o),za(o),o.component??o._loadedComponent??null,o,function AW(e){return e.resolve||{}}(o)),{segmentGroup:Ce,slicedSegments:Ne}=n2(n,$,H,O);if(0===Ne.length&&Ce.hasChildren())return this.processChildren(N,O,Ce).pipe(Yt(mt=>null===mt?null:new ua(me,mt)));if(0===O.length&&0===Ne.length)return bn(new ua(me,[]));const Ge=za(o)===l;return this.processSegment(N,O,Ce,Ne,Ge?rr:l,!0).pipe(Yt(mt=>new ua(me,mt instanceof ua?[mt]:[])))})):wh(n)))}getChildConfig(r,n,o){return n.children?bn({routes:n.children,injector:r}):n.loadChildren?void 0!==n._loadedRoutes?bn({routes:n._loadedRoutes,injector:n._loadedInjector}):function dW(e,r,n,o){const s=r.canLoad;return void 0===s||0===s.length?bn(!0):bn(s.map(y=>{const E=yh(y,e);return hu(function QG(e){return e&&em(e.canLoad)}(E)?E.canLoad(r,n):Da(e,()=>E(r,n)))})).pipe(_h(),t2())}(r,n,o).pipe(Uo(s=>s?this.configLoader.loadChildren(r,n).pipe(ji(l=>{n._loadedRoutes=l.routes,n._loadedInjector=l.injector})):function pW(e){return $p(XP(!1,Bs.GuardRejected))}())):bn({routes:[],injector:r})}}function MW(e){const r=e.value.routeConfig;return r&&""===r.path}function r2(e){const r=[],n=new Set;for(const o of e){if(!MW(o)){r.push(o);continue}const s=r.find(l=>o.value.routeConfig===l.value.routeConfig);void 0!==s?(s.children.push(...o.children),n.add(s)):r.push(o)}for(const o of n){const s=r2(o.children);r.push(new ua(o.value,s))}return r.filter(o=>!n.has(o))}function o2(e){const r=e.children.map(n=>o2(n)).flat();return[e,...r]}function c1(e){return ks(r=>{const n=e(r);return n?Ki(n).pipe(Yt(()=>r)):bn(r)})}let s2=(()=>{class e{buildTitle(n){let o,s=n.root;for(;void 0!==s;)o=this.getResolvedTitleForRoute(s)??o,s=s.children.find(l=>l.outlet===rr);return o}getResolvedTitleForRoute(n){return n.data[zp]}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:()=>yt(LW),providedIn:"root"})}return e})(),LW=(()=>{class e extends s2{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}static#e=this.\u0275fac=function(o){return new(o||e)(We(JU))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sh=new Dt("",{providedIn:"root",factory:()=>({})}),xh=new Dt("");let u1=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=yt(cO)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return bn(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=hu(n.loadComponent()).pipe(Yt(a2),ji(l=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=l}),Qd(()=>{this.componentLoaders.delete(n)})),s=new jS(o,()=>new Lt).pipe(Av());return this.componentLoaders.set(n,s),s}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return bn({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const l=function jW(e,r,n,o){return hu(e.loadChildren()).pipe(Yt(a2),Uo(s=>s instanceof wT||Array.isArray(s)?bn(s):Ki(r.compileModuleAsync(s))),Yt(s=>{o&&o(e);let l,y,E=!1;return Array.isArray(s)?(y=s,!0):(l=s.create(n).injector,y=l.get(xh,[],{optional:!0,self:!0}).flat()),{routes:y.map(n1),injector:l}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(Qd(()=>{this.childrenLoaders.delete(o)})),y=new jS(l,()=>new Lt).pipe(Av());return this.childrenLoaders.set(o,y),y}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function a2(e){return function BW(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let l1=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:()=>yt(VW),providedIn:"root"})}return e})(),VW=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const c2=new Dt(""),u2=new Dt("");function $W(e,r,n){const o=e.get(u2),s=e.get(er);return e.get(_n).runOutsideAngular(()=>{if(!s.startViewTransition||o.skipNextTransition)return o.skipNextTransition=!1,Promise.resolve();let l;const y=new Promise(N=>{l=N}),E=s.startViewTransition(()=>(l(),function UW(e){return new Promise(r=>{$C(r,{injector:e})})}(e))),{onViewTransitionCreated:O}=o;return O&&Da(e,()=>O({transition:E,from:r,to:n})),y})}let Xv=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Lt,this.transitionAbortSubject=new Lt,this.configLoader=yt(u1),this.environmentInjector=yt(jo),this.urlSerializer=yt(ph),this.rootContexts=yt(Kp),this.location=yt(ll),this.inputBindingEnabled=null!==yt(Wv,{optional:!0}),this.titleStrategy=yt(s2),this.options=yt(Sh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=yt(l1),this.createViewTransition=yt(c2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>bn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new OG(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new DG(s))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,s){return this.transitions=new hn({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yp,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wi(l=>0!==l.id),Yt(l=>({...l,extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),ks(l=>{this.currentTransition=l;let y=!1,E=!1;return bn(l).pipe(ji(O=>{this.currentNavigation={id:O.id,initialUrl:O.rawUrl,extractedUrl:O.extractedUrl,trigger:O.source,extras:O.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ks(O=>{const N=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!N&&"reload"!==(O.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const H="";return this.events.next(new bh(O.id,this.urlSerializer.serialize(O.rawUrl),H,Hv.IgnoredSameUrlNavigation)),O.resolve(null),vl}if(this.urlHandlingStrategy.shouldProcessUrl(O.rawUrl))return bn(O).pipe(ks(H=>{const ae=this.transitions?.getValue();return this.events.next(new zv(H.id,this.urlSerializer.serialize(H.extractedUrl),H.source,H.restoredState)),ae!==this.transitions?.getValue()?vl:Promise.resolve(H)}),function PW(e,r,n,o,s,l){return Uo(y=>function TW(e,r,n,o,s,l,y="emptyOnly"){return new DW(e,r,n,o,s,y,l).recognize()}(e,r,n,o,y.extractedUrl,s,l).pipe(Yt(({state:E,tree:O})=>({...y,targetSnapshot:E,urlAfterRedirects:O}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ji(H=>{l.targetSnapshot=H.targetSnapshot,l.urlAfterRedirects=H.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:H.urlAfterRedirects};const ae=new jP(H.id,this.urlSerializer.serialize(H.extractedUrl),this.urlSerializer.serialize(H.urlAfterRedirects),H.targetSnapshot);this.events.next(ae)}));if(N&&this.urlHandlingStrategy.shouldProcessUrl(O.currentRawUrl)){const{id:H,extractedUrl:ae,source:me,restoredState:Ce,extras:Ne}=O,Ge=new zv(H,this.urlSerializer.serialize(ae),me,Ce);this.events.next(Ge);const mt=UP(this.rootComponentType).snapshot;return this.currentTransition=l={...O,targetSnapshot:mt,urlAfterRedirects:ae,extras:{...Ne,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ae,bn(l)}{const H="";return this.events.next(new bh(O.id,this.urlSerializer.serialize(O.extractedUrl),H,Hv.IgnoredByUrlHandlingStrategy)),O.resolve(null),vl}}),ji(O=>{const N=new xG(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next(N)}),Yt(O=>(this.currentTransition=l={...O,guards:qG(O.targetSnapshot,O.currentSnapshot,this.rootContexts)},l)),function rW(e,r){return Uo(n=>{const{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:y}}=n;return 0===y.length&&0===l.length?bn({...n,guardsResult:!0}):function iW(e,r,n,o){return Ki(e).pipe(Uo(s=>function lW(e,r,n,o,s){const l=r&&r.routeConfig?r.routeConfig.canDeactivate:null;return l&&0!==l.length?bn(l.map(E=>{const O=Zp(r)??s,N=yh(E,O);return hu(function tW(e){return e&&em(e.canDeactivate)}(N)?N.canDeactivate(e,r,n,o):Da(O,()=>N(e,r,n,o))).pipe(xl())})).pipe(_h()):bn(!0)}(s.component,s.route,n,r,o)),xl(s=>!0!==s,!0))}(y,o,s,e).pipe(Uo(E=>E&&function ZG(e){return"boolean"==typeof e}(E)?function oW(e,r,n,o){return Ki(r).pipe(Zd(s=>fv(function aW(e,r){return null!==e&&r&&r(new MG(e)),bn(!0)}(s.route.parent,o),function sW(e,r){return null!==e&&r&&r(new AG(e)),bn(!0)}(s.route,o),function uW(e,r,n){const o=r[r.length-1],l=r.slice(0,r.length-1).reverse().map(y=>function YG(e){const r=e.routeConfig?e.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:e,guards:r}:null}(y)).filter(y=>null!==y).map(y=>vv(()=>bn(y.guards.map(O=>{const N=Zp(y.node)??n,$=yh(O,N);return hu(function eW(e){return e&&em(e.canActivateChild)}($)?$.canActivateChild(o,e):Da(N,()=>$(o,e))).pipe(xl())})).pipe(_h())));return bn(l).pipe(_h())}(e,s.path,n),function cW(e,r,n){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return bn(!0);const s=o.map(l=>vv(()=>{const y=Zp(r)??n,E=yh(l,y);return hu(function JG(e){return e&&em(e.canActivate)}(E)?E.canActivate(r,e):Da(y,()=>E(r,e))).pipe(xl())}));return bn(s).pipe(_h())}(e,s.route,n))),xl(s=>!0!==s,!0))}(o,l,e,r):bn(E)),Yt(E=>({...n,guardsResult:E})))})}(this.environmentInjector,O=>this.events.next(O)),ji(O=>{if(l.guardsResult=O.guardsResult,mh(O.guardsResult))throw KP(0,O.guardsResult);const N=new CG(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot,!!O.guardsResult);this.events.next(N)}),wi(O=>!!O.guardsResult||(this.cancelNavigationTransition(O,"",Bs.GuardRejected),!1)),c1(O=>{if(O.guards.canActivateChecks.length)return bn(O).pipe(ji(N=>{const $=new TG(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next($)}),ks(N=>{let $=!1;return bn(N).pipe(function RW(e,r){return Uo(n=>{const{targetSnapshot:o,guards:{canActivateChecks:s}}=n;if(!s.length)return bn(n);const l=new Set(s.map(O=>O.route)),y=new Set;for(const O of l)if(!y.has(O))for(const N of o2(O))y.add(N);let E=0;return Ki(y).pipe(Zd(O=>l.has(O)?function kW(e,r,n,o){const s=e.routeConfig,l=e._resolve;return void 0!==s?.title&&!GP(s)&&(l[zp]=s.title),function NW(e,r,n,o){const s=$S(e);if(0===s.length)return bn({});const l={};return Ki(s).pipe(Uo(y=>function FW(e,r,n,o){const s=Zp(r)??o,l=yh(e,s);return hu(l.resolve?l.resolve(r,n):Da(s,()=>l(r,n)))}(e[y],r,n,o).pipe(xl(),ji(E=>{l[y]=E}))),BS(1),VS(l),dh(y=>e2(y)?vl:$p(y)))}(l,e,r,o).pipe(Yt(y=>(e._resolvedData=y,e.data=ZS(e,e.parent,n).resolve,null)))}(O,o,e,r):(O.data=ZS(O,O.parent,e).resolve,bn(void 0))),ji(()=>E++),BS(1),Uo(O=>E===y.size?bn(n):vl))})}(this.paramsInheritanceStrategy,this.environmentInjector),ji({next:()=>$=!0,complete:()=>{$||this.cancelNavigationTransition(N,"",Bs.NoDataFromResolver)}}))}),ji(N=>{const $=new EG(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next($)}))}),c1(O=>{const N=$=>{const H=[];$.routeConfig?.loadComponent&&!$.routeConfig._loadedComponent&&H.push(this.configLoader.loadComponent($.routeConfig).pipe(ji(ae=>{$.component=ae}),Yt(()=>{})));for(const ae of $.children)H.push(...N(ae));return H};return hv(N(O.targetSnapshot.root)).pipe(Fv(null),Go(1))}),c1(()=>this.afterPreactivation()),ks(()=>{const{currentSnapshot:O,targetSnapshot:N}=l,$=this.createViewTransition?.(this.environmentInjector,O.root,N.root);return $?Ki($).pipe(Yt(()=>l)):bn(l)}),Yt(O=>{const N=function FG(e,r,n){const o=Xp(e,r._root,n?n._root:void 0);return new $P(o,r)}(n.routeReuseStrategy,O.targetSnapshot,O.currentRouterState);return this.currentTransition=l={...O,targetRouterState:N},this.currentNavigation.targetRouterState=N,l}),ji(()=>{this.events.next(new qS)}),((e,r,n,o)=>Yt(s=>(new WG(r,s.targetRouterState,s.currentRouterState,n,o).activate(e),s)))(this.rootContexts,n.routeReuseStrategy,O=>this.events.next(O),this.inputBindingEnabled),Go(1),ji({next:O=>{y=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sc(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects))),this.titleStrategy?.updateTitle(O.targetRouterState.snapshot),O.resolve(!0)},complete:()=>{y=!0}}),Ho(this.transitionAbortSubject.pipe(ji(O=>{throw O}))),Qd(()=>{!y&&!E&&this.cancelNavigationTransition(l,"",Bs.SupersededByNewNavigation),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),dh(O=>{if(E=!0,ZP(O))this.events.next(new gh(l.id,this.urlSerializer.serialize(l.extractedUrl),O.message,O.cancellationCode)),function BG(e){return ZP(e)&&mh(e.url)}(O)?this.events.next(new YS(O.url)):l.resolve(!1);else{this.events.next(new Gv(l.id,this.urlSerializer.serialize(l.extractedUrl),O,l.targetSnapshot??void 0));try{l.resolve(n.errorHandler(O))}catch(N){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(N)}}return vl}))}))}cancelNavigationTransition(n,o,s){const l=new gh(n.id,this.urlSerializer.serialize(n.extractedUrl),o,s);this.events.next(l),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zW(e){return e!==Yp}let HW=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:()=>yt(WW),providedIn:"root"})}return e})();class GW{shouldDetach(r){return!1}store(r,n){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,n){return r.routeConfig===n.routeConfig}}let WW=(()=>{class e extends GW{static#e=this.\u0275fac=(()=>{let n;return function(s){return(n||(n=Kr(e)))(s||e)}})();static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),l2=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:()=>yt(qW),providedIn:"root"})}return e})(),qW=(()=>{class e extends l2{constructor(){super(...arguments),this.location=yt(ll),this.urlSerializer=yt(ph),this.options=yt(Sh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=yt(l1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=UP(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof zv)this.stateMemento=this.createStateMemento();else if(n instanceof bh)this.rawUrlTree=o.initialUrl;else if(n instanceof jP){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(s,o)}}else n instanceof qS?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof gh&&(n.code===Bs.GuardRejected||n.code===Bs.NoDataFromResolver)?this.restoreHistory(o):n instanceof Gv?this.restoreHistory(o,!0):n instanceof Sc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl){const y={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(s,"",y)}else{const l={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(s,"",l)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===n.finalUrl&&0===l&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(s){return(n||(n=Kr(e)))(s||e)}})();static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tm=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(tm||{});function d2(e,r){e.events.pipe(wi(n=>n instanceof Sc||n instanceof gh||n instanceof Gv||n instanceof bh),Yt(n=>n instanceof Sc||n instanceof bh?tm.COMPLETE:n instanceof gh&&(n.code===Bs.Redirect||n.code===Bs.SupersededByNewNavigation)?tm.REDIRECTING:tm.FAILED),wi(n=>n!==tm.REDIRECTING),Go(1)).subscribe(()=>{r()})}function YW(e){throw e}const KW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let la=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=yt(ob),this.stateManager=yt(l2),this.options=yt(Sh,{optional:!0})||{},this.pendingTasks=yt(nl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=yt(Xv),this.urlSerializer=yt(ph),this.location=yt(ll),this.urlHandlingStrategy=yt(l1),this._events=new Lt,this.errorHandler=this.options.errorHandler||YW,this.navigated=!1,this.routeReuseStrategy=yt(HW),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=yt(xh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!yt(Wv,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=yt(_n)instanceof _n&&_n.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const s=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(null!==s&&null!==l)if(this.stateManager.handleRouterEvent(o,l),o instanceof gh&&o.code!==Bs.Redirect&&o.code!==Bs.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Sc)this.navigated=!0;else if(o instanceof YS){const y=this.urlHandlingStrategy.merge(o.url,s.currentRawUrl),E={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zW(s.source)};this.scheduleNavigation(y,Yp,null,E,{resolve:s.resolve,reject:s.reject,promise:s.promise})}(function QW(e){return!(e instanceof qS||e instanceof YS)})(o)&&this._events.next(o)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)})}navigateToSyncWithBrowser(n,o,s){const l={replaceUrl:!0},y=s?.navigationId?s:null;if(s){const O={...s};delete O.navigationId,delete O.\u0275routerPageId,0!==Object.keys(O).length&&(l.state=O)}const E=this.parseUrl(n);this.scheduleNavigation(E,o,y,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(n1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:s,queryParams:l,fragment:y,queryParamsHandling:E,preserveFragment:O}=o,N=O?this.currentUrlTree.fragment:y;let H,$=null;switch(E){case"merge":$={...this.currentUrlTree.queryParams,...l};break;case"preserve":$=this.currentUrlTree.queryParams;break;default:$=l||null}null!==$&&($=this.removeEmptyProps($));try{H=AP(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),H=this.currentUrlTree.root}return PP(H,n,$,N??null)}navigateByUrl(n,o={skipLocationChange:!1}){const s=mh(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,Yp,null,o)}navigate(n,o={skipLocationChange:!1}){return function ZW(e){for(let r=0;r<e.length;r++)if(null==e[r])throw new He(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let s;if(s=!0===o?{...KW}:!1===o?{...XW}:o,mh(n))return SP(this.currentUrlTree,n,s);const l=this.parseUrl(n);return SP(this.currentUrlTree,l,s)}removeEmptyProps(n){return Object.entries(n).reduce((o,[s,l])=>(null!=l&&(o[s]=l),o),{})}scheduleNavigation(n,o,s,l,y){if(this.disposed)return Promise.resolve(!1);let E,O,N;y?(E=y.resolve,O=y.reject,N=y.promise):N=new Promise((H,ae)=>{E=H,O=ae});const $=this.pendingTasks.add();return d2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove($))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:l,resolve:E,reject:O,promise:N,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),N.catch(H=>Promise.reject(H))}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class h2{}let tq=(()=>{class e{constructor(n,o,s,l,y){this.router=n,this.injector=s,this.preloadingStrategy=l,this.loader=y}setUpPreloading(){this.subscription=this.router.events.pipe(wi(n=>n instanceof Sc),Zd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const s=[];for(const l of o){l.providers&&!l._injector&&(l._injector=J_(l.providers,n,`Route: ${l.path}`));const y=l._injector??n,E=l._loadedInjector??y;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&s.push(this.preloadConfig(y,l)),(l.children||l._loadedRoutes)&&s.push(this.processRoutes(E,l.children??l._loadedRoutes))}return Ki(s).pipe(ch())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let s;s=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):bn(null);const l=s.pipe(Uo(y=>null===y?bn(void 0):(o._loadedRoutes=y.routes,o._loadedInjector=y.injector,this.processRoutes(y.injector??n,y.routes))));return o.loadComponent&&!o._loadedComponent?Ki([l,this.loader.loadComponent(o)]).pipe(ch()):l})}static#e=this.\u0275fac=function(o){return new(o||e)(We(la),We(cO),We(jo),We(h2),We(u1))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const h1=new Dt("");let f2=(()=>{class e{constructor(n,o,s,l,y={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=s,this.zone=l,this.options=y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},y.scrollPositionRestoration||="disabled",y.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof zv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Sc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof bh&&n.code===Hv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof BP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new BP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){f_()};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})();function Ha(e,r){return{\u0275kind:e,\u0275providers:r}}function m2(){const e=yt(vi);return r=>{const n=e.get(tu);if(r!==n.components[0])return;const o=e.get(la),s=e.get(g2);1===e.get(f1)&&o.initialNavigation(),e.get(b2,null,_t.Optional)?.setUpPreloading(),e.get(h1,null,_t.Optional)?.init(),o.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const g2=new Dt("",{factory:()=>new Lt}),f1=new Dt("",{providedIn:"root",factory:()=>1}),b2=new Dt("");function oq(e){return Ha(0,[{provide:b2,useExisting:tq},{provide:h2,useExisting:e}])}function aq(e){return Ha(9,[{provide:c2,useValue:$W},{provide:u2,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const v2=new Dt("ROUTER_FORROOT_GUARD"),cq=[ll,{provide:ph,useClass:US},la,Kp,{provide:Tl,useFactory:function p2(e){return e.routerState.root},deps:[la]},u1,[]];let y2=(()=>{class e{constructor(n){}static forRoot(n,o){return{ngModule:e,providers:[cq,[],{provide:xh,multi:!0,useValue:n},{provide:v2,useFactory:hq,deps:[[la,new Zs,new ac]]},{provide:Sh,useValue:o||{}},o?.useHash?{provide:ul,useClass:FV}:{provide:ul,useClass:zO},{provide:h1,useFactory:()=>{const e=yt(eU),r=yt(_n),n=yt(Sh),o=yt(Xv),s=yt(ph);return n.scrollOffset&&e.setOffset(n.scrollOffset),new f2(s,o,e,r,n)}},o?.preloadingStrategy?oq(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?fq(o):[],o?.bindToComponentInputs?Ha(8,[qP,{provide:Wv,useExisting:qP}]).\u0275providers:[],o?.enableViewTransitions?aq().\u0275providers:[],[{provide:_2,useFactory:m2},{provide:$0,multi:!0,useExisting:_2}]]}}static forChild(n){return{ngModule:e,providers:[{provide:xh,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(o){return new(o||e)(We(v2,8))};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({})}return e})();function hq(e){return"guarded"}function fq(e){return["disabled"===e.initialNavigation?Ha(3,[{provide:B0,multi:!0,useFactory:()=>{const r=yt(la);return()=>{r.setUpLocationChangeListener()}}},{provide:f1,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ha(2,[{provide:f1,useValue:0},{provide:B0,multi:!0,deps:[vi],useFactory:r=>{const n=r.get(kV,Promise.resolve());return()=>n.then(()=>new Promise(o=>{const s=r.get(la),l=r.get(g2);d2(s,()=>{o(!0)}),r.get(Xv).afterPreactivation=()=>(o(!0),l.closed?bn(void 0):l),s.initialNavigation()}))}}]).\u0275providers:[]]}const _2=new Dt("");let mq=(()=>{class e{constructor(){this.referrer=document.referrer}stripUrlPath(n){const o=n.split("/",3).join("/").length;return n.substr(0,o)}validateReferrer(n){let o=!1;if(null===n||0===n.length||(this.referrer=this.stripUrlPath(this.referrer),this.isLocalDev()))return!0;for(const s of n)if(this.stripUrlPath(s)===this.referrer){o=!0;break}if(!o){const s={errorCode:418,details:{referrer:this.referrer}};throw console.error(`UneeQ: Whoops! Your digital human can only start when it is embedded within an approved domain.\n      You can manage approved domains from the Deploy area of UneeQ Creator or with a UneeQ Customer Service member.\n      This domain is: ${s.details.referrer}.\n      \n      Additionally, your Content Security Policy must set 'Referrer-Policy strict-origin-when-cross-origin'.`),s}return o}isLocalDev(){return""===this.referrer||this.referrer.startsWith("http://localhost:")||this.referrer.startsWith("https://localhost:")||!cu.production}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var p1=function(e){return e.INTERACTIONS="INTERACTIONS",e.SPLIT_SCREEN="SPLIT_SCREEN",e}(p1||{});let Ch=(()=>{class e{constructor(n,o,s,l,y,E,O){this.route=n,this.http=o,this.allowedDomainsService=s,this.frameManagerService=l,this.stateService=y,this.dialog=E,this.snackBar=O,this.validReferrer=!1,this.selectedDevices={},this.sendLocalAudio=!1,this.uneeq=hi.Uneeq,this.thirtySeconds=3e4,this.cameraLayout=new J8(this.stateService),this.customCameraPosition=null,this.autoEnableMicTime=null,this.customErrorText=!1,this.avatarVideoContainer=document.createElement("div"),this.localVideoContainer=document.createElement("div"),this.handleFrameReady()}loadUIConfigAndValidateContext(){this.http.get(cu.uneeqConnectionUrl+"/showcase/v1/share/"+this.stateService.uneeqInteractionsOptions.personaShareId+"/config").subscribe(n=>{try{this.validReferrer=this.allowedDomainsService.validateReferrer(n.allowedDomains),br.postToParentFrame({uneeqMessageType:"ReadyToStart"}),this.stateService.uneeqInteractionsOptions.autoStart&&this.initDigitalHuman()}catch(o){this.handleMajorError({errorCode:o.status})}},n=>{this.handleMajorError({errorCode:n.status})})}init(n){this.validReferrer&&this.stateService.state!==lr.WaitingToStart&&(this.stateService.state=lr.WaitingToStart,this.getSessionToken(n))}messageHandler(n){switch(n.uneeqMessageType){case hi.UneeqMessageType.Ready:break;case hi.UneeqMessageType.SessionLive:this.stateService.uneeqInteractionsOptions.enableMicrophone&&this.enableMicrophone(),this.stateService.sessionResumed=n.sessionResumed,this.stateService.state=lr.Live,this.splitScreenDialogRef&&this.splitScreenDialogRef.close(!0),br.postToParentFrame({uneeqMessageType:"SessionId",sessionId:this.instance.sessionId});break;case hi.UneeqMessageType.SessionEnded:this.stateService.state=lr.Ended,this.stateService.settingsOpen=!1,this.stateService.micPermissionState.next(zo.INITIAL),this.stateService.hideContent();break;case hi.UneeqMessageType.AvatarUnavailable:this.handleAvatarUnavailable();break;case hi.UneeqMessageType.AvatarAnswerContent:n.hasDisplayHtml&&(this.stateService.activeContent=n.content),br.postToParentFrame(n);break;case hi.UneeqMessageType.AvatarQuestionText:br.postToParentFrame(n);break;case hi.UneeqMessageType.AvatarAnswer:this.stateService.showMicEnabledHint.next(!1),this.stateService.addClosedCaption({isUser:!1,transcript:n.answerSpeech,isFinal:!0}),br.postToParentFrame(n);break;case hi.UneeqMessageType.DeviceListUpdated:this.handleDeviceListUpdated(n);break;case hi.UneeqMessageType.MicActivity:{const o=Math.min(n.level/.2*100,100),s=document.getElementById("micIndicator");if(s){let l="";o>19?l="phase3":o>9?l="phase2":o>2&&(l="phase1"),s.className=l}break}case hi.UneeqMessageType.DeviceError:n.error&&n.error.message&&"NotAllowedError"===n.error.name&&(br.postToParentFrame({uneeqMessageType:"MicPermissionDenied",message:"Device permission blocked. Please allow access to your devices via your browser settings, and try again."}),this.stateService.micPermissionState.next(zo.BLOCKED),this.stateService.localStorageAvailable&&localStorage.removeItem("uneeq-device-permission-granted"));break;case hi.UneeqMessageType.SetMicSuccess:this.selectedDevices.audioInput=n.deviceId;break;case hi.UneeqMessageType.ServiceUnavailable:this.handleMajorError(n);break;case hi.UneeqMessageType.SessionError:try{this.splitScreenDialogRef&&this.splitScreenDialogRef.close(!0);const o=JSON.parse(n.error);o&&o.errorCode>=1e3&&o.errorCode<2e3?this.handleMajorError(n):o&&16001===o.errorCode&&this.snackBar.openFromComponent(R7,{data:"errorDigitalHumanResponse",duration:2e4,verticalPosition:"bottom",horizontalPosition:"center"})}catch{console.error("UneeQ:",n)}br.postToParentFrame(n);break;case hi.UneeqMessageType.Instructions:if(null!==n.instructions){try{const o=JSON.parse(n.instructions);delete o.displayHtml,Object.keys(o).length>0&&(br.postToParentFrame({uneeqMessageType:"CustomData",data:o}),o.hideContent&&!0===o.hideContent&&this.stateService.hideContent())}catch(o){console.error("UneeQ: Error parsing custom data.",o)}n.deprecated=!0,br.postToParentFrame(n)}break;case hi.UneeqMessageType.RecordingStarted:this.stateService.isAudioRecording=!0,br.postToParentFrame(n);break;case hi.UneeqMessageType.RecordingStopped:this.stateService.isAudioRecording=!1,br.postToParentFrame(n);break;case hi.UneeqMessageType.UserStartedSpeaking:this.stateService.isUserSpeaking=!0,br.postToParentFrame(n);break;case hi.UneeqMessageType.UserStoppedSpeaking:this.stateService.isUserSpeaking=!1,br.postToParentFrame(n);break;case hi.UneeqMessageType.DigitalHumanPlayedInMutedModeSuccess:this.stateService.digitalHumanMuted=!0,br.postToParentFrame(n);break;case hi.UneeqMessageType.DigitalHumanUnmuted:this.stateService.digitalHumanMuted=!1,br.postToParentFrame(n);break;case hi.UneeqMessageType.DevicePermissionAllowed:this.stateService.uneeqInteractionsOptions.voiceInputMode===oh.SPEECH_RECOGNITION&&(this.stateService.showMicEnabledHint.next(!0),this.stateService.micPermissionState.next(zo.ALLOWED)),br.postToParentFrame(n);break;case hi.UneeqMessageType.SpeechTranscription:{const o=n.speechTranscription;this.stateService.addClosedCaption({isUser:!0,transcript:o.transcript,isFinal:o.final}),br.postToParentFrame(n);break}case hi.UneeqMessageType.VadInterruptionAllowed:!1===this.stateService.uneeqInteractionsOptions.enableInterruptBySpeech&&(this.stateService.interruptionBlocked=!n.interruptionAllowed);break;default:br.postToParentFrame(n)}}initDigitalHuman(n=ev.CallToAction){this.frameManagerService.setStartMethod(n),this.stateService.hideError(),this.stateService.state===lr.Paused?this.resumeSession():(this.stateService.resizeFrameToInitial(),this.init(this.stateService.uneeqInteractionsOptions.personaShareId))}pauseSession(){this.stateService.activeContent=null,this.stateService.state=lr.Paused,this.instance.stopSpeaking()}resumeSession(){this.stateService.state=lr.Live,this.playDigitalHumanVideoElement()}startRecording(){return this.stateService.micPermissionState.value===zo.ALLOWED?(this.instance.startRecording(),this.stateService.isAudioRecording=!0,!0):(this.stateService.micPermissionState.next(zo.REQUESTING),this.instance.enableMicrophone(!0),this.autoEnableMicTime=Date.now(),!1)}enableMicrophone(){this.stateService.micPermissionState.value===zo.INITIAL&&(this.stateService.micPermissionState.next(zo.REQUESTING),this.instance.enableMicrophone(!0))}stopRecording(){this.stateService.micPermissionState.value===zo.ALLOWED&&(this.instance.stopRecording(),this.stateService.isAudioRecording=!1)}sendTranscript(n){n&&""!==n.trim()&&this.instance.sendTranscript(n)}endSession(){this.instance&&this.stateService.state!==lr.Ended?this.instance.endSession():console.warn("UneeQ: Ignoring end session request. Session has already been ended.")}isSessionLive(){return this.instance&&this.stateService.state===lr.Live}unmuteDigitalHuman(){this.isSessionLive()?(this.stateService.digitalHumanMuted=!1,this.instance.unmuteDigitalHuman()):console.warn("UneeQ: Ignoring unmute request. Application is not in Live state.")}getSessionToken(n){var o=this;return w(function*(){o.http.post(cu.uneeqTokenUrl,{shareId:n,screenHeight:window.innerHeight,screenWidth:window.innerWidth,sourceApp:o.getSourceApp(),cameraPosition:o.getCameraPosition(),customData:o.stateService.uneeqInteractionsOptions.customData}).subscribe(s=>{try{o.createSession(s.personaId,s.token)}catch(l){o.handleMajorError(l)}},s=>{o.handleMajorError(s)})})()}getSourceApp(){return this.stateService.layoutMode===Di.OVERLAY?p1.INTERACTIONS:p1.SPLIT_SCREEN}getCameraPosition(){return this.customCameraPosition?this.customCameraPosition:this.cameraLayout.getConfig(this.stateService.uneeqInteractionsOptions.cameraPosition)}createSession(n,o){this.instance=new this.uneeq({url:cu.uneeqConnectionUrl,conversationId:n,avatarVideoContainerElement:this.avatarVideoContainer,localVideoContainerElement:this.localVideoContainer,messageHandler:l=>this.messageHandler(l),playWelcome:this.stateService.uneeqInteractionsOptions.playWelcome,sendLocalVideo:!1,sendLocalAudio:!1,micActivityMessages:!0,enableTransparentBackground:this.stateService.uneeqInteractionsOptions.enableTransparentBackground,voiceInputMode:this.stateService.uneeqInteractionsOptions.voiceInputMode,backgroundImageUrl:this.stateService.uneeqInteractionsOptions.backgroundImageUrl,nameTagImageUrl:this.stateService.uneeqInteractionsOptions.nameTagImageUrl,resumeSession:this.stateService.uneeqInteractionsOptions.resumeSession,customData:this.stateService.uneeqInteractionsOptions.customData,speechToTextLocales:this.stateService.uneeqInteractionsOptions.speechToTextLocales,enableVad:this.stateService.uneeqInteractionsOptions.enableVad,enableInterruptBySpeech:this.stateService.uneeqInteractionsOptions.enableInterruptBySpeech,speechRecognitionHintPhrases:this.stateService.uneeqInteractionsOptions.speechRecognitionHintPhrases,speechRecognitionHintPhrasesBoost:this.stateService.uneeqInteractionsOptions.speechRecognitionHintPhrasesBoost,logging:this.stateService.uneeqInteractionsOptions.logging}),window.uneeqInstance=this.instance,this.instance.initWithToken(o),this.checkIfSessionStarted()}checkIfSessionStarted(){setTimeout(()=>{this.stateService.state===lr.WaitingToStart&&this.handleMajorError({errorMsg:"Starting a conversation has timed out, please retry."})},this.thirtySeconds)}handleAvatarUnavailable(){this.instance.endSession(),this.stateService.showErrorText=!0,this.stateService.state=lr.AvatarUnavailable}handleMajorError(n){console.error("UneeQ:",n),this.stateService.state=lr.MajorError,n&&br.postToParentFrame(n),this.stateService.showErrorText=!0}handleFrameReady(){this.initMessageHandlers(),br.postToParentFrame({uneeqMessageType:"FrameReady"})}initMessageHandlers(){window.addEventListener&&window.addEventListener("message",n=>this.onParentMessage(n),!1),this.initExternalMethodHandlers()}sendMetrics(n=Cv.Initialize){var o=this;return w(function*(){o.http.post(`${cu.uneeqConnectionUrl}/showcase/v1/client-metrics/interactions/${o.stateService.uneeqInteractionsOptions.personaShareId}`,{enableTransparentBackground:o.stateService.uneeqInteractionsOptions.enableTransparentBackground,hasCallToActionText:o.stateService.uneeqInteractionsOptions.displayCallToAction,hasErrorText:o.customErrorText,sourceApp:"INTERACTIONS",position:o.stateService.uneeqInteractionsOptions.position,hasCustomCameraPosition:null!==o.customCameraPosition,hasCustomStyles:null!==o.stateService.uneeqInteractionsOptions.customStyles,layoutMode:o.stateService.uneeqInteractionsOptions.layoutMode,event:n}).subscribe()})()}playDigitalHumanVideoElement(){this.avatarVideoContainer.querySelector("video").play()}onParentMessage(n){const o=n.data;switch(o.type){case"uneeqInteractionsOptions":this.stateService.uneeqInteractionsOptions=o.value,this.loadUIConfigAndValidateContext(),o.value.cameraPosition&&(this.customCameraPosition=this.cameraLayout.getConfig(o.value.cameraPosition)),o.value.errorText&&(this.customErrorText=!0);break;case"setCallToActionText":this.stateService.uneeqInteractionsOptions.callToActionText=o.value;break;case"setLayoutMode":this.stateService.layoutMode=o.value.layoutMode;break;case"setMobileLayoutMode":this.stateService.isMobileLayout=o.value,this.frameManagerService.processMobileLayout(this.stateService.displayAsMobile(),this.stateService.layoutMode);break;case"updateDisplayContent":null===o.value?this.stateService.hideContent():this.stateService.activeContent=o.value;break;case"openStartSessionPopup":this.stateService.state!==lr.WaitingForStartRequest&&this.stateService.state!==lr.Live&&(this.stateService.state=lr.WaitingForStartRequest,this.splitScreenDialogRef=this.dialog.open(G9,{data:o.value}),this.splitScreenDialogRef.afterClosed().subscribe(s=>{s||(this.stateService.state=lr.Initial)}),this.sendMetrics(Cv.StartPopup));break;case"deployComplete":this.sendMetrics(Cv.Initialize);break;case"setShowUserInputInterface":this.stateService.uneeqInteractionsOptions.showUserInputInterface=o.value.show;break;case"setShowClosedCaptions":this.stateService.uneeqInteractionsOptions.showClosedCaptions=o.value.show;break;case"setTextInputPlaceholder":this.stateService.uneeqInteractionsOptions.textInputPlaceholder=o.value.placeholder||KI.textInputPlaceholder;break;case"askQuestion":this.isSessionLive()?this.sendTranscript(o.value):console.warn("UneeQ: Ignoring ask question request. Application is not in Live state.");break;case"startSession":this.isSessionLive()?console.warn("UneeQ: Ignoring start session request, as session is already live."):this.initDigitalHuman();break;case"endSession":this.endSession();break;case"stopSpeaking":this.instance&&this.stateService.state!==lr.Ended&&this.instance.stopSpeaking();break;case"unmuteDigitalHuman":this.unmuteDigitalHuman();break;case"startRecording":if(!this.isSessionLive())return void console.warn("UneeQ: Ignoring start recording request. Application is not in Live state.");this.stateService.isAudioRecording?console.warn("UneeQ: Ignoring start recording request. Voice recording is already in progress."):this.startRecording();break;case"stopRecording":if(!this.isSessionLive())return void console.warn("UneeQ: Ignoring stop recording request. Application is not in Live state.");this.stateService.isAudioRecording?this.stopRecording():console.warn("UneeQ: Ignoring stop recording request. No voice recording is currently in progress.");break;case"setCustomChatMetadata":this.instance&&this.instance.setCustomChatMetadata(o.value);break;case"enableMicrophone":if(!this.isSessionLive())return void console.warn("UneeQ: Ignoring enable microphone request. Application is not in Live state.");this.enableMicrophone();break;case"pauseSpeechRecognition":if(!this.isSessionLive())return void console.warn("UneeQ: Ignoring pauseSpeechRecognition request. Application is not in Live state.");this.instance.pauseSpeechRecognition()&&(this.stateService.isAudioRecording=!1);break;case"resumeSpeechRecognition":if(!this.isSessionLive())return void console.warn("UneeQ: Ignoring resumeSpeechRecognition request. Application is not in Live state.");this.instance.resumeSpeechRecognition()&&(this.stateService.isAudioRecording=!0);break;case"sendDataChannelMessage":this.isSessionLive()&&this.instance&&k7.sendMessage(this.instance,o.value);break;default:console.log("UneeQ:","Ignoring. Unknown message received ",o)}}handleDeviceListUpdated(n){this.stateService.micPermissionState.value!==zo.ALLOWED&&br.postToParentFrame({uneeqMessageType:"DeviceEnabled"}),this.devices=n.devices,this.stateService.micPermissionState.next(zo.ALLOWED),this.sendLocalAudio=!0,Date.now()-this.autoEnableMicTime<500&&this.startRecording()}initExternalMethodHandlers(){window.uneeqAsk=n=>{window.postMessage({type:"askQuestion",value:n},"*")},window.uneeqEndSession=()=>{window.postMessage({type:"endSession",value:null},"*")},window.setShowUserInputInterface=n=>{window.postMessage({type:"setShowUserInputInterface",value:{show:n}},"*")}}static#e=this.\u0275fac=function(o){return new(o||e)(We(Tl),We(Vb),We(mq),We(YI),We(br),We(Vp),We(uP))};static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const w2=["*"],gq=["content"];function bq(e,r){if(1&e){const n=Wr();kt(0,"div",1),Fn("click",function(){return ur(n),hr(ln()._onBackdropClicked())}),en()}2&e&&Zn("mat-drawer-shown",ln()._isShowingBackdrop())}function vq(e,r){1&e&&(kt(0,"mat-drawer-content"),So(1,2),en())}const yq=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],_q=["mat-drawer","mat-drawer-content","*"],wq={transformDrawer:Iw("transform",[th("open, open-instant",aa({transform:"none",visibility:"visible"})),th("void",aa({"box-shadow":"none",visibility:"hidden"})),nh("void => open-instant",eh("0ms")),nh("void <=> open, open-instant => void",eh("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Sq=new Dt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function xq(){return!1}}),S2=new Dt("MAT_DRAWER_CONTAINER");let Zv=(()=>{class e extends lS{constructor(n,o,s,l,y){super(s,l,y),this._changeDetectorRef=n,this._container=o}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(o){return new(o||e)(je(pc),je(Nr(()=>C2)),je(nr),je(uS),je(_n))};static#t=this.\u0275cmp=Or({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(o,s){2&o&&p0("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},standalone:!0,features:[Zr([{provide:lS,useExisting:e}]),or,ns],ngContentSelectors:w2,decls:1,vars:0,template:function(o,s){1&o&&(mc(),So(0))},encapsulation:2,changeDetection:0})}return e})(),x2=(()=>{class e{get position(){return this._position}set position(n){(n="end"===n?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(n),this._position=n,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(n){this._mode=n,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(n){this._disableClose=Ap(n)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(n){("true"===n||"false"===n||null==n)&&(n=Ap(n)),this._autoFocus=n}get opened(){return this._opened}set opened(n){this.toggle(Ap(n))}constructor(n,o,s,l,y,E,O,N){this._elementRef=n,this._focusTrapFactory=o,this._focusMonitor=s,this._platform=l,this._ngZone=y,this._interactivityChecker=E,this._doc=O,this._container=N,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Lt,this._animationEnd=new Lt,this._animationState="void",this.openedChange=new ee(!0),this._openedStream=this.openedChange.pipe(wi($=>$),Yt(()=>{})),this.openedStart=this._animationStarted.pipe(wi($=>$.fromState!==$.toState&&0===$.toState.indexOf("open")),VS(void 0)),this._closedStream=this.openedChange.pipe(wi($=>!$),Yt(()=>{})),this.closedStart=this._animationStarted.pipe(wi($=>$.fromState!==$.toState&&"void"===$.toState),VS(void 0)),this._destroyed=new Lt,this.onPositionChanged=new ee,this._modeChanged=new Lt,this.openedChange.subscribe($=>{$?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{nv(this._elementRef.nativeElement,"keydown").pipe(wi($=>27===$.keyCode&&!this.disableClose&&!dv($)),Ho(this._destroyed)).subscribe($=>this._ngZone.run(()=>{this.close(),$.stopPropagation(),$.preventDefault()}))}),this._animationEnd.pipe(gA(($,H)=>$.fromState===H.fromState&&$.toState===H.toState)).subscribe($=>{const{fromState:H,toState:ae}=$;(0===ae.indexOf("open")&&"void"===H||"void"===ae&&0===H.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(n,o){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{n.removeEventListener("blur",s),n.removeEventListener("mousedown",s),n.removeAttribute("tabindex")};n.addEventListener("blur",s),n.addEventListener("mousedown",s)})),n.focus(o)}_focusByCssSelector(n,o){let s=this._elementRef.nativeElement.querySelector(n);s&&this._forceFocus(s,o)}_takeFocus(){if(!this._focusTrap)return;const n=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{!o&&"function"==typeof this._elementRef.nativeElement.focus&&n.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(n){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,n):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const n=this._doc.activeElement;return!!n&&this._elementRef.nativeElement.contains(n)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(n){return this.toggle(!0,n)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(n=!this.opened,o){n&&o&&(this._openedVia=o);const s=this._setOpen(n,!n&&this._isFocusWithinDrawer(),this._openedVia||"program");return n||(this._openedVia=null),s}_setOpen(n,o,s){return this._opened=n,n?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",o&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(l=>{this.openedChange.pipe(Go(1)).subscribe(y=>l(y?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(n){if(!this._platform.isBrowser)return;const o=this._elementRef.nativeElement,s=o.parentNode;"end"===n?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,o)),s.appendChild(o)):this._anchor&&this._anchor.parentNode.insertBefore(o,this._anchor)}static#e=this.\u0275fac=function(o){return new(o||e)(je(nr),je(wS),je(bv),je(Xi),je(_n),je(pv),je(er,8),je(S2,8))};static#t=this.\u0275cmp=Or({type:e,selectors:[["mat-drawer"]],viewQuery:function(o,s){if(1&o&&eu(gq,5),2&o){let l;ra(l=ia())&&(s._content=l.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(o,s){1&o&&eb("@transform.start",function(y){return s._animationStarted.next(y)})("@transform.done",function(y){return s._animationEnd.next(y)}),2&o&&(Ni("align",null),Kg("@transform",s._animationState),Zn("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[ns],ngContentSelectors:w2,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(o,s){1&o&&(mc(),kt(0,"div",0,1),So(2),en())},dependencies:[lS],encapsulation:2,data:{animation:[wq.transformDrawer]},changeDetection:0})}return e})(),C2=(()=>{class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(n){this._autosize=Ap(n)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(n){this._backdropOverride=null==n?null:Ap(n)}get scrollable(){return this._userContent||this._content}constructor(n,o,s,l,y,E=!1,O){this._dir=n,this._element=o,this._ngZone=s,this._changeDetectorRef=l,this._animationMode=O,this._drawers=new Ss,this.backdropClick=new ee,this._destroyed=new Lt,this._doCheckSubject=new Lt,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Lt,n&&n.change.pipe(Ho(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),y.change().pipe(Ho(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=E}ngAfterContentInit(){this._allDrawers.changes.pipe(uh(this._allDrawers),Ho(this._destroyed)).subscribe(n=>{this._drawers.reset(n.filter(o=>!o._container||o._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(uh(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(n=>{this._watchDrawerToggle(n),this._watchDrawerPosition(n),this._watchDrawerMode(n)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(_S(10),Ho(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(n=>n.open())}close(){this._drawers.forEach(n=>n.close())}updateContentMargins(){let n=0,o=0;if(this._left&&this._left.opened)if("side"==this._left.mode)n+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();n+=s,o-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)o+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();o+=s,n-=s}n=n||null,o=o||null,(n!==this._contentMargins.left||o!==this._contentMargins.right)&&(this._contentMargins={left:n,right:o},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(n){n._animationStarted.pipe(wi(o=>o.fromState!==o.toState),Ho(this._drawers.changes)).subscribe(o=>{"open-instant"!==o.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==n.mode&&n.openedChange.pipe(Ho(this._drawers.changes)).subscribe(()=>this._setContainerClass(n.opened))}_watchDrawerPosition(n){n&&n.onPositionChanged.pipe(Ho(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Go(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(n){n&&n._modeChanged.pipe(Ho(mS(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(n){const o=this._element.nativeElement.classList,s="mat-drawer-container-has-open";n?o.add(s):o.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(n=>{"end"==n.position?this._end=n:this._start=n}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(n=>n&&!n.disableClose&&this._drawerHasBackdrop(n)).forEach(n=>n._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(n){return null!=n&&n.opened}_drawerHasBackdrop(n){return null==this._backdropOverride?!!n&&"side"!==n.mode:this._backdropOverride}static#e=this.\u0275fac=function(o){return new(o||e)(je(kp,8),je(nr),je(_n),je(pc),je(dS),je(Sq),je(Ri,8))};static#t=this.\u0275cmp=Or({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(o,s,l){if(1&o&&(tb(l,Zv,5),tb(l,x2,5)),2&o){let y;ra(y=ia())&&(s._content=y.first),ra(y=ia())&&(s._allDrawers=y)}},viewQuery:function(o,s){if(1&o&&eu(Zv,5),2&o){let l;ra(l=ia())&&(s._userContent=l.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(o,s){2&o&&Zn("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[Zr([{provide:S2,useExisting:e}]),ns],ngContentSelectors:_q,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(o,s){1&o&&(mc(yq),Sr(0,bq,1,2,"div",0),So(1),So(2,1),Sr(3,vq,2,0,"mat-drawer-content")),2&o&&(qg(0,s.hasBackdrop?0:-1),Zt(3),qg(3,s._content?-1:3))},dependencies:[Zv],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return e})(),T2=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({imports:[Ls,av,av,Ls]})}return e})();const Cq=["avatarContainer"];let Tq=(()=>{class e{constructor(n,o){this.uneeq=n,this.state=o,this.MicState=zo}ngOnInit(){this.container.nativeElement.appendChild(this.uneeq.avatarVideoContainer)}static#e=this.\u0275fac=function(o){return new(o||e)(je(Ch),je(br))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-avatar-video"]],viewQuery:function(o,s){if(1&o&&eu(Cq,7),2&o){let l;ra(l=ia())&&(s.container=l.first)}},decls:2,vars:6,consts:[[1,"avatarVideoContainer"],["avatarContainer",""]],template:function(o,s){1&o&&Er(0,"div",0,1),2&o&&Zn("transparent-bg",s.state.uneeqInteractionsOptions.enableTransparentBackground)("fullScreen",s.state.displayAsFullScreen())("splitScreen",s.state.displayAsSplitScreen())},styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;animation:fadeIn 1s;justify-content:flex-end;position:relative}.fullscreen[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   .avatarVideoContainer[_ngcontent-%COMP%]{padding:0 10px 10px 20px}[_nghost-%COMP%]   .avatarVideoContainer.transparent-bg[_ngcontent-%COMP%]{padding:0 10px}.mobile-layout[_nghost-%COMP%]     .avatarVideoContainer>div{width:190px;border-radius:100%;transform:translateZ(0);margin-left:auto}.mobile-layout[_nghost-%COMP%]     .avatarVideoContainer:not(.transparent-bg)>div:before{display:block;content:"";position:absolute;inset:0;border:10px solid rgba(255,255,255,.5);border-radius:100%}.mobile-layout[_nghost-%COMP%]     .avatarVideoContainer.transparent-bg>div{border-radius:0}[_nghost-%COMP%]     .avatarVideoContainer.fullScreen{padding:0;height:100%}[_nghost-%COMP%]     .avatarVideoContainer.fullScreen>div{height:100%;border-radius:0}[_nghost-%COMP%]     .avatarVideoContainer.fullScreen>div video, [_nghost-%COMP%]     .avatarVideoContainer.fullScreen>div canvas{border-radius:0}[_nghost-%COMP%]     .avatarVideoContainer{filter:drop-shadow(0px 4px 10px rgba(72,72,117,.3019607843))}[_nghost-%COMP%]     .avatarVideoContainer>div{height:190px;overflow:hidden}[_nghost-%COMP%]     .avatarVideoContainer>div video, [_nghost-%COMP%]     .avatarVideoContainer>div canvas{border-radius:19px}[_nghost-%COMP%]     .avatarVideoContainer.splitScreen{padding:0;filter:none;height:100%}[_nghost-%COMP%]     .avatarVideoContainer.splitScreen.transparent-bg{padding:0}[_nghost-%COMP%]     .avatarVideoContainer.splitScreen>div{height:100%}[_nghost-%COMP%]     .avatarVideoContainer.splitScreen>div video, [_nghost-%COMP%]     .avatarVideoContainer.splitScreen>div canvas{border-radius:0}']})}return e})();const Eq=["contentContainer"];function Dq(e,r){if(1&e){const n=Wr();kt(0,"mat-icon",9),Fn("click",function(){return ur(n),hr(ln().closeContent())}),Jn(1,"i18n"),Qn(2,"expand_more"),en()}if(2&e){const n=ln();Zn("open",n.state.showContent),rn("title",Qr(1,3,"hideContentButton",n.state.i18nRefresh))}}function Oq(e,r){if(1&e){const n=Wr();kt(0,"mat-icon",10),Fn("click",function(){return ur(n),hr(ln().state.contentExpanded=!1)})("swipedown",function(){return ur(n),hr(ln().state.contentExpanded=!1)}),Qn(1,"keyboard_arrow_down"),en()}}function Mq(e,r){if(1&e){const n=Wr();kt(0,"div",11),Fn("swipeup",function(){return ur(n),hr(ln().state.contentExpanded=!0)})("swipedown",function(){return ur(n),hr(ln().state.hideContent())}),Er(1,"div",12),en()}}function Iq(e,r){if(1&e){const n=Wr();kt(0,"mat-icon",13),Fn("click",function(){return ur(n),hr(ln().state.showContent=!0)})("swipeup",function(){return ur(n),hr(ln().state.showContent=!0)}),Qn(1,"keyboard_arrow_up"),en()}}let Aq=(()=>{class e{constructor(n){this.state=n,this.switchingContent=!1}ngOnChanges(){this.contentContainer&&(this.contentContainer.nativeElement.scrollTop=0),this.switchingContent=!0,setTimeout(()=>{this.switchingContent=!1},500)}closeContent(){this.state.hideContent()}static#e=this.\u0275fac=function(o){return new(o||e)(je(br))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-content"]],viewQuery:function(o,s){if(1&o&&eu(Eq,5),2&o){let l;ra(l=ia())&&(s.contentContainer=l.first)}},inputs:{content:"content"},features:[so],decls:10,vars:13,consts:[[1,"bg"],["class","close-btn","data-test","hide-content",3,"open","title","click",4,"ngIf"],["id","content",1,"container"],[1,"content",3,"innerHTML"],["contentContainer",""],[1,"mobile-content-controls"],["class","icon-btn",3,"click","swipedown",4,"ngIf"],["class","expand-shrink-btn",3,"swipeup","swipedown",4,"ngIf"],["class","icon-btn",3,"click","swipeup",4,"ngIf"],["data-test","hide-content",1,"close-btn",3,"title","click"],[1,"icon-btn",3,"click","swipedown"],[1,"expand-shrink-btn",3,"swipeup","swipedown"],[1,"expand-shrink-icon"],[1,"icon-btn",3,"click","swipeup"]],template:function(o,s){1&o&&(Er(0,"div",0),Sr(1,Dq,3,6,"mat-icon",1),kt(2,"div",2),Er(3,"div",3,4),Jn(5,"safeHtml"),en(),kt(6,"div",5),Sr(7,Oq,2,0,"mat-icon",6)(8,Mq,2,0,"div",7)(9,Iq,2,0,"mat-icon",8),en()),2&o&&(Zn("open",s.state.showContent),Zt(),rn("ngIf",!s.state.displayAsFullScreenMobile()),Zt(),Zn("open",s.state.showContent||s.state.displayAsFullScreenMobile()&&s.state.activeContent),Zt(),Zn("fade-between",s.switchingContent),rn("innerHTML",s.state.showContent?xo(5,11,s.state.activeContent):"",gd),Zt(4),rn("ngIf",s.state.contentExpanded),Zt(),rn("ngIf",!s.state.contentExpanded&&s.state.showContent&&s.state.activeContent),Zt(),rn("ngIf",!s.state.showContent&&s.state.activeContent))},dependencies:[dl,du,xv,Va],styles:["[_nghost-%COMP%]{overflow:hidden;flex-grow:1;display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;padding:35px 10px 20px 20px;margin-bottom:-10px}.fullscreen[_nghost-%COMP%]{position:absolute;top:0;bottom:0;z-index:9;right:3%;max-width:25vw;max-height:70%;margin:auto;padding:35px 20px 20px;width:100%}.fullscreen.content-left[_nghost-%COMP%]{left:12%;right:auto}.fullscreen.content-right[_nghost-%COMP%]{right:12%;left:auto}.mobile-layout[_nghost-%COMP%]{padding:10px 10px 35px;flex-direction:column-reverse}.fullscreen-mobile[_nghost-%COMP%]{right:0;left:0;width:100%;max-width:none;padding:0;max-height:none;height:25%;top:auto;transition:height .3s ease-in-out,bottom .2s linear!important}.fullscreen-mobile.user-input[_nghost-%COMP%]{height:20%}.fullscreen-mobile.content-expanded[_nghost-%COMP%]{height:98%}.fullscreen-mobile.content-expanded.user-input[_nghost-%COMP%]{height:90%}.fullscreen-mobile.content-expanded[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:20px}.fullscreen-mobile[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{border-radius:12px 12px 0 0;box-shadow:none}.fullscreen-mobile[_nghost-%COMP%]   .mobile-content-controls[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .bg[_ngcontent-%COMP%]{background-color:#000c;position:fixed;inset:0;z-index:-1;display:none;opacity:0;transition:opacity 1s linear}.mobile-layout[_nghost-%COMP%]   .bg[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .bg.open[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:var(--content-bg-color);border-radius:19px;box-shadow:0 0 23px #00000026;height:0;transition:height .5s ease-in-out;width:100%}[_nghost-%COMP%]   .container.open[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:10px;margin:9px;color:var(--primary-text-color);overflow:hidden;max-height:100%}[_nghost-%COMP%]   .open[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto}.mobile-layout[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{height:100vh}[_nghost-%COMP%]   .mobile-content-controls[_ngcontent-%COMP%]{display:none;width:-moz-fit-content;width:fit-content;margin:auto;inset:0 0 auto;position:absolute}[_nghost-%COMP%]   .mobile-content-controls[_ngcontent-%COMP%]   .expand-shrink-btn[_ngcontent-%COMP%]{padding:8px 8px 20px;animation:_ngcontent-%COMP%_fadeIn 1s}[_nghost-%COMP%]   .mobile-content-controls[_ngcontent-%COMP%]   .expand-shrink-btn[_ngcontent-%COMP%]   .expand-shrink-icon[_ngcontent-%COMP%]{width:32px;height:4px;background:#1d1d1d80;border-radius:4px}[_nghost-%COMP%]   .mobile-content-controls[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{color:#1d1d1dcc;width:34px;height:34px;font-size:34px;opacity:1;animation:_ngcontent-%COMP%_fadeIn 1s}[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 4px rgba(0,0,0,.15));cursor:pointer;margin-bottom:5px;opacity:0;transition:opacity .1s linear;background-color:#fff;border-radius:100%;color:#5a656e;z-index:1}[_nghost-%COMP%]   .close-btn.open[_ngcontent-%COMP%]{transition:opacity .1s linear;transition-delay:.5s;opacity:1;position:absolute;top:7px}.mobile-layout[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]{margin-top:5px}[_nghost-%COMP%]     .content img{max-width:100%}[_nghost-%COMP%]     .content video{max-width:100%}[_nghost-%COMP%]   .icon-container[_ngcontent-%COMP%]{position:fixed;z-index:1;top:49%;margin-right:15px}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}50%{opacity:0}to{opacity:1}}[_nghost-%COMP%]   .fade-between[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeBetween 2s}@keyframes _ngcontent-%COMP%_fadeBetween{0%{opacity:0}to{opacity:1}}"]})}return e})();const E2={leading:!0,trailing:!1};class Nq{constructor(r,n,o,s){this.duration=r,this.scheduler=n,this.leading=o,this.trailing=s}call(r,n){return n.subscribe(new Fq(r,this.duration,this.scheduler,this.leading,this.trailing))}}class Fq extends q{constructor(r,n,o,s,l){super(r),this.duration=n,this.scheduler=o,this.leading=s,this.trailing=l,this._hasTrailingValue=!1,this._trailingValue=null}_next(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Lq,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)}}function Lq(e){const{subscriber:r}=e;r.clearThrottle()}let jq=(()=>{class e{constructor(){this.throttleTime=200,this.throttleClick=new ee,this.clicks=new Lt}clickEvent(n){n.preventDefault(),n.stopPropagation(),this.clicks.next(n)}ngOnInit(){this.subscription=this.clicks.pipe(function kq(e,r=iv,n=E2){return o=>o.lift(new Nq(e,r,n.leading,n.trailing))}(this.throttleTime)).subscribe(n=>this.throttleClick.emit(n))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=Jt({type:e,selectors:[["","appThrottleClick",""]],hostBindings:function(o,s){1&o&&Fn("click",function(y){return s.clickEvent(y)})},inputs:{throttleTime:"throttleTime"},outputs:{throttleClick:"throttleClick"}})}return e})();function Bq(e,r){if(1&e){const n=Wr();kt(0,"div",6)(1,"mat-icon",7),Fn("click",function(){return ur(n),hr(ln().hideCallToAction.emit())}),Qn(2,"cancel"),en(),kt(3,"div",8),Fn("throttleClick",function(){return ur(n),hr(ln().initDigitalHuman.emit())}),kt(4,"div",9),Qn(5),Jn(6,"i18n"),en()()()}if(2&e){const n=ln();Zt(3),rn("throttleTime",500),Zt(2),Mo(Qr(6,2,"callToActionText",n.stateService.i18nRefresh))}}function Vq(e,r){1&e&&(kt(0,"div",6)(1,"div",10),Er(2,"img",11),en()())}function $q(e,r){if(1&e){const n=Wr();kt(0,"div",6)(1,"mat-icon",7),Fn("click",function(){return ur(n),hr(ln().hideError.emit())}),Qn(2,"cancel"),en(),kt(3,"div",12)(4,"div",9),Qn(5),Jn(6,"i18n"),en()()()}if(2&e){const n=ln();Zt(5),Mo(Qr(6,1,"errorText",n.stateService.i18nRefresh))}}let Uq=(()=>{class e{constructor(n){this.stateService=n,this.state=lr.Initial,this.initDigitalHuman=new ee,this.resizeFrameToInitial=new ee,this.hideCallToAction=new ee,this.hideError=new ee,this.personaPreviewImageSrc="",this.appState=lr,this.showDefaultThumbnail=!1,this.defaultThumbnailUrl="assets/prev-image.png"}ngOnChanges(n){(n.shareId||n.ctaThumbnailUrl)&&this.initPreviewImgSrc()}loadPlaceholderImage(){this.showDefaultThumbnail=!0}previewImageLoaded(){this.resizeFrameToInitial.emit()}initPreviewImgSrc(){this.personaPreviewImageSrc=""!==this.ctaThumbnailUrl&&void 0!==this.ctaThumbnailUrl?this.ctaThumbnailUrl:cu.uneeqMediaUrl+"/media/v1/assets/thumbnail-image/"+this.shareId+"/download"}static#e=this.\u0275fac=function(o){return new(o||e)(je(br))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-cta-box"]],inputs:{ctaText:"ctaText",errorText:"errorText",showErrorText:"showErrorText",enableTransparentBackground:"enableTransparentBackground",state:"state",shareId:"shareId",ctaThumbnailUrl:"ctaThumbnailUrl"},outputs:{initDigitalHuman:"initDigitalHuman",resizeFrameToInitial:"resizeFrameToInitial",hideCallToAction:"hideCallToAction",hideError:"hideError"},features:[so],decls:8,vars:10,consts:[["id","cta-section",1,"cta-section"],["class","cta-text-container",4,"ngIf"],["appThrottleClick","",1,"cta-thumbnail-box",3,"throttleTime","throttleClick"],[1,"cta-preview-img"],["alt","persona preview",3,"src","hidden","load","error"],["alt","persona preview",3,"src","hidden"],[1,"cta-text-container"],[1,"cta-text-close-icon",3,"click"],["id","cta-text","appThrottleClick","",1,"cta-text-box",3,"throttleTime","throttleClick"],[1,"cta-message"],["id","session-loading",1,"cta-text-box","cta-loading-box"],["src","assets/loading.gif","alt","loading"],["id","error-text",1,"cta-text-box"]],template:function(o,s){1&o&&(kt(0,"div",0),Sr(1,Bq,7,5,"div",1)(2,Vq,3,0,"div",1)(3,$q,7,4,"div",1),kt(4,"div",2),Fn("throttleClick",function(){return s.initDigitalHuman.emit()}),kt(5,"div",3)(6,"img",4),Fn("load",function(){return s.previewImageLoaded()})("error",function(){return s.loadPlaceholderImage()}),en(),Er(7,"img",5),en()()()),2&o&&(Zt(),rn("ngIf",s.ctaText&&(s.state===s.appState.Initial||s.state===s.appState.Paused)),Zt(),rn("ngIf",s.state===s.appState.WaitingToStart),Zt(),rn("ngIf",s.showErrorText),Zt(),rn("throttleTime",500),Zt(),Zn("cta-transparent",s.enableTransparentBackground),Zt(),rn("src",s.personaPreviewImageSrc,hg)("hidden",s.showDefaultThumbnail),Zt(),rn("src",s.defaultThumbnailUrl,hg)("hidden",!s.showDefaultThumbnail))},dependencies:[dl,du,jq,Va],styles:['[_nghost-%COMP%]{display:block;position:absolute;bottom:0;right:0;padding:0 10px 10px 0}[_nghost-%COMP%]   .cta-loading-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:40px}[_nghost-%COMP%]   .cta-dh-close-icon[_ngcontent-%COMP%]{color:#fff;position:fixed;right:5px;top:5px;cursor:pointer}[_nghost-%COMP%]   .cta-text-close-icon[_ngcontent-%COMP%]{font-size:20px;filter:drop-shadow(0 0 4px rgba(0,0,0,.15));color:#fff;background:#5a656e;cursor:pointer;width:14px;height:14px;border-radius:100%;display:flex;align-items:center;justify-content:center;margin:5px;position:absolute;top:10px;left:0}[_nghost-%COMP%]   .cta-section[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;margin-top:5px}[_nghost-%COMP%]   .cta-text-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-right:15px;margin-left:5px;position:relative}[_nghost-%COMP%]   .cta-text-box[_ngcontent-%COMP%]{max-width:244px;background-color:#fff;border-radius:5px;padding:12px 14px;font-size:13px;box-shadow:0 4px 10px #4848754d;cursor:pointer;margin-left:30px;line-height:15px}[_nghost-%COMP%]   .cta-text-box[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:50%;width:0;height:0;border:7px solid transparent;border-left-color:#fff;border-right:0;margin-top:-7px;margin-right:-7px}[_nghost-%COMP%]   .cta-message[_ngcontent-%COMP%]{max-height:60px;-webkit-line-clamp:3;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}[_nghost-%COMP%]   .cta-thumbnail-box[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .cta-preview-img[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;border-radius:100%;border:4px solid rgba(0,0,0,.2);cursor:pointer;padding:0;overflow:hidden;box-sizing:border-box;background:radial-gradient(50% 50% at 50% 50%,#dadae6,#ababb8);background-clip:padding-box}[_nghost-%COMP%]   .cta-preview-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;background-size:cover;position:absolute;inset:0}[_nghost-%COMP%]   .cta-transparent[_ngcontent-%COMP%]{background:transparent;filter:none;box-sizing:border-box;border:1px solid rgba(209,209,209,.5)}']})}return e})(),zq=(()=>{class e{constructor(n){this.state=n,this.switchingContent=!1}ngOnChanges(){this.switchingContent=!0,setTimeout(()=>{this.switchingContent=!1},500)}closeContent(){this.state.hideContent()}static#e=this.\u0275fac=function(o){return new(o||e)(je(br))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-content-large"]],inputs:{content:"content"},features:[so],decls:7,vars:9,consts:[["id","content",1,"container"],["contentContainer",""],[1,"close-icon-container"],["data-test","hide-content","title","Hide Content",1,"close-btn",3,"click"],[1,"content",3,"innerHTML"]],template:function(o,s){1&o&&(kt(0,"div",0,1)(2,"div",2)(3,"mat-icon",3),Fn("click",function(){return s.closeContent()}),Qn(4,"expand_more"),en()(),Er(5,"div",4),Jn(6,"safeHtml"),en()),2&o&&(Zn("open",s.state.showContent),Zt(3),Zn("open",s.state.showContent),Zt(2),Zn("fade-between",s.switchingContent),rn("innerHTML",xo(6,7,s.state.activeContent),gd))},dependencies:[du,xv],styles:["[_nghost-%COMP%]{overflow:hidden;flex-grow:1;display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;padding:35px 10px 20px 20px;margin-bottom:-10px;max-height:50%;background-color:#fff}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:8px 8px 0 0;box-shadow:0 0 23px #00000026;background:var(--content-bg-color);height:100%;width:100%}[_nghost-%COMP%]   .container.open[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{margin-right:8px;background:none;color:var(--primary-text-color);font-size:30px;cursor:pointer}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:10px;margin:9px;color:var(--primary-text-color);overflow:auto;max-height:100%;height:100%}[_nghost-%COMP%]   .close-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:center;border-bottom:1px solid #E5E5E5;padding:5px}[_nghost-%COMP%]     .content img{max-width:100%}[_nghost-%COMP%]     .content video{max-width:100%}[_nghost-%COMP%]   .icon-container[_ngcontent-%COMP%]{position:fixed;z-index:1;top:49%;margin-right:15px}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .fade-between[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 2s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})}return e})(),D2=(()=>{class e{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(o){return new(o||e)(je(fc),je(nr))};static#t=this.\u0275dir=Jt({type:e})}return e})(),El=(()=>{class e extends D2{static#e=this.\u0275fac=(()=>{let n;return function(s){return(n||(n=Kr(e)))(s||e)}})();static#t=this.\u0275dir=Jt({type:e,features:[or]})}return e})();const Ga=new Dt(""),Gq={provide:Ga,useExisting:Nr(()=>nm),multi:!0},qq=new Dt("");let nm=(()=>{class e extends D2{constructor(n,o,s){super(n,o),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wq(){const e=ru()?ru().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(o){return new(o||e)(je(fc),je(nr),je(qq,8))};static#t=this.\u0275dir=Jt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,s){1&o&&Fn("input",function(y){return s._handleInput(y.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(y){return s._compositionEnd(y.target.value)})},features:[Zr([Gq]),or]})}return e})();const Io=new Dt(""),pu=new Dt("");function j2(e){return null!=e}function B2(e){return fp(e)?Ki(e):e}function V2(e){let r={};return e.forEach(n=>{r=null!=n?{...r,...n}:r}),0===Object.keys(r).length?null:r}function $2(e,r){return r.map(n=>n(e))}function U2(e){return e.map(r=>function Kq(e){return!e.validate}(r)?r:n=>r.validate(n))}function m1(e){return null!=e?function z2(e){if(!e)return null;const r=e.filter(j2);return 0==r.length?null:function(n){return V2($2(n,r))}}(U2(e)):null}function g1(e){return null!=e?function H2(e){if(!e)return null;const r=e.filter(j2);return 0==r.length?null:function(n){return dP($2(n,r).map(B2)).pipe(Yt(V2))}}(U2(e)):null}function G2(e,r){return null===e?[r]:Array.isArray(e)?[...e,r]:[e,r]}function b1(e){return e?Array.isArray(e)?e:[e]:[]}function Jv(e,r){return Array.isArray(e)?e.includes(r):e===r}function Y2(e,r){const n=b1(r);return b1(e).forEach(s=>{Jv(n,s)||n.push(s)}),n}function K2(e,r){return b1(r).filter(n=>!Jv(e,n))}class X2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=m1(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=g1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,n){return!!this.control&&this.control.hasError(r,n)}getError(r,n){return this.control?this.control.getError(r,n):null}}class Wo extends X2{get formDirective(){return null}get path(){return null}}class mu extends X2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Z2{constructor(r){this._cd=r}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let v1=(()=>{class e extends Z2{constructor(n){super(n)}static#e=this.\u0275fac=function(o){return new(o||e)(je(mu,2))};static#t=this.\u0275dir=Jt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,s){2&o&&Zn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[or]})}return e})();const rm="VALID",ty="INVALID",Th="PENDING",im="DISABLED";function ny(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class x1{constructor(r,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===rm}get invalid(){return this.status===ty}get pending(){return this.status==Th}get disabled(){return this.status===im}get enabled(){return this.status!==im}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(Y2(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Y2(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(K2(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(K2(r,this._rawAsyncValidators))}hasValidator(r){return Jv(this._rawValidators,r)}hasAsyncValidator(r){return Jv(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=Th,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const n=this._parentMarkedDirty(r.onlySelf);this.status=im,this.errors=null,this._forEachChild(o=>{o.disable({...r,onlySelf:!0})}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...r,skipPristineCheck:n}),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const n=this._parentMarkedDirty(r.onlySelf);this.status=rm,this._forEachChild(o=>{o.enable({...r,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors({...r,skipPristineCheck:n}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rm||this.status===Th)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?im:rm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=Th,this._hasOwnPendingAsyncValidator=!0;const n=B2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,n={}){this.errors=r,this._updateControlsErrors(!1!==n.emitEvent)}get(r){let n=r;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((o,s)=>o&&o._find(s),this)}getError(r,n){const o=n?this.get(n):this;return o&&o.errors?o.errors[r]:null}hasError(r,n){return!!this.getError(r,n)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new ee,this.statusChanges=new ee}_calculateStatus(){return this._allControlsDisabled()?im:this.errors?ty:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Th)?Th:this._anyControlsHaveStatus(ty)?ty:rm}_anyControlsHaveStatus(r){return this._anyControls(n=>n.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){ny(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=function eY(e){return Array.isArray(e)?m1(e):e||null}(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=function tY(e){return Array.isArray(e)?g1(e):e||null}(this._rawAsyncValidators)}}const Eh=new Dt("CallSetDisabledState",{providedIn:"root",factory:()=>ry}),ry="always";function om(e,r,n=ry){(function T1(e,r){const n=function W2(e){return e._rawValidators}(e);null!==r.validator?e.setValidators(G2(n,r.validator)):"function"==typeof n&&e.setValidators([n]);const o=function q2(e){return e._rawAsyncValidators}(e);null!==r.asyncValidator?e.setAsyncValidators(G2(o,r.asyncValidator)):"function"==typeof o&&e.setAsyncValidators([o]);const s=()=>e.updateValueAndValidity();sy(r._rawValidators,s),sy(r._rawAsyncValidators,s)})(e,r),r.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&r.valueAccessor.setDisabledState?.(e.disabled),function iY(e,r){r.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&tR(e,r)})}(e,r),function sY(e,r){const n=(o,s)=>{r.valueAccessor.writeValue(o),s&&r.viewToModelUpdate(o)};e.registerOnChange(n),r._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,r),function oY(e,r){r.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&tR(e,r),"submit"!==e.updateOn&&e.markAsTouched()})}(e,r),function rY(e,r){if(r.valueAccessor.setDisabledState){const n=o=>{r.valueAccessor.setDisabledState(o)};e.registerOnDisabledChange(n),r._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,r)}function sy(e,r){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(r)})}function tR(e,r){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function iR(e,r){const n=e.indexOf(r);n>-1&&e.splice(n,1)}function oR(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const sR=class extends x1{constructor(r=null,n,o){super(function w1(e){return(ny(e)?e.validators:e)||null}(n),function S1(e,r){return(ny(r)?r.asyncValidators:e)||null}(o,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ny(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=oR(r)?r.value:r)}setValue(r,n={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(r,n={}){this.setValue(r,n)}reset(r=this.defaultValue,n={}){this._applyFormState(r),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){iR(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){iR(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){oR(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}},pY={provide:mu,useExisting:Nr(()=>cy)},uR=Promise.resolve();let cy=(()=>{class e extends mu{constructor(n,o,s,l,y,E){super(),this._changeDetectorRef=y,this.callSetDisabledState=E,this.control=new sR,this._registered=!1,this.name="",this.update=new ee,this._parent=n,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=function O1(e,r){if(!r)return null;let n,o,s;return Array.isArray(r),r.forEach(l=>{l.constructor===nm?n=l:function uY(e){return Object.getPrototypeOf(e.constructor)===El}(l)?o=l:s=l}),s||o||n||null}(0,l)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const o=n.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function D1(e,r){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(r,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){om(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){uR.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const o=n.isDisabled.currentValue,s=0!==o&&As(o);uR.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function iy(e,r){return[...r.path,e]}(n,this._parent):[n]}static#e=this.\u0275fac=function(o){return new(o||e)(je(Wo,9),je(Io,10),je(pu,10),je(Ga,10),je(pc,8),je(Eh,8))};static#t=this.\u0275dir=Jt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ct.None,"disabled","isDisabled"],model:[ct.None,"ngModel","model"],options:[ct.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zr([pY]),or,so]})}return e})(),BY=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({})}return e})(),$Y=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Eh,useValue:n.callSetDisabledState??ry}]}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({imports:[BY]})}return e})();function UY(e,r){if(1&e){const n=Wr();kt(0,"button",10),Fn("click",function(){return ur(n),hr(ln(2).askQuestion())}),Jn(1,"i18n"),kt(2,"mat-icon"),Qn(3,"send"),en()()}2&e&&rn("title",Qr(1,1,"sendQuestionButtonToolTip",ln(2).stateService.i18nRefresh))}function zY(e,r){if(1&e){const n=Wr();kt(0,"button",11),Fn("click",function(){return ur(n),hr(ln(2).startRecording())}),Jn(1,"i18n"),kt(2,"mat-icon"),Qn(3,"mic"),en()()}2&e&&rn("title",Qr(1,1,"startRecordingButtonToolTip",ln(2).stateService.i18nRefresh))}function HY(e,r){if(1&e){const n=Wr();kt(0,"button",12),Fn("click",function(){return ur(n),hr(ln(2).permissionBlocked())}),Jn(1,"i18n"),kt(2,"mat-icon"),Qn(3,"mic_off"),en()()}2&e&&rn("title",Qr(1,1,"microphonePermissionBlockedButtonToolTip",ln(2).stateService.i18nRefresh))}function GY(e,r){if(1&e){const n=Wr();kt(0,"div",5)(1,"input",6),cp("ngModelChange",function(s){ur(n);const l=ln();return nb(l.questionInput,s)||(l.questionInput=s),hr(s)}),Fn("keydown",function(s){return ur(n),hr(ln().inputKeyDown(s))}),Jn(2,"i18n"),en(),Sr(3,UY,4,4,"button",7)(4,zY,4,4,"button",8),Jn(5,"async"),Sr(6,HY,4,4,"button",9),Jn(7,"async"),en()}if(2&e){const n=ln();Zt(),ap("ngModel",n.questionInput),rn("placeholder",Qr(2,5,"textInputPlaceholder",n.stateService.i18nRefresh)),Zt(2),rn("ngIf",n.questionInput.length>0),Zt(),rn("ngIf",0===n.questionInput.length&&xo(5,8,n.stateService.micPermissionState)!==n.MicState.BLOCKED&&n.pushToTalkMode),Zt(2),rn("ngIf",xo(7,10,n.stateService.micPermissionState)===n.MicState.BLOCKED&&0===n.questionInput.length&&n.pushToTalkMode)}}function WY(e,r){if(1&e&&(kt(0,"div",13)(1,"div",14),Qn(2),Jn(3,"i18n"),en()()),2&e){const n=ln();Zt(2),Mo(Qr(3,1,"recordingRequestingMicrophonePrompt",n.stateService.i18nRefresh))}}function qY(e,r){if(1&e){const n=Wr();kt(0,"div",15)(1,"div",16)(2,"mat-icon",17),Qn(3,"mic"),en()(),kt(4,"div",14),Qn(5),Jn(6,"i18n"),en(),kt(7,"div",18),Qn(8),Jn(9,"i18n"),kt(10,"mat-icon"),Qn(11,"chevron_right"),en()(),kt(12,"button",19),Fn("click",function(){return ur(n),hr(ln().stopRecording())}),Jn(13,"i18n"),kt(14,"mat-icon"),Qn(15,"stop"),en()()()}if(2&e){const n=ln();Zt(5),Mo(Qr(6,3,"recordingSpeakNowPrompt",n.stateService.i18nRefresh)),Zt(3),Mo(Qr(9,6,"recordingTapStopWhenDone",n.stateService.i18nRefresh)),Zt(4),rn("title",Qr(13,9,"recordingStopButtonToolTip",n.stateService.i18nRefresh))}}function YY(e,r){if(1&e){const n=Wr();kt(0,"div",20,21),Fn("click",function(){return ur(n),hr(function iD(e){return Qa(function pm(){return Sn.lFrame.contextLView}(),Nn+e)}(1).style.display="none")}),Qn(2),Jn(3,"i18n"),en()}if(2&e){const n=ln();Zt(2),Mo(Qr(3,1,"recordingTapToStart",n.stateService.i18nRefresh))}}let KY=(()=>{class e{constructor(n,o){this.uneeqService=n,this.stateService=o,this.questionInput="",this.MicState=zo}get pushToTalkMode(){return this.stateService.uneeqInteractionsOptions.voiceInputMode===oh.PUSH_TO_TALK}askQuestion(){this.uneeqService.sendTranscript(this.questionInput),this.questionInput=""}inputKeyDown(n){"Enter"===n.key&&!n.isComposing&&(this.askQuestion(),n.preventDefault())}startRecording(){this.stateService.isAudioRecording||(this.stateService.isAudioRecording=this.uneeqService.startRecording())}stopRecording(){this.stateService.isAudioRecording&&(this.uneeqService.instance.stopRecording(),this.stateService.isAudioRecording=!1)}permissionBlocked(){br.notifyParentFrame("Microphone permission was blocked. Please allow access to your microphone via your browser settings, and try again."),console.error("UneeQ: Microphone permission was blocked by the user.")}static#e=this.\u0275fac=function(o){return new(o||e)(je(Ch),je(br))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-user-input-overlay"]],inputs:{placeHolder:"placeHolder"},decls:7,vars:8,consts:[[1,"user-input-main-container"],["class","input-container",4,"ngIf"],["class","input-container requesting",4,"ngIf"],["class","input-container recording-live",4,"ngIf"],["class","recording-prompt",3,"click",4,"ngIf"],[1,"input-container"],["id","questionInput","autocomplete","off",1,"input",3,"ngModel","placeholder","ngModelChange","keydown"],["id","sendQuestionBtn","class","icon-btn",3,"title","click",4,"ngIf"],["id","recordStartBtn","class","icon-btn",3,"title","click",4,"ngIf"],["class","icon-btn blocked",3,"title","click",4,"ngIf"],["id","sendQuestionBtn",1,"icon-btn",3,"title","click"],["id","recordStartBtn",1,"icon-btn",3,"title","click"],[1,"icon-btn","blocked",3,"title","click"],[1,"input-container","requesting"],[1,"label"],[1,"input-container","recording-live"],["id","micIndicator"],[1,"mic-icon-indicator"],[1,"stop-description"],["mat-mini-fab","","id","recordStopBtn",1,"recording-stop",3,"title","click"],[1,"recording-prompt",3,"click"],["recordingPrompt",""]],template:function(o,s){1&o&&(kt(0,"div",0),Sr(1,GY,8,12,"div",1),Jn(2,"async"),Sr(3,WY,4,4,"div",2),Jn(4,"async"),Sr(5,qY,16,12,"div",3),en(),Sr(6,YY,4,4,"div",4)),2&o&&(Zt(),rn("ngIf",!s.stateService.isAudioRecording&&xo(2,4,s.stateService.micPermissionState)!==s.MicState.REQUESTING||!s.pushToTalkMode),Zt(2),rn("ngIf",xo(4,6,s.stateService.micPermissionState)===s.MicState.REQUESTING&&s.pushToTalkMode),Zt(2),rn("ngIf",s.stateService.isAudioRecording&&s.pushToTalkMode),Zt(),rn("ngIf",s.pushToTalkMode))},dependencies:[dl,nm,v1,cy,du,Dv,Ob,Va],styles:['[_nghost-%COMP%]{width:100%;display:flex;padding:0 4px;box-sizing:border-box;max-width:500px;left:0;right:0;margin:14px auto}.transparent-bg[_nghost-%COMP%]{margin-bottom:8px;padding:0}.fullscreen[_nghost-%COMP%]{margin:20px auto}[_nghost-%COMP%]   .user-input-main-container[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{font-size:12px;margin:0 10px 0 20px;background:#fffc;border-radius:20px;padding:0 14px;height:35px;border:none;outline:none;flex-grow:1;display:flex;flex-direction:row;align-items:center;justify-content:center;box-shadow:0 0 4px #00000026;animation:_ngcontent-%COMP%_fadeIn linear .3s}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 4px #0000004d}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;flex-grow:1;background:none;font-size:16px;min-width:0}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{border:none;outline:none;cursor:pointer;padding:0;display:flex;background-color:#1d1d1d1a;border-radius:100%;height:28px;width:28px;align-items:center;justify-content:center;margin-right:-10px}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:18px}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .icon-btn.blocked[_ngcontent-%COMP%]{color:#cb0000}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .stop-description[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .recording-prompt[_ngcontent-%COMP%]{display:none}.fullscreen[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{height:68px;border-radius:68px;padding:0 28px;font-size:21px;margin:0 10px}.fullscreen[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:21px}.fullscreen[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{width:48px;height:48px;margin-right:-17px}.fullscreen[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:27px;height:27px;font-size:28px}.fullscreen[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .recording-stop[_ngcontent-%COMP%]{margin-top:-2px;font-size:30px;width:48px;height:48px;margin-right:-17px}.fullscreen[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .recording-stop[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#ff3b30;width:30px;height:30px;font-size:30px}.fullscreen[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .mic-icon-indicator[_ngcontent-%COMP%]{margin-right:14px;font-size:24px;height:24px;width:24px}.fullscreen-mobile[_nghost-%COMP%]{max-width:none;background:#fff;margin:0;padding:0;box-shadow:0 -2px 4px #00000040}.fullscreen-mobile[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{height:35px;margin:8px 12px;padding:0 4px 0 14px;box-shadow:none;border:1px solid #e3e3e3;background:#f0f0f0;font-size:18px}.fullscreen-mobile[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   #micIndicator[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:8px}.fullscreen-mobile[_nghost-%COMP%]   .input-container.recording-live[_ngcontent-%COMP%]{background:#1d1d1d}.fullscreen-mobile[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%], .fullscreen-mobile[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .recording-stop[_ngcontent-%COMP%]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;margin:0}.fullscreen-mobile[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .fullscreen-mobile[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .recording-stop[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:23px;height:23px;font-size:23px}.fullscreen-mobile[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .recording-stop[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-top:-4px;margin-left:1px}.fullscreen-mobile[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   #sendQuestionBtn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-left:2px;font-size:18px;width:18px;height:18px}.fullscreen-mobile[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .stop-description[_ngcontent-%COMP%]{display:none;font-size:12px;margin-right:4px;font-weight:300;align-items:center}.fullscreen-mobile[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .stop-description[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px}.fullscreen-mobile[_nghost-%COMP%]   .input-container.recording-live[_ngcontent-%COMP%]   .stop-description[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .recording-prompt[_ngcontent-%COMP%]{display:none}.show.fullscreen.fullscreen-mobile[_nghost-%COMP%]   .recording-prompt[_ngcontent-%COMP%]{right:13px}.show.fullscreen[_nghost-%COMP%]   .recording-prompt[_ngcontent-%COMP%]{background:#fff;padding:10px;display:flex;justify-content:center;align-items:center;border-radius:8px;opacity:0;position:absolute;top:-52px;right:30px;font-size:14px;max-height:0;animation-name:_ngcontent-%COMP%_fade-and-remove;animation-duration:10s;visibility:hidden;filter:drop-shadow(0px 6px 14px rgba(0,0,0,.25))}.show.fullscreen[_nghost-%COMP%]   .recording-prompt[_ngcontent-%COMP%]:before{content:"";width:0;height:0;position:absolute;border-left:8px solid transparent;border-right:8px solid transparent;border-top:12px solid white;right:10px;bottom:-8px}@keyframes _ngcontent-%COMP%_fade-and-remove{10%{opacity:1;max-height:50px;visibility:visible}90%{opacity:1;max-height:50px;visibility:visible}99%{opacity:0;max-height:50px;visibility:visible}to{opacity:0;max-height:0;visibility:hidden}}.mobile-layout[_nghost-%COMP%]{max-width:204px;margin:10px 4px;right:0;left:auto}.mobile-layout[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{margin:0;padding:0 0 0 10px}.mobile-layout[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{margin-right:5px}.mobile-layout[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:28px}.mobile-layout[_nghost-%COMP%]   .recording-stop[_ngcontent-%COMP%]{margin-right:4px}[_nghost-%COMP%]   .recording-live[_ngcontent-%COMP%]{display:flex;flex-direction:row;color:#fff9;background:#1d1d1d}[_nghost-%COMP%]   .recording-live[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .recording-live[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{color:#ff3b30}[_nghost-%COMP%]   .recording-stop[_ngcontent-%COMP%]{margin-top:0;font-size:24px;width:28px;height:28px;margin-right:-10px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .recording-stop[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#ff3b30;width:23px;height:25px;font-size:24px}[_nghost-%COMP%]   #micIndicator[_ngcontent-%COMP%]{opacity:.6;display:flex}[_nghost-%COMP%]   #micIndicator.phase1[_ngcontent-%COMP%]{opacity:.7;transform:scale(1.1)}[_nghost-%COMP%]   #micIndicator.phase2[_ngcontent-%COMP%]{opacity:.85;transform:scale(1.2)}[_nghost-%COMP%]   #micIndicator.phase3[_ngcontent-%COMP%]{opacity:1;transform:scale(1.3)}[_nghost-%COMP%]   .mic-icon-indicator[_ngcontent-%COMP%]{margin-right:8px;font-size:18px;height:18px;width:18px;color:#fff}[_nghost-%COMP%]     .mic-indicator .container{margin:0 10px 0 0!important}[_nghost-%COMP%]     .mic-indicator .dot1, [_nghost-%COMP%]     .mic-indicator .dot2, [_nghost-%COMP%]     .mic-indicator .dot3{background:#cb0000!important}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']})}return e})(),XY=(()=>{class e{constructor(n){this.data=n,this.dialogData=n}static#e=this.\u0275fac=function(o){return new(o||e)(je(IS))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-simple-dialog"]],decls:7,vars:5,consts:[[1,"description"],[1,"button-container"],["mat-stroked-button","","color","accent",1,"cancel",3,"mat-dialog-close"],["mat-stroked-button","","color","accent",1,"confirm",3,"mat-dialog-close"]],template:function(o,s){1&o&&(kt(0,"p",0),Qn(1),en(),kt(2,"div",1)(3,"button",2),Qn(4),en(),kt(5,"button",3),Qn(6),en()()),2&o&&(Zt(),Mo(s.dialogData.description),Zt(2),rn("mat-dialog-close",!1),Zt(),Mo(s.dialogData.cancelLabel),Zt(),rn("mat-dialog-close",!0),Zt(),Mo(s.dialogData.confirmLabel))},dependencies:[JA,iP],styles:["[_nghost-%COMP%]{display:block;background-color:#fff;padding:24px;color:#1d1d1d;border-radius:4px}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{padding:0;line-height:22px;margin:0;font-size:16px}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:20px;min-width:0}"]})}return e})(),ZY=(()=>{class e{constructor(n,o,s,l){this.dialog=n,this.uneeqService=o,this.i18n=s,this.stateService=l,this.closeSettings=new ee}exit(){this.dialog.open(XY,{width:"415px",data:{description:this.i18n.transform("confirmExitDescription",this.stateService.i18nRefresh),cancelLabel:this.i18n.transform("confirmExitStayButton",this.stateService.i18nRefresh),confirmLabel:this.i18n.transform("confirmExitEndButton",this.stateService.i18nRefresh)}}).afterClosed().subscribe(o=>{!0===o&&this.uneeqService.endSession()})}static#e=this.\u0275fac=function(o){return new(o||e)(je(Vp),je(Ch),je(Va),je(br))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-settings"]],outputs:{closeSettings:"closeSettings"},decls:11,vars:4,consts:[["color","accent","mat-mini-fab","","aria-label","Menu Button",1,"settings-btn",3,"click"],["data-test","exit-btn",1,"item",3,"click"],[1,"label"]],template:function(o,s){1&o&&(kt(0,"button",0),Fn("click",function(){return s.closeSettings.emit()}),kt(1,"mat-icon"),Qn(2,"menu"),en()(),Er(3,"hr"),kt(4,"button",1),Fn("click",function(){return s.exit()}),kt(5,"div",2),Qn(6),Jn(7,"i18n"),en(),kt(8,"div")(9,"mat-icon"),Qn(10,"chevron_right"),en()()()),2&o&&(Zt(6),Mo(Qr(7,1,"settingsExitButton",s.stateService.i18nRefresh)))},dependencies:[du,Dv,Va],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .settings-btn[_ngcontent-%COMP%]{margin:20px}[_nghost-%COMP%]   hr[_ngcontent-%COMP%]{margin:10px 0 10px 20px;border:none;border-bottom:1px solid #C8C7CC;height:1px}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{background:none;display:flex;align-items:center;margin:15px 0 15px 20px;border:none;text-align:left;padding:0 30px 0 0;font-size:18px;color:#1d1d1d;cursor:pointer}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{flex-grow:1}"]})}return e})();function QY(e,r){if(1&e){const n=Wr();kt(0,"button",15),Fn("click",function(){return ur(n),hr(ln().mute())}),Jn(1,"i18n"),kt(2,"mat-icon"),Qn(3,"mic"),en()()}if(2&e){const n=ln();Zn("speaking",n.stateService.isUserSpeaking),rn("title",Qr(1,3,"muteMicrophoneToolTip",n.stateService.i18nRefresh))}}function JY(e,r){1&e&&(kt(0,"button",16)(1,"mat-icon"),Qn(2,"record_voice_over"),en()())}function eK(e,r){if(1&e){const n=Wr();kt(0,"button",17),Fn("click",function(){return ur(n),hr(ln().unmute())}),Jn(1,"i18n"),kt(2,"mat-icon"),Qn(3,"mic_off"),en()()}2&e&&rn("title",Qr(1,1,"unmuteMicrophoneToolTip",ln().stateService.i18nRefresh))}function tK(e,r){if(1&e){const n=Wr();kt(0,"button",18),Fn("click",function(){return ur(n),hr(ln().permissionBlocked())}),Jn(1,"i18n"),kt(2,"mat-icon"),Qn(3,"mic_off"),en()()}2&e&&rn("title",Qr(1,1,"microphonePermissionNotAllowedButtonToolTip",ln().stateService.i18nRefresh))}function nK(e,r){if(1&e){const n=Wr();kt(0,"button",19),Fn("click",function(){return ur(n),hr(ln().uneeqService.enableMicrophone())}),Jn(1,"i18n"),kt(2,"mat-icon"),Qn(3,"mic_off"),en()()}2&e&&rn("title",Qr(1,1,"microphonePermissionNotAllowedButtonToolTip",ln().stateService.i18nRefresh))}function rK(e,r){if(1&e){const n=Wr();kt(0,"button",20),Fn("click",function(){return ur(n),hr(ln().askQuestion())}),Jn(1,"i18n"),kt(2,"mat-icon"),Qn(3,"send"),en()()}2&e&&rn("title",Qr(1,1,"sendQuestionButtonToolTip",ln().stateService.i18nRefresh))}function iK(e,r){if(1&e){const n=Wr();kt(0,"div",21)(1,"button",22),Fn("mousedown",function(){return ur(n),hr(ln().stateService.showContent=!0)}),Jn(2,"i18n"),kt(3,"mat-icon"),Qn(4,"expand_less"),en()()()}if(2&e){const n=ln();Zn("hidden",!n.stateService.activeContent||n.stateService.showContent),Zt(),rn("title",Qr(2,3,"showContentToolTip",n.stateService.i18nRefresh))}}let oK=(()=>{class e{constructor(n,o,s){this.uneeqService=n,this.stateService=o,this.i18nPipe=s,this.showTextInput=!1,this.questionInputText="",this.MicState=zo}askQuestion(){this.uneeqService.sendTranscript(this.questionInputText),this.stateService.addClosedCaption({isFinal:!0,isUser:!0,transcript:this.questionInputText}),this.questionInputText=""}inputKeyDown(n){"Enter"===n.key&&!n.isComposing&&(this.askQuestion(),n.preventDefault())}mute(){this.stateService.isAudioRecording&&(this.uneeqService.instance.pauseSpeechRecognition(),this.stateService.isAudioRecording=!1)}unmute(){this.stateService.isAudioRecording||(this.uneeqService.instance.resumeSpeechRecognition(),this.stateService.isAudioRecording=!0)}permissionBlocked(){br.notifyParentFrame(this.i18nPipe.transform(wc.microphoneNotAllowedMessage,this.stateService.i18nRefresh)),console.error("UneeQ: Microphone permission was blocked by the user.")}static#e=this.\u0275fac=function(o){return new(o||e)(je(Ch),je(br),je(Va))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-user-input-overlay-v2"]],inputs:{placeHolder:"placeHolder"},decls:31,vars:40,consts:[[1,"user-input-main-container"],[1,"recording-control-container"],["id","muteBtn","mat-mini-fab","",3,"title","speaking","click",4,"ngIf"],["id","micInterruptBlocked","mat-mini-fab","","disabled","",4,"ngIf"],["id","unmuteBtn","mat-mini-fab","",3,"title","click",4,"ngIf"],["id","micBlockedBtn","mat-mini-fab","",3,"title","click",4,"ngIf"],["id","micInitialBtn","mat-mini-fab","",3,"title","click",4,"ngIf"],["id","questionInput","autocomplete","off",1,"type-input",3,"ngModel","placeholder","ngModelChange","keydown"],["questionInput",""],["id","sendQuestionBtn","class","send-question-btn",3,"title","click",4,"ngIf"],["class","show-content-container",3,"hidden",4,"ngIf"],[1,"mic-enabled-hint"],[1,"mic-enabled-hint-general"],[1,"bold"],[1,"mic-enabled-hint-overlay"],["id","muteBtn","mat-mini-fab","",3,"title","click"],["id","micInterruptBlocked","mat-mini-fab","","disabled",""],["id","unmuteBtn","mat-mini-fab","",3,"title","click"],["id","micBlockedBtn","mat-mini-fab","",3,"title","click"],["id","micInitialBtn","mat-mini-fab","",3,"title","click"],["id","sendQuestionBtn",1,"send-question-btn",3,"title","click"],[1,"show-content-container"],[1,"show-content-btn",3,"title","mousedown"]],template:function(o,s){1&o&&(kt(0,"div",0)(1,"div",1),Sr(2,QY,4,6,"button",2),Jn(3,"async"),Sr(4,JY,3,0,"button",3),Jn(5,"async"),Sr(6,eK,4,4,"button",4),Jn(7,"async"),Sr(8,tK,4,4,"button",5),Jn(9,"async"),Jn(10,"async"),Sr(11,nK,4,4,"button",6),Jn(12,"async"),en(),kt(13,"input",7,8),cp("ngModelChange",function(y){return nb(s.questionInputText,y)||(s.questionInputText=y),y}),Fn("keydown",function(y){return s.inputKeyDown(y)}),Jn(15,"i18n"),en(),Sr(16,rK,4,4,"button",9)(17,iK,5,6,"div",10),kt(18,"div",11),Jn(19,"async"),kt(20,"div",12)(21,"div",13),Qn(22),Jn(23,"i18n"),en(),kt(24,"div"),Qn(25),Jn(26,"i18n"),en()(),kt(27,"div",14)(28,"div"),Qn(29),Jn(30,"i18n"),en()()()()),2&o&&(Zt(2),rn("ngIf",xo(3,14,s.stateService.micPermissionState)===s.MicState.ALLOWED&&s.stateService.isAudioRecording&&!s.stateService.interruptionBlocked),Zt(2),rn("ngIf",xo(5,16,s.stateService.micPermissionState)===s.MicState.ALLOWED&&s.stateService.isAudioRecording&&s.stateService.interruptionBlocked),Zt(2),rn("ngIf",xo(7,18,s.stateService.micPermissionState)===s.MicState.ALLOWED&&!s.stateService.isAudioRecording),Zt(2),rn("ngIf",xo(9,20,s.stateService.micPermissionState)===s.MicState.BLOCKED||xo(10,22,s.stateService.micPermissionState)===s.MicState.REQUESTING),Zt(3),rn("ngIf",xo(12,24,s.stateService.micPermissionState)===s.MicState.INITIAL),Zt(2),ap("ngModel",s.questionInputText),rn("placeholder",Qr(15,26,"textInputPlaceholder",s.stateService.i18nRefresh)),Zt(3),rn("ngIf",s.questionInputText.length>0),Zt(),rn("ngIf",s.stateService.displayAsFullScreen()&&!s.stateService.isMobileLayout),Zt(),Zn("hide",!1===xo(19,29,s.stateService.showMicEnabledHint)),Zt(4),Mo(Qr(23,31,"microphoneEnabledHintTitle",s.stateService.i18nRefresh)),Zt(3),Mo(Qr(26,34,"microphoneEnabledHintText",s.stateService.i18nRefresh)),Zt(4),Mo(Qr(30,37,"microphoneEnabledHintTitleOverlay",s.stateService.i18nRefresh)))},dependencies:[dl,nm,v1,cy,du,Dv,Ob,Va],styles:["[_nghost-%COMP%]{opacity:0;transition:opacity 1s linear 0s,z-index 1s linear 1s;z-index:1;color:#fff;display:flex;padding:0 4px;box-sizing:border-box;width:310px;margin:0 0 10px;left:0;right:auto}.show[_nghost-%COMP%]{opacity:1;z-index:2;transition:opacity 1s linear 0s,z-index 0s linear 0s}.transparent-bg[_nghost-%COMP%]{margin-bottom:8px;padding:0}.overlay.mobile-layout.transparent-bg[_nghost-%COMP%]{padding-right:104px}.splitscreen[_nghost-%COMP%], .fullscreen[_nghost-%COMP%]{margin:0 0 40px 44px}.splitscreen[_nghost-%COMP%]   .user-input-main-container[_ngcontent-%COMP%], .fullscreen[_nghost-%COMP%]   .user-input-main-container[_ngcontent-%COMP%]{padding:0;justify-content:flex-start;margin:0}.splitscreen[_nghost-%COMP%]   .type-input[_ngcontent-%COMP%], .fullscreen[_nghost-%COMP%]   .type-input[_ngcontent-%COMP%]{margin-right:4px}.fullscreen.fullscreen-mobile[_nghost-%COMP%]{padding-left:18px}.fullscreen.fullscreen-mobile[_nghost-%COMP%]   .type-input[_ngcontent-%COMP%]{width:100%;margin-right:6px}.fullscreen.fullscreen-mobile[_nghost-%COMP%]   .mic-enabled-hint[_ngcontent-%COMP%]{top:-77px}.fullscreen.fullscreen-mobile[_nghost-%COMP%]   .mic-enabled-hint.hide[_ngcontent-%COMP%]{top:999px}.mobile-layout[_nghost-%COMP%]   .user-input-main-container[_ngcontent-%COMP%]{max-width:192px}.overlay[_nghost-%COMP%]{right:0;left:9px;margin:0 auto 10px;box-sizing:border-box}.overlay.transparent-bg[_nghost-%COMP%]{margin-bottom:0;padding-right:52px}.overlay[_nghost-%COMP%]   .user-input-main-container[_ngcontent-%COMP%]{height:34px;padding:5px}.overlay[_nghost-%COMP%]   .type-input[_ngcontent-%COMP%]{height:20px;line-height:20px;font-size:14px;margin:0 0 0 10px;width:100%;flex-grow:1;padding:0 28px 0 8px}.overlay[_nghost-%COMP%]   .type-input[_ngcontent-%COMP%]:focus{width:100px}.overlay[_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:24px;width:24px;display:flex;align-items:center;justify-content:center}.overlay[_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.overlay[_nghost-%COMP%]   .send-question-btn[_ngcontent-%COMP%]{display:flex;margin-bottom:1px}.overlay[_nghost-%COMP%]   .send-question-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}.overlay[_nghost-%COMP%]   .mic-enabled-hint[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px;left:9px;top:-26px}.overlay[_nghost-%COMP%]   .mic-enabled-hint[_ngcontent-%COMP%]   .mic-enabled-hint-general[_ngcontent-%COMP%]{display:none}.overlay[_nghost-%COMP%]   .mic-enabled-hint[_ngcontent-%COMP%]   .mic-enabled-hint-overlay[_ngcontent-%COMP%]{display:block}.fullscreen-mobile[_nghost-%COMP%]{width:100%;height:72px;display:flex;align-items:center;background:#fff;margin:0;padding:0 17px 0 0;box-shadow:0 -2px 4px #00000040}.fullscreen-mobile[_nghost-%COMP%]   .user-input-main-container[_ngcontent-%COMP%]{justify-content:center}.fullscreen-mobile[_nghost-%COMP%]   .send-question-btn[_ngcontent-%COMP%]{right:28px;opacity:1}[_nghost-%COMP%]   .user-input-main-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;flex-direction:row;height:44px;justify-content:center;padding:4px}[_nghost-%COMP%]   .show-content-container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:row}[_nghost-%COMP%]   .show-content-container[_ngcontent-%COMP%]   .show-content-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#ccc;cursor:pointer}[_nghost-%COMP%]   .show-content-container[_ngcontent-%COMP%]   .show-content-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:42px;height:42px;font-size:42px}[_nghost-%COMP%]   .show-content-container.hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .type-input[_ngcontent-%COMP%]{outline:none;margin:0 20px;border-radius:23px;border:2px solid transparent;background:#fffc;box-shadow:0 1px 4px #00000040;padding:0 16px;color:var(--input-text-color);width:100px;height:40px;line-height:40px;font-size:17px;transition:width .2s linear}[_nghost-%COMP%]   .type-input[_ngcontent-%COMP%]:focus{width:180px;padding-right:42px;border:2px solid white}[_nghost-%COMP%]   .type-input[_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder-color)}[_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;box-sizing:content-box}[_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.92}[_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:.88}[_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{opacity:.7}[_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   #muteBtn[_ngcontent-%COMP%]{border:2px solid #1BA74B;background-color:#1a1a1a;animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out}[_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   #muteBtn.speaking[_ngcontent-%COMP%]{background-color:#1ba74b}[_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   #unmuteBtn[_ngcontent-%COMP%]{border:2px solid #CC3B33;background:#cc3b33}[_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   #micBlockedBtn[_ngcontent-%COMP%], [_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   #micInitialBtn[_ngcontent-%COMP%], [_nghost-%COMP%]   .recording-control-container[_ngcontent-%COMP%]   #micInterruptBlocked[_ngcontent-%COMP%]{border:2px solid rgba(255,255,255,.35);background:#ffffff59;color:#1c1b1f61}[_nghost-%COMP%]   .send-question-btn[_ngcontent-%COMP%]{background:none;border:none;position:absolute;right:8px;color:var(--input-text-color);cursor:pointer;opacity:0;transition:opacity 20ms linear}[_nghost-%COMP%]   .type-input[_ngcontent-%COMP%]:focus + .send-question-btn[_ngcontent-%COMP%]{opacity:1;transition:opacity .2s linear;transition-delay:.2s}[_nghost-%COMP%]   .mic-enabled-hint[_ngcontent-%COMP%]{background:#fff;color:var(--primary-color);padding:16px;border-radius:10px;background:var(--White, #FFF);box-shadow:0 1px 3px #0000004d,0 4px 8px 3px #00000026;position:absolute;top:-96px;left:5px}[_nghost-%COMP%]   .mic-enabled-hint.hide[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .mic-enabled-hint[_ngcontent-%COMP%]   .mic-enabled-hint-general[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .mic-enabled-hint[_ngcontent-%COMP%]   .mic-enabled-hint-overlay[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .bold[_ngcontent-%COMP%]{font-weight:600}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #1ba74b80}50%{box-shadow:0 0 0 8px #1ba74b80}to{box-shadow:0 0 #1ba74b80}}"]})}return e})();function sK(e,r){if(1&e&&Er(0,"div",1),2&e){const n=r.$implicit;Zn("user",n.isUser),rn("innerHtml",n.transcript,gd)}}let aK=(()=>{class e{constructor(n){this.stateService=n}static#e=this.\u0275fac=function(o){return new(o||e)(je(br))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-closed-captions"]],decls:2,vars:3,consts:[["class","bubble",3,"user","innerHtml",4,"ngFor","ngForOf"],[1,"bubble",3,"innerHtml"]],template:function(o,s){1&o&&(Sr(0,sK,1,3,"div",0),Jn(1,"async")),2&o&&rn("ngForOf",xo(1,1,s.stateService.closedCaptions))},dependencies:[nM,Ob],styles:["[_nghost-%COMP%]{display:none;position:absolute;inset:auto auto 106px 50px;width:350px;max-width:80%;z-index:1}.show[_nghost-%COMP%]{display:block}.overlay[_nghost-%COMP%], .mobile-layout[_nghost-%COMP%], .fullscreen-mobile[_nghost-%COMP%]{display:none}[_nghost-%COMP%]   .bubble[_ngcontent-%COMP%]{display:block;width:-moz-fit-content;width:fit-content;background-color:#fff3;color:#fff;padding:4px 8px;margin:4px 0;border-radius:8px;font-size:14px}[_nghost-%COMP%]   .bubble.user[_ngcontent-%COMP%]{background-color:#fff9;color:var(--primary-text-color)}[_nghost-%COMP%]   .bubble[_ngcontent-%COMP%]     a{color:#fff;font-weight:700;text-decoration:underline}"]})}return e})();function cK(e,r){if(1&e){const n=Wr();kt(0,"button",15),Fn("click",function(){return ur(n),hr(ln().stateService.settingsOpen=!0)}),kt(1,"mat-icon"),Qn(2,"menu"),en()()}}function uK(e,r){if(1&e){const n=Wr();kt(0,"button",16),Fn("click",function(){return ur(n),hr(ln().uneeqService.unmuteDigitalHuman())}),kt(1,"mat-icon"),Qn(2,"volume_off"),en()()}}function lK(e,r){if(1&e){const n=Wr();kt(0,"button",17),Fn("click",function(){return ur(n),hr(ln().stateService.showContent=!0)}),kt(1,"mat-icon"),Qn(2,"expand_less"),en()()}if(2&e){const n=ln();Zn("hidden",!n.stateService.activeContent||n.stateService.showContent)}}function dK(e,r){if(1&e&&Er(0,"app-closed-captions"),2&e){const n=ln();Zn("show",n.stateService.uneeqInteractionsOptions.showClosedCaptions)("overlay",n.stateService.displayAsOverlay())("mobile-layout",n.stateService.displayAsMobile())("fullscreen-mobile",n.stateService.displayAsFullScreenMobile())}}function hK(e,r){if(1&e&&Er(0,"app-user-input-overlay",18),2&e){const n=ln();Zn("show",n.stateService.uneeqInteractionsOptions.showUserInputInterface)("splitscreen-content",n.stateService.displayAsSplitScreen()&&n.stateService.showContent)("mobile-layout",n.stateService.displayAsMobile())("fullscreen",n.stateService.displayAsFullScreen())("fullscreen-mobile",n.stateService.displayAsFullScreenMobile())("transparent-bg",n.stateService.uneeqInteractionsOptions.enableTransparentBackground),rn("placeHolder",n.stateService.uneeqInteractionsOptions.textInputPlaceholder)}}function fK(e,r){if(1&e&&Er(0,"app-user-input-overlay-v2",18),2&e){const n=ln();Zn("show",n.stateService.uneeqInteractionsOptions.showUserInputInterface)("splitscreen-content",n.stateService.displayAsSplitScreen()&&n.stateService.showContent)("splitscreen",n.stateService.displayAsSplitScreen())("overlay",n.stateService.displayAsOverlay())("mobile-layout",n.stateService.displayAsMobile())("fullscreen",n.stateService.displayAsFullScreen())("fullscreen-mobile",n.stateService.displayAsFullScreenMobile())("transparent-bg",n.stateService.uneeqInteractionsOptions.enableTransparentBackground),rn("placeHolder",n.stateService.uneeqInteractionsOptions.textInputPlaceholder)}}function pK(e,r){if(1&e&&Er(0,"app-content",19),2&e){const n=ln();Zn("hideContent",!n.stateService.showContent)("user-input",n.stateService.uneeqInteractionsOptions.showUserInputInterface)("mobile-layout",n.stateService.displayAsMobile())("fullscreen",n.stateService.displayAsFullScreen())("fullscreen-mobile",n.stateService.displayAsFullScreenMobile())("content-expanded",n.stateService.contentExpanded)("content-left",n.displayContentOffsetLeft())("content-right",n.displayContentOffsetRight())("speech-recognition","SPEECH_RECOGNITION"===n.stateService.uneeqInteractionsOptions.voiceInputMode),rn("content",n.stateService.activeContent)}}function mK(e,r){if(1&e&&Er(0,"app-content-large",19),2&e){const n=ln();Zn("hideContent",!n.stateService.showContent),rn("content",n.stateService.activeContent)}}function gK(e,r){if(1&e){const n=Wr();kt(0,"mat-icon",20),Fn("click",function(){return ur(n),hr(ln().uneeqService.endSession())}),Jn(1,"i18n"),Qn(2," close "),en()}if(2&e){const n=ln();Zn("mobile-layout",n.stateService.displayAsMobile())("transparent-bg",n.stateService.uneeqInteractionsOptions.enableTransparentBackground),rn("title",Qr(1,5,"hideDigitalHumanButton",n.stateService.i18nRefresh))}}function bK(e,r){if(1&e){const n=Wr();kt(0,"app-cta-box",21),Fn("initDigitalHuman",function(){return ur(n),hr(ln().uneeqService.initDigitalHuman())})("hideError",function(){return ur(n),hr(ln().stateService.hideError())})("hideCallToAction",function(){return ur(n),hr(ln().stateService.hideCallToAction())})("resizeFrameToInitial",function(){return ur(n),hr(ln().stateService.resizeFrameToInitial())}),en()}if(2&e){const n=ln();Zn("hidden",n.stateService.state===n.appState.Live),rn("ctaText",n.stateService.uneeqInteractionsOptions.callToActionText)("errorText",n.stateService.uneeqInteractionsOptions.errorText)("showErrorText",n.stateService.showErrorText)("state",n.stateService.state)("enableTransparentBackground",n.stateService.uneeqInteractionsOptions.enableTransparentBackground)("shareId",n.stateService.uneeqInteractionsOptions.personaShareId)("ctaThumbnailUrl",n.stateService.uneeqInteractionsOptions.ctaThumbnailUrl)}}let vK=(()=>{class e{constructor(n,o){this.uneeqService=n,this.stateService=o,this.appState=lr,this.layoutMode=Di}displayHideDHButton(){return this.stateService.layoutMode===Di.OVERLAY&&!(this.stateService.isMobileLayout&&this.stateService.showContent)}displayContentOffsetLeft(){return this.stateService.displayAsFullScreen()&&!this.stateService.displayAsFullScreenMobile()&&this.stateService.uneeqInteractionsOptions.cameraPosition===Ip.RIGHT}displayContentOffsetRight(){return this.stateService.displayAsFullScreen()&&!this.stateService.displayAsFullScreenMobile()&&this.stateService.uneeqInteractionsOptions.cameraPosition===Ip.LEFT}static#e=this.\u0275fac=function(o){return new(o||e)(je(Ch),je(br))};static#t=this.\u0275cmp=Or({type:e,selectors:[["app-root"]],decls:18,vars:34,consts:[[3,"hasBackdrop"],[2,"background","white","width","300px",3,"mode","opened","openedChange"],[3,"closeSettings"],["class","settings-btn","mat-mini-fab","","aria-label","Menu Button","color","primary",3,"click",4,"ngIf"],["class","dh-muted-btn","mat-mini-fab","","aria-label","Digital Human Unmute Button",3,"click",4,"ngIf"],[1,"main-container","animate-transition"],["class","show-content-btn","mat-fab","",3,"hidden","click",4,"ngIf"],[3,"show","overlay","mobile-layout","fullscreen-mobile",4,"ngIf"],[3,"show","splitscreen-content","placeHolder","mobile-layout","fullscreen","fullscreen-mobile","transparent-bg",4,"ngIf"],[3,"show","splitscreen-content","splitscreen","overlay","placeHolder","mobile-layout","fullscreen","fullscreen-mobile","transparent-bg",4,"ngIf"],["data-test","content",3,"content","hideContent","user-input","mobile-layout","fullscreen","fullscreen-mobile","content-expanded","content-left","content-right","speech-recognition",4,"ngIf"],["data-test","content",3,"content","hideContent",4,"ngIf"],["data-test","pause-dh-button","class","pause-dh-btn",3,"mobile-layout","transparent-bg","title","click",4,"ngIf"],["data-test","cta-container","class","animate-transition",3,"hidden","ctaText","errorText","showErrorText","state","enableTransparentBackground","shareId","ctaThumbnailUrl","initDigitalHuman","hideError","hideCallToAction","resizeFrameToInitial",4,"ngIf"],[3,"innerHTML"],["mat-mini-fab","","aria-label","Menu Button","color","primary",1,"settings-btn",3,"click"],["mat-mini-fab","","aria-label","Digital Human Unmute Button",1,"dh-muted-btn",3,"click"],["mat-fab","",1,"show-content-btn",3,"click"],[3,"placeHolder"],["data-test","content",3,"content"],["data-test","pause-dh-button",1,"pause-dh-btn",3,"title","click"],["data-test","cta-container",1,"animate-transition",3,"ctaText","errorText","showErrorText","state","enableTransparentBackground","shareId","ctaThumbnailUrl","initDigitalHuman","hideError","hideCallToAction","resizeFrameToInitial"]],template:function(o,s){1&o&&(kt(0,"mat-drawer-container",0)(1,"mat-drawer",1),cp("openedChange",function(y){return nb(s.stateService.settingsOpen,y)||(s.stateService.settingsOpen=y),y}),kt(2,"app-settings",2),Fn("closeSettings",function(){return s.stateService.settingsOpen=!1}),en()(),kt(3,"mat-drawer-content"),Sr(4,cK,3,0,"button",3)(5,uK,3,0,"button",4),kt(6,"div",5),Sr(7,lK,3,2,"button",6)(8,dK,1,8,"app-closed-captions",7)(9,hK,1,13,"app-user-input-overlay",8)(10,fK,1,17,"app-user-input-overlay-v2",9)(11,pK,1,19,"app-content",10)(12,mK,1,3,"app-content-large",11),Er(13,"app-avatar-video"),Sr(14,gK,3,8,"mat-icon",12),en()()(),Sr(15,bK,1,9,"app-cta-box",13),Er(16,"div",14),Jn(17,"safeHtml")),2&o&&(Zn("hidden",s.stateService.state!==s.appState.Live),rn("hasBackdrop",!0),Zt(),rn("mode","over"),ap("opened",s.stateService.settingsOpen),Zt(3),rn("ngIf",s.stateService.displayAsFullScreen()&&!s.stateService.contentExpanded),Zt(),rn("ngIf",s.stateService.digitalHumanMuted&&!s.stateService.showContent),Zt(),Zn("splitScreen",s.stateService.displayAsSplitScreen())("hasContent",s.stateService.showContent)("transparent-bg",s.stateService.uneeqInteractionsOptions.enableTransparentBackground)("mobile-layout",s.stateService.displayAsMobile())("user-input",s.stateService.uneeqInteractionsOptions.showUserInputInterface),Zt(),rn("ngIf","SPEECH_RECOGNITION"!==s.stateService.uneeqInteractionsOptions.voiceInputMode&&s.stateService.displayAsFullScreen()&&!s.stateService.isMobileLayout),Zt(),rn("ngIf","SPEECH_RECOGNITION"===s.stateService.uneeqInteractionsOptions.voiceInputMode),Zt(),rn("ngIf","SPEECH_RECOGNITION"!==s.stateService.uneeqInteractionsOptions.voiceInputMode),Zt(),rn("ngIf","SPEECH_RECOGNITION"===s.stateService.uneeqInteractionsOptions.voiceInputMode),Zt(),rn("ngIf",!s.stateService.displayAsSplitScreen()),Zt(),rn("ngIf",s.stateService.displayAsSplitScreen()),Zt(),Zn("fullscreen",s.stateService.displayAsFullScreen())("mobile-layout",s.stateService.displayAsMobile()),Zt(),rn("ngIf",s.displayHideDHButton()),Zt(),rn("ngIf",s.stateService.uneeqInteractionsOptions.displayCallToAction),Zt(),Zn("hidden",!0),rn("innerHTML",xo(17,32,"<div></div><style>"+s.stateService.uneeqInteractionsOptions.customStyles+"</style>"),gd))},dependencies:[dl,du,x2,C2,Zv,Dv,t7,Tq,Aq,Uq,zq,KY,ZY,oK,aK,xv,Va],styles:["[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;justify-content:flex-end;box-sizing:border-box;position:absolute;bottom:0;right:0;overflow:hidden}[_nghost-%COMP%]   .main-container.splitScreen[_ngcontent-%COMP%]   app-content-large[_ngcontent-%COMP%]{flex-grow:unset;transition:height 1s ease-in-out;order:2;height:0;margin-bottom:0;padding:0;z-index:2}[_nghost-%COMP%]   .main-container.splitScreen[_ngcontent-%COMP%]   app-avatar-video[_ngcontent-%COMP%]{order:0;flex-grow:1;height:100%;transition:height 1s ease-in-out}[_nghost-%COMP%]   .main-container.splitScreen[_ngcontent-%COMP%]   app-user-input[_ngcontent-%COMP%]{position:absolute;bottom:0;transition:bottom 1s ease-in-out;z-index:1}[_nghost-%COMP%]   .main-container.splitScreen.hasContent[_ngcontent-%COMP%]   app-avatar-video[_ngcontent-%COMP%]{height:50%;order:0}[_nghost-%COMP%]   .main-container.splitScreen.hasContent[_ngcontent-%COMP%]   app-user-input[_ngcontent-%COMP%]{bottom:50%}[_nghost-%COMP%]   .main-container.splitScreen.hasContent[_ngcontent-%COMP%]   app-content-large[_ngcontent-%COMP%]{height:50%;padding:25px 25px 0;margin:0;order:2}[_nghost-%COMP%]   .main-container.splitScreen.hasContent.transparent-bg[_ngcontent-%COMP%]   app-content[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   .main-container.splitScreen.hasContent.transparent-bg[_ngcontent-%COMP%]   app-content-large[_ngcontent-%COMP%]{padding:20px 20px 0;margin-top:-20px}[_nghost-%COMP%]   .main-container.splitScreen[_ngcontent-%COMP%]   app-content-large[_ngcontent-%COMP%]{padding:0 25px;background:var(--content-backdrop-color)}[_nghost-%COMP%]   .main-container.splitScreen[_ngcontent-%COMP%]   app-content-large.transparent-bg[_ngcontent-%COMP%]{padding:0 20px;margin-top:-20px}[_nghost-%COMP%]   app-user-input-overlay[_ngcontent-%COMP%]{position:absolute;bottom:-50px;transition:bottom .2s linear;z-index:1}[_nghost-%COMP%]   app-user-input-overlay.fullscreen[_ngcontent-%COMP%]{bottom:-100px}[_nghost-%COMP%]   app-user-input-overlay.fullscreen-mobile[_ngcontent-%COMP%]{z-index:999;bottom:-53px}[_nghost-%COMP%]   app-user-input-overlay.show[_ngcontent-%COMP%]{bottom:0}[_nghost-%COMP%]   app-user-input-overlay-v2[_ngcontent-%COMP%]{position:absolute;bottom:0}[_nghost-%COMP%]   app-user-input-overlay-v2.fullscreen-mobile[_ngcontent-%COMP%]{z-index:999}[_nghost-%COMP%]   app-user-input-overlay.splitscreen-content.show[_ngcontent-%COMP%], [_nghost-%COMP%]   app-user-input-overlay-v2.splitscreen-content.show[_ngcontent-%COMP%]{bottom:50%}[_nghost-%COMP%]   .show-content-btn[_ngcontent-%COMP%]{position:absolute;margin:30px;bottom:0;right:0;width:48px;height:48px;z-index:1;opacity:1;transition:opacity 1s}[_nghost-%COMP%]   .show-content-btn[_ngcontent-%COMP%]     .mat-button-wrapper{padding:0}[_nghost-%COMP%]   .show-content-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:37px;height:37px;font-size:37px}[_nghost-%COMP%]   .show-content-btn.hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .pause-dh-btn[_ngcontent-%COMP%]{cursor:pointer;position:absolute;background:#fff;box-shadow:0 0 4px #00000026;color:#5a656e;bottom:170px;right:10px;opacity:0;margin-right:8px;border-radius:100%;font-size:18px;width:18px;height:18px;padding:3px;transition:opacity .5s ease-in-out;line-height:19px}[_nghost-%COMP%]   .main-container.mobile-layout[_ngcontent-%COMP%]   .pause-dh-btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]:hover   .pause-dh-btn[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .pause-dh-btn.mobile-layout[_ngcontent-%COMP%]{margin-right:0;bottom:165px}[_nghost-%COMP%]   .pause-dh-btn.transparent-bg[_ngcontent-%COMP%]{align-self:flex-end;cursor:pointer;bottom:170px;position:absolute;margin-right:0}[_nghost-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .isClosed[_ngcontent-%COMP%]{height:0;padding:0}[_nghost-%COMP%]   .settings-btn[_ngcontent-%COMP%]{position:absolute;z-index:9;margin:20px;inset:0 0 auto auto}[_nghost-%COMP%]   .dh-muted-btn[_ngcontent-%COMP%]{position:absolute;z-index:9;opacity:.5;margin:24px}[_nghost-%COMP%]   .dh-muted-btn[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .mat-drawer-container[_ngcontent-%COMP%]{background-color:transparent;height:100%;width:100%}[_nghost-%COMP%]   .mat-drawer-content[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]     .mat-drawer-backdrop{background-color:#000000b3;opacity:0}[_nghost-%COMP%]     .mat-drawer-backdrop.mat-drawer-shown{opacity:1}[_nghost-%COMP%]     .mat-drawer-transition .mat-drawer-backdrop{transition-property:inherit}[_nghost-%COMP%]   .user-input[_ngcontent-%COMP%]   app-content.fullscreen.fullscreen-mobile[_ngcontent-%COMP%]{bottom:44px}[_nghost-%COMP%]   .user-input[_ngcontent-%COMP%]   app-content.fullscreen.fullscreen-mobile.speech-recognition[_ngcontent-%COMP%]{bottom:72px}[_nghost-%COMP%]   app-content.fullscreen[_ngcontent-%COMP%]{transition:right,top,bottom,width,opacity;transition-duration:.5s}[_nghost-%COMP%]   app-content.fullscreen.fullscreen-mobile[_ngcontent-%COMP%]{bottom:-9px}[_nghost-%COMP%]   app-content.fullscreen.fullscreen-mobile.hideContent[_ngcontent-%COMP%]{width:100%;top:auto;opacity:1;height:40px;bottom:-8px}[_nghost-%COMP%]   app-content.fullscreen.hideContent[_ngcontent-%COMP%]{right:75%;width:0;top:500px;bottom:50px;opacity:0;padding:0}@media screen and (orientation: landscape){[_nghost-%COMP%]   .main-container.hasContent.mobile-layout[_ngcontent-%COMP%]{flex-direction:row}[_nghost-%COMP%]   .main-container.hasContent.mobile-layout[_ngcontent-%COMP%]   app-avatar-video[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   .main-container.hasContent.mobile-layout[_ngcontent-%COMP%]   app-content[_ngcontent-%COMP%]{padding:10px;margin:0;overflow:visible}[_nghost-%COMP%]   .main-container.hasContent.mobile-layout[_ngcontent-%COMP%]   app-content[_ngcontent-%COMP%]     .close-btn{margin-top:0;margin-right:-30px;position:absolute;transform:rotate(180deg);line-height:26px}}"]})}return e})();const yK=[];let _K=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({imports:[y2.forRoot(yK),y2]})}return e})();var wK=g(904);const SK=[nP,bP,T2,RS,lP];let xK=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e});static#n=this.\u0275inj=Ar({imports:[Mb,SK,nP,bP,T2,RS,lP]})}return e})(),CK=(()=>{class e extends kM{constructor(){super(...arguments),this.overrides={swipe:{direction:wK.DIRECTION_ALL}}}static#e=this.\u0275fac=(()=>{let n;return function(s){return(n||(n=Kr(e)))(s||e)}})();static#t=this.\u0275prov=Ot({token:e,factory:e.\u0275fac})}return e})(),TK=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=_r({type:e,bootstrap:[vK]});static#n=this.\u0275inj=Ar({providers:[{provide:Q0,useValue:cu.production?"/interactions":""},{provide:Rb,useClass:CK},Va],imports:[_K,Mb,IM,Q8,Q6,$Y,Mb,o6,xK]})}return e})();ZU().bootstrapModule(TK).catch(e=>console.error("UneeQ:",e))},904:(z,u,g)=>{var S;!function(w,C,b,v){"use strict";var I,p=["","webkit","Moz","MS","ms","o"],m=C.createElement("div"),f="function",c=Math.round,a=Math.abs,d=Date.now;function h(oe,le,De){return setTimeout(k(oe,De),le)}function _(oe,le,De){return!!Array.isArray(oe)&&(x(oe,De[le],De),!0)}function x(oe,le,De){var Ue;if(oe)if(oe.forEach)oe.forEach(le,De);else if(oe.length!==v)for(Ue=0;Ue<oe.length;)le.call(De,oe[Ue],Ue,oe),Ue++;else for(Ue in oe)oe.hasOwnProperty(Ue)&&le.call(De,oe[Ue],Ue,oe)}function D(oe,le,De){var Ue="DEPRECATED METHOD: "+le+"\n"+De+" AT \n";return function(){var ot=new Error("get-stack-trace"),ct=ot&&ot.stack?ot.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ze=w.console&&(w.console.warn||w.console.log);return ze&&ze.call(w.console,Ue,ct),oe.apply(this,arguments)}}I="function"!=typeof Object.assign?function(le){if(le===v||null===le)throw new TypeError("Cannot convert undefined or null to object");for(var De=Object(le),Ue=1;Ue<arguments.length;Ue++){var ot=arguments[Ue];if(ot!==v&&null!==ot)for(var ct in ot)ot.hasOwnProperty(ct)&&(De[ct]=ot[ct])}return De}:Object.assign;var A=D(function(le,De,Ue){for(var ot=Object.keys(De),ct=0;ct<ot.length;)(!Ue||Ue&&le[ot[ct]]===v)&&(le[ot[ct]]=De[ot[ct]]),ct++;return le},"extend","Use `assign`."),R=D(function(le,De){return A(le,De,!0)},"merge","Use `assign`.");function P(oe,le,De){var ot,Ue=le.prototype;(ot=oe.prototype=Object.create(Ue)).constructor=oe,ot._super=Ue,De&&I(ot,De)}function k(oe,le){return function(){return oe.apply(le,arguments)}}function B(oe,le){return typeof oe==f?oe.apply(le&&le[0]||v,le):oe}function V(oe,le){return oe===v?le:oe}function j(oe,le,De){x(de(le),function(Ue){oe.addEventListener(Ue,De,!1)})}function X(oe,le,De){x(de(le),function(Ue){oe.removeEventListener(Ue,De,!1)})}function Q(oe,le){for(;oe;){if(oe==le)return!0;oe=oe.parentNode}return!1}function Z(oe,le){return oe.indexOf(le)>-1}function de(oe){return oe.trim().split(/\s+/g)}function he(oe,le,De){if(oe.indexOf&&!De)return oe.indexOf(le);for(var Ue=0;Ue<oe.length;){if(De&&oe[Ue][De]==le||!De&&oe[Ue]===le)return Ue;Ue++}return-1}function Pe(oe){return Array.prototype.slice.call(oe,0)}function ie(oe,le,De){for(var Ue=[],ot=[],ct=0;ct<oe.length;){var ze=le?oe[ct][le]:oe[ct];he(ot,ze)<0&&Ue.push(oe[ct]),ot[ct]=ze,ct++}return De&&(Ue=le?Ue.sort(function(jn,kr){return jn[le]>kr[le]}):Ue.sort()),Ue}function ue(oe,le){for(var De,Ue,ot=le[0].toUpperCase()+le.slice(1),ct=0;ct<p.length;){if((Ue=(De=p[ct])?De+ot:le)in oe)return Ue;ct++}return v}var Fe=1;function dt(oe){var le=oe.ownerDocument||oe;return le.defaultView||le.parentWindow||w}var ft="ontouchstart"in w,Rt=ue(w,"PointerEvent")!==v,pt=ft&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ht="touch",ge="mouse",ht=25,$t=1,gt=4,Gt=8,at=1,vn=2,Y=4,Se=8,F=16,U=vn|Y,G=Se|F,J=U|G,fe=["x","y"],be=["clientX","clientY"];function Ee(oe,le){var De=this;this.manager=oe,this.callback=le,this.element=oe.element,this.target=oe.options.inputTarget,this.domHandler=function(Ue){B(oe.options.enable,[oe])&&De.handler(Ue)},this.init()}function nt(oe,le,De){var Ue=De.pointers.length,ot=De.changedPointers.length,ct=le&$t&&Ue-ot==0,ze=le&(gt|Gt)&&Ue-ot==0;De.isFirst=!!ct,De.isFinal=!!ze,ct&&(oe.session={}),De.eventType=le,function Wt(oe,le){var De=oe.session,Ue=le.pointers,ot=Ue.length;De.firstInput||(De.firstInput=ve(le)),ot>1&&!De.firstMultiple?De.firstMultiple=ve(le):1===ot&&(De.firstMultiple=!1);var ct=De.firstInput,ze=De.firstMultiple,fn=ze?ze.center:ct.center,jn=le.center=we(Ue);le.timeStamp=d(),le.deltaTime=le.timeStamp-ct.timeStamp,le.angle=xe(fn,jn),le.distance=ne(fn,jn),function q(oe,le){var De=le.center,Ue=oe.offsetDelta||{},ot=oe.prevDelta||{},ct=oe.prevInput||{};(le.eventType===$t||ct.eventType===gt)&&(ot=oe.prevDelta={x:ct.deltaX||0,y:ct.deltaY||0},Ue=oe.offsetDelta={x:De.x,y:De.y}),le.deltaX=ot.x+(De.x-Ue.x),le.deltaY=ot.y+(De.y-Ue.y)}(De,le),le.offsetDirection=Me(le.deltaX,le.deltaY);var kr=Le(le.deltaTime,le.deltaX,le.deltaY);le.overallVelocityX=kr.x,le.overallVelocityY=kr.y,le.overallVelocity=a(kr.x)>a(kr.y)?kr.x:kr.y,le.scale=ze?function Ae(oe,le){return ne(le[0],le[1],be)/ne(oe[0],oe[1],be)}(ze.pointers,Ue):1,le.rotation=ze?function ye(oe,le){return xe(le[1],le[0],be)+xe(oe[1],oe[0],be)}(ze.pointers,Ue):0,le.maxPointers=De.prevInput?le.pointers.length>De.prevInput.maxPointers?le.pointers.length:De.prevInput.maxPointers:le.pointers.length,function _e(oe,le){var ot,ct,ze,fn,De=oe.lastInterval||le,Ue=le.timeStamp-De.timeStamp;if(le.eventType!=Gt&&(Ue>ht||De.velocity===v)){var jn=le.deltaX-De.deltaX,kr=le.deltaY-De.deltaY,li=Le(Ue,jn,kr);ct=li.x,ze=li.y,ot=a(li.x)>a(li.y)?li.x:li.y,fn=Me(jn,kr),oe.lastInterval=le}else ot=De.velocity,ct=De.velocityX,ze=De.velocityY,fn=De.direction;le.velocity=ot,le.velocityX=ct,le.velocityY=ze,le.direction=fn}(De,le);var li=oe.element;Q(le.srcEvent.target,li)&&(li=le.srcEvent.target),le.target=li}(oe,De),oe.emit("hammer.input",De),oe.recognize(De),oe.session.prevInput=De}function ve(oe){for(var le=[],De=0;De<oe.pointers.length;)le[De]={clientX:c(oe.pointers[De].clientX),clientY:c(oe.pointers[De].clientY)},De++;return{timeStamp:d(),pointers:le,center:we(le),deltaX:oe.deltaX,deltaY:oe.deltaY}}function we(oe){var le=oe.length;if(1===le)return{x:c(oe[0].clientX),y:c(oe[0].clientY)};for(var De=0,Ue=0,ot=0;ot<le;)De+=oe[ot].clientX,Ue+=oe[ot].clientY,ot++;return{x:c(De/le),y:c(Ue/le)}}function Le(oe,le,De){return{x:le/oe||0,y:De/oe||0}}function Me(oe,le){return oe===le?at:a(oe)>=a(le)?oe<0?vn:Y:le<0?Se:F}function ne(oe,le,De){De||(De=fe);var Ue=le[De[0]]-oe[De[0]],ot=le[De[1]]-oe[De[1]];return Math.sqrt(Ue*Ue+ot*ot)}function xe(oe,le,De){return De||(De=fe),180*Math.atan2(le[De[1]]-oe[De[1]],le[De[0]]-oe[De[0]])/Math.PI}Ee.prototype={handler:function(){},init:function(){this.evEl&&j(this.element,this.evEl,this.domHandler),this.evTarget&&j(this.target,this.evTarget,this.domHandler),this.evWin&&j(dt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&X(this.element,this.evEl,this.domHandler),this.evTarget&&X(this.target,this.evTarget,this.domHandler),this.evWin&&X(dt(this.element),this.evWin,this.domHandler)}};var $e={mousedown:$t,mousemove:2,mouseup:gt},Qe="mousedown",rt="mousemove mouseup";function mn(){this.evEl=Qe,this.evWin=rt,this.pressed=!1,Ee.apply(this,arguments)}P(mn,Ee,{handler:function(le){var De=$e[le.type];De&$t&&0===le.button&&(this.pressed=!0),2&De&&1!==le.which&&(De=gt),this.pressed&&(De&gt&&(this.pressed=!1),this.callback(this.manager,De,{pointers:[le],changedPointers:[le],pointerType:ge,srcEvent:le}))}});var Lt={pointerdown:$t,pointermove:2,pointerup:gt,pointercancel:Gt,pointerout:Gt},Yn={2:Ht,3:"pen",4:ge,5:"kinect"},hn="pointerdown",Yt="pointermove pointerup pointercancel";function ai(){this.evEl=hn,this.evWin=Yt,Ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}w.MSPointerEvent&&!w.PointerEvent&&(hn="MSPointerDown",Yt="MSPointerMove MSPointerUp MSPointerCancel"),P(ai,Ee,{handler:function(le){var De=this.store,Ue=!1,ot=le.type.toLowerCase().replace("ms",""),ct=Lt[ot],ze=Yn[le.pointerType]||le.pointerType,fn=ze==Ht,jn=he(De,le.pointerId,"pointerId");ct&$t&&(0===le.button||fn)?jn<0&&(De.push(le),jn=De.length-1):ct&(gt|Gt)&&(Ue=!0),!(jn<0)&&(De[jn]=le,this.callback(this.manager,ct,{pointers:De,changedPointers:[le],pointerType:ze,srcEvent:le}),Ue&&De.splice(jn,1))}});var tt={touchstart:$t,touchmove:2,touchend:gt,touchcancel:Gt};function He(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Ee.apply(this,arguments)}function ci(oe,le){var De=Pe(oe.touches),Ue=Pe(oe.changedTouches);return le&(gt|Gt)&&(De=ie(De.concat(Ue),"identifier",!0)),[De,Ue]}P(He,Ee,{handler:function(le){var De=tt[le.type];if(De===$t&&(this.started=!0),this.started){var Ue=ci.call(this,le,De);De&(gt|Gt)&&Ue[0].length-Ue[1].length==0&&(this.started=!1),this.callback(this.manager,De,{pointers:Ue[0],changedPointers:Ue[1],pointerType:Ht,srcEvent:le})}}});var Oi={touchstart:$t,touchmove:2,touchend:gt,touchcancel:Gt},Mi="touchstart touchmove touchend touchcancel";function fi(){this.evTarget=Mi,this.targetIds={},Ee.apply(this,arguments)}function Bi(oe,le){var De=Pe(oe.touches),Ue=this.targetIds;if(le&(2|$t)&&1===De.length)return Ue[De[0].identifier]=!0,[De,De];var ot,ct,ze=Pe(oe.changedTouches),fn=[],jn=this.target;if(ct=De.filter(function(kr){return Q(kr.target,jn)}),le===$t)for(ot=0;ot<ct.length;)Ue[ct[ot].identifier]=!0,ot++;for(ot=0;ot<ze.length;)Ue[ze[ot].identifier]&&fn.push(ze[ot]),le&(gt|Gt)&&delete Ue[ze[ot].identifier],ot++;return fn.length?[ie(ct.concat(fn),"identifier",!0),fn]:void 0}P(fi,Ee,{handler:function(le){var De=Oi[le.type],Ue=Bi.call(this,le,De);Ue&&this.callback(this.manager,De,{pointers:Ue[0],changedPointers:Ue[1],pointerType:Ht,srcEvent:le})}});var Vi=2500;function K(){Ee.apply(this,arguments);var oe=k(this.handler,this);this.touch=new fi(this.manager,oe),this.mouse=new mn(this.manager,oe),this.primaryTouch=null,this.lastTouches=[]}function ee(oe,le){oe&$t?(this.primaryTouch=le.changedPointers[0].identifier,Re.call(this,le)):oe&(gt|Gt)&&Re.call(this,le)}function Re(oe){var le=oe.changedPointers[0];if(le.identifier===this.primaryTouch){var De={x:le.clientX,y:le.clientY};this.lastTouches.push(De);var Ue=this.lastTouches;setTimeout(function(){var ct=Ue.indexOf(De);ct>-1&&Ue.splice(ct,1)},Vi)}}function Ke(oe){for(var le=oe.srcEvent.clientX,De=oe.srcEvent.clientY,Ue=0;Ue<this.lastTouches.length;Ue++){var ot=this.lastTouches[Ue],ct=Math.abs(le-ot.x),ze=Math.abs(De-ot.y);if(ct<=25&&ze<=25)return!0}return!1}P(K,Ee,{handler:function(le,De,Ue){var ct=Ue.pointerType==ge;if(!(ct&&Ue.sourceCapabilities&&Ue.sourceCapabilities.firesTouchEvents)){if(Ue.pointerType==Ht)ee.call(this,De,Ue);else if(ct&&Ke.call(this,Ue))return;this.callback(le,De,Ue)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Tt=ue(m.style,"touchAction"),At=Tt!==v,_t="compute",wt="manipulation",St="none",Bt="pan-x",on="pan-y",cr=function zt(){if(!At)return!1;var oe={},le=w.CSS&&w.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(De){oe[De]=!le||w.CSS.supports("touch-action",De)}),oe}();function un(oe,le){this.manager=oe,this.set(le)}un.prototype={set:function(oe){oe==_t&&(oe=this.compute()),At&&this.manager.element.style&&cr[oe]&&(this.manager.element.style[Tt]=oe),this.actions=oe.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var oe=[];return x(this.manager.recognizers,function(le){B(le.options.enable,[le])&&(oe=oe.concat(le.getTouchAction()))}),function Vt(oe){if(Z(oe,St))return St;var le=Z(oe,Bt),De=Z(oe,on);return le&&De?St:le||De?le?Bt:on:Z(oe,wt)?wt:"auto"}(oe.join(" "))},preventDefaults:function(oe){var le=oe.srcEvent,De=oe.offsetDirection;if(!this.manager.session.prevented){var Ue=this.actions,ot=Z(Ue,St)&&!cr[St],ct=Z(Ue,on)&&!cr[on],ze=Z(Ue,Bt)&&!cr[Bt];if(ot&&1===oe.pointers.length&&oe.distance<2&&oe.deltaTime<250)return;return ze&&ct||!(ot||ct&&De&U||ze&&De&G)?void 0:this.preventSrc(le)}le.preventDefault()},preventSrc:function(oe){this.manager.session.prevented=!0,oe.preventDefault()}};var ir=1;function Hn(oe){this.options=I({},this.defaults,oe||{}),this.id=function Ye(){return Fe++}(),this.manager=null,this.options.enable=V(this.options.enable,!0),this.state=ir,this.simultaneous={},this.requireFail=[]}function Qt(oe){return 16&oe?"cancel":8&oe?"end":4&oe?"move":2&oe?"start":""}function Kn(oe){return oe==F?"down":oe==Se?"up":oe==vn?"left":oe==Y?"right":""}function fr(oe,le){var De=le.manager;return De?De.get(oe):oe}function tr(){Hn.apply(this,arguments)}function ri(){tr.apply(this,arguments),this.pX=null,this.pY=null}function ui(){tr.apply(this,arguments)}function $n(){Hn.apply(this,arguments),this._timer=null,this._input=null}function pr(){tr.apply(this,arguments)}function gn(){tr.apply(this,arguments)}function $r(){Hn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(oe,le){return(le=le||{}).recognizers=V(le.recognizers,se.defaults.preset),new Ve(oe,le)}function Ve(oe,le){this.options=I({},se.defaults,le||{}),this.options.inputTarget=this.options.inputTarget||oe,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=oe,this.input=function it(oe){return new(oe.options.inputClass||(Rt?ai:pt?fi:ft?K:mn))(oe,nt)}(this),this.touchAction=new un(this,this.options.touchAction),It(this,!0),x(this.options.recognizers,function(De){var Ue=this.add(new De[0](De[1]));De[2]&&Ue.recognizeWith(De[2]),De[3]&&Ue.requireFailure(De[3])},this)}function It(oe,le){var Ue,De=oe.element;De.style&&(x(oe.options.cssProps,function(ot,ct){Ue=ue(De.style,ct),le?(oe.oldCssProps[Ue]=De.style[Ue],De.style[Ue]=ot):De.style[Ue]=oe.oldCssProps[Ue]||""}),le||(oe.oldCssProps={}))}Hn.prototype={defaults:{},set:function(oe){return I(this.options,oe),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(oe){if(_(oe,"recognizeWith",this))return this;var le=this.simultaneous;return le[(oe=fr(oe,this)).id]||(le[oe.id]=oe,oe.recognizeWith(this)),this},dropRecognizeWith:function(oe){return _(oe,"dropRecognizeWith",this)||(oe=fr(oe,this),delete this.simultaneous[oe.id]),this},requireFailure:function(oe){if(_(oe,"requireFailure",this))return this;var le=this.requireFail;return-1===he(le,oe=fr(oe,this))&&(le.push(oe),oe.requireFailure(this)),this},dropRequireFailure:function(oe){if(_(oe,"dropRequireFailure",this))return this;oe=fr(oe,this);var le=he(this.requireFail,oe);return le>-1&&this.requireFail.splice(le,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(oe){return!!this.simultaneous[oe.id]},emit:function(oe){var le=this,De=this.state;function Ue(ot){le.manager.emit(ot,oe)}De<8&&Ue(le.options.event+Qt(De)),Ue(le.options.event),oe.additionalEvent&&Ue(oe.additionalEvent),De>=8&&Ue(le.options.event+Qt(De))},tryEmit:function(oe){if(this.canEmit())return this.emit(oe);this.state=32},canEmit:function(){for(var oe=0;oe<this.requireFail.length;){if(!(this.requireFail[oe].state&(32|ir)))return!1;oe++}return!0},recognize:function(oe){var le=I({},oe);if(!B(this.options.enable,[this,le]))return this.reset(),void(this.state=32);56&this.state&&(this.state=ir),this.state=this.process(le),30&this.state&&this.tryEmit(le)},process:function(oe){},getTouchAction:function(){},reset:function(){}},P(tr,Hn,{defaults:{pointers:1},attrTest:function(oe){var le=this.options.pointers;return 0===le||oe.pointers.length===le},process:function(oe){var le=this.state,De=oe.eventType,Ue=6&le,ot=this.attrTest(oe);return Ue&&(De&Gt||!ot)?16|le:Ue||ot?De&gt?8|le:2&le?4|le:2:32}}),P(ri,tr,{defaults:{event:"pan",threshold:10,pointers:1,direction:J},getTouchAction:function(){var oe=this.options.direction,le=[];return oe&U&&le.push(on),oe&G&&le.push(Bt),le},directionTest:function(oe){var le=this.options,De=!0,Ue=oe.distance,ot=oe.direction,ct=oe.deltaX,ze=oe.deltaY;return ot&le.direction||(le.direction&U?(ot=0===ct?at:ct<0?vn:Y,De=ct!=this.pX,Ue=Math.abs(oe.deltaX)):(ot=0===ze?at:ze<0?Se:F,De=ze!=this.pY,Ue=Math.abs(oe.deltaY))),oe.direction=ot,De&&Ue>le.threshold&&ot&le.direction},attrTest:function(oe){return tr.prototype.attrTest.call(this,oe)&&(2&this.state||!(2&this.state)&&this.directionTest(oe))},emit:function(oe){this.pX=oe.deltaX,this.pY=oe.deltaY;var le=Kn(oe.direction);le&&(oe.additionalEvent=this.options.event+le),this._super.emit.call(this,oe)}}),P(ui,tr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(oe){return this._super.attrTest.call(this,oe)&&(Math.abs(oe.scale-1)>this.options.threshold||2&this.state)},emit:function(oe){1!==oe.scale&&(oe.additionalEvent=this.options.event+(oe.scale<1?"in":"out")),this._super.emit.call(this,oe)}}),P($n,Hn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(oe){var le=this.options,De=oe.pointers.length===le.pointers,Ue=oe.distance<le.threshold,ot=oe.deltaTime>le.time;if(this._input=oe,!Ue||!De||oe.eventType&(gt|Gt)&&!ot)this.reset();else if(oe.eventType&$t)this.reset(),this._timer=h(function(){this.state=8,this.tryEmit()},le.time,this);else if(oe.eventType&gt)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(oe){8===this.state&&(oe&&oe.eventType&gt?this.manager.emit(this.options.event+"up",oe):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),P(pr,tr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(oe){return this._super.attrTest.call(this,oe)&&(Math.abs(oe.rotation)>this.options.threshold||2&this.state)}}),P(gn,tr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:U|G,pointers:1},getTouchAction:function(){return ri.prototype.getTouchAction.call(this)},attrTest:function(oe){var De,le=this.options.direction;return le&(U|G)?De=oe.overallVelocity:le&U?De=oe.overallVelocityX:le&G&&(De=oe.overallVelocityY),this._super.attrTest.call(this,oe)&&le&oe.offsetDirection&&oe.distance>this.options.threshold&&oe.maxPointers==this.options.pointers&&a(De)>this.options.velocity&&oe.eventType&gt},emit:function(oe){var le=Kn(oe.offsetDirection);le&&this.manager.emit(this.options.event+le,oe),this.manager.emit(this.options.event,oe)}}),P($r,Hn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[wt]},process:function(oe){var le=this.options,De=oe.pointers.length===le.pointers,Ue=oe.distance<le.threshold,ot=oe.deltaTime<le.time;if(this.reset(),oe.eventType&$t&&0===this.count)return this.failTimeout();if(Ue&&ot&&De){if(oe.eventType!=gt)return this.failTimeout();var ct=!this.pTime||oe.timeStamp-this.pTime<le.interval,ze=!this.pCenter||ne(this.pCenter,oe.center)<le.posThreshold;if(this.pTime=oe.timeStamp,this.pCenter=oe.center,ze&&ct?this.count+=1:this.count=1,this._input=oe,0==this.count%le.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=8,this.tryEmit()},le.interval,this),2):8}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.7",se.defaults={domEvents:!1,touchAction:_t,enable:!0,inputTarget:null,inputClass:null,preset:[[pr,{enable:!1}],[ui,{enable:!1},["rotate"]],[gn,{direction:U}],[ri,{direction:U},["swipe"]],[$r],[$r,{event:"doubletap",taps:2},["tap"]],[$n]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ve.prototype={set:function(oe){return I(this.options,oe),oe.touchAction&&this.touchAction.update(),oe.inputTarget&&(this.input.destroy(),this.input.target=oe.inputTarget,this.input.init()),this},stop:function(oe){this.session.stopped=oe?2:1},recognize:function(oe){var le=this.session;if(!le.stopped){this.touchAction.preventDefaults(oe);var De,Ue=this.recognizers,ot=le.curRecognizer;(!ot||ot&&8&ot.state)&&(ot=le.curRecognizer=null);for(var ct=0;ct<Ue.length;)De=Ue[ct],2===le.stopped||ot&&De!=ot&&!De.canRecognizeWith(ot)?De.reset():De.recognize(oe),!ot&&14&De.state&&(ot=le.curRecognizer=De),ct++}},get:function(oe){if(oe instanceof Hn)return oe;for(var le=this.recognizers,De=0;De<le.length;De++)if(le[De].options.event==oe)return le[De];return null},add:function(oe){if(_(oe,"add",this))return this;var le=this.get(oe.options.event);return le&&this.remove(le),this.recognizers.push(oe),oe.manager=this,this.touchAction.update(),oe},remove:function(oe){if(_(oe,"remove",this))return this;if(oe=this.get(oe)){var le=this.recognizers,De=he(le,oe);-1!==De&&(le.splice(De,1),this.touchAction.update())}return this},on:function(oe,le){if(oe!==v&&le!==v){var De=this.handlers;return x(de(oe),function(Ue){De[Ue]=De[Ue]||[],De[Ue].push(le)}),this}},off:function(oe,le){if(oe!==v){var De=this.handlers;return x(de(oe),function(Ue){le?De[Ue]&&De[Ue].splice(he(De[Ue],le),1):delete De[Ue]}),this}},emit:function(oe,le){this.options.domEvents&&function Pt(oe,le){var De=C.createEvent("Event");De.initEvent(oe,!0,!0),De.gesture=le,le.target.dispatchEvent(De)}(oe,le);var De=this.handlers[oe]&&this.handlers[oe].slice();if(De&&De.length){le.type=oe,le.preventDefault=function(){le.srcEvent.preventDefault()};for(var Ue=0;Ue<De.length;)De[Ue](le),Ue++}},destroy:function(){this.element&&It(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},I(se,{INPUT_START:$t,INPUT_MOVE:2,INPUT_END:gt,INPUT_CANCEL:Gt,STATE_POSSIBLE:ir,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:at,DIRECTION_LEFT:vn,DIRECTION_RIGHT:Y,DIRECTION_UP:Se,DIRECTION_DOWN:F,DIRECTION_HORIZONTAL:U,DIRECTION_VERTICAL:G,DIRECTION_ALL:J,Manager:Ve,Input:Ee,TouchAction:un,TouchInput:fi,MouseInput:mn,PointerEventInput:ai,TouchMouseInput:K,SingleTouchInput:He,Recognizer:Hn,AttrRecognizer:tr,Tap:$r,Pan:ri,Swipe:gn,Pinch:ui,Rotate:pr,Press:$n,on:j,off:X,each:x,merge:R,extend:A,assign:I,inherit:P,bindFn:k,prefixed:ue}),(typeof w<"u"?w:typeof self<"u"?self:{}).Hammer=se,(S=function(){return se}.call(u,g,u,z))!==v&&(z.exports=S)}(window,document)},884:(__unused_webpack_module,exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__(196).default;(()=>{var __webpack_modules__={2541:(z,u,g)=>{"use strict";g.r(u),g.d(u,{ActivationState:()=>v,Client:()=>c,CompatClient:()=>x,FrameImpl:()=>w,Parser:()=>C,Stomp:()=>D,StompConfig:()=>a,StompHeaders:()=>d,StompSocketState:()=>b,StompSubscription:()=>h,Versions:()=>p});const S="\n";class w{constructor(A){const{command:R,headers:P,body:k,binaryBody:B,escapeHeaderValues:V,skipContentLengthHeader:j}=A;this.command=R,this.headers=Object.assign({},P||{}),B?(this._binaryBody=B,this.isBinaryBody=!0):(this._body=k||"",this.isBinaryBody=!1),this.escapeHeaderValues=V||!1,this.skipContentLengthHeader=j||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body}get binaryBody(){return this._binaryBody||this.isBinaryBody||(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(A,R){const P={},k=B=>B.replace(/^\s+|\s+$/g,"");for(const B of A.headers.reverse()){B.indexOf(":");const V=k(B[0]);let j=k(B[1]);R&&"CONNECT"!==A.command&&"CONNECTED"!==A.command&&(j=w.hdrValueUnEscape(j)),P[V]=j}return new w({command:A.command,headers:P,binaryBody:A.binaryBody,escapeHeaderValues:R})}toString(){return this.serializeCmdAndHeaders()}serialize(){const A=this.serializeCmdAndHeaders();return this.isBinaryBody?w.toUnit8Array(A,this._binaryBody).buffer:A+this._body+"\0"}serializeCmdAndHeaders(){const A=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const R of Object.keys(this.headers||{})){const P=this.headers[R];A.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${R}:${w.hdrValueEscape(`${P}`)}`:`${R}:${P}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&A.push(`content-length:${this.bodyLength()}`),A.join(S)+S+S}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const A=this.binaryBody;return A?A.length:0}static sizeOfUTF8(A){return A?(new TextEncoder).encode(A).length:0}static toUnit8Array(A,R){const P=(new TextEncoder).encode(A),k=new Uint8Array([0]),B=new Uint8Array(P.length+R.length+k.length);return B.set(P),B.set(R,P.length),B.set(k,P.length+R.length),B}static marshall(A){return new w(A).serialize()}static hdrValueEscape(A){return A.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(A){return A.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class C{constructor(A,R){this.onFrame=A,this.onIncomingPing=R,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(A,R=!1){let P;if(P=A instanceof ArrayBuffer?new Uint8Array(A):this._encoder.encode(A),R&&0!==P[P.length-1]){const k=new Uint8Array(P.length+1);k.set(P,0),k[P.length]=0,P=k}for(let k=0;k<P.length;k++)this._onByte(P[k])}_collectFrame(A){0!==A&&13!==A&&(10!==A?(this._onByte=this._collectCommand,this._reinjectByte(A)):this.onIncomingPing())}_collectCommand(A){if(13!==A)return 10===A?(this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders)):void this._consumeByte(A)}_collectHeaders(A){13!==A&&(10!==A?(this._onByte=this._collectHeaderKey,this._reinjectByte(A)):this._setupCollectBody())}_reinjectByte(A){this._onByte(A)}_collectHeaderKey(A){if(58===A)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(A)}_collectHeaderValue(A){if(13!==A)return 10===A?(this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders)):void this._consumeByte(A)}_setupCollectBody(){const A=this._results.headers.filter(R=>"content-length"===R[0])[0];A?(this._bodyBytesRemaining=parseInt(A[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(A){0!==A?this._consumeByte(A):this._retrievedBody()}_collectBodyFixedSize(A){0!=this._bodyBytesRemaining--?this._consumeByte(A):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw(),this.onFrame(this._results),this._initState()}_consumeByte(A){this._token.push(A)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const A=new Uint8Array(this._token);return this._token=[],A}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var b,v,I;(I=b||(b={}))[I.CONNECTING=0]="CONNECTING",I[I.OPEN=1]="OPEN",I[I.CLOSING=2]="CLOSING",I[I.CLOSED=3]="CLOSED",function(I){I[I.ACTIVE=0]="ACTIVE",I[I.DEACTIVATING=1]="DEACTIVATING",I[I.INACTIVE=2]="INACTIVE"}(v||(v={}));class p{constructor(A){this.versions=A}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(A=>`v${A.replace(".","")}.stomp`)}}p.V1_0="1.0",p.V1_1="1.1",p.V1_2="1.2",p.default=new p([p.V1_0,p.V1_1,p.V1_2]);class m{constructor(A,R,P={}){this._client=A,this._webSocket=R,this._serverFrameHandlers={CONNECTED:k=>{this.debug(`connected to server ${k.headers.server}`),this._connected=!0,this._connectedVersion=k.headers.version,this._connectedVersion===p.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(k.headers),this.onConnect(k)},MESSAGE:k=>{const B=k.headers.subscription,V=this._subscriptions[B]||this.onUnhandledMessage,j=k,X=this,Q=this._connectedVersion===p.V1_2?j.headers.ack:j.headers["message-id"];j.ack=(Z={})=>X.ack(Q,B,Z),j.nack=(Z={})=>X.nack(Q,B,Z),V(j)},RECEIPT:k=>{const B=this._receiptWatchers[k.headers["receipt-id"]];B?(B(k),delete this._receiptWatchers[k.headers["receipt-id"]]):this.onUnhandledReceipt(k)},ERROR:k=>{this.onStompError(k)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.configure(P)}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}configure(A){Object.assign(this,A)}start(){const A=new C(R=>{const P=w.fromRawFrame(R,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${P}`),(this._serverFrameHandlers[P.command]||this.onUnhandledFrame)(P)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=R=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const P=R.data instanceof ArrayBuffer?(new TextDecoder).decode(R.data):R.data;this.debug(`<<< ${P}`)}A.parseChunk(R.data,this.appendMissingNULLonIncoming)},this._onclose=R=>{this.debug(`Connection closed to ${this._client.brokerURL}`),this._cleanUp(),this.onWebSocketClose(R)},this._webSocket.onclose=this._onclose,this._webSocket.onerror=R=>{this.onWebSocketError(R)},this._webSocket.onopen=()=>{const R=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),R["accept-version"]=this.stompVersions.supportedVersions(),R["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:R})}}_setupHeartbeat(A){if(A.version!==p.V1_1&&A.version!==p.V1_2||!A["heart-beat"])return;const[R,P]=A["heart-beat"].split(",").map(k=>parseInt(k,10));if(0!==this.heartbeatOutgoing&&0!==P){const k=Math.max(this.heartbeatOutgoing,P);this.debug(`send PING every ${k}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===b.OPEN&&(this._webSocket.send(S),this.debug(">>> PING"))},k)}if(0!==this.heartbeatIncoming&&0!==R){const k=Math.max(this.heartbeatIncoming,R);this.debug(`check PONG every ${k}ms`),this._ponger=setInterval(()=>{const B=Date.now()-this._lastServerActivityTS;B>2*k&&(this.debug(`did not receive server activity for the last ${B}ms`),this._closeOrDiscardWebsocket())},k)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this._discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState!==b.CONNECTING&&this._webSocket.readyState!==b.OPEN||this._closeOrDiscardWebsocket())}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}_discardWebsocket(){var R;this._webSocket.terminate||(R=P=>this.debug(P),this._webSocket.terminate=function(){const P=()=>{};this.onerror=P,this.onmessage=P,this.onopen=P;const k=new Date,B=this.onclose;this.onclose=V=>{const j=(new Date).getTime()-k.getTime();R(`Discarded socket closed after ${j}ms, with code/reason: ${V.code}/${V.reason}`)},this.close(),B.call(this,{code:4001,reason:"Heartbeat failure, discarding the socket",wasClean:!1})}),this._webSocket.terminate()}_transmit(A){const{command:R,headers:P,body:k,binaryBody:B,skipContentLengthHeader:V}=A,j=new w({command:R,headers:P,body:k,binaryBody:B,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:V});let X=j.serialize();if(this.debug(this.logRawCommunication?`>>> ${X}`:`>>> ${j}`),this.forceBinaryWSFrames&&"string"==typeof X&&(X=(new TextEncoder).encode(X)),"string"==typeof X&&this.splitLargeFrames){let Q=X;for(;Q.length>0;){const Z=Q.substring(0,this.maxWebSocketChunkSize);Q=Q.substring(this.maxWebSocketChunkSize),this._webSocket.send(Z),this.debug(`chunk sent = ${Z.length}, remaining = ${Q.length}`)}}else this._webSocket.send(X)}dispose(){if(this.connected)try{const A=Object.assign({},this.disconnectHeaders);A.receipt||(A.receipt="close-"+this._counter++),this.watchForReceipt(A.receipt,R=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(R)}),this._transmit({command:"DISCONNECT",headers:A})}catch(A){this.debug(`Ignoring error during disconnect ${A}`)}else this._webSocket.readyState!==b.CONNECTING&&this._webSocket.readyState!==b.OPEN||this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&clearInterval(this._pinger),this._ponger&&clearInterval(this._ponger)}publish(A){const{destination:R,headers:P,body:k,binaryBody:B,skipContentLengthHeader:V}=A,j=Object.assign({destination:R},P);this._transmit({command:"SEND",headers:j,body:k,binaryBody:B,skipContentLengthHeader:V})}watchForReceipt(A,R){this._receiptWatchers[A]=R}subscribe(A,R,P={}){(P=Object.assign({},P)).id||(P.id="sub-"+this._counter++),P.destination=A,this._subscriptions[P.id]=R,this._transmit({command:"SUBSCRIBE",headers:P});const k=this;return{id:P.id,unsubscribe:B=>k.unsubscribe(P.id,B)}}unsubscribe(A,R={}){R=Object.assign({},R),delete this._subscriptions[A],R.id=A,this._transmit({command:"UNSUBSCRIBE",headers:R})}begin(A){const R=A||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:R}});const P=this;return{id:R,commit(){P.commit(R)},abort(){P.abort(R)}}}commit(A){this._transmit({command:"COMMIT",headers:{transaction:A}})}abort(A){this._transmit({command:"ABORT",headers:{transaction:A}})}ack(A,R,P={}){P=Object.assign({},P),this._connectedVersion===p.V1_2?P.id=A:P["message-id"]=A,P.subscription=R,this._transmit({command:"ACK",headers:P})}nack(A,R,P={}){return P=Object.assign({},P),this._connectedVersion===p.V1_2?P.id=A:P["message-id"]=A,P.subscription=R,this._transmit({command:"NACK",headers:P})}}var f=function(I,A,R,P){return new(R||(R=Promise))(function(k,B){function V(Q){try{X(P.next(Q))}catch(Z){B(Z)}}function j(Q){try{X(P.throw(Q))}catch(Z){B(Z)}}function X(Q){var Z;Q.done?k(Q.value):(Z=Q.value,Z instanceof R?Z:new R(function(de){de(Z)})).then(V,j)}X((P=P.apply(I,A||[])).next())})};class c{constructor(A={}){this.stompVersions=p.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.state=v.INACTIVE;const R=()=>{};this.debug=R,this.beforeConnect=R,this.onConnect=R,this.onDisconnect=R,this.onUnhandledMessage=R,this.onUnhandledReceipt=R,this.onUnhandledFrame=R,this.onStompError=R,this.onWebSocketClose=R,this.onWebSocketError=R,this.logRawCommunication=!1,this.onChangeState=R,this.connectHeaders={},this._disconnectHeaders={},this.configure(A)}get webSocket(){return this._stompHandler?this._stompHandler._webSocket:void 0}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(A){this._disconnectHeaders=A,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===v.ACTIVE}_changeState(A){this.state=A,this.onChangeState(A)}configure(A){Object.assign(this,A)}activate(){if(this.state===v.DEACTIVATING)throw this.debug("Still DEACTIVATING, please await call to deactivate before trying to re-activate"),new Error("Still DEACTIVATING, can not activate now");this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(v.ACTIVE),this._connect())}_connect(){return f(this,void 0,void 0,function*(){if(this.connected)return void this.debug("STOMP: already connected, nothing to do");if(yield this.beforeConnect(),!this.active)return void this.debug("Client has been marked inactive, will not attempt to connect");this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const A=this._createWebSocket();this._stompHandler=new m(this,A,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:R=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active)return this.debug("STOMP got connected while deactivate was issued, will disconnect now"),void this._disposeStompHandler();this.onConnect(R)},onDisconnect:R=>{this.onDisconnect(R)},onStompError:R=>{this.onStompError(R)},onWebSocketClose:R=>{this._stompHandler=void 0,this.state===v.DEACTIVATING&&(this._resolveSocketClose(),this._resolveSocketClose=void 0,this._changeState(v.INACTIVE)),this.onWebSocketClose(R),this.active&&this._schedule_reconnect()},onWebSocketError:R=>{this.onWebSocketError(R)},onUnhandledMessage:R=>{this.onUnhandledMessage(R)},onUnhandledReceipt:R=>{this.onUnhandledReceipt(R)},onUnhandledFrame:R=>{this.onUnhandledFrame(R)}}),this._stompHandler.start()})}_createWebSocket(){let A;return A=this.webSocketFactory?this.webSocketFactory():new WebSocket(this.brokerURL,this.stompVersions.protocolVersions()),A.binaryType="arraybuffer",A}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(){return f(this,void 0,void 0,function*(){let A;return this.state!==v.ACTIVE?(this.debug(`Already ${v[this.state]}, ignoring call to deactivate`),Promise.resolve()):(this._changeState(v.DEACTIVATING),this._reconnector&&clearTimeout(this._reconnector),this._stompHandler&&this.webSocket.readyState!==b.CLOSED?(A=new Promise((R,P)=>{this._resolveSocketClose=R}),this._disposeStompHandler(),A):(this._changeState(v.INACTIVE),Promise.resolve()))})}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&(this._stompHandler.dispose(),this._stompHandler=null)}publish(A){this._stompHandler.publish(A)}watchForReceipt(A,R){this._stompHandler.watchForReceipt(A,R)}subscribe(A,R,P={}){return this._stompHandler.subscribe(A,R,P)}unsubscribe(A,R={}){this._stompHandler.unsubscribe(A,R)}begin(A){return this._stompHandler.begin(A)}commit(A){this._stompHandler.commit(A)}abort(A){this._stompHandler.abort(A)}ack(A,R,P={}){this._stompHandler.ack(A,R,P)}nack(A,R,P={}){this._stompHandler.nack(A,R,P)}}class a{}class d{}class h{}class _{constructor(A){this.client=A}get outgoing(){return this.client.heartbeatOutgoing}set outgoing(A){this.client.heartbeatOutgoing=A}get incoming(){return this.client.heartbeatIncoming}set incoming(A){this.client.heartbeatIncoming=A}}class x extends c{constructor(A){super(),this.maxWebSocketFrameSize=16384,this._heartbeatInfo=new _(this),this.reconnect_delay=0,this.webSocketFactory=A,this.debug=(...R)=>{console.log(...R)}}_parseConnect(...A){let R,P,k,B={};if(A.length<2)throw new Error("Connect requires at least 2 arguments");return"function"==typeof A[1]?[B,P,k,R]=A:6===A.length?[B.login,B.passcode,P,k,R,B.host]=A:[B.login,B.passcode,P,k,R]=A,[B,P,k,R]}connect(...A){const R=this._parseConnect(...A);R[0]&&(this.connectHeaders=R[0]),R[1]&&(this.onConnect=R[1]),R[2]&&(this.onStompError=R[2]),R[3]&&(this.onWebSocketClose=R[3]),super.activate()}disconnect(A,R={}){A&&(this.onDisconnect=A),this.disconnectHeaders=R,super.deactivate()}send(A,R={},P=""){const k=!1===(R=Object.assign({},R))["content-length"];k&&delete R["content-length"],this.publish({destination:A,headers:R,body:P,skipContentLengthHeader:k})}set reconnect_delay(A){this.reconnectDelay=A}get ws(){return this.webSocket}get version(){return this.connectedVersion}get onreceive(){return this.onUnhandledMessage}set onreceive(A){this.onUnhandledMessage=A}get onreceipt(){return this.onUnhandledReceipt}set onreceipt(A){this.onUnhandledReceipt=A}get heartbeat(){return this._heartbeatInfo}set heartbeat(A){this.heartbeatIncoming=A.incoming,this.heartbeatOutgoing=A.outgoing}}let D=(()=>{class I{static client(R,P){return null==P&&(P=p.default.protocolVersions()),new x(()=>new(I.WebSocketClass||WebSocket)(R,P))}static over(R){let P;return"function"==typeof R?P=R:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),P=()=>R),new x(P)}}return I.WebSocketClass=null,I})()},6551:(z,u,g)=>{"use strict";g.r(u),g.d(u,{default:()=>vn}),console.log("BUILD/SERIOUSLY.MODULE");let S,w,C,b,v,p,m,f={},c={},a={},d={},h=[],_={},x={},D={canvas:[],image:[],video:[]},I={},A=window.WeakMap&&new WeakMap,R=0,P=function(){},k={transparent:[0,0,0,0],black:[0,0,0,1],red:[1,0,0,1],green:[0,128/255,0,1],blue:[0,0,1,1],white:[1,1,1,1],silver:[192/255,192/255,192/255,1],gray:[128/255,128/255,128/255,1],maroon:[128/255,0,0,1],purple:[128/255,0,128/255,1],fuchsia:[1,0,1,1],lime:[0,1,0,1],olive:[128/255,128/255,0,1],yellow:[1,1,0,1],navy:[0,0,128/255,1],teal:[0,128/255,128/255,1],aqua:[0,1,1,1],orange:[1,165/255,0,1]},B=/^(rgb|hsl)a?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*(\d+(\.\d*)?)\s*)?\)/i,V=/^#(([0-9a-fA-F]{3,8}))/,j=["x","y","z","w"],X=["r","g","b","a"],Q={srcRGB:770,dstRGB:771,srcAlpha:1,dstAlpha:771},Z=["MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_TEXTURE_IMAGE_UNITS","MAX_VARYING_VECTORS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_UNIFORM_VECTORS"],de=/^[\t ]*#define[\t ]+SHADER_NAME\s+([^$\n\r]+)/i,he={frustum:function(Y,Se,F,U,G,J,fe){fe||(fe=he.create());var be=Se-Y,Ee=U-F,it=J-G;return fe[0]=2*G/be,fe[1]=0,fe[2]=0,fe[3]=0,fe[4]=0,fe[5]=2*G/Ee,fe[6]=0,fe[7]=0,fe[8]=(Se+Y)/be,fe[9]=(U+F)/Ee,fe[10]=-(J+G)/it,fe[11]=-1,fe[12]=0,fe[13]=0,fe[14]=-J*G*2/it,fe[15]=0,fe},perspective:function(Y,Se,F,U,G){var J=F*Math.tan(Y*Math.PI/360),fe=J*Se;return he.frustum(-fe,fe,-J,J,F,U,G)},multiply:function(Y,Se,F){var U=Se[0],G=Se[1],J=Se[2],fe=Se[3],be=Se[4],Ee=Se[5],it=Se[6],nt=Se[7],Wt=Se[8],q=Se[9],_e=Se[10],ve=Se[11],we=Se[12],Le=Se[13],Me=Se[14],ne=Se[15],xe=F[0],ye=F[1],Ae=F[2],$e=F[3];return Y[0]=xe*U+ye*be+Ae*Wt+$e*we,Y[1]=xe*G+ye*Ee+Ae*q+$e*Le,Y[2]=xe*J+ye*it+Ae*_e+$e*Me,Y[3]=xe*fe+ye*nt+Ae*ve+$e*ne,Y[4]=(xe=F[4])*U+(ye=F[5])*be+(Ae=F[6])*Wt+($e=F[7])*we,Y[5]=xe*G+ye*Ee+Ae*q+$e*Le,Y[6]=xe*J+ye*it+Ae*_e+$e*Me,Y[7]=xe*fe+ye*nt+Ae*ve+$e*ne,Y[8]=(xe=F[8])*U+(ye=F[9])*be+(Ae=F[10])*Wt+($e=F[11])*we,Y[9]=xe*G+ye*Ee+Ae*q+$e*Le,Y[10]=xe*J+ye*it+Ae*_e+$e*Me,Y[11]=xe*fe+ye*nt+Ae*ve+$e*ne,Y[12]=(xe=F[12])*U+(ye=F[13])*be+(Ae=F[14])*Wt+($e=F[15])*we,Y[13]=xe*G+ye*Ee+Ae*q+$e*Le,Y[14]=xe*J+ye*it+Ae*_e+$e*Me,Y[15]=xe*fe+ye*nt+Ae*ve+$e*ne,Y},identity:function(Y){return Y[0]=1,Y[1]=0,Y[2]=0,Y[3]=0,Y[4]=0,Y[5]=1,Y[6]=0,Y[7]=0,Y[8]=0,Y[9]=0,Y[10]=1,Y[11]=0,Y[12]=0,Y[13]=0,Y[14]=0,Y[15]=1,Y},copy:function(Y,Se){return Y[0]=Se[0],Y[1]=Se[1],Y[2]=Se[2],Y[3]=Se[3],Y[4]=Se[4],Y[5]=Se[5],Y[6]=Se[6],Y[7]=Se[7],Y[8]=Se[8],Y[9]=Se[9],Y[10]=Se[10],Y[11]=Se[11],Y[12]=Se[12],Y[13]=Se[13],Y[14]=Se[14],Y[15]=Se[15],Y}},Pe=(dt=0,window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(Y){var Se,F,U;return Se=(new Date).getTime(),F=Math.max(0,16-(Se-dt)),U=window.setTimeout(function(){Y(Se+F)},F),dt=Se+F,U}),ie=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(Y){window.cancelTimeout(Y)},ue=["alias","destroy","effect","id","initialize","inputs","isDestroyed","isReady","matte","off","on","readPixels","render","title","update"],Fe=["alias","destroy","id","inputs","isDestroyed","isReady","off","on","source","title","update"],Ye=["aliases","defaults","destroy","effect","go","id","incompatible","isDestroyed","isEffect","isNode","isSource","isTarget","isTransform","removeAlias","render","source","stop","target","transform"];var dt;function et(Y,Se){var F,U;if("string"==typeof Y)F=document.querySelector(Y);else if(!Y)return!1;return Y.tagName&&(F=Y),F?(U=F.tagName.toLowerCase(),Se&&Se.indexOf(U)<0?Y:F):Y}function ft(Y,Se){var F,U;for(F in Y.prototype&&Se.prototype&&Y.prototype!==Se.prototype&&ft(Y.prototype,Se.prototype),Se)Se.hasOwnProperty(F)&&((U=Object.getOwnPropertyDescriptor(Se,F)).get||U.set?Object.defineProperty(Y,F,{configurable:!0,enumerable:!0,get:U.get,set:U.set}):Y[F]=Se[F]);return Y}function Rt(Y){var Se;if(!console)return P;if("function"==typeof console[Y])Se=console[Y];else{if("function"!=typeof console.log)return P;Se=console.log}return Se.bind?Se.bind(console):function(){Se.apply(console,arguments)}}function pt(Y,Se){if(Se||(Se="HTMLElement"),Y instanceof window[Se])return!0;if(!Y||"object"!=typeof Y)return!1;for(;Y;)if((Y=Object.getPrototypeOf(Y))&&Y.constructor.name===Se)return!0;return!1}function Ht(Y,Se,F,U,G){function J(Ee,it,nt){return(nt%=1)<0&&(nt+=1),nt<.16666666666666666?Ee+(it-Ee)*nt*6:nt<.5?it:nt<.6666666666666666?Ee+(it-Ee)*(.6666666666666666-nt)*6:Ee}var fe,be;return fe=2*F-(be=F<.5?F*(Se+1):F+Se-F*Se),G||(G=[]),G[0]=J(fe,be,Y+.3333333333333333),G[1]=J(fe,be,Y),G[2]=J(fe,be,Y-.3333333333333333),G[3]=U,G}function Oe(Y){var Se,F,U,G="#",J=Y[3]<1?4:3;for(Se=0;Se<J;Se++)U=(F=Math.min(255,Math.round(255*Y[Se]||0))).toString(16),F<16&&(U="0"+U),G+=U;return G}function ge(Y){return Array.isArray(Y)||Y&&Y.BYTES_PER_ELEMENT&&"length"in Y}function Je(Y){if("function"!=typeof Y)throw new Error("setTimeoutZero argument is not a function");h.push(Y),"file:"!==window.location.protocol?window.postMessage("seriously-timeout-message",window.location):setTimeout(function(){h.length&&h.shift()()},0)}function ht(Y,Se){var F;try{F=window.WebGLDebugUtils&&Se&&Se.debugContext?window.WebGLDebugUtils.makeDebugContext(Y.getContext("webgl",Se)):Y.getContext("webgl",Se)}catch{}if(!F)try{F=Y.getContext("experimental-webgl",Se)}catch{}return F}function $t(){var Y;return S&&S.getError()===S.CONTEXT_LOST_WEBGL&&(S=void 0),S||!window.WebGLRenderingContext||C||(Y=document.createElement("canvas"),S=ht(Y),S?Y.addEventListener("webglcontextlost",function Se(F){F.preventDefault(),S&&S.canvas===this&&(S=void 0,Y.removeEventListener("webglcontextlost",Se,!1))},!1):at.logger.warn("Unable to access WebGL.")),S}function Ut(Y){var Se,F,U;function G(fe,be){var Ee,it;ge(fe)?(Ee=fe[0],it=fe[1]||Ee):Ee=fe,"string"==typeof Ee?Ee=Ee.toLowerCase():"number"==typeof Ee?Ee=String(Ee):Ee||(Ee=""),F[Ee]=it,be||(Se.firstValue=Ee)}function J(fe){return fe}for(U in Y.inputs)if(Y.inputs.hasOwnProperty(U)){if(Y.reserved.indexOf(U)>=0||Object.prototype[U])throw new Error("Reserved input name: "+U);(Se=Y.inputs[U]).name=U,isNaN(Se.min)&&(Se.min=-1/0),isNaN(Se.max)&&(Se.max=1/0),isNaN(Se.minCount)&&(Se.minCount=-1/0),isNaN(Se.maxCount)&&(Se.maxCount=1/0),isNaN(Se.step)&&(Se.step=0),isNaN(Se.mod)&&(Se.mod=0),"enum"===Se.type&&Se.options&&ge(Se.options)&&Se.options.length&&(F={},Se.options.forEach(G),Se.options=F),Se.dimensions="vector"===Se.type?Se.dimensions<2?2:Se.dimensions>4||!Se.dimensions||isNaN(Se.dimensions)?4:Math.round(Se.dimensions):1,Se.shaderDirty=!!Se.shaderDirty,"function"!=typeof Se.validate&&(Se.validate=at.inputValidators[Se.type]||J),Y.defaultImageInput||"image"!==Se.type||(Y.defaultImageInput=U)}}function gt(Y,Se,F,U){var G,J,fe,be;this.type=Y.UNSIGNED_BYTE,G=Y.createFramebuffer(),Y.bindFramebuffer(Y.FRAMEBUFFER,G),U&&U.texture?(this.texture=U.texture,Y.bindTexture(Y.TEXTURE_2D,this.texture),this.ownTexture=!1):(this.texture=Y.createTexture(),Y.bindTexture(Y.TEXTURE_2D,this.texture),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.LINEAR),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.LINEAR),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,Y.CLAMP_TO_EDGE),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,Y.CLAMP_TO_EDGE),this.ownTexture=!0);try{this.type===Y.FLOAT?(fe=new Float32Array(Se*F*4),Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,Se,F,0,Y.RGBA,Y.FLOAT,fe)):(Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,Se,F,0,Y.RGBA,Y.UNSIGNED_BYTE,null),this.type=Y.UNSIGNED_BYTE)}catch{this.type=Y.UNSIGNED_BYTE,fe=new Uint8Array(Se*F*4),Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,Se,F,0,Y.RGBA,Y.UNSIGNED_BYTE,fe)}if(J=Y.createRenderbuffer(),Y.bindRenderbuffer(Y.RENDERBUFFER,J),Y.renderbufferStorage(Y.RENDERBUFFER,Y.DEPTH_COMPONENT16,Se,F),Y.framebufferRenderbuffer(Y.FRAMEBUFFER,Y.DEPTH_ATTACHMENT,Y.RENDERBUFFER,J),Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,this.texture,0),(be=Y.checkFramebufferStatus(Y.FRAMEBUFFER))===Y.FRAMEBUFFER_INCOMPLETE_ATTACHMENT)throw new Error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");if(be===Y.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT)throw new Error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");if(be===Y.FRAMEBUFFER_INCOMPLETE_DIMENSIONS)throw new Error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");if(be===Y.FRAMEBUFFER_UNSUPPORTED)throw new Error("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");if(be!==Y.FRAMEBUFFER_COMPLETE)throw new Error("Incomplete framebuffer: "+be);Y.bindTexture(Y.TEXTURE_2D,null),Y.bindRenderbuffer(Y.RENDERBUFFER,null),Y.bindFramebuffer(Y.FRAMEBUFFER,null),this.gl=Y,this.frameBuffer=G,this.renderBuffer=J,this.width=Se,this.height=F}function Gt(Y,Se,F){var U,G,J,fe,be,Ee,it,nt,Wt="";function q(we,Le){var Me,ne;if(Me=Y.createShader(Le?Y.FRAGMENT_SHADER:Y.VERTEX_SHADER),Y.shaderSource(Me,we),Y.compileShader(Me),!Y.getShaderParameter(Me,Y.COMPILE_STATUS)){for(we=we.split(/[\n\r]/),ne=0;ne<we.length;ne++)we[ne]=ne+1+":\t"+we[ne];throw we.unshift("Error compiling "+(Le?"fragment":"vertex")+" shader:"),at.logger.error(we.join("\n")),new Error("Shader error: "+Y.getShaderInfoLog(Me))}return Me}function _e(we,Le){if(we.type===Y.SAMPLER_2D)return function(Me){we.glTexture=Y["TEXTURE"+Me],Y.uniform1i(Le,Me)};if(we.type===Y.BOOL||we.type===Y.INT)return we.size>1?function(Me){Y.uniform1iv(Le,Me)}:function(Me){Y.uniform1i(Le,Me)};if(we.type===Y.FLOAT)return we.size>1?function(Me){Y.uniform1fv(Le,Me)}:function(Me){Y.uniform1f(Le,Me)};if(we.type===Y.FLOAT_VEC2)return function(Me){Y.uniform2f(Le,Me[0],Me[1])};if(we.type===Y.FLOAT_VEC3)return function(Me){Y.uniform3f(Le,Me[0],Me[1],Me[2])};if(we.type===Y.FLOAT_VEC4)return function(Me){Y.uniform4f(Le,Me[0],Me[1],Me[2],Me[3])};if(we.type===Y.FLOAT_MAT3)return function(Me){Y.uniformMatrix3fv(Le,!1,Me)};if(we.type===Y.FLOAT_MAT4)return function(Me){Y.uniformMatrix4fv(Le,!1,Me)};throw new Error("Unknown shader uniform type: "+we.type)}function ve(we){return function(){return Y.getUniform(U,we)}}if(G=q(Se),J=q(F,!0),U=Y.createProgram(),Y.attachShader(U,G),(fe=Y.getShaderInfoLog(G))&&(Wt+="Vertex shader error: "+fe+"\n"),Y.attachShader(U,J),(fe=Y.getShaderInfoLog(J))&&(Wt+="Fragment shader error: "+fe+"\n"),Y.linkProgram(U),!Y.getProgramParameter(U,Y.LINK_STATUS))throw Wt+=Y.getProgramInfoLog(U),Y.deleteProgram(U),Y.deleteShader(G),Y.deleteShader(J),(it=de.exec(Se)||de.exec(F))&&(Wt="Shader = "+it[1]+"\n"+Wt),Z.forEach(function(we){Wt+="\n"+we+": "+Y.getParameter(Y[we])}),new Error("Could not initialize shader:\n"+Wt);for(Y.useProgram(U),this.uniforms={},Ee=Y.getProgramParameter(U,Y.ACTIVE_UNIFORMS),be=0;be<Ee;++be)(nt={info:Y.getActiveUniform(U,be)}).name=nt.info.name.replace(/\[0\]$/,""),nt.loc=Y.getUniformLocation(U,nt.name),nt.set=_e(nt.info,nt.loc),nt.get=ve(nt.loc),this.uniforms[nt.name]=nt,this[nt.name]||(this[nt.name]=nt);for(this.attributes={},this.location={},Ee=Y.getProgramParameter(U,Y.ACTIVE_ATTRIBUTES),be=0;be<Ee;++be)(nt={info:Y.getActiveAttrib(U,be)}).name=nt.info.name,nt.location=Y.getAttribLocation(U,nt.name),this.attributes[nt.name]=nt,this.location[nt.name]=nt.location;this.gl=Y,this.program=U,this.destroy=function(){var we;for(we in Y&&(Y.deleteProgram(U),Y.deleteShader(G),Y.deleteShader(J)),this)this.hasOwnProperty(we)&&delete this[we];U=null,G=null,J=null}}function at(Y){if(window===this||!(this instanceof at)||void 0!==this.id)return new at(Y);var Se,F,U,G,J,fe,be,Ee,it,nt,Wt,q,_e,ve,we,Le=++R,Me=this,ne=[],xe={},ye=0,Ae=[],$e=[],Qe=[],rt=[],mn={},Lt=[],Yn=[],hn={},Yt={},ai=!1,tt=!1;function kn(re,K){var ee,Re,Ke;return!!K&&(ee=K.createBuffer(),K.bindBuffer(K.ARRAY_BUFFER,ee),K.bufferData(K.ARRAY_BUFFER,re.vertices,K.STATIC_DRAW),ee.size=3,Re=K.createBuffer(),K.bindBuffer(K.ELEMENT_ARRAY_BUFFER,Re),K.bufferData(K.ELEMENT_ARRAY_BUFFER,re.indices,K.STATIC_DRAW),Ke=K.createBuffer(),K.bindBuffer(K.ARRAY_BUFFER,Ke),K.bufferData(K.ARRAY_BUFFER,re.coords,K.STATIC_DRAW),Ke.size=2,{vertex:ee,index:Re,texCoord:Ke,length:re.indices.length,mode:re.mode||K.TRIANGLES})}function ar(re){var K={};return K.vertices=new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),K.indices=new Uint16Array([0,1,2,0,2,3]),K.coords=new Float32Array([0,0,1,0,1,1,0,1]),kn(K,re)}function He(re){var K,ee;if(!F)if(re.canvas.addEventListener("webglcontextlost",Oi,!1),re.canvas.addEventListener("webglcontextrestored",ci,!1),re.isContextLost())at.logger.warn("Unable to attach lost WebGL context. Will try again when context is restored.");else{for(Se=re.canvas,G=ar(F=re),J=new Gt(F,"#define SHADER_NAME seriously.base\n"+p,"#define SHADER_NAME seriously.base\n"+m),K=0;K<rt.length;K++)(ee=rt[K]).gl=F,ee.initialize(),ee.buildShader();for(K=0;K<Ae.length;K++)(ee=Ae[K]).initialize();for(K=0;K<$e.length;K++)(ee=$e[K]).model||(ee.model=G,ee.shader=J)}}function ci(){var re,K,ee,Re;if(U&&!F){if(pt(K=U.target,"WebGLFramebuffer"))return void at.logger.error("Unable to restore target built on WebGLFramebuffer");if(re=ht(K,{alpha:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!0,stencil:!0,debugContext:U.debugContext})){if(re.isContextLost())return void at.logger.error("Unable to restore WebGL Context");for(He(re),U.frameBuffer=U.renderToTexture?new gt(F,U.width,U.height,!1):{frameBuffer:null},ee=0;ee<ne.length;ee++)(Re=ne[ee]).setDirty(),Re.emit("webglcontextrestored");at.logger.log("WebGL context restored")}}}function Oi(re){var K,ee;for(re&&(at.logger.warn("WebGL context lost"),re.preventDefault()),we&&(ie(we),we=0),Se&&Se.removeEventListener("webglcontextlost",Oi,!1),K=0;K<rt.length;K++)(ee=rt[K]).gl=null,ee.initialized=!1,ee.baseShader=null,ee.model=null,ee.frameBuffer=null,ee.texture=null,ee.shader&&ee.shader.destroy&&(ee.shader.destroy(),ee.effect.commonShader&&delete Yt[ee.hook]),ee.shaderDirty=!0,ee.shader=null,ee.effect.lostContext&&ee.effect.lostContext.call(ee),re&&ee.emit("webglcontextlost");for(K=0;K<Ae.length;K++)(ee=Ae[K]).texture=null,ee.initialized=!1,ee.allowRefresh=!1,re&&ee.emit("webglcontextlost");for(K=0;K<Qe.length;K++)(ee=Qe[K]).frameBuffer=null,ee.texture=null,re&&ee.emit("webglcontextlost");for(K=0;K<$e.length;K++)(ee=$e[K]).model=!1,ee.frameBuffer=null,re&&ee.emit("webglcontextlost");J&&J.destroy&&J.destroy(),F&&(F.deleteBuffer(G.vertex),F.deleteBuffer(G.texCoord),F.deleteBuffer(G.index)),G&&(delete G.vertex,delete G.texCoord,delete G.index),G=null,J=null,F=null,Se=null}function Mi(re){var K,ee,Re=!1;if(we=0,Lt.length)for(Re=!0,K=0;K<Lt.length;K++)Lt[K].call(Me,re);if(Ae&&Ae.length)for(Re=!0,K=0;K<Ae.length;K++)((ee=Ae[K]).dirty||ee.checkDirty&&ee.checkDirty())&&(ee.dirty=!1,ee.setDirty());for(K=0;K<$e.length;K++)(ee=$e[K]).auto&&ee.dirty&&ee.render();if(Yn.length)for(Re=!0,K=0;K<Yn.length;K++)Yn[K].call(Me);Re&&!we&&(we=Pe(Mi))}function fi(re,K,ee,Re,Ke,Tt){var At,_t,lt,wt,St,Bt,cr,Vt=0,zt=Ke&&Ke.gl||F;if(zt){for(At in Ke?(wt=Tt&&Tt.width||Ke.width||zt.canvas.width,St=Tt&&Tt.height||Ke.height||zt.canvas.height):(wt=Tt&&Tt.width||zt.canvas.width,St=Tt&&Tt.height||zt.canvas.height),re.use(),zt.viewport(0,0,wt,St),zt.bindFramebuffer(zt.FRAMEBUFFER,Re),zt.enableVertexAttribArray(re.location.position),zt.enableVertexAttribArray(re.location.texCoord),K.texCoord&&(zt.bindBuffer(zt.ARRAY_BUFFER,K.texCoord),zt.vertexAttribPointer(re.location.texCoord,K.texCoord.size,zt.FLOAT,!1,0,0)),zt.bindBuffer(zt.ARRAY_BUFFER,K.vertex),zt.vertexAttribPointer(re.location.position,K.vertex.size,zt.FLOAT,!1,0,0),zt.bindBuffer(zt.ELEMENT_ARRAY_BUFFER,K.index),Tt&&Tt.depth?F.enable(F.DEPTH_TEST):F.disable(F.DEPTH_TEST),Tt?void 0===Tt.blend||Tt.blend?(F.enable(F.BLEND),F.blendFuncSeparate(Bt=void 0===Tt.srcRGB?F.ONE:Tt.srcRGB,cr=Tt.dstRGB||F.ZERO,void 0===Tt.srcAlpha?Bt:Tt.srcAlpha,void 0===Tt.dstAlpha?cr:Tt.dstAlpha),F.blendEquation(Tt.blendEquation||F.FUNC_ADD)):F.disable(F.BLEND):(F.enable(F.BLEND),F.blendFunc(F.ONE,F.ZERO),F.blendEquation(F.FUNC_ADD)),ee)ee.hasOwnProperty(At)&&(_t=ee[At],(lt=re.uniforms[At])&&(pt(_t,"WebGLTexture")?(zt.activeTexture(zt.TEXTURE0+Vt),zt.bindTexture(zt.TEXTURE_2D,_t),lt.set(Vt),Vt++):_t instanceof be||_t instanceof Ee||_t instanceof it?_t.texture&&(zt.activeTexture(zt.TEXTURE0+Vt),zt.bindTexture(zt.TEXTURE_2D,_t.texture),lt.set(Vt),Vt++):null!=_t&&lt.set(_t)));Tt&&void 0!==Tt.clear&&!Tt.clear||(zt.clearColor(0,0,0,0),zt.clear(zt.COLOR_BUFFER_BIT|zt.DEPTH_BUFFER_BIT)),zt.drawElements(K.mode,K.length,zt.UNSIGNED_SHORT,0),F.enable(F.DEPTH_TEST)}}function Bi(re,K,ee){var Re,Ke;if(("string"!=typeof re||!K&&0!==K)&&(ee&&"object"==typeof ee||(ee=K),K=re),"string"==typeof re&&a[re]||(re=null),K instanceof be||K instanceof Ee||K instanceof it)Re=K;else if(K instanceof Wt||K instanceof q||K instanceof _e){if(!(Re=xe[K.id]))throw new Error("Cannot connect a foreign node")}else{for("string"==typeof K&&isNaN(K)&&(K=et(K,["canvas","img","video"])),Ke=0;Ke<Ae.length;Ke++)if(Re=Ae[Ke],(!re||re===Re.hook)&&Re.compare&&Re.compare(K,ee))return Re;Re=new be(re,K,ee)}return Re}function Vi(re,K){var ee,Re,Ke;if(!(re instanceof Ee||re instanceof it))return!1;if(re===K)return!0;for(ee in Ke=re.sources)if(Ke.hasOwnProperty(ee)&&((Re=Ke[ee])===K||Vi(Re,K)))return!0;return!1}(fe=function(){this.ready=!1,this.width=1,this.height=1,this.gl=F,this.uniforms={resolution:[this.width,this.height],transform:null},this.dirty=!0,this.isDestroyed=!1,this.seriously=Me,this.listeners={},this.id=ye,ye++}).prototype.setReady=function(){var re;if(!this.ready&&(this.ready=!0,this.emit("ready"),this.targets))for(re=0;re<this.targets.length;re++)this.targets[re].setReady()},fe.prototype.setUnready=function(){var re;if(this.ready&&(this.ready=!1,this.emit("unready"),this.targets))for(re=0;re<this.targets.length;re++)this.targets[re].setUnready()},fe.prototype.setDirty=function(){var re;if(!this.dirty&&(this.emit("dirty"),this.dirty=!0,this.targets))for(re=0;re<this.targets.length;re++)this.targets[re].setDirty()},fe.prototype.initFrameBuffer=function(re){F&&(this.frameBuffer=new gt(F,this.width,this.height,re))},fe.prototype.readPixels=function(re,K,ee,Re,Ke){var Tt=this.gl||F;if(!F)throw new Error("Cannot read pixels until a canvas is connected");if(this.frameBuffer||(this.initFrameBuffer(),this.setDirty()),this.render(),void 0===Ke)Ke=new Uint8Array(ee*Re*4);else if(!pt(Ke,"Uint8Array"))throw new Error("Incompatible array type");return Tt.bindFramebuffer(F.FRAMEBUFFER,this.frameBuffer.frameBuffer),Tt.readPixels(re,K,ee,Re,F.RGBA,F.UNSIGNED_BYTE,Ke),Ke},fe.prototype.resize=function(){var re,K;this.source?(re=this.source.width,K=this.source.height):this.sources&&this.sources.source?(re=this.sources.source.width,K=this.sources.source.height):this.inputs&&this.inputs.width?(re=this.inputs.width,K=this.inputs.height||re):this.inputs&&this.inputs.height?re=K=this.inputs.height:(re=1,K=1),re=Math.floor(re),K=Math.floor(K),this.width===re&&this.height===K||(this.width=re,this.height=K,this.emit("resize"),this.setDirty()),this.uniforms&&this.uniforms.resolution&&(this.uniforms.resolution[0]=re,this.uniforms.resolution[1]=K),this.frameBuffer&&this.frameBuffer.resize&&this.frameBuffer.resize(re,K)},fe.prototype.on=function(re,K){var ee,Re=-1;re&&"function"==typeof K&&((ee=this.listeners[re])?Re=ee.indexOf(K):ee=this.listeners[re]=[],Re<0&&ee.push(K))},fe.prototype.off=function(re,K){var ee,Re=-1;re&&"function"==typeof K&&(ee=this.listeners[re])&&(Re=ee.indexOf(K))>=0&&ee.splice(Re,1)},fe.prototype.emit=function(re){var K,ee=this.listeners[re];if(ee&&ee.length)for(K=0;K<ee.length;K++)Je(ee[K])},fe.prototype.destroy=function(){var re,K;for(K in delete this.gl,delete this.seriously,this.listeners)this.listeners.hasOwnProperty(K)&&delete this.listeners[K];for(re in this.uniforms)this.uniforms.hasOwnProperty(re)&&delete this.uniforms[re];this.targets&&delete this.targets,this.frameBuffer&&this.frameBuffer.destroy&&(this.frameBuffer.destroy(),delete this.frameBuffer),(re=ne.indexOf(this))>=0&&ne.splice(re,1),delete xe[this.id],this.isDestroyed=!0},Wt=function(re){var K,ee=re;function Re(lt,wt){var St,Bt,on;return on=ee.effect.inputs[lt],St=ee.inputElements[lt],"string"==typeof wt&&isNaN(wt)&&("enum"===on.type?on.options.hasOwnProperty(wt)||(wt=et(wt,["select"])):"number"===on.type||"boolean"===on.type?wt=et(wt,["input","select"]):"image"===on.type&&(wt=et(wt,["canvas","img","video"]))),pt(wt,"HTMLInputElement")||pt(wt,"HTMLSelectElement")?(Bt=wt.value,St&&St.element!==wt&&(St.element.removeEventListener("change",St.listener,!0),St.element.removeEventListener("input",St.listener,!0),delete ee.inputElements[lt],St=null),St||(St={element:wt,listener:function(cr,un){return function(){var Vt,zt;zt=ee.setInput(cr,Vt="checkbox"===wt.type?wt.checked:un.value),"color"===on.type&&(zt=Oe(zt).substr(0,7)),zt!==Vt&&(un.value=zt)}}(lt,wt)},ee.inputElements[lt]=St,"range"===wt.type&&wt.addEventListener("input",St.listener,!0),wt.addEventListener("change",St.listener,!0)),St&&"checkbox"===wt.type&&(Bt=wt.checked)):(St&&(St.element.removeEventListener("change",St.listener,!0),St.element.removeEventListener("input",St.listener,!0),delete ee.inputElements[lt]),Bt=wt),ee.setInput(lt,Bt),ee.inputs[lt]}function Ke(lt){return function(wt){var St=Re(lt,wt);return St&&St.pub}}function Tt(lt){return function(){var wt=ee.inputs[lt];return wt&&wt.pub}}function At(lt){return function(wt){return Re(lt,wt)}}function _t(lt){return function(){return ee.inputs[lt]}}for(K in ee.effect.inputs)if(ee.effect.inputs.hasOwnProperty(K)){if(void 0!==this[K])throw new Error("Cannot overwrite Seriously."+K);Object.defineProperty(this,K,"image"===ee.effect.inputs[K].type?{configurable:!0,enumerable:!0,get:Tt(K),set:Ke(K)}:{configurable:!0,enumerable:!0,get:_t(K),set:At(K)})}Object.defineProperties(this,{effect:{enumerable:!0,configurable:!0,get:function(){return ee.hook}},title:{enumerable:!0,configurable:!0,get:function(){return ee.effect.title||ee.hook}},width:{enumerable:!0,configurable:!0,get:function(){return ee.width}},height:{enumerable:!0,configurable:!0,get:function(){return ee.height}},id:{enumerable:!0,configurable:!0,get:function(){return ee.id}}}),this.render=function(){return ee.render(),this},this.readPixels=function(lt,wt,St,Bt,on){return ee.readPixels(lt,wt,St,Bt,on)},this.on=function(lt,wt){ee.on(lt,wt)},this.off=function(lt,wt){ee.off(lt,wt)},this.inputs=function(lt){var wt,St,Bt,on;if(Bt=ee.effect.inputs,lt)return(St=Bt[lt])?(wt={type:St.type,defaultValue:St.defaultValue,title:St.title||lt},"number"===St.type?(wt.min=St.min,wt.max=St.max,wt.step=St.step,wt.mod=St.mod):"enum"===St.type?wt.options=ft({},St.options):"vector"===St.type&&(wt.dimensions=St.dimensions),St.description&&(wt.description=St.description),wt):null;for(on in wt={},Bt)Bt.hasOwnProperty(on)&&(wt[on]=this.inputs(on));return wt},this.alias=function(lt,wt){return ee.alias(lt,wt),this},this.matte=function(lt){ee.matte(lt)},this.destroy=function(){var lt,wt;for(lt in ee.destroy(),this)this.hasOwnProperty(lt)&&"isDestroyed"!==lt&&"id"!==lt&&((wt=Object.getOwnPropertyDescriptor(this,lt)).get||wt.set||"function"!=typeof this[lt]?delete this[lt]:this[lt]=P)},this.isDestroyed=function(){return ee.isDestroyed},this.isReady=function(){return ee.ready}},(Ee=function(re,K){var ee,Re,Ke,Tt,At={};for(ee in fe.call(this,K),this.gl=F,this.effectRef=f[re],this.sources={},this.targets=[],this.inputElements={},this.dirty=!0,this.shaderDirty=!0,this.hook=re,this.options=K,this.transform=null,this.effect=ft({},this.effectRef),this.effectRef.definition&&ft(this.effect,this.effectRef.definition.call(this,K)),Ut(this.effect),this.uniforms.transform=b,this.inputs={},Tt=hn[re],this.effect.inputs)this.effect.inputs.hasOwnProperty(ee)&&(void 0!==(Re=this.effect.inputs[ee]).defaultValue&&null!==Re.defaultValue||("number"===Re.type?Re.defaultValue=Math.min(Math.max(0,Re.min),Re.max):"color"===Re.type?Re.defaultValue=[0,0,0,0]:"boolean"===Re.type?Re.defaultValue=!1:"string"===Re.type?Re.defaultValue="":"enum"===Re.type&&(Re.defaultValue=Re.firstValue)),Ke=Re.validate.call(this,Re.defaultValue,Re),Tt&&void 0!==Tt[ee]&&(Ke=Re.validate.call(this,Tt[ee],Re,Re.defaultValue,Ke),Tt[ee]=Ke,"image"===Re.type&&(At[ee]=Ke)),this.inputs[ee]=Ke,Re.uniform&&(this.uniforms[Re.uniform]=Re.defaultValue));for(ee in F&&(this.initialize(),this.effect.commonShader&&this.buildShader()),this.updateReady(),this.inPlace=this.effect.inPlace,this.pub=new Wt(this),ne.push(this),xe[this.id]=this,rt.push(this),_[re].push(this),At)At.hasOwnProperty(ee)&&this.setInput(ee,At[ee])}).prototype=Object.create(fe.prototype),Ee.prototype.constructor=Ee,Ee.prototype.initialize=function(){if(!this.initialized){var re=this;this.baseShader=J,this.model=this.shape?kn(this.shape,this.gl):G,"function"==typeof this.effect.initialize?this.effect.initialize.call(this,function(){re.initFrameBuffer(!0)},F):this.initFrameBuffer(!0),this.frameBuffer&&(this.texture=this.frameBuffer.texture),this.initialized=!0}},Ee.prototype.resize=function(){var re;for(fe.prototype.resize.call(this),this.effect.resize&&this.effect.resize.call(this),re=0;re<this.targets.length;re++)this.targets[re].resize()},Ee.prototype.updateReady=function(){var re,K,ee,Re,Ke=!0;for(K in(ee=this.effect).inputs)if(ee.inputs.hasOwnProperty(K)&&"image"===this.effect.inputs[K].type&&(!this.sources[K]||!this.sources[K].ready)&&(!ee.requires||ee.requires.call(this,K,this.inputs))){Ke=!1;break}if(this.ready!==Ke&&(this.ready=Ke,this.emit(Ke?"ready":"unready"),Re=Ke?"setReady":"setUnready",this.targets))for(re=0;re<this.targets.length;re++)this.targets[re][Re]()},Ee.prototype.setReady=Ee.prototype.updateReady,Ee.prototype.setUnready=Ee.prototype.updateReady,Ee.prototype.addTarget=function(re){var K;for(K=0;K<this.targets.length;K++)if(this.targets[K]===re)return;this.targets.push(re)},Ee.prototype.removeTarget=function(re){var K=this.targets&&this.targets.indexOf(re);K>=0&&this.targets.splice(K,1)},Ee.prototype.removeSource=function(re){var K,ee=re&&re.pub;for(K in this.inputs)!this.inputs.hasOwnProperty(K)||this.inputs[K]!==re&&this.inputs[K]!==ee||(this.inputs[K]=null);for(K in this.sources)!this.sources.hasOwnProperty(K)||this.sources[K]!==re&&this.sources[K]!==ee||(this.sources[K]=null)},Ee.prototype.buildShader=function(){var re,K=this.effect,ee=this;function Re(Ke){return de.test(Ke)?Ke:"#define SHADER_NAME seriously."+ee.hook+"\n"+Ke}this.shaderDirty&&(K.commonShader&&Yt[this.hook]?(this.shader||Yt[this.hook].count++,this.shader=Yt[this.hook].shader):K.shader?(this.shader&&!K.commonShader&&this.shader.destroy(),this.shader=(re=K.shader.call(this,this.inputs,{vertex:p,fragment:m},at.util))instanceof Gt?re:re&&re.vertex&&re.fragment?new Gt(F,Re(re.vertex),Re(re.fragment)):J,K.commonShader&&(Yt[this.hook]={count:1,shader:this.shader})):this.shader=J,this.shaderDirty=!1)},Ee.prototype.render=function(){var re,K,ee,Re=this.effect,Ke=this;if(F){if(this.initialized||this.initialize(),this.shaderDirty&&this.buildShader(),this.dirty&&this.ready){for(re in this.sources)!this.sources.hasOwnProperty(re)||Re.requires&&!Re.requires.call(this,re,this.inputs)||(ee="function"==typeof this.inPlace?this.inPlace(re):this.inPlace,this.sources[re].render(!ee));this.frameBuffer&&(K=this.frameBuffer.frameBuffer),"function"==typeof Re.draw?(Re.draw.call(this,this.shader,this.model,this.uniforms,K,function(Tt,At,_t,lt,wt,St){fi(Tt,At,_t,lt,wt||Ke,St)}),this.emit("render")):K&&(fi(this.shader,this.model,this.uniforms,K,this),this.emit("render")),this.dirty=!1}return this.texture}},Ee.prototype.setInput=function(re,K){var ee,Re,Ke,Tt,_t=this;if(this.effect.inputs.hasOwnProperty(re)){if("image"===(ee=this.effect.inputs[re]).type){if(K){if((K=Bi(K))!==this.sources[re]){if(function(){var lt,wt=_t.sources[re];if(wt){for(lt in _t.sources)if(lt!==re&&_t.sources.hasOwnProperty(lt)&&_t.sources[lt]===wt)return;wt.removeTarget(_t)}}(),Vi(K,this))throw new Error("Attempt to make cyclical connection.");this.sources[re]=K,K.addTarget(this)}}else delete this.sources[re],K=!1;Re=this.sources[re],Ke=Object.keys(this.sources),this.uniforms.transform=!0===this.inPlace&&1===Ke.length&&(Tt=this.sources[Ke[0]])&&Tt.cumulativeMatrix||b}else Re=K=ee.validate.call(this,K,ee,hn[this.hook]&&void 0!==hn[this.hook][re]?hn[this.hook][re]:ee.defaultValue,this.inputs[re]);return this.inputs[re]===K&&"color"!==ee.type&&"vector"!==ee.type||(this.inputs[re]=K,ee.uniform&&(this.uniforms[ee.uniform]=Re),"image"===ee.type?(this.resize(),this.updateReady()):ee.updateSources&&this.updateReady(),ee.shaderDirty&&(this.shaderDirty=!0),this.setDirty(),ee.update&&ee.update.call(this,K)),K}},Ee.prototype.alias=function(re,K){var ee=this;if(Ye.indexOf(K)>=0)throw new Error("'"+K+"' is a reserved name and cannot be used as an alias.");return this.effect.inputs.hasOwnProperty(re)&&(K||(K=re),Me.removeAlias(K),mn[K]={node:this,input:re},Object.defineProperty(Me,K,{configurable:!0,enumerable:!0,get:function(){return ee.inputs[re]},set:function(Re){return ee.setInput(re,Re)}})),this},Ee.prototype.matte=function(re){var K,ee,Re,Ke,Tt,At,_t,un,lt=[],wt=[],St={};function Bt(un){var Vt,zt,ir,Vn,Xt,yn,ni,Dr,Vr,Hn,Qt,Kn=[];if(!un.simple){for(Vt=0;Vt<un.edges.length;Vt++)for(ir=un.edges[Vt],zt=Vt+1;zt<un.edges.length;zt++)$r=void 0,se=void 0,$n=((ui=(Vn=un.edges[zt])[1]).x-(ri=Vn[0]).x)*((fr=ir[0]).y-ri.y)-(ui.y-ri.y)*(fr.x-ri.x),(Xt=!!((gn=(ui.y-ri.y)*((tr=ir[1]).x-fr.x)-(ui.x-ri.x)*(tr.y-fr.y))&&(se=((tr.x-fr.x)*(fr.y-ri.y)-(tr.y-fr.y)*(fr.x-ri.x))/gn,($r=$n/gn)>0&&$r<=1&&se>0&&se<=1))&&{x:fr.x+$r*(tr.x-fr.x),y:fr.y+$r*(tr.y-fr.y)})&&(Xt.edge1=ir,Xt.edge2=Vn,Kn.push(Xt));var fr,tr,ri,ui,$n,gn,$r,se;if(Kn.length){for(Vr=[],Vt=0;Vt<Kn.length;Vt++)ir=(Xt=Kn[Vt]).edge1,un.vertices.push(Hn={x:Xt.x,y:Xt.y,prev:ir[0],next:(Vn=Xt.edge2)[1],id:wt.length}),wt.push(Hn),un.vertices.push(Qt={x:Xt.x,y:Xt.y,prev:Vn[0],next:ir[1],id:wt.length}),wt.push(Hn),Hn.prev.next=Hn,Hn.next.prev=Hn,Qt.prev.next=Qt,Qt.next.prev=Qt;do{Vr.push(yn={edges:[],vertices:[],simple:!0}),ni=Dr=un.vertices[0];do{Vt=un.vertices.indexOf(Dr),un.vertices.splice(Vt,1),yn.edges.push([Dr,Dr.next]),yn.vertices.push(Dr),Dr=Dr.next}while(Dr!==ni)}while(un.vertices.length);for(Vt=lt.indexOf(un),lt.splice(Vt,1),Vt=0;Vt<Vr.length;Vt++)lt.push(Vr[Vt])}else un.simple=!0}}function on(un){var Vt,zt,ir,Vn,Xt=un.vertices.length,yn=0;for(Vt=Xt-1,zt=0;zt<Xt;Vt=zt,zt++)yn+=(ir=un.vertices[Vt]).x*(Vn=un.vertices[zt]).y-Vn.x*ir.y;return yn>0}function cr(un){var Vt,zt,ir,Vn,Xt,yn,ni,Dr,Vr,Hn,Qt,Kn=un.vertices,fr=[],tr=[];function ri($n,pr,gn,$r){return(gn.x-pr.x)*($r.y-pr.y)-(gn.y-pr.y)*($r.x-pr.x)>=0&&($n.x-gn.x)*($r.y-gn.y)-($n.y-gn.y)*($r.x-gn.x)>=0&&(pr.x-$n.x)*($r.y-$n.y)-(pr.y-$n.y)*($r.x-$n.x)>=0}function ui($n,pr,gn,$r,se){var Te,Ie,Ve,It;if(0>((Ve=Kn[se[pr]]).x-(Ie=Kn[se[$n]]).x)*((It=Kn[se[gn]]).y-Ie.y)-(Ve.y-Ie.y)*(It.x-Ie.x))return!1;for(Te=0;Te<$r;Te++)if(Te!==$n&&Te!==pr&&Te!==gn&&ri(Ie,Ve,It,Kn[se[Te]]))return!1;return!0}if(zt=Kn.length,un.clockWise)for(Vt=0;Vt<zt;Vt++)fr[Vt]=Vt;else for(Vt=0;Vt<zt;Vt++)fr[Vt]=zt-1-Vt;for(Vn=2*(ir=zt),Vt=ir-1;ir>2;){if(Vn--<=0)return tr;if(ir<=(Xt=Vt)&&(Xt=0),ir<=(Vt=Xt+1)&&(Vt=0),ir<(yn=Vt+1)&&(yn=0),ui(Xt,Vt,yn,ir,fr)){for(ni=fr[Xt],Dr=fr[Vt],Vr=fr[yn],un.clockWise?(tr.push(Kn[ni]),tr.push(Kn[Dr]),tr.push(Kn[Vr])):(tr.push(Kn[Vr]),tr.push(Kn[Dr]),tr.push(Kn[ni])),Hn=Vt,Qt=Vt+1;Qt<ir;Hn++,Qt++)fr[Hn]=fr[Qt];Vn=2*--ir}}ee.indices=tr}for(K=(un=re)&&un.length&&Array.isArray(un)?Array.isArray(un[0])?Array.isArray(un[0])&&!isNaN(un[0][0])?[un]:un:[un]:[],Re=0;Re<K.length;Re++){for(re=K[Re],_t=null,ee={vertices:[],edges:[]},Ke=0;Ke<re.length;Ke++)"object"!=typeof(Tt=re[Ke])||isNaN(Tt.x)||isNaN(Tt.y)?Tt.length>=2&&!isNaN(Tt[0])&&!isNaN(Tt[1])&&(At={x:Tt[0],y:Tt[1],id:wt.length}):At={x:Tt.x,y:Tt.y,id:wt.length},At&&(_t?(_t.next=At,At.prev=_t,At.next=ee.vertices[0],ee.vertices[0].prev=At):(ee.head=At,At.next=At,At.prev=At),wt.push(At),ee.vertices.push(At),_t=At);if(ee.vertices.length>2)for(3===ee.vertices.length&&(ee.simple=!0),lt.push(ee),Ke=0;Ke<ee.vertices.length;Ke++)ee.edges.push([At=ee.vertices[Ke],At.next])}for(Re=lt.length-1;Re>=0;Re--)Bt(ee=lt[Re]);for(Re=0;Re<lt.length;Re++)(ee=lt[Re]).clockWise=on(ee),cr(ee);for(St.vertices=[],St.coords=[],Re=0;Re<wt.length;Re++)St.vertices.push(2*(Tt=wt[Re]).x-1),St.vertices.push(-2*Tt.y+1),St.vertices.push(-1),St.coords.push(Tt.x),St.coords.push(-1*Tt.y+1);for(St.vertices=new Float32Array(St.vertices),St.coords=new Float32Array(St.coords),St.indices=[],Re=0;Re<lt.length;Re++)for(ee=lt[Re],Ke=0;Ke<ee.indices.length;Ke++)St.indices.push((Tt=ee.indices[Ke]).id);St.indices=new Uint16Array(St.indices),this.shape=St,this.gl&&kn(St,this.gl)},Ee.prototype.destroy=function(){var re,K,ee,Re=this.hook;for(K in this.effect.destroy&&"function"==typeof this.effect.destroy&&this.effect.destroy.call(this),delete this.effect,Yt[Re]&&(Yt[Re].count--,Yt[Re].count||delete Yt[Re]),this.shader&&this.shader.destroy&&this.shader!==J&&!Yt[Re]&&this.shader.destroy(),delete this.shader,this.inputElements)this.inputElements.hasOwnProperty(K)&&((ee=this.inputElements[K]).element.removeEventListener("change",ee.listener,!0),ee.element.removeEventListener("input",ee.listener,!0));for(K in this.sources)this.sources.hasOwnProperty(K)&&((ee=this.sources[K])&&ee.removeTarget&&ee.removeTarget(this),delete this.sources[K]);for(;this.targets.length;)(ee=this.targets.pop())&&ee.removeSource&&ee.removeSource(this);for(K in this)this.hasOwnProperty(K)&&"id"!==K&&delete this[K];for(K in mn)mn.hasOwnProperty(K)&&(ee=mn[K]).node===this&&Me.removeAlias(K);(re=rt.indexOf(this))>=0&&rt.splice(re,1),(re=_[Re].indexOf(this))>=0&&_[Re].splice(re,1),fe.prototype.destroy.call(this)},q=function(re){var K=re;Object.defineProperties(this,{original:{enumerable:!0,configurable:!0,get:function(){return K.source}},id:{enumerable:!0,configurable:!0,get:function(){return K.id}},width:{enumerable:!0,configurable:!0,get:function(){return K.width}},height:{enumerable:!0,configurable:!0,get:function(){return K.height}}}),this.render=function(){K.render()},this.update=function(){K.setDirty()},this.readPixels=function(ee,Re,Ke,Tt,At){return K.readPixels(ee,Re,Ke,Tt,At)},this.on=function(ee,Re){K.on(ee,Re)},this.off=function(ee,Re){K.off(ee,Re)},this.destroy=function(){var ee,Re;for(ee in K.destroy(),this)this.hasOwnProperty(ee)&&"isDestroyed"!==ee&&"id"!==ee&&((Re=Object.getOwnPropertyDescriptor(this,ee)).get||Re.set||"function"!=typeof this[ee]?delete this[ee]:this[ee]=P)},this.isDestroyed=function(){return K.isDestroyed},this.isReady=function(){return K.ready}},(be=function(re,K,ee){var Re,Ke,Tt=ee||{},At=void 0===Tt.flip||Tt.flip,_t=Tt.width,lt=Tt.height,wt=!1,St=this,Bt=!1;function on(un,Vt,zt,ir){var Vn=a[un];if(Vn.definition){if(!(Vn=Vn.definition.call(St,Vt,zt,ir)))return null;Vn=ft(ft({},a[un]),Vn)}return Vn}function cr(un){return St.source===un}if(fe.call(this),(re&&"string"!=typeof re||!K&&0!==K)&&(ee&&"object"==typeof ee||(ee=K),K=re),"string"==typeof K&&isNaN(K)&&(K=et(K,["canvas","img","video"])),"string"==typeof re&&a[re]&&(Ke=on(re,K,ee,!0))&&(this.hook=re,Bt=!0,wt=Ke.deferTexture,this.plugin=Ke,this.compare=Ke.compare,this.checkDirty=Ke.checkDirty,Ke.source&&(K=Ke.source)),!Ke&&pt(K))"CANVAS"===K.tagName?(this.width=K.width,this.height=K.height,this.render=this.renderImageCanvas,Bt=!0,this.hook="canvas",this.compare=cr):"IMG"===K.tagName&&(this.width=K.naturalWidth||1,this.height=K.naturalHeight||1,K.complete&&K.naturalWidth||(wt=!0),K.addEventListener("load",function(){St.isDestroyed||(St.width===K.naturalWidth&&St.height===K.naturalHeight||(St.width=K.naturalWidth,St.height=K.naturalHeight,St.resize()),St.setDirty(),St.setReady())},!0),this.render=this.renderImageCanvas,Bt=!0,this.hook="image",this.compare=cr);else if(!Ke&&pt(K,"WebGLTexture")){if(F&&!F.isTexture(K))throw new Error("Not a valid WebGL texture.");isNaN(_t)?isNaN(lt)||(_t=lt):isNaN(lt)&&(lt=_t),this.width=_t,this.height=lt,void 0===Tt.flip&&(At=!1),Bt=!0,this.texture=K,this.initialized=!0,this.hook="texture",this.compare=cr,this.render=function(){}}if(!Bt&&!Ke)for(Re in a)if(a.hasOwnProperty(Re)&&a[Re]&&(Ke=on(Re,K,ee,!1))){this.hook=Re,Bt=!0,wt=Ke.deferTexture,this.plugin=Ke,this.compare=Ke.compare,this.checkDirty=Ke.checkDirty,Ke.source&&(K=Ke.source);break}if(!Bt)throw new Error("Unknown source type");this.source=K,void 0===this.flip&&(this.flip=At),this.targets=[],wt||St.setReady(),this.pub=new q(this),ne.push(this),xe[this.id]=this,Ae.push(this),D[this.hook].push(this),Ae.length&&!we&&Mi()}).prototype=Object.create(fe.prototype),be.prototype.constructor=be,be.prototype.initialize=function(){var re;F&&!this.texture&&this.ready&&(re=F.createTexture(),F.bindTexture(F.TEXTURE_2D,re),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.LINEAR),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.LINEAR),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,F.CLAMP_TO_EDGE),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,F.CLAMP_TO_EDGE),F.bindTexture(F.TEXTURE_2D,null),this.texture=re,this.initialized=!0,this.allowRefresh=!0,this.setDirty())},be.prototype.initFrameBuffer=function(re){F&&(this.frameBuffer=new gt(F,this.width,this.height,{texture:this.texture,useFloat:re}))},be.prototype.addTarget=function(re){var K;for(K=0;K<this.targets.length;K++)if(this.targets[K]===re)return;this.targets.push(re)},be.prototype.removeTarget=function(re){var K=this.targets&&this.targets.indexOf(re);K>=0&&this.targets.splice(K,1)},be.prototype.resize=function(){var re,K;if(this.uniforms.resolution[0]=this.width,this.uniforms.resolution[1]=this.height,this.framebuffer&&this.framebuffer.resize(this.width,this.height),this.emit("resize"),this.setDirty(),this.targets)for(re=0;re<this.targets.length;re++)(K=this.targets[re]).resize(),K.setTransformDirty&&K.setTransformDirty()},be.prototype.setReady=function(){var re;if(!this.ready&&(this.ready=!0,this.resize(),this.initialize(),this.emit("ready"),this.targets))for(re=0;re<this.targets.length;re++)this.targets[re].setReady()},be.prototype.render=function(){var re=this.source;F&&(re||0===re)&&this.ready&&(this.initialized||this.initialize(),this.allowRefresh&&this.plugin&&this.plugin.render&&(this.dirty||this.checkDirty&&this.checkDirty())&&this.plugin.render.call(this,F,fi,G,J)&&(this.dirty=!1,this.emit("render")))},be.prototype.renderImageCanvas=function(){var re=this.source;if(F&&re&&this.ready&&(this.initialized||this.initialize(),this.allowRefresh&&this.dirty)){F.bindTexture(F.TEXTURE_2D,this.texture),F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,this.flip),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{return F.texImage2D(F.TEXTURE_2D,0,F.RGBA,F.RGBA,F.UNSIGNED_BYTE,re),this.dirty=!1,this.emit("render"),!0}catch(K){K.code===window.DOMException.SECURITY_ERR&&(this.allowRefresh=!1,at.logger.error("Unable to access cross-domain image"))}return!1}},be.prototype.destroy=function(){var re,K,ee;for(this.plugin&&this.plugin.destroy&&this.plugin.destroy.call(this),F&&this.texture&&F.deleteTexture(this.texture);this.targets.length;)(ee=this.targets.pop())&&ee.removeSource&&ee.removeSource(this);for(K in(re=Ae.indexOf(this))>=0&&Ae.splice(re,1),(re=D[this.hook].indexOf(this))>=0&&D[this.hook].splice(re,1),this)this.hasOwnProperty(K)&&"id"!==K&&delete this[K];fe.prototype.destroy.call(this)},ve=function(re){var K=re;Object.defineProperties(this,{source:{enumerable:!0,configurable:!0,get:function(){if(K.source)return K.source.pub},set:function(ee){K.setSource(ee)}},original:{enumerable:!0,configurable:!0,get:function(){return K.target}},width:{enumerable:!0,configurable:!0,get:function(){return K.width},set:function(ee){!isNaN(ee)&&ee>0&&K.width!==ee&&(K.width=ee,K.resize(),K.setTransformDirty())}},height:{enumerable:!0,configurable:!0,get:function(){return K.height},set:function(ee){!isNaN(ee)&&ee>0&&K.height!==ee&&(K.height=ee,K.resize(),K.setTransformDirty())}},id:{enumerable:!0,configurable:!0,get:function(){return K.id}}}),this.render=function(){K.render()},this.readPixels=function(ee,Re,Ke,Tt,At){return K.readPixels(ee,Re,Ke,Tt,At)},this.on=function(ee,Re){K.on(ee,Re)},this.off=function(ee,Re){K.off(ee,Re)},this.go=function(ee){K.go(ee)},this.stop=function(){K.stop()},this.getTexture=function(){return K.frameBuffer.texture},this.destroy=function(){var ee,Re;for(ee in K.destroy(),this)this.hasOwnProperty(ee)&&"isDestroyed"!==ee&&"id"!==ee&&((Re=Object.getOwnPropertyDescriptor(this,ee)).get||Re.set||"function"!=typeof this[ee]?delete this[ee]:this[ee]=P)},this.inputs=function(ee){return{source:{type:"image"}}},this.isDestroyed=function(){return K.isDestroyed},this.isReady=function(){return K.ready}},((nt=function(re,K,ee){var Re,Ke,Tt,At,_t,lt,wt,St,Bt,on=this,cr=!1;function un(Vt,zt,ir,Vn){var Xt=d[Vt];if(Xt.definition){if(!(Xt=Xt.definition.call(on,zt,ir,Vn)))return null;Xt=ft(ft({},d[Vt]),Xt),on.hook=Bt,cr=!0,on.plugin=Xt,on.compare=Xt.compare,Xt.target&&(zt=Xt.target),Xt.gl&&!on.gl&&(on.gl=Xt.gl,F||He(Xt.gl)),on.gl===F&&(on.model=G,on.shader=J)}return Xt}if(fe.call(this),(re&&"string"!=typeof re||!K&&0!==K)&&(ee&&"object"==typeof ee||(ee=K),K=re),Ke=void 0===(Re=ee||{}).flip||Re.flip,Tt=parseInt(Re.width,10),At=parseInt(Re.height,10),lt=Re.debugContext,"string"==typeof re&&d[re]&&un(re,K,Re,!0),this.renderToTexture=Re.renderToTexture,pt(K,"WebGLFramebuffer"))if(wt=K,pt(Re,"HTMLCanvasElement"))K=Re;else if(pt(Re,"WebGLRenderingContext"))K=Re.canvas;else if(pt(Re.canvas,"HTMLCanvasElement"))K=Re.canvas;else{if(!pt(Re.context,"WebGLRenderingContext"))throw new Error("Must provide a canvas with WebGLFramebuffer target");K=Re.context.canvas}if(pt(K,"HTMLCanvasElement")){if(Tt=K.width,At=K.height,(!F||F.canvas!==K&&Re.allowSecondaryWebGL)&&(_t=ht(K,{alpha:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!0,stencil:!0,debugContext:lt})),_t)F&&F!==_t?(this.gl=_t,this.frameBuffer={frameBuffer:wt||null},this.shader=new Gt(this.gl,p,m),this.model=ar.call(this,this.gl),this.pixels=null,this.texture=this.gl.createTexture(),this.gl.bindTexture(F.TEXTURE_2D,this.texture),this.gl.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.LINEAR),this.gl.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.LINEAR),this.gl.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,F.CLAMP_TO_EDGE),this.gl.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,F.CLAMP_TO_EDGE),this.render=this.renderSecondaryWebGL):(U||(U=this),F||He(_t),this.render=this.renderWebGL,Re.renderToTexture?F&&(this.frameBuffer=new gt(F,Tt,At,!1)):this.frameBuffer={frameBuffer:wt||null});else{if(!Re.allowSecondaryWebGL&&F&&F.canvas!==K)throw new Error("Only one WebGL target canvas allowed. Set allowSecondaryWebGL option to create secondary context.");this.render=P,at.logger.log("Unable to create WebGL context.")}cr=!0}if(!cr)for(Bt in d)if(d.hasOwnProperty(Bt)&&d[Bt]&&un(Bt,K,Re,!1))break;if(!cr)throw new Error("Unknown target type");A&&((St=A.get(K))?at.logger.warn("Target already in use by another instance",K,Object.keys(St).map(function(Vt){return St[Vt]})):A.set(K,St={}),St[Me.id]=Me),this.target=K,this.transform=null,this.transformDirty=!0,this.flip=Ke,Tt&&(this.width=Tt),At&&(this.height=At),this.uniforms.resolution[0]=this.width,this.uniforms.resolution[1]=this.height,this.auto=void 0!==Re.auto?Re.auto:ai,this.frames=0,this.pub=new ve(this),ne.push(this),xe[this.id]=this,$e.push(this)}).prototype=Object.create(fe.prototype)).constructor=nt,nt.prototype.setSource=function(re){var K;(K=Bi(re))!==this.source&&(this.source&&this.source.removeTarget(this),this.source=K,K.addTarget(this),K&&(this.resize(),K.ready?this.setReady():this.setUnready()),this.setDirty())},nt.prototype.setDirty=function(){this.dirty=!0,this.auto&&!we&&(we=Pe(Mi))},nt.prototype.resize=function(){pt(this.target,"HTMLCanvasElement")?this.width===this.target.width&&this.height===this.target.height||(this.target.width=this.width,this.target.height=this.height,this.uniforms.resolution[0]=this.width,this.uniforms.resolution[1]=this.height,this.emit("resize"),this.setTransformDirty()):this.plugin&&this.plugin.resize&&this.plugin.resize.call(this),!this.source||this.source.width===this.width&&this.source.height===this.height||this.transform||(this.transform=new Float32Array(16))},nt.prototype.setTransformDirty=function(){this.transformDirty=!0,this.setDirty()},nt.prototype.go=function(){this.auto=!0,this.setDirty()},nt.prototype.stop=function(){this.auto=!1},nt.prototype.render=function(){F&&this.plugin&&this.plugin.render&&this.plugin.render.call(this,fi,J,G)},nt.prototype.renderWebGL=function(){var re,K,ee;if(this.resize(),F&&this.dirty&&this.ready){if(!this.source)return;this.source.render(),this.uniforms.source=this.source.texture,this.source.width===this.width&&this.source.height===this.height?this.uniforms.transform=this.source.cumulativeMatrix||b:this.transformDirty&&(he.copy(re=this.transform,this.source.cumulativeMatrix||b),ee=this.source.height/this.height,re[0]*=K=this.source.width/this.width,re[1]*=K,re[2]*=K,re[3]*=K,re[4]*=ee,re[5]*=ee,re[6]*=ee,re[7]*=ee,this.uniforms.transform=re,this.transformDirty=!1),fi(J,G,this.uniforms,this.frameBuffer.frameBuffer,this,Q),this.emit("render"),this.dirty=!1}},nt.prototype.renderSecondaryWebGL=function(){var re,K,ee,Re,Ke;this.dirty&&this.ready&&this.source&&(this.emit("render"),this.source.render(!0),re=this.source.width,K=this.source.height,this.pixels&&this.pixels.length===re*K*4||(this.pixels=new Uint8Array(re*K*4)),this.source.readPixels(0,0,re,K,this.pixels),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,re,K,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.pixels),re===this.width&&K===this.height?this.uniforms.transform=b:this.transformDirty&&(he.copy(ee=this.transform,b),Ke=this.source.height/this.height,ee[0]*=Re=this.source.width/this.width,ee[1]*=Re,ee[2]*=Re,ee[3]*=Re,ee[4]*=Ke,ee[5]*=Ke,ee[6]*=Ke,ee[7]*=Ke,this.uniforms.transform=ee,this.transformDirty=!1),this.uniforms.source=this.texture,fi(this.shader,this.model,this.uniforms,null,this,Q),this.dirty=!1)},nt.prototype.removeSource=function(re){this.source!==re&&this.source!==re.pub||(this.source=null)},nt.prototype.destroy=function(){var re,K;this.source&&this.source.removeTarget&&this.source.removeTarget(this),A&&(delete(K=A.get(this.target))[Me.id],Object.keys(K).length||A.delete(this.target)),this.plugin&&this.plugin.destroy&&this.plugin.destroy.call(this),delete this.source,delete this.target,delete this.pub,delete this.uniforms,delete this.pixels,delete this.auto,(re=$e.indexOf(this))>=0&&$e.splice(re,1),fe.prototype.destroy.call(this),this===U&&(Se.removeEventListener("webglcontextrestored",ci,!1),Oi(),U=null)},_e=function(re){var K,ee=re,Re=this;function Ke(At,_t){Object.defineProperty(Re,At,{configurable:!0,enumerable:!0,get:function(){return _t.get.call(ee)},set:function(lt){var wt,St,Bt,on,cr,un;St=_t,on=ee.inputElements[wt=At],"string"==typeof(Bt=lt)&&isNaN(Bt)&&("enum"===St.type?St.options.hasOwnProperty(Bt)||(Bt=et(Bt,["select"])):"number"===St.type||"boolean"===St.type?Bt=et(Bt,["input","select"]):"image"===St.type&&(Bt=et(Bt,["canvas","img","video"]))),pt(Bt,"HTMLInputElement")||pt(Bt,"HTMLSelectElement")?(cr=Bt.value,on&&on.element!==Bt&&(on.element.removeEventListener("change",on.listener,!0),on.element.removeEventListener("input",on.listener,!0),delete ee.inputElements[wt],on=null),on||(on={element:Bt,listener:(un=Bt,function(){var Vt,zt;zt=ee.setInput(wt,Vt="checkbox"===Bt.type?Bt.checked:un.value),"color"===Bt.type&&(zt=Oe(zt)),zt!==Vt&&(un.value=zt)})},ee.inputElements[wt]=on,"range"===Bt.type&&Bt.addEventListener("input",on.listener,!0),Bt.addEventListener("change",on.listener,!0)),on&&"checkbox"===Bt.type&&(cr=Bt.checked)):(on&&(on.element.removeEventListener("change",on.listener,!0),on.element.removeEventListener("input",on.listener,!0),delete ee.inputElements[wt]),cr=Bt),ee.setInput(wt,cr)}})}function Tt(At){return function(){At.apply(ee,arguments)&&ee.setTransformDirty()}}for(K in Object.defineProperties(this,{transform:{enumerable:!0,configurable:!0,get:function(){return ee.hook}},title:{enumerable:!0,configurable:!0,get:function(){return ee.plugin.title||ee.hook}},width:{enumerable:!0,configurable:!0,get:function(){return ee.width}},height:{enumerable:!0,configurable:!0,get:function(){return ee.height}},id:{enumerable:!0,configurable:!0,get:function(){return ee.id}},source:{enumerable:!0,configurable:!0,get:function(){return ee.source&&ee.source.pub},set:function(At){ee.setSource(At)}}}),ee.methods)ee.methods.hasOwnProperty(K)&&(this[K]=Tt(ee.methods[K]));for(K in ee.inputs)ee.inputs.hasOwnProperty(K)&&Ke(K,ee.inputs[K]);this.update=function(){ee.setDirty()},this.inputs=function(At){var _t,lt,wt,St;if(wt=ee.plugin.inputs,At)return!(lt=wt[At])||lt.method?null:(_t={type:lt.type,defaultValue:lt.defaultValue,title:lt.title||At},"number"===lt.type?(_t.min=lt.min,_t.max=lt.max,_t.step=lt.step,_t.mod=lt.mod):"enum"===lt.type?_t.options=ft({},lt.options):"vector"===lt.type&&(_t.dimensions=lt.dimensions),lt.description&&(_t.description=lt.description),_t);for(St in _t={},wt)wt.hasOwnProperty(St)&&!wt[St].method&&(_t[St]=this.inputs(St));return _t},this.alias=function(At,_t){return ee.alias(At,_t),this},this.on=function(At,_t){ee.on(At,_t)},this.off=function(At,_t){ee.off(At,_t)},this.destroy=function(){var At,_t;for(At in ee.destroy(),this)this.hasOwnProperty(At)&&"isDestroyed"!==At&&"id"!==At&&((_t=Object.getOwnPropertyDescriptor(this,At)).get||_t.set||"function"!=typeof this[At]?delete this[At]:this[At]=P)},this.isDestroyed=function(){return ee.isDestroyed},this.isReady=function(){return ee.ready}},(it=function(re,K){var ee,Re,Ke,Tt,At;for(ee in this.matrix=new Float32Array(16),this.cumulativeMatrix=new Float32Array(16),this.ready=!1,this.width=1,this.height=1,this.seriously=Me,this.transformRef=c[re],this.hook=re,this.id=ye,ye++,this.options=K,this.sources=null,this.targets=[],this.inputElements={},this.inputs={},this.methods={},this.listeners={},this.texture=null,this.frameBuffer=null,this.uniforms=null,this.dirty=!0,this.transformDirty=!0,this.renderDirty=!1,this.isDestroyed=!1,this.transformed=!1,this.plugin=ft({},this.transformRef),this.transformRef.definition&&ft(this.plugin,this.transformRef.definition.call(this,K)),this.plugin.inputs)this.plugin.inputs.hasOwnProperty(ee)&&((Re=this.plugin.inputs[ee]).method&&"function"==typeof Re.method?this.methods[ee]=Re.method:"function"==typeof Re.set&&"function"==typeof Re.get&&(this.inputs[ee]=Re));for(ee in Ut(this.plugin),At=hn[re],this.plugin.inputs)this.plugin.inputs.hasOwnProperty(ee)&&"function"==typeof(Re=this.plugin.inputs[ee]).set&&"function"==typeof Re.get&&"function"!=typeof Re.method&&(Ke=Re.get.call(this),Tt=Re.validate.call(this,Tt=void 0===Re.defaultValue?Ke:Re.defaultValue,Re,Ke),At&&void 0!==At[ee]&&(Tt=Re.validate.call(this,At[ee],Re,Re.defaultValue,Tt),At[ee]=Tt),Tt!==Ke&&Re.set.call(this,Tt));ne.push(this),xe[this.id]=this,this.pub=new _e(this),Qe.push(this),x[re].push(this)}).prototype=Object.create(fe.prototype),it.prototype.constructor=it,it.prototype.setDirty=function(){this.renderDirty=!0,fe.prototype.setDirty.call(this)},it.prototype.setTransformDirty=function(){var re,K;for(this.transformDirty=!0,this.dirty=!0,this.renderDirty=!0,re=0;re<this.targets.length;re++)(K=this.targets[re]).setTransformDirty?K.setTransformDirty():K.setDirty()},it.prototype.resize=function(){var re;for(fe.prototype.resize.call(this),this.plugin.resize&&this.plugin.resize.call(this),re=0;re<this.targets.length;re++)this.targets[re].resize();this.setTransformDirty()},it.prototype.setSource=function(re){var K;if((K=Bi(re))!==this.source){if(Vi(K,this))throw new Error("Attempt to make cyclical connection.");this.source&&this.source.removeTarget(this),this.source=K,K.addTarget(this),K&&K.ready?this.setReady():this.setUnready(),this.resize()}},it.prototype.addTarget=function(re){var K;for(K=0;K<this.targets.length;K++)if(this.targets[K]===re)return;this.targets.push(re)},it.prototype.removeTarget=function(re){var K=this.targets&&this.targets.indexOf(re);K>=0&&this.targets.splice(K,1),this.targets&&this.targets.length&&this.resize()},it.prototype.setInput=function(re,K){var ee,Re,Ke;if(this.plugin.inputs.hasOwnProperty(re))return ee=this.plugin.inputs[re],Re=hn[this.hook]&&void 0!==hn[this.hook][re]?hn[this.hook][re]:ee.defaultValue,Ke=ee.get.call(this),void 0===Re&&(Re=Ke),K=ee.validate.call(this,K,ee,Re,Ke),ee.set.call(this,K)&&this.setTransformDirty(),ee.get.call(this)},it.prototype.alias=function(re,K){var ee,Re,Ke=this;if(Ye.indexOf(K)>=0)throw new Error("'"+K+"' is a reserved name and cannot be used as an alias.");return this.plugin.inputs.hasOwnProperty(re)&&(K||(K=re),Me.removeAlias(K),(ee=this.inputs[re])?(Re=Ke.inputs[re],Object.defineProperty(Me,K,{configurable:!0,enumerable:!0,get:function(){return Re.get.call(Ke)},set:function(Tt){Re.set.call(Ke,Tt)&&Ke.setTransformDirty()}})):(ee=this.methods[re])&&(Re=ee,Me[K]=function(){Re.apply(Ke,arguments)&&Ke.setTransformDirty()}),ee&&(mn[K]={node:this,input:re})),this},it.prototype.render=function(re){return this.source?(this.source.render(),this.transformDirty&&(this.transformed?this.source.cumulativeMatrix?he.multiply(this.cumulativeMatrix,this.matrix,this.source.cumulativeMatrix):he.copy(this.cumulativeMatrix,this.matrix):he.copy(this.cumulativeMatrix,this.source.cumulativeMatrix||b),this.transformDirty=!1),re&&F?(this.renderDirty&&(this.frameBuffer||(this.uniforms={resolution:[this.width,this.height]},this.frameBuffer=new gt(F,this.width,this.height)),this.uniforms.source=this.source.texture,this.uniforms.transform=this.cumulativeMatrix||b,fi(J,G,this.uniforms,this.frameBuffer.frameBuffer,this),this.renderDirty=!1),this.texture=this.frameBuffer.texture):this.texture=this.source?this.source.texture:null,this.dirty=!1,this.texture):(this.transformDirty&&(he.copy(this.cumulativeMatrix,this.matrix),this.transformDirty=!1),this.texture=null,void(this.dirty=!1))},it.prototype.readPixels=function(re,K,ee,Re,Ke){var Tt=this.gl||F;if(!F)throw new Error("Cannot read pixels until a canvas is connected");if(this.render(!0),void 0===Ke)Ke=new Uint8Array(ee*Re*4);else if(!pt(Ke,"Uint8Array"))throw new Error("Incompatible array type");return Tt.bindFramebuffer(F.FRAMEBUFFER,this.frameBuffer.frameBuffer),Tt.readPixels(re,K,ee,Re,F.RGBA,F.UNSIGNED_BYTE,Ke),Ke},it.prototype.destroy=function(){var re,K,ee,Re=this.hook;for(re in this.plugin.destroy&&"function"==typeof this.plugin.destroy&&this.plugin.destroy.call(this),delete this.effect,this.frameBuffer&&(this.frameBuffer.destroy(),delete this.frameBuffer,delete this.texture),this.inputElements)this.inputElements.hasOwnProperty(re)&&((ee=this.inputElements[re]).element.removeEventListener("change",ee.listener,!0),ee.element.removeEventListener("input",ee.listener,!0));for(this.source&&this.source.removeTarget(this);this.targets.length;)(ee=this.targets.pop())&&ee.removeSource&&ee.removeSource(this);for(K in this)this.hasOwnProperty(K)&&"id"!==K&&delete this[K];for(K in mn)mn.hasOwnProperty(K)&&(ee=mn[K]).node===this&&Me.removeAlias(K);(re=Qe.indexOf(this))>=0&&Qe.splice(re,1),(re=x[Re].indexOf(this))>=0&&x[Re].splice(re,1),fe.prototype.destroy.call(this)},it.prototype.setReady=fe.prototype.setReady,it.prototype.setUnready=fe.prototype.setUnready,it.prototype.on=fe.prototype.on,it.prototype.off=fe.prototype.off,it.prototype.emit=fe.prototype.emit,Y=pt(Y,"HTMLCanvasElement")?{canvas:Y}:Y||{},this.effect=function(re,K){if(!f[re])throw new Error("Unknown effect: "+re);return new Ee(re,K).pub},this.source=function(re,K,ee){return Bi(re,K,ee).pub},this.transform=function(re,K){if("string"!=typeof re&&(K=re,re=!1),re){if(!c[re])throw new Error("Unknown transform: "+re)}else if(!c[re=Y&&Y.defaultTransform||"2d"])throw new Error("No transform specified");return new it(re,K).pub},this.target=function(re,K,ee){var Re,Ke,Tt;for(re&&"string"==typeof re&&!d[re]&&(Ke=document.querySelector(re)),("string"!=typeof re||!K&&0!==K||Ke)&&(ee&&"object"==typeof ee||(ee=K),K=Ke||re,re=null),"string"==typeof K&&isNaN(K)&&(K=document.querySelector(K)),Tt=0;Tt<$e.length;Tt++)if(Re=$e[Tt],(!re||re===Re.hook)&&(Re.target===K||Re.compare&&Re.compare(K,ee)))return Re.pub;return(Re=new nt(re,K,ee)).pub},this.aliases=function(){return Object.keys(mn)},this.removeAlias=function(re){mn[re]&&(delete this[re],delete mn[re])},this.defaults=function(re,K){var ee;if(re)if("object"!=typeof re)null===K?delete hn[re]:"object"==typeof K&&(hn[re]=ft({},K));else for(ee in re)re.hasOwnProperty(ee)&&this.defaults(ee,re[ee]);else if(null===re)for(ee in hn)hn.hasOwnProperty(ee)&&delete hn[ee]},this.go=function(re,K){var ee;for("function"==typeof re&&Lt.indexOf(re)<0&&Lt.push(re),"function"==typeof K&&Yn.indexOf(K)<0&&Yn.push(K),ai=!0,ee=0;ee<$e.length;ee++)$e[ee].go();we||!Lt.length&&!Yn.length||Mi()},this.stop=function(){Lt.length=0,Yn.length=0,ie(we),we=0},this.render=function(){var re;for(re=0;re<$e.length;re++)$e[re].render(Y)},this.destroy=function(){for(var re,K;ne.length;)ne[0].pub.destroy();for(re in this)this.hasOwnProperty(re)&&"isDestroyed"!==re&&"id"!==re&&((K=Object.getOwnPropertyDescriptor(this,re)).get||K.set||"function"!=typeof this[re]?delete this[re]:this[re]=P);Me=null,Ae=[],$e=[],rt=[],ne=[],Lt.length=0,Yn.length=0,ie(we),we=0,tt=!0},this.isDestroyed=function(){return tt},this.incompatible=function(re){var K,ee,Re;if(Re=at.incompatible(re))return Re;if(!re){for(K in _)if(_.hasOwnProperty(K)&&_[K].length&&(ee=f[K])&&"function"==typeof ee.compatible&&!ee.compatible.call(this))return"plugin-"+K;for(K in D)if(D.hasOwnProperty(K)&&D[K].length&&(ee=a[K])&&"function"==typeof ee.compatible&&!ee.compatible.call(this))return"source-"+K}return!1},this.isNode=function(re){var K;return!(!re||!(K=xe[re.id])||K.isDestroyed)},this.isSource=function(re){return this.isNode(re)&&re instanceof q},this.isEffect=function(re){return this.isNode(re)&&re instanceof Wt},this.isTransform=function(re){return this.isNode(re)&&re instanceof _e},this.isTarget=function(re){return this.isNode(re)&&re instanceof ve},Object.defineProperties(this,{id:{enumerable:!0,configurable:!0,get:function(){return Le}}}),this.defaults(Y.defaults)}window.addEventListener("message",function(Y){Y.source===window&&"seriously-timeout-message"===Y.data&&(Y.stopPropagation(),h.length>0&&h.shift()())},!0),gt.prototype.resize=function(Y,Se){var F=this.gl;this.width===Y&&this.height===Se||(this.width=Y,this.height=Se,F&&(F.bindTexture(F.TEXTURE_2D,this.texture),F.bindFramebuffer(F.FRAMEBUFFER,this.frameBuffer),F.bindRenderbuffer(F.RENDERBUFFER,this.renderBuffer),F.texImage2D(F.TEXTURE_2D,0,F.RGBA,Y,Se,0,F.RGBA,F.UNSIGNED_BYTE,null),F.renderbufferStorage(F.RENDERBUFFER,F.DEPTH_COMPONENT16,Y,Se),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,this.texture,0),F.bindTexture(F.TEXTURE_2D,null),F.bindRenderbuffer(F.RENDERBUFFER,null),F.bindFramebuffer(F.FRAMEBUFFER,null)))},gt.prototype.destroy=function(){var Y=this.gl;Y&&(Y.deleteFramebuffer(this.frameBuffer),Y.deleteRenderbuffer(this.renderBuffer),this.ownTexture&&Y.deleteTexture(this.texture)),delete this.frameBuffer,delete this.renderBuffer,delete this.texture,delete this.gl},Gt.prototype.use=function(){this.gl.useProgram(this.program)},at.incompatible=function(Y){var Se,F,U;if(void 0===C&&((Se=document.createElement("canvas"))&&Se.getContext?window.WebGLRenderingContext?(F=$t())||(C="context"):C="webgl":C="canvas"),C)return C;if(Y){if((U=f[Y])&&"function"==typeof U.compatible&&!U.compatible(F))return"plugin-"+Y;if((U=a[Y])&&"function"==typeof U.compatible&&!U.compatible(F))return"source-"+Y}return!1},at.plugin=function(Y,Se,F){var U;if(f[Y])at.logger.warn("Effect ["+Y+"] already loaded");else if(void 0===F&&"object"==typeof Se&&(F=Se),F)return U=ft({},F),"function"==typeof Se&&(U.definition=Se),U.reserved=ue,U.inputs&&Ut(U),U.title||(U.title=Y),f[Y]=U,_[Y]=[],U},at.removePlugin=function(Y){var Se;if(!Y)return this;if(!f[Y])return this;if(Se=_[Y]){for(;Se.length;)Se.shift().destroy();delete _[Y]}return delete f[Y],this},at.source=function(Y,Se,F){var U;if(a[Y])at.logger.warn("Source ["+Y+"] already loaded");else if(void 0===F&&"object"==typeof Se&&(F=Se),F||Se)return U=ft({},F),"function"==typeof Se&&(U.definition=Se),U.title||(U.title=Y),a[Y]=U,D[Y]=[],U},at.removeSource=function(Y){var Se;if(!Y)return this;if(!a[Y])return this;if(Se=D[Y]){for(;Se.length;)Se.shift().destroy();delete D[Y]}return delete a[Y],this},at.transform=function(Y,Se,F){var U;if(c[Y])at.logger.warn("Transform ["+Y+"] already loaded");else if(void 0===F&&"object"==typeof Se&&(F=Se),F||Se)return U=ft({},F),"function"==typeof Se&&(U.definition=Se),U.reserved=Fe,U.inputs&&Ut(U),U.title||(U.title=Y),c[Y]=U,x[Y]=[],U},at.removeTransform=function(Y){var Se;if(!Y)return this;if(!c[Y])return this;if(Se=x[Y]){for(;Se.length;)Se.shift().destroy();delete x[Y]}return delete c[Y],this},at.target=function(Y,Se,F){var U;if(d[Y])at.logger.warn("Target ["+Y+"] already loaded");else if(void 0===F&&"object"==typeof Se&&(F=Se),F||Se)return U=ft({},F),"function"==typeof Se&&(U.definition=Se),U.title||(U.title=Y),d[Y]=U,I[Y]=[],U},at.removeTarget=function(Y){var Se;if(!Y)return this;if(!d[Y])return this;if(Se=I[Y]){for(;Se.length;)Se.shift().destroy();delete I[Y]}return delete d[Y],this},at.inputValidators={color:function(Y,Se,F,U){var G,J,fe,be;if(J=U||[],"string"==typeof Y){if((fe=B.exec(Y))&&fe.length){if(fe.length<3)return J[0]=J[1]=J[2]=J[3]=0,J;for(J[3]=1,be=0;be<3;be++)J[be]=parseFloat(fe[be+2])/255;return isNaN(fe[6])||(J[3]=parseFloat(fe[6])),"hsl"===fe[1].toLowerCase()?Ht(J[0],J[1],J[2],J[3],J):J}if((fe=V.exec(Y))&&fe.length)return 3===(G=fe[1]).length?(J[0]=parseInt(G[0],16)/15,J[1]=parseInt(G[1],16)/15,J[2]=parseInt(G[2],16)/15,J[3]=1):4===G.length?(J[0]=parseInt(G[0],16)/15,J[1]=parseInt(G[1],16)/15,J[2]=parseInt(G[2],16)/15,J[3]=parseInt(G[3],16)/15):6===G.length?(J[0]=parseInt(G.substr(0,2),16)/255,J[1]=parseInt(G.substr(2,2),16)/255,J[2]=parseInt(G.substr(4,2),16)/255,J[3]=1):8===G.length?(J[0]=parseInt(G.substr(0,2),16)/255,J[1]=parseInt(G.substr(2,2),16)/255,J[2]=parseInt(G.substr(4,2),16)/255,J[3]=parseInt(G.substr(6,2),16)/255):J[0]=J[1]=J[2]=J[3]=0,J;if(fe=k[Y.toLowerCase()]){for(be=0;be<4;be++)J[be]=fe[be];return J}return w||(w=document.createElement("canvas").getContext("2d")),w.fillStyle=Y,(G=w.fillStyle)&&"#000000"!==G?at.inputValidators.color(G,Se,F,U):(J[0]=J[1]=J[2]=J[3]=0,J)}if(ge(Y)){if((J=Y).length<3)return J[0]=J[1]=J[2]=J[3]=0,J;for(be=0;be<3;be++)if(isNaN(J[be]))return J[0]=J[1]=J[2]=J[3]=0,J;return J.length<4&&J.push(1),J}if("number"==typeof Y)return J[0]=J[1]=J[2]=Y,J[3]=1,J;if("object"==typeof Y){for(be=0;be<4;be++)J[be]=null===Y[G=X[be]]||isNaN(Y[G])?3===be?1:0:Y[G];return J}return J[0]=J[1]=J[2]=J[3]=0,J},number:function(Y,Se,F){return Y=parseFloat(Y),isNaN(Y)?F||0:(Se.mod&&(Y-=Se.mod*Math.floor(Y/Se.mod)),Y<Se.min?Se.min:Y>Se.max?Se.max:Se.step?Math.round(Y/Se.step)*Se.step:Y)},enum:function(Y,Se,F){var U=Se.options||[];return"string"==typeof Y?Y=Y.toLowerCase():"number"==typeof Y?Y=Y.toString():Y||(Y=""),U.hasOwnProperty(Y)?Y:F||""},vector:function(Y,Se,F,U){var G,J,fe,be=Se.dimensions||4;if(G=U||[],ge(Y)){for(J=0;J<be;J++)G[J]=Y[J]||0;return G}if("object"==typeof Y){for(J=0;J<be;J++)void 0===Y[fe=j[J]]&&(fe=X[J]),G[J]=Y[fe]||0;return G}for(Y=parseFloat(Y)||0,J=0;J<be;J++)G[J]=Y;return G},boolean:function(Y){return!(!Y||Y&&Y.toLowerCase&&"false"===Y.toLowerCase())},string:function(Y){return"string"==typeof Y?Y:0===Y||Y?Y.toString?Y.toString():String(Y):""}},at.prototype.effects=at.effects=function(){var Y,Se,F,U,G,J={};for(Y in f)if(f.hasOwnProperty(Y)){for(G in F={title:(Se=f[Y]).title||Y,description:Se.description||"",inputs:{}},Se.inputs)Se.inputs.hasOwnProperty(G)&&(F.inputs[G]={type:(U=Se.inputs[G]).type,defaultValue:U.defaultValue,step:U.step,min:U.min,max:U.max,mod:U.mod,minCount:U.minCount,maxCount:U.maxCount,dimensions:U.dimensions,title:U.title||G,description:U.description||"",options:U.options||[]});J[Y]=F}return J},window.Float32Array&&(b=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])),window.Seriously&&"object"==typeof window.Seriously&&function(){var Y;for(Y in window.Seriously)window.Seriously.hasOwnProperty(Y)&&"plugin"!==Y&&"object"==typeof window.Seriously[Y]&&at.plugin(Y,window.Seriously[Y])}(),at.logger={log:Rt("log"),info:Rt("info"),warn:Rt("warn"),error:Rt("error")},at.util={mat4:he,checkSource:function(Y){var Se,F,U,G;if(!(Se=et(Y,["img","canvas","video"])))return!1;if(!(F=document.createElement("canvas")))return at.logger.warn("Browser does not support canvas or Seriously.js"),!1;if(0===Se.naturalWidth&&"IMG"===Se.tagName)return at.logger.warn("Image not loaded"),!1;if(0===Se.readyState&&0===Se.videoWidth&&"VIDEO"===Se.tagName)return at.logger.warn("Video not loaded"),!1;if(U=$t()){(G=U.createTexture())||at.logger.error("Test WebGL context has been lost"),U.bindTexture(U.TEXTURE_2D,G);try{U.texImage2D(U.TEXTURE_2D,0,U.RGBA,U.RGBA,U.UNSIGNED_BYTE,Se)}catch(J){return J.code===window.DOMException.SECURITY_ERR?at.logger.log("Unable to access cross-domain image"):at.logger.error("Error storing image to texture: "+J.message),U.deleteTexture(G),!1}U.deleteTexture(G)}else{U=F.getContext("2d");try{U.drawImage(Se,0,0),U.getImageData(0,0,1,1)}catch(J){return J.code===window.DOMException.SECURITY_ERR?at.logger.log("Unable to access cross-domain image"):at.logger.error("Error drawing image to canvas: "+J.message),!1}}return!0},hslToRgb:Ht,colors:k,setTimeoutZero:Je,ShaderProgram:Gt,FrameBuffer:gt,requestAnimationFrame:Pe,shader:{makeNoise:"float makeNoise(float u, float v, float timer) {\n\tfloat x = u * v * mod(timer * 1000.0, 100.0);\n\tx = mod(x, 13.0) * mod(x, 127.0);\n\tfloat dx = mod(x, 0.01);\n\treturn clamp(0.1 + dx * 100.0, 0.0, 1.0);\n}\n",random:"#ifndef RANDOM\n#define RANDOM\nfloat random(vec2 n) {\n\treturn 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453);\n}\n#endif\n"}},at.source("video",function(Y,Se,F){var U,G,J=this,fe=!1,be=!1,Ee=!1,it=0;function nt(){Y.removeEventListener("loadedmetadata",nt,!0),fe||(Y.videoWidth?(J.width===Y.videoWidth&&J.height===Y.videoHeight||(J.width=Y.videoWidth,J.height=Y.videoHeight,J.resize()),be&&J.setReady()):(be=!0,setTimeout(nt,50)))}function Wt(){Ee=!0}function q(){Ee=!1,J.setDirty()}if(pt(Y,"HTMLVideoElement"))return Y.readyState?nt():(be=!0,Y.addEventListener("loadedmetadata",nt,!0)),Y.addEventListener("seeking",Wt,!1),Y.addEventListener("seeked",q,!1),{deferTexture:be,source:Y,render:function _e(ve){var we;if(it=Y.currentTime,!Y.videoHeight||!Y.videoWidth)return!1;v?(G||(G=document.createElement("canvas").getContext("2d"),(U=G.canvas).width=J.width,U.height=J.height),we=U,G.drawImage(Y,0,0,J.width,J.height)):we=Y,ve.bindTexture(ve.TEXTURE_2D,J.texture),ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,J.flip),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{if(ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,ve.RGBA,ve.UNSIGNED_BYTE,we),void 0===v){if(ve.getError()===ve.INVALID_VALUE)return v=!0,_e(ve);v=!1}return!0}catch(Le){Le.code===window.DOMException.SECURITY_ERR?(J.allowRefresh=!1,at.logger.error("Unable to access cross-domain image")):at.logger.error("Error rendering video source",Le)}return!1},checkDirty:function(){return!Ee&&Y.currentTime!==it},compare:function(_e){return J.source===_e},destroy:function(){fe=!0,Y.removeEventListener("seeking",Wt,!1),Y.removeEventListener("seeked",q,!1),Y.removeEventListener("loadedmetadata",nt,!0)}}},{title:"Video"}),at.transform("2d",function(Y){var Se=this,F=!(Y&&Y.radians),U=0,G=0,J=1,fe=1,be=0,Ee=0,it=0,nt=0,Wt=0;function q(){var _e,ve,we,Le,Me,ne,xe,ye,Ae,$e,Qe,rt=Se.matrix;function mn(Lt,Yn){rt[12]=rt[0]*Lt+rt[4]*Yn+rt[12],rt[13]=rt[1]*Lt+rt[5]*Yn+rt[13],rt[14]=rt[2]*Lt+rt[6]*Yn+rt[14],rt[15]=rt[3]*Lt+rt[7]*Yn+rt[15]}be||Ee||it||nt||Wt||1!==J||1!==fe?(he.identity(rt),mn(be+U,Ee+G),nt&&(rt[4]=nt/Se.width),Wt&&(rt[1]=Wt/Se.height),it&&(Le=rt[0],Me=rt[1],ne=rt[2],xe=rt[3],ye=rt[4],Ae=rt[5],$e=rt[6],Qe=rt[7],_e=-(F?it*Math.PI/180:it),ve=Math.sin(_e),we=Math.cos(_e),rt[0]=Le*we+ye*ve,rt[1]=Me*we+Ae*ve,rt[2]=ne*we+$e*ve,rt[3]=xe*we+Qe*ve,rt[4]=ye*we-Le*ve,rt[5]=Ae*we-Me*ve,rt[6]=$e*we-ne*ve,rt[7]=Qe*we-xe*ve),1!==J&&(rt[0]*=J,rt[1]*=J,rt[2]*=J,rt[3]*=J),1!==fe&&(rt[4]*=fe,rt[5]*=fe,rt[6]*=fe,rt[7]*=fe),mn(-U,-G),Se.transformed=!0):Se.transformed=!1}return{inputs:{reset:{method:function(){return U=0,G=0,J=1,fe=1,be=0,Ee=0,it=0,nt=0,Wt=0,!!Se.transformed&&(Se.transformed=!1,!0)}},translate:{method:function(_e,ve){return isNaN(_e)&&(_e=be),isNaN(ve)&&(ve=Ee),(_e!==be||ve!==Ee)&&(be=_e,Ee=ve,q(),!0)},type:["number","number"]},translateX:{get:function(){return be},set:function(_e){return _e!==be&&(be=_e,q(),!0)},type:"number"},translateY:{get:function(){return Ee},set:function(_e){return _e!==Ee&&(Ee=_e,q(),!0)},type:"number"},rotation:{get:function(){return it},set:function(_e){return _e!==it&&(it=parseFloat(_e),q(),!0)},type:"number"},center:{method:function(_e,ve){return isNaN(_e)&&(_e=U),isNaN(ve)&&(ve=G),(_e!==U||ve!==G)&&(U=_e,G=ve,q(),!0)},type:["number","number"]},centerX:{get:function(){return U},set:function(_e){return _e!==U&&(U=_e,q(),!0)},type:"number"},centerY:{get:function(){return G},set:function(_e){return _e!==G&&(G=_e,q(),!0)},type:"number"},skew:{method:function(_e,ve){return isNaN(_e)&&(_e=nt),isNaN(ve)&&(ve=Wt),(_e!==nt||ve!==Wt)&&(nt=_e,Wt=ve,q(),!0)},type:["number","number"]},skewX:{get:function(){return nt},set:function(_e){return _e!==nt&&(nt=_e,q(),!0)},type:"number"},skewY:{get:function(){return Wt},set:function(_e){return _e!==Wt&&(Wt=_e,q(),!0)},type:"number"},scale:{method:function(_e,ve){var we,Le;if(we=isNaN(_e)?J:_e,isNaN(ve)){if(isNaN(_e))return!1;Le=we}else Le=ve;return(we!==J||Le!==fe)&&(J=we,fe=Le,q(),!0)},type:["number","number"]},scaleX:{get:function(){return J},set:function(_e){return _e!==J&&(J=_e,q(),!0)},type:"number"},scaleY:{get:function(){return fe},set:function(_e){return _e!==fe&&(fe=_e,q(),!0)},type:"number"}}}},{title:"2D Transform",description:"Translate, Rotate, Scale, Skew"}),at.transform("flip",function(){var Y=this,Se=!0;function F(){var U=Y.matrix;Se?(U[0]=-1,U[5]=1):(U[0]=1,U[5]=-1)}return he.identity(Y.matrix),F(),Y.transformDirty=!0,Y.transformed=!0,{inputs:{direction:{get:function(){return Se?"horizontal":"vertical"},set:function(U){var G;return(G="vertical"!==U)!==Se&&(Se=G,F(),!0)},type:"string"}}}},{title:"Flip",description:"Flip Horizontal/Vertical"}),at.transform("reformat",function(){var Y,Se,F=this,U="contain";function G(){var be,Ee,it,nt,Wt=F.matrix,q=Y||F.width,_e=Se||F.height,ve=F.source,we=ve&&ve.width||1,Le=ve&&ve.height||1;"distort"===U||q===we&&_e===Le?F.transformed=!1:(it=we/Le,nt=q/_e,"none"===U?(be=we/q,Ee=Le/_e):"width"===U||"contain"===U&&nt<=it?(be=1,Ee=nt/it):"height"===U||"contain"===U&&nt>it?(be=it/nt,Ee=1):nt>it?(be=1,Ee=nt/it):(be=it/nt,Ee=1),1!==be||1!==Ee?(he.identity(Wt),1!==be&&(Wt[0]*=be,Wt[1]*=be,Wt[2]*=be,Wt[3]*=be),1!==Ee&&(Wt[4]*=Ee,Wt[5]*=Ee,Wt[6]*=Ee,Wt[7]*=Ee),F.transformed=!0):F.transformed=!1)}function J(){return Y||F.source&&F.source.width||1}function fe(){return Se||F.source&&F.source.height||1}return this.resize=function(){var be,Ee=J(),it=fe();if(this.width!==Ee||this.height!==it)for(this.width=Ee,this.height=it,this.uniforms&&this.uniforms.resolution&&(this.uniforms.resolution[0]=Ee,this.uniforms.resolution[1]=it),this.frameBuffer&&this.frameBuffer.resize&&this.frameBuffer.resize(Ee,it),be=0;be<this.targets.length;be++)this.targets[be].resize();this.setTransformDirty(),G()},{inputs:{width:{get:J,set:function(be){return(be=Math.floor(be))===Y||(Y=be,this.resize()),!1},type:"number"},height:{get:fe,set:function(be){return(be=Math.floor(be))===Se||(Se=be,this.resize()),!1},type:"number"},mode:{get:function(){return U},set:function(be){return be!==U&&(U=be,G(),!0)},type:"enum",options:["cover","contain","distort","width","height","none"]}}}},{title:"Reformat",description:"Change output dimensions"}),p=["precision mediump float;","attribute vec4 position;","attribute vec2 texCoord;","uniform vec2 resolution;","uniform mat4 transform;","varying vec2 vTexCoord;","void main(void) {","\tvec4 screenPosition = vec4(position.xy * resolution / 2.0, position.z, position.w);","\tscreenPosition = transform * screenPosition;","\tgl_Position.xy = screenPosition.xy * 2.0 / resolution;","\tgl_Position.z = screenPosition.z * 2.0 / (resolution.x / resolution.y);","\tgl_Position.w = screenPosition.w;","\tvTexCoord = texCoord;","}\n"].join("\n"),m=["precision mediump float;","varying vec2 vTexCoord;","uniform sampler2D source;","void main(void) {","\t\tgl_FragColor = texture2D(source, vTexCoord);","}"].join("\n"),at.util.shader.noiseHelpers="#ifndef NOISE_HELPERS\n#define NOISE_HELPERS\nvec2 mod289(vec2 x) {\n\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec3 mod289(vec3 x) {\n\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 mod289(vec4 x) {\n\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec3 permute(vec3 x) {\n\treturn mod289(((x*34.0)+1.0)*x);\n}\nvec4 permute(vec4 x) {\n\treturn mod289(((x*34.0)+1.0)*x);\n}\nvec4 taylorInvSqrt(vec4 r) {\n\treturn 1.79284291400159 - 0.85373472095314 * r;\n}\nfloat taylorInvSqrt(float r) {\n\treturn 1.79284291400159 - 0.85373472095314 * r;\n}\n#endif\n",at.util.shader.snoise2d="#ifndef NOISE2D\n#define NOISE2D\nfloat snoise(vec2 v) {\n\tconst vec4 C = vec4(0.211324865405187, // (3.0-sqrt(3.0))/6.0\n\t\t0.366025403784439, // 0.5*(sqrt(3.0)-1.0)\n\t\t-0.577350269189626, // -1.0 + 2.0 * C.x\n\t\t0.024390243902439); // 1.0 / 41.0\n\tvec2 i = floor(v + dot(v, C.yy));\n\tvec2 x0 = v - i + dot(i, C.xx);\n\tvec2 i1;\n\t//i1.x = step(x0.y, x0.x); // x0.x > x0.y ? 1.0 : 0.0\n\t//i1.y = 1.0 - i1.x;\n\ti1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\t// x0 = x0 - 0.0 + 0.0 * C.xx ;\n\t// x1 = x0 - i1 + 1.0 * C.xx ;\n\t// x2 = x0 - 1.0 + 2.0 * C.xx ;\n\tvec4 x12 = x0.xyxy + C.xxzz;\n\tx12.xy -= i1;\n\ti = mod289(i); // Avoid truncation effects in permutation\n\tvec3 p = permute(permute(i.y + vec3(0.0, i1.y, 1.0)) + i.x + vec3(0.0, i1.x, 1.0));\n\tvec3 m = max(0.5 - vec3(dot(x0, x0), dot(x12.xy, x12.xy), dot(x12.zw, x12.zw)), 0.0);\n\tm = m*m ;\n\tm = m*m ;\n\tvec3 x = 2.0 * fract(p * C.www) - 1.0;\n\tvec3 h = abs(x) - 0.5;\n\tvec3 ox = floor(x + 0.5);\n\tvec3 a0 = x - ox;\n\tm *= 1.79284291400159 - 0.85373472095314 * (a0*a0 + h*h);\n\tvec3 g;\n\tg.x = a0.x * x0.x + h.x * x0.y;\n\tg.yz = a0.yz * x12.xz + h.yz * x12.yw;\n\treturn 130.0 * dot(m, g);\n}\n#endif\n",at.util.shader.snoise3d="#ifndef NOISE3D\n#define NOISE3D\nfloat snoise(vec3 v) {\n\tconst vec2 C = vec2(1.0/6.0, 1.0/3.0) ;\n\tconst vec4 D = vec4(0.0, 0.5, 1.0, 2.0);\n\tvec3 i = floor(v + dot(v, C.yyy));\n\tvec3 x0 = v - i + dot(i, C.xxx) ;\n\tvec3 g = step(x0.yzx, x0.xyz);\n\tvec3 l = 1.0 - g;\n\tvec3 i1 = min(g.xyz, l.zxy);\n\tvec3 i2 = max(g.xyz, l.zxy);\n\t// x0 = x0 - 0.0 + 0.0 * C.xxx;\n\t// x1 = x0 - i1 + 1.0 * C.xxx;\n\t// x2 = x0 - i2 + 2.0 * C.xxx;\n\t// x3 = x0 - 1.0 + 3.0 * C.xxx;\n\tvec3 x1 = x0 - i1 + C.xxx;\n\tvec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n\tvec3 x3 = x0 - D.yyy; // -1.0+3.0*C.x = -0.5 = -D.y\n\ti = mod289(i);\n\tvec4 p = permute(permute(permute(\n\t\t\t\t\t\ti.z + vec4(0.0, i1.z, i2.z, 1.0))\n\t\t\t\t\t\t+ i.y + vec4(0.0, i1.y, i2.y, 1.0))\n\t\t\t\t\t\t+ i.x + vec4(0.0, i1.x, i2.x, 1.0));\n\tfloat n_ = 0.142857142857; // 1.0/7.0\n\tvec3 ns = n_ * D.wyz - D.xzx;\n\tvec4 j = p - 49.0 * floor(p * ns.z * ns.z); // mod(p, 7 * 7)\n\tvec4 x_ = floor(j * ns.z);\n\tvec4 y_ = floor(j - 7.0 * x_); // mod(j, N)\n\tvec4 x = x_ * ns.x + ns.yyyy;\n\tvec4 y = y_ * ns.x + ns.yyyy;\n\tvec4 h = 1.0 - abs(x) - abs(y);\n\tvec4 b0 = vec4(x.xy, y.xy);\n\tvec4 b1 = vec4(x.zw, y.zw);\n\t//vec4 s0 = vec4(lessThan(b0, 0.0)) * 2.0 - 1.0;\n\t//vec4 s1 = vec4(lessThan(b1, 0.0)) * 2.0 - 1.0;\n\tvec4 s0 = floor(b0) * 2.0 + 1.0;\n\tvec4 s1 = floor(b1) * 2.0 + 1.0;\n\tvec4 sh = -step(h, vec4(0.0));\n\tvec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy ;\n\tvec4 a1 = b1.xzyw + s1.xzyw * sh.zzww ;\n\tvec3 p0 = vec3(a0.xy, h.x);\n\tvec3 p1 = vec3(a0.zw, h.y);\n\tvec3 p2 = vec3(a1.xy, h.z);\n\tvec3 p3 = vec3(a1.zw, h.w);\n\tvec4 norm = taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));\n\tp0 *= norm.x;\n\tp1 *= norm.y;\n\tp2 *= norm.z;\n\tp3 *= norm.w;\n\tvec4 m = max(0.6 - vec4(dot(x0, x0), dot(x1, x1), dot(x2, x2), dot(x3, x3)), 0.0);\n\tm = m * m;\n\treturn 42.0 * dot(m*m, vec4(dot(p0, x0), dot(p1, x1), dot(p2, x2), dot(p3, x3)));\n}\n#endif\n",at.util.shader.snoise4d="#ifndef NOISE4D\n#define NOISE4D\nvec4 grad4(float j, vec4 ip)\n\t{\n\tconst vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n\tvec4 p, s;\n\n\tp.xyz = floor(fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n\tp.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n\ts = vec4(lessThan(p, vec4(0.0)));\n\tp.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www;\n\n\treturn p;\n\t}\n\n#define F4 0.309016994374947451\n\nfloat snoise(vec4 v)\n\t{\n\tconst vec4 C = vec4(0.138196601125011, // (5 - sqrt(5))/20 G4\n\t\t\t\t\t\t0.276393202250021, // 2 * G4\n\t\t\t\t\t\t0.414589803375032, // 3 * G4\n\t\t\t\t\t\t-0.447213595499958); // -1 + 4 * G4\n\n\tvec4 i = floor(v + dot(v, vec4(F4)));\n\tvec4 x0 = v - i + dot(i, C.xxxx);\n\n\n\tvec4 i0;\n\tvec3 isX = step(x0.yzw, x0.xxx);\n\tvec3 isYZ = step(x0.zww, x0.yyz);\n\ti0.x = isX.x + isX.y + isX.z;\n\ti0.yzw = 1.0 - isX;\n\ti0.y += isYZ.x + isYZ.y;\n\ti0.zw += 1.0 - isYZ.xy;\n\ti0.z += isYZ.z;\n\ti0.w += 1.0 - isYZ.z;\n\n\tvec4 i3 = clamp(i0, 0.0, 1.0);\n\tvec4 i2 = clamp(i0 - 1.0, 0.0, 1.0);\n\tvec4 i1 = clamp(i0 - 2.0, 0.0, 1.0);\n\n\tvec4 x1 = x0 - i1 + C.xxxx;\n\tvec4 x2 = x0 - i2 + C.yyyy;\n\tvec4 x3 = x0 - i3 + C.zzzz;\n\tvec4 x4 = x0 + C.wwww;\n\n\ti = mod289(i);\n\tfloat j0 = permute(permute(permute(permute(i.w) + i.z) + i.y) + i.x);\n\tvec4 j1 = permute(permute(permute(permute (\n\t\t\t\t\ti.w + vec4(i1.w, i2.w, i3.w, 1.0))\n\t\t\t\t\t+ i.z + vec4(i1.z, i2.z, i3.z, 1.0))\n\t\t\t\t\t+ i.y + vec4(i1.y, i2.y, i3.y, 1.0))\n\t\t\t\t\t+ i.x + vec4(i1.x, i2.x, i3.x, 1.0));\n\n\tvec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\n\n\tvec4 p0 = grad4(j0, ip);\n\tvec4 p1 = grad4(j1.x, ip);\n\tvec4 p2 = grad4(j1.y, ip);\n\tvec4 p3 = grad4(j1.z, ip);\n\tvec4 p4 = grad4(j1.w, ip);\n\n\tvec4 norm = taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));\n\tp0 *= norm.x;\n\tp1 *= norm.y;\n\tp2 *= norm.z;\n\tp3 *= norm.w;\n\tp4 *= taylorInvSqrt(dot(p4, p4));\n\n\tvec3 m0 = max(0.6 - vec3(dot(x0, x0), dot(x1, x1), dot(x2, x2)), 0.0);\n\tvec2 m1 = max(0.6 - vec2(dot(x3, x3), dot(x4, x4)), 0.0);\n\tm0 = m0 * m0;\n\tm1 = m1 * m1;\n\treturn 49.0 * (dot(m0*m0, vec3(dot(p0, x0), dot(p1, x1), dot(p2, x2)))\n\t\t\t\t\t\t\t+ dot(m1*m1, vec2(dot(p3, x3), dot(p4, x4)))) ;\n}\n#endif\n";const vn=at},6303:(z,u,g)=>{"use strict";g.r(u),g(6551).default.plugin("chroma",{shader:function(S,w){return w.vertex=["precision mediump float;","attribute vec4 position;","attribute vec2 texCoord;","uniform vec2 resolution;","uniform mat4 transform;","varying vec2 vTexCoord;","uniform vec4 screen;","uniform float balance;","varying float screenSat;","varying vec3 screenPrimary;","void main(void) {","\tfloat fmin = min(min(screen.r, screen.g), screen.b);","\tfloat fmax = max(max(screen.r, screen.g), screen.b);","\tfloat secondaryComponents;","\tscreenPrimary = step(fmax, screen.rgb);","\tsecondaryComponents = dot(1.0 - screenPrimary, screen.rgb);","\tscreenSat = fmax - mix(secondaryComponents - fmin, secondaryComponents / 2.0, balance);","\tvec4 screenPosition = vec4(position.xy * resolution / 2.0, position.z, position.w);","\tscreenPosition = transform * screenPosition;","\tgl_Position = screenPosition;","\tgl_Position.xy = screenPosition.xy * 2.0 / resolution;","\tgl_Position.z = screenPosition.z * 2.0 / (resolution.x / resolution.y);","\tvTexCoord = texCoord;","}"].join("\n"),w.fragment=[this.inputs.mask?"#define MASK":"","precision mediump float;","varying vec2 vTexCoord;","uniform sampler2D source;","uniform vec4 screen;","uniform float screenWeight;","uniform float balance;","uniform float clipBlack;","uniform float clipWhite;","uniform bool mask;","varying float screenSat;","varying vec3 screenPrimary;","void main(void) {","\tfloat pixelSat, secondaryComponents;","\tvec4 sourcePixel = texture2D(source, vTexCoord);","\tfloat fmin = min(min(sourcePixel.r, sourcePixel.g), sourcePixel.b);","\tfloat fmax = max(max(sourcePixel.r, sourcePixel.g), sourcePixel.b);","\tvec3 pixelPrimary = step(fmax, sourcePixel.rgb);","\tsecondaryComponents = dot(1.0 - pixelPrimary, sourcePixel.rgb);","\tpixelSat = fmax - mix(secondaryComponents - fmin, secondaryComponents / 2.0, balance);","\tfloat diffPrimary = dot(abs(pixelPrimary - screenPrimary), vec3(1.0));","\tfloat solid = step(1.0, step(pixelSat, 0.1) + step(fmax, 0.1) + diffPrimary);","\tfloat alpha = max(0.0, 1.0 - pixelSat / screenSat);","\talpha = smoothstep(clipBlack, clipWhite, alpha);","\tvec4 semiTransparentPixel = vec4((sourcePixel.rgb - (1.0 - alpha) * screen.rgb * screenWeight) / max(0.00001, alpha), alpha);","\tvec4 pixel = mix(semiTransparentPixel, sourcePixel, solid);","#ifdef MASK","\tgl_FragColor = vec4(vec3(pixel.a), 1.0);","#else","\tgl_FragColor = pixel;","#endif","}"].join("\n"),w},inPlace:!0,inputs:{source:{type:"image",uniform:"source"},screen:{type:"color",uniform:"screen",defaultValue:[.25882352941176473,.7647058823529411,.12156862745098039,1]},weight:{type:"number",uniform:"screenWeight",defaultValue:1,min:0},balance:{type:"number",uniform:"balance",defaultValue:1,min:0,max:1},clipBlack:{type:"number",uniform:"clipBlack",defaultValue:0,min:0,max:1},clipWhite:{type:"number",uniform:"clipWhite",defaultValue:1,min:0,max:1},mask:{type:"boolean",defaultValue:!1,uniform:"mask",shaderDirty:!0}},title:"Chroma Key",description:""})},9742:(z,u)=>{"use strict";u.byteLength=function(m){var f=v(m),a=f[1];return 3*(f[0]+a)/4-a},u.toByteArray=function(m){var f,c,R,a=v(m),d=a[0],h=a[1],_=new w(3*(d+(R=h))/4-R),x=0,D=h>0?d-4:d;for(c=0;c<D;c+=4)f=S[m.charCodeAt(c)]<<18|S[m.charCodeAt(c+1)]<<12|S[m.charCodeAt(c+2)]<<6|S[m.charCodeAt(c+3)],_[x++]=f>>16&255,_[x++]=f>>8&255,_[x++]=255&f;return 2===h&&(f=S[m.charCodeAt(c)]<<2|S[m.charCodeAt(c+1)]>>4,_[x++]=255&f),1===h&&(f=S[m.charCodeAt(c)]<<10|S[m.charCodeAt(c+1)]<<4|S[m.charCodeAt(c+2)]>>2,_[x++]=f>>8&255,_[x++]=255&f),_},u.fromByteArray=function(m){for(var f,c=m.length,a=c%3,d=[],h=16383,_=0,x=c-a;_<x;_+=h)d.push(p(m,_,_+h>x?x:_+h));return 1===a?d.push(g[(f=m[c-1])>>2]+g[f<<4&63]+"=="):2===a&&d.push(g[(f=(m[c-2]<<8)+m[c-1])>>10]+g[f>>4&63]+g[f<<2&63]+"="),d.join("")};for(var g=[],S=[],w=typeof Uint8Array<"u"?Uint8Array:Array,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0;b<64;++b)g[b]=C[b],S[C.charCodeAt(b)]=b;function v(m){var f=m.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=m.indexOf("=");return-1===c&&(c=f),[c,c===f?0:4-c%4]}function p(m,f,c){for(var d,h=[],_=f;_<c;_+=3)h.push(g[(d=(m[_]<<16&16711680)+(m[_+1]<<8&65280)+(255&m[_+2]))>>18&63]+g[d>>12&63]+g[d>>6&63]+g[63&d]);return h.join("")}S[45]=62,S[95]=63},8764:(z,u,g)=>{"use strict";const S=g(9742),w=g(645),C="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=p,u.SlowBuffer=function(F){return+F!=F&&(F=0),p.alloc(+F)},u.INSPECT_MAX_BYTES=50;const b=2147483647;function v(F){if(F>b)throw new RangeError('The value "'+F+'" is invalid for option "size"');const U=new Uint8Array(F);return Object.setPrototypeOf(U,p.prototype),U}function p(F,U,G){if("number"==typeof F){if("string"==typeof U)throw new TypeError('The "string" argument must be of type string. Received type number');return c(F)}return m(F,U,G)}function m(F,U,G){if("string"==typeof F)return function(be,Ee){if("string"==typeof Ee&&""!==Ee||(Ee="utf8"),!p.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);const it=0|_(be,Ee);let nt=v(it);const Wt=nt.write(be,Ee);return Wt!==it&&(nt=nt.slice(0,Wt)),nt}(F,U);if(ArrayBuffer.isView(F))return function(be){if(Gt(be,Uint8Array)){const Ee=new Uint8Array(be);return d(Ee.buffer,Ee.byteOffset,Ee.byteLength)}return a(be)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Gt(F,ArrayBuffer)||F&&Gt(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Gt(F,SharedArrayBuffer)||F&&Gt(F.buffer,SharedArrayBuffer)))return d(F,U,G);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const J=F.valueOf&&F.valueOf();if(null!=J&&J!==F)return p.from(J,U,G);const fe=function(be){if(p.isBuffer(be)){const Ee=0|h(be.length),it=v(Ee);return 0===it.length||be.copy(it,0,0,Ee),it}return void 0!==be.length?"number"!=typeof be.length||at(be.length)?v(0):a(be):"Buffer"===be.type&&Array.isArray(be.data)?a(be.data):void 0}(F);if(fe)return fe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return p.from(F[Symbol.toPrimitive]("string"),U,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function f(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function c(F){return f(F),v(F<0?0:0|h(F))}function a(F){const U=F.length<0?0:0|h(F.length),G=v(U);for(let J=0;J<U;J+=1)G[J]=255&F[J];return G}function d(F,U,G){if(U<0||F.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<U+(G||0))throw new RangeError('"length" is outside of buffer bounds');let J;return J=void 0===U&&void 0===G?new Uint8Array(F):void 0===G?new Uint8Array(F,U):new Uint8Array(F,U,G),Object.setPrototypeOf(J,p.prototype),J}function h(F){if(F>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|F}function _(F,U){if(p.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Gt(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const G=F.length,J=arguments.length>2&&!0===arguments[2];if(!J&&0===G)return 0;let fe=!1;for(;;)switch(U){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return $t(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return Ut(F).length;default:if(fe)return J?-1:$t(F).length;U=(""+U).toLowerCase(),fe=!0}}function x(F,U,G){let J=!1;if((void 0===U||U<0)&&(U=0),U>this.length||((void 0===G||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=(U>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return he(this,U,G);case"utf8":case"utf-8":return X(this,U,G);case"ascii":return Z(this,U,G);case"latin1":case"binary":return de(this,U,G);case"base64":return j(this,U,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pe(this,U,G);default:if(J)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),J=!0}}function D(F,U,G){const J=F[U];F[U]=F[G],F[G]=J}function I(F,U,G,J,fe){if(0===F.length)return-1;if("string"==typeof G?(J=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),at(G=+G)&&(G=fe?0:F.length-1),G<0&&(G=F.length+G),G>=F.length){if(fe)return-1;G=F.length-1}else if(G<0){if(!fe)return-1;G=0}if("string"==typeof U&&(U=p.from(U,J)),p.isBuffer(U))return 0===U.length?-1:A(F,U,G,J,fe);if("number"==typeof U)return U&=255,"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(F,U,G):Uint8Array.prototype.lastIndexOf.call(F,U,G):A(F,[U],G,J,fe);throw new TypeError("val must be string, number or Buffer")}function A(F,U,G,J,fe){let be,Ee=1,it=F.length,nt=U.length;if(void 0!==J&&("ucs2"===(J=String(J).toLowerCase())||"ucs-2"===J||"utf16le"===J||"utf-16le"===J)){if(F.length<2||U.length<2)return-1;Ee=2,it/=2,nt/=2,G/=2}function Wt(q,_e){return 1===Ee?q[_e]:q.readUInt16BE(_e*Ee)}if(fe){let q=-1;for(be=G;be<it;be++)if(Wt(F,be)===Wt(U,-1===q?0:be-q)){if(-1===q&&(q=be),be-q+1===nt)return q*Ee}else-1!==q&&(be-=be-q),q=-1}else for(G+nt>it&&(G=it-nt),be=G;be>=0;be--){let q=!0;for(let _e=0;_e<nt;_e++)if(Wt(F,be+_e)!==Wt(U,_e)){q=!1;break}if(q)return be}return-1}function R(F,U,G,J){G=Number(G)||0;const fe=F.length-G;J?(J=Number(J))>fe&&(J=fe):J=fe;const be=U.length;let Ee;for(J>be/2&&(J=be/2),Ee=0;Ee<J;++Ee){const it=parseInt(U.substr(2*Ee,2),16);if(at(it))return Ee;F[G+Ee]=it}return Ee}function P(F,U,G,J){return gt($t(U,F.length-G),F,G,J)}function k(F,U,G,J){return gt(function(fe){const be=[];for(let Ee=0;Ee<fe.length;++Ee)be.push(255&fe.charCodeAt(Ee));return be}(U),F,G,J)}function B(F,U,G,J){return gt(Ut(U),F,G,J)}function V(F,U,G,J){return gt(function(fe,be){let Ee,it,nt;const Wt=[];for(let q=0;q<fe.length&&!((be-=2)<0);++q)Ee=fe.charCodeAt(q),it=Ee>>8,nt=Ee%256,Wt.push(nt),Wt.push(it);return Wt}(U,F.length-G),F,G,J)}function j(F,U,G){return S.fromByteArray(0===U&&G===F.length?F:F.slice(U,G))}function X(F,U,G){G=Math.min(F.length,G);const J=[];let fe=U;for(;fe<G;){const be=F[fe];let Ee=null,it=be>239?4:be>223?3:be>191?2:1;if(fe+it<=G){let nt,Wt,q,_e;switch(it){case 1:be<128&&(Ee=be);break;case 2:nt=F[fe+1],128==(192&nt)&&(_e=(31&be)<<6|63&nt,_e>127&&(Ee=_e));break;case 3:nt=F[fe+1],Wt=F[fe+2],128==(192&nt)&&128==(192&Wt)&&(_e=(15&be)<<12|(63&nt)<<6|63&Wt,_e>2047&&(_e<55296||_e>57343)&&(Ee=_e));break;case 4:nt=F[fe+1],Wt=F[fe+2],q=F[fe+3],128==(192&nt)&&128==(192&Wt)&&128==(192&q)&&(_e=(15&be)<<18|(63&nt)<<12|(63&Wt)<<6|63&q,_e>65535&&_e<1114112&&(Ee=_e))}}null===Ee?(Ee=65533,it=1):Ee>65535&&(Ee-=65536,J.push(Ee>>>10&1023|55296),Ee=56320|1023&Ee),J.push(Ee),fe+=it}return function(be){const Ee=be.length;if(Ee<=Q)return String.fromCharCode.apply(String,be);let it="",nt=0;for(;nt<Ee;)it+=String.fromCharCode.apply(String,be.slice(nt,nt+=Q));return it}(J)}u.kMaxLength=b,(p.TYPED_ARRAY_SUPPORT=function(){try{const F=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(F,U),42===F.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(F,U,G){return m(F,U,G)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(F,U,G){return fe=U,be=G,f(J=F),J<=0?v(J):void 0!==fe?"string"==typeof be?v(J).fill(fe,be):v(J).fill(fe):v(J);var J,fe,be},p.allocUnsafe=function(F){return c(F)},p.allocUnsafeSlow=function(F){return c(F)},p.isBuffer=function(F){return null!=F&&!0===F._isBuffer&&F!==p.prototype},p.compare=function(F,U){if(Gt(F,Uint8Array)&&(F=p.from(F,F.offset,F.byteLength)),Gt(U,Uint8Array)&&(U=p.from(U,U.offset,U.byteLength)),!p.isBuffer(F)||!p.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===U)return 0;let G=F.length,J=U.length;for(let fe=0,be=Math.min(G,J);fe<be;++fe)if(F[fe]!==U[fe]){G=F[fe],J=U[fe];break}return G<J?-1:J<G?1:0},p.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(F,U){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(0===F.length)return p.alloc(0);let G;if(void 0===U)for(U=0,G=0;G<F.length;++G)U+=F[G].length;const J=p.allocUnsafe(U);let fe=0;for(G=0;G<F.length;++G){let be=F[G];if(Gt(be,Uint8Array))fe+be.length>J.length?(p.isBuffer(be)||(be=p.from(be)),be.copy(J,fe)):Uint8Array.prototype.set.call(J,be,fe);else{if(!p.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(J,fe)}fe+=be.length}return J},p.byteLength=_,p.prototype._isBuffer=!0,p.prototype.swap16=function(){const F=this.length;if(F%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<F;U+=2)D(this,U,U+1);return this},p.prototype.swap32=function(){const F=this.length;if(F%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<F;U+=4)D(this,U,U+3),D(this,U+1,U+2);return this},p.prototype.swap64=function(){const F=this.length;if(F%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<F;U+=8)D(this,U,U+7),D(this,U+1,U+6),D(this,U+2,U+5),D(this,U+3,U+4);return this},p.prototype.toLocaleString=p.prototype.toString=function(){const F=this.length;return 0===F?"":0===arguments.length?X(this,0,F):x.apply(this,arguments)},p.prototype.equals=function(F){if(!p.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F||0===p.compare(this,F)},p.prototype.inspect=function(){let F="";const U=u.INSPECT_MAX_BYTES;return F=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(F+=" ... "),"<Buffer "+F+">"},C&&(p.prototype[C]=p.prototype.inspect),p.prototype.compare=function(F,U,G,J,fe){if(Gt(F,Uint8Array)&&(F=p.from(F,F.offset,F.byteLength)),!p.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(void 0===U&&(U=0),void 0===G&&(G=F?F.length:0),void 0===J&&(J=0),void 0===fe&&(fe=this.length),U<0||G>F.length||J<0||fe>this.length)throw new RangeError("out of range index");if(J>=fe&&U>=G)return 0;if(J>=fe)return-1;if(U>=G)return 1;if(this===F)return 0;let be=(fe>>>=0)-(J>>>=0),Ee=(G>>>=0)-(U>>>=0);const it=Math.min(be,Ee),nt=this.slice(J,fe),Wt=F.slice(U,G);for(let q=0;q<it;++q)if(nt[q]!==Wt[q]){be=nt[q],Ee=Wt[q];break}return be<Ee?-1:Ee<be?1:0},p.prototype.includes=function(F,U,G){return-1!==this.indexOf(F,U,G)},p.prototype.indexOf=function(F,U,G){return I(this,F,U,G,!0)},p.prototype.lastIndexOf=function(F,U,G){return I(this,F,U,G,!1)},p.prototype.write=function(F,U,G,J){if(void 0===U)J="utf8",G=this.length,U=0;else if(void 0===G&&"string"==typeof U)J=U,G=this.length,U=0;else{if(!isFinite(U))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");U>>>=0,isFinite(G)?(G>>>=0,void 0===J&&(J="utf8")):(J=G,G=void 0)}const fe=this.length-U;if((void 0===G||G>fe)&&(G=fe),F.length>0&&(G<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let be=!1;for(;;)switch(J){case"hex":return R(this,F,U,G);case"utf8":case"utf-8":return P(this,F,U,G);case"ascii":case"latin1":case"binary":return k(this,F,U,G);case"base64":return B(this,F,U,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,F,U,G);default:if(be)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),be=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Q=4096;function Z(F,U,G){let J="";G=Math.min(F.length,G);for(let fe=U;fe<G;++fe)J+=String.fromCharCode(127&F[fe]);return J}function de(F,U,G){let J="";G=Math.min(F.length,G);for(let fe=U;fe<G;++fe)J+=String.fromCharCode(F[fe]);return J}function he(F,U,G){const J=F.length;(!U||U<0)&&(U=0),(!G||G<0||G>J)&&(G=J);let fe="";for(let be=U;be<G;++be)fe+=vn[F[be]];return fe}function Pe(F,U,G){const J=F.slice(U,G);let fe="";for(let be=0;be<J.length-1;be+=2)fe+=String.fromCharCode(J[be]+256*J[be+1]);return fe}function ie(F,U,G){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+U>G)throw new RangeError("Trying to access beyond buffer length")}function ue(F,U,G,J,fe,be){if(!p.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>fe||U<be)throw new RangeError('"value" argument is out of bounds');if(G+J>F.length)throw new RangeError("Index out of range")}function Fe(F,U,G,J,fe){Oe(U,J,fe,F,G,7);let be=Number(U&BigInt(4294967295));F[G++]=be,be>>=8,F[G++]=be,be>>=8,F[G++]=be,be>>=8,F[G++]=be;let Ee=Number(U>>BigInt(32)&BigInt(4294967295));return F[G++]=Ee,Ee>>=8,F[G++]=Ee,Ee>>=8,F[G++]=Ee,Ee>>=8,F[G++]=Ee,G}function Ye(F,U,G,J,fe){Oe(U,J,fe,F,G,7);let be=Number(U&BigInt(4294967295));F[G+7]=be,be>>=8,F[G+6]=be,be>>=8,F[G+5]=be,be>>=8,F[G+4]=be;let Ee=Number(U>>BigInt(32)&BigInt(4294967295));return F[G+3]=Ee,Ee>>=8,F[G+2]=Ee,Ee>>=8,F[G+1]=Ee,Ee>>=8,F[G]=Ee,G+8}function dt(F,U,G,J,fe,be){if(G+J>F.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function et(F,U,G,J,fe){return U=+U,G>>>=0,fe||dt(F,0,G,4),w.write(F,U,G,J,23,4),G+4}function ft(F,U,G,J,fe){return U=+U,G>>>=0,fe||dt(F,0,G,8),w.write(F,U,G,J,52,8),G+8}p.prototype.slice=function(F,U){const G=this.length;(F=~~F)<0?(F+=G)<0&&(F=0):F>G&&(F=G),(U=void 0===U?G:~~U)<0?(U+=G)<0&&(U=0):U>G&&(U=G),U<F&&(U=F);const J=this.subarray(F,U);return Object.setPrototypeOf(J,p.prototype),J},p.prototype.readUintLE=p.prototype.readUIntLE=function(F,U,G){F>>>=0,U>>>=0,G||ie(F,U,this.length);let J=this[F],fe=1,be=0;for(;++be<U&&(fe*=256);)J+=this[F+be]*fe;return J},p.prototype.readUintBE=p.prototype.readUIntBE=function(F,U,G){F>>>=0,U>>>=0,G||ie(F,U,this.length);let J=this[F+--U],fe=1;for(;U>0&&(fe*=256);)J+=this[F+--U]*fe;return J},p.prototype.readUint8=p.prototype.readUInt8=function(F,U){return F>>>=0,U||ie(F,1,this.length),this[F]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(F,U){return F>>>=0,U||ie(F,2,this.length),this[F]|this[F+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(F,U){return F>>>=0,U||ie(F,2,this.length),this[F]<<8|this[F+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(F,U){return F>>>=0,U||ie(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+16777216*this[F+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(F,U){return F>>>=0,U||ie(F,4,this.length),16777216*this[F]+(this[F+1]<<16|this[F+2]<<8|this[F+3])},p.prototype.readBigUInt64LE=Y(function(F){ge(F>>>=0,"offset");const U=this[F],G=this[F+7];void 0!==U&&void 0!==G||Je(F,this.length-8);const J=U+256*this[++F]+65536*this[++F]+this[++F]*2**24,fe=this[++F]+256*this[++F]+65536*this[++F]+G*2**24;return BigInt(J)+(BigInt(fe)<<BigInt(32))}),p.prototype.readBigUInt64BE=Y(function(F){ge(F>>>=0,"offset");const U=this[F],G=this[F+7];void 0!==U&&void 0!==G||Je(F,this.length-8);const J=U*2**24+65536*this[++F]+256*this[++F]+this[++F],fe=this[++F]*2**24+65536*this[++F]+256*this[++F]+G;return(BigInt(J)<<BigInt(32))+BigInt(fe)}),p.prototype.readIntLE=function(F,U,G){F>>>=0,U>>>=0,G||ie(F,U,this.length);let J=this[F],fe=1,be=0;for(;++be<U&&(fe*=256);)J+=this[F+be]*fe;return fe*=128,J>=fe&&(J-=Math.pow(2,8*U)),J},p.prototype.readIntBE=function(F,U,G){F>>>=0,U>>>=0,G||ie(F,U,this.length);let J=U,fe=1,be=this[F+--J];for(;J>0&&(fe*=256);)be+=this[F+--J]*fe;return fe*=128,be>=fe&&(be-=Math.pow(2,8*U)),be},p.prototype.readInt8=function(F,U){return F>>>=0,U||ie(F,1,this.length),128&this[F]?-1*(255-this[F]+1):this[F]},p.prototype.readInt16LE=function(F,U){F>>>=0,U||ie(F,2,this.length);const G=this[F]|this[F+1]<<8;return 32768&G?4294901760|G:G},p.prototype.readInt16BE=function(F,U){F>>>=0,U||ie(F,2,this.length);const G=this[F+1]|this[F]<<8;return 32768&G?4294901760|G:G},p.prototype.readInt32LE=function(F,U){return F>>>=0,U||ie(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},p.prototype.readInt32BE=function(F,U){return F>>>=0,U||ie(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},p.prototype.readBigInt64LE=Y(function(F){ge(F>>>=0,"offset");const U=this[F],G=this[F+7];return void 0!==U&&void 0!==G||Je(F,this.length-8),(BigInt(this[F+4]+256*this[F+5]+65536*this[F+6]+(G<<24))<<BigInt(32))+BigInt(U+256*this[++F]+65536*this[++F]+16777216*this[++F])}),p.prototype.readBigInt64BE=Y(function(F){ge(F>>>=0,"offset");const U=this[F],G=this[F+7];void 0!==U&&void 0!==G||Je(F,this.length-8);const J=(U<<24)+65536*this[++F]+256*this[++F]+this[++F];return(BigInt(J)<<BigInt(32))+BigInt(16777216*this[++F]+65536*this[++F]+256*this[++F]+G)}),p.prototype.readFloatLE=function(F,U){return F>>>=0,U||ie(F,4,this.length),w.read(this,F,!0,23,4)},p.prototype.readFloatBE=function(F,U){return F>>>=0,U||ie(F,4,this.length),w.read(this,F,!1,23,4)},p.prototype.readDoubleLE=function(F,U){return F>>>=0,U||ie(F,8,this.length),w.read(this,F,!0,52,8)},p.prototype.readDoubleBE=function(F,U){return F>>>=0,U||ie(F,8,this.length),w.read(this,F,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(F,U,G,J){F=+F,U>>>=0,G>>>=0,J||ue(this,F,U,G,Math.pow(2,8*G)-1,0);let fe=1,be=0;for(this[U]=255&F;++be<G&&(fe*=256);)this[U+be]=F/fe&255;return U+G},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(F,U,G,J){F=+F,U>>>=0,G>>>=0,J||ue(this,F,U,G,Math.pow(2,8*G)-1,0);let fe=G-1,be=1;for(this[U+fe]=255&F;--fe>=0&&(be*=256);)this[U+fe]=F/be&255;return U+G},p.prototype.writeUint8=p.prototype.writeUInt8=function(F,U,G){return F=+F,U>>>=0,G||ue(this,F,U,1,255,0),this[U]=255&F,U+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(F,U,G){return F=+F,U>>>=0,G||ue(this,F,U,2,65535,0),this[U]=255&F,this[U+1]=F>>>8,U+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(F,U,G){return F=+F,U>>>=0,G||ue(this,F,U,2,65535,0),this[U]=F>>>8,this[U+1]=255&F,U+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(F,U,G){return F=+F,U>>>=0,G||ue(this,F,U,4,4294967295,0),this[U+3]=F>>>24,this[U+2]=F>>>16,this[U+1]=F>>>8,this[U]=255&F,U+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(F,U,G){return F=+F,U>>>=0,G||ue(this,F,U,4,4294967295,0),this[U]=F>>>24,this[U+1]=F>>>16,this[U+2]=F>>>8,this[U+3]=255&F,U+4},p.prototype.writeBigUInt64LE=Y(function(F,U=0){return Fe(this,F,U,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=Y(function(F,U=0){return Ye(this,F,U,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(F,U,G,J){if(F=+F,U>>>=0,!J){const it=Math.pow(2,8*G-1);ue(this,F,U,G,it-1,-it)}let fe=0,be=1,Ee=0;for(this[U]=255&F;++fe<G&&(be*=256);)F<0&&0===Ee&&0!==this[U+fe-1]&&(Ee=1),this[U+fe]=(F/be>>0)-Ee&255;return U+G},p.prototype.writeIntBE=function(F,U,G,J){if(F=+F,U>>>=0,!J){const it=Math.pow(2,8*G-1);ue(this,F,U,G,it-1,-it)}let fe=G-1,be=1,Ee=0;for(this[U+fe]=255&F;--fe>=0&&(be*=256);)F<0&&0===Ee&&0!==this[U+fe+1]&&(Ee=1),this[U+fe]=(F/be>>0)-Ee&255;return U+G},p.prototype.writeInt8=function(F,U,G){return F=+F,U>>>=0,G||ue(this,F,U,1,127,-128),F<0&&(F=255+F+1),this[U]=255&F,U+1},p.prototype.writeInt16LE=function(F,U,G){return F=+F,U>>>=0,G||ue(this,F,U,2,32767,-32768),this[U]=255&F,this[U+1]=F>>>8,U+2},p.prototype.writeInt16BE=function(F,U,G){return F=+F,U>>>=0,G||ue(this,F,U,2,32767,-32768),this[U]=F>>>8,this[U+1]=255&F,U+2},p.prototype.writeInt32LE=function(F,U,G){return F=+F,U>>>=0,G||ue(this,F,U,4,2147483647,-2147483648),this[U]=255&F,this[U+1]=F>>>8,this[U+2]=F>>>16,this[U+3]=F>>>24,U+4},p.prototype.writeInt32BE=function(F,U,G){return F=+F,U>>>=0,G||ue(this,F,U,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[U]=F>>>24,this[U+1]=F>>>16,this[U+2]=F>>>8,this[U+3]=255&F,U+4},p.prototype.writeBigInt64LE=Y(function(F,U=0){return Fe(this,F,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=Y(function(F,U=0){return Ye(this,F,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeFloatLE=function(F,U,G){return et(this,F,U,!0,G)},p.prototype.writeFloatBE=function(F,U,G){return et(this,F,U,!1,G)},p.prototype.writeDoubleLE=function(F,U,G){return ft(this,F,U,!0,G)},p.prototype.writeDoubleBE=function(F,U,G){return ft(this,F,U,!1,G)},p.prototype.copy=function(F,U,G,J){if(!p.isBuffer(F))throw new TypeError("argument should be a Buffer");if(G||(G=0),J||0===J||(J=this.length),U>=F.length&&(U=F.length),U||(U=0),J>0&&J<G&&(J=G),J===G||0===F.length||0===this.length)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),F.length-U<J-G&&(J=F.length-U+G);const fe=J-G;return this===F&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(U,G,J):Uint8Array.prototype.set.call(F,this.subarray(G,J),U),fe},p.prototype.fill=function(F,U,G,J){if("string"==typeof F){if("string"==typeof U?(J=U,U=0,G=this.length):"string"==typeof G&&(J=G,G=this.length),void 0!==J&&"string"!=typeof J)throw new TypeError("encoding must be a string");if("string"==typeof J&&!p.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(1===F.length){const be=F.charCodeAt(0);("utf8"===J&&be<128||"latin1"===J)&&(F=be)}}else"number"==typeof F?F&=255:"boolean"==typeof F&&(F=Number(F));if(U<0||this.length<U||this.length<G)throw new RangeError("Out of range index");if(G<=U)return this;let fe;if(U>>>=0,G=void 0===G?this.length:G>>>0,F||(F=0),"number"==typeof F)for(fe=U;fe<G;++fe)this[fe]=F;else{const be=p.isBuffer(F)?F:p.from(F,J),Ee=be.length;if(0===Ee)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(fe=0;fe<G-U;++fe)this[fe+U]=be[fe%Ee]}return this};const Rt={};function pt(F,U,G){Rt[F]=class extends G{constructor(){super(),Object.defineProperty(this,"message",{value:U.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function Ht(F){let U="",G=F.length;const J="-"===F[0]?1:0;for(;G>=J+4;G-=3)U=`_${F.slice(G-3,G)}${U}`;return`${F.slice(0,G)}${U}`}function Oe(F,U,G,J,fe,be){if(F>G||F<U){const Ee="bigint"==typeof U?"n":"";let it;throw it=be>3?0===U||U===BigInt(0)?`>= 0${Ee} and < 2${Ee} ** ${8*(be+1)}${Ee}`:`>= -(2${Ee} ** ${8*(be+1)-1}${Ee}) and < 2 ** ${8*(be+1)-1}${Ee}`:`>= ${U}${Ee} and <= ${G}${Ee}`,new Rt.ERR_OUT_OF_RANGE("value",it,F)}var Ee,it,nt;Ee=J,nt=be,ge(it=fe,"offset"),void 0!==Ee[it]&&void 0!==Ee[it+nt]||Je(it,Ee.length-(nt+1))}function ge(F,U){if("number"!=typeof F)throw new Rt.ERR_INVALID_ARG_TYPE(U,"number",F)}function Je(F,U,G){throw Math.floor(F)!==F?(ge(F,G),new Rt.ERR_OUT_OF_RANGE(G||"offset","an integer",F)):U<0?new Rt.ERR_BUFFER_OUT_OF_BOUNDS:new Rt.ERR_OUT_OF_RANGE(G||"offset",`>= ${G?1:0} and <= ${U}`,F)}pt("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pt("ERR_INVALID_ARG_TYPE",function(F,U){return`The "${F}" argument must be of type number. Received type ${typeof U}`},TypeError),pt("ERR_OUT_OF_RANGE",function(F,U,G){let J=`The value of "${F}" is out of range.`,fe=G;return Number.isInteger(G)&&Math.abs(G)>4294967296?fe=Ht(String(G)):"bigint"==typeof G&&(fe=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(fe=Ht(fe)),fe+="n"),J+=` It must be ${U}. Received ${fe}`,J},RangeError);const ht=/[^+/0-9A-Za-z-_]/g;function $t(F,U){let G;U=U||1/0;const J=F.length;let fe=null;const be=[];for(let Ee=0;Ee<J;++Ee){if(G=F.charCodeAt(Ee),G>55295&&G<57344){if(!fe){if(G>56319){(U-=3)>-1&&be.push(239,191,189);continue}if(Ee+1===J){(U-=3)>-1&&be.push(239,191,189);continue}fe=G;continue}if(G<56320){(U-=3)>-1&&be.push(239,191,189),fe=G;continue}G=65536+(fe-55296<<10|G-56320)}else fe&&(U-=3)>-1&&be.push(239,191,189);if(fe=null,G<128){if((U-=1)<0)break;be.push(G)}else if(G<2048){if((U-=2)<0)break;be.push(G>>6|192,63&G|128)}else if(G<65536){if((U-=3)<0)break;be.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;be.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return be}function Ut(F){return S.toByteArray(function(U){if((U=(U=U.split("=")[0]).trim().replace(ht,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(F))}function gt(F,U,G,J){let fe;for(fe=0;fe<J&&!(fe+G>=U.length||fe>=F.length);++fe)U[fe+G]=F[fe];return fe}function Gt(F,U){return F instanceof U||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===U.name}function at(F){return F!=F}const vn=function(){const F="0123456789abcdef",U=new Array(256);for(let G=0;G<16;++G){const J=16*G;for(let fe=0;fe<16;++fe)U[J+fe]=F[G]+F[fe]}return U}();function Y(F){return typeof BigInt>"u"?Se:F}function Se(){throw new Error("BigInt not supported")}},1227:(z,u,g)=>{var S=g(4155);u.formatArgs=function(C){if(C[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+C[0]+(this.useColors?"%c ":" ")+"+"+z.exports.humanize(this.diff),!this.useColors)return;const b="color: "+this.color;C.splice(1,0,b,"color: inherit");let v=0,p=0;C[0].replace(/%[a-zA-Z%]/g,m=>{"%%"!==m&&(v++,"%c"===m&&(p=v))}),C.splice(p,0,b)},u.save=function(C){try{C?u.storage.setItem("debug",C):u.storage.removeItem("debug")}catch{}},u.load=function(){let C;try{C=u.storage.getItem("debug")}catch{}return!C&&void 0!==S&&"env"in S&&(C=S.env.DEBUG),C},u.useColors=function(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},u.storage=function(){try{return localStorage}catch{}}(),u.destroy=(()=>{let C=!1;return()=>{C||(C=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],u.log=console.debug||console.log||(()=>{}),z.exports=g(2447)(u);const{formatters:w}=z.exports;w.j=function(C){try{return JSON.stringify(C)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}}},2447:(z,u,g)=>{z.exports=function(S){function w(v){let p,m,f,c=null;function a(...d){if(!a.enabled)return;const h=a,_=Number(new Date);h.diff=_-(p||_),h.prev=p,h.curr=_,p=_,d[0]=w.coerce(d[0]),"string"!=typeof d[0]&&d.unshift("%O");let D=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,(I,A)=>{if("%%"===I)return"%";D++;const R=w.formatters[A];return"function"==typeof R&&(I=R.call(h,d[D]),d.splice(D,1),D--),I}),w.formatArgs.call(h,d),(h.log||w.log).apply(h,d)}return a.namespace=v,a.useColors=w.useColors(),a.color=w.selectColor(v),a.extend=C,a.destroy=w.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==c?c:(m!==w.namespaces&&(m=w.namespaces,f=w.enabled(v)),f),set:d=>{c=d}}),"function"==typeof w.init&&w.init(a),a}function C(v,p){const m=w(this.namespace+(void 0===p?":":p)+v);return m.log=this.log,m}function b(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}return w.debug=w,w.default=w,w.coerce=function(v){return v instanceof Error?v.stack||v.message:v},w.disable=function(){const v=[...w.names.map(b),...w.skips.map(b).map(p=>"-"+p)].join(",");return w.enable(""),v},w.enable=function(v){let p;w.save(v),w.namespaces=v,w.names=[],w.skips=[];const m=("string"==typeof v?v:"").split(/[\s,]+/),f=m.length;for(p=0;p<f;p++)m[p]&&("-"===(v=m[p].replace(/\*/g,".*?"))[0]?w.skips.push(new RegExp("^"+v.slice(1)+"$")):w.names.push(new RegExp("^"+v+"$")))},w.enabled=function(v){if("*"===v[v.length-1])return!0;let p,m;for(p=0,m=w.skips.length;p<m;p++)if(w.skips[p].test(v))return!1;for(p=0,m=w.names.length;p<m;p++)if(w.names[p].test(v))return!0;return!1},w.humanize=g(7824),w.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(S).forEach(v=>{w[v]=S[v]}),w.names=[],w.skips=[],w.formatters={},w.selectColor=function(v){let p=0;for(let m=0;m<v.length;m++)p=(p<<5)-p+v.charCodeAt(m),p|=0;return w.colors[Math.abs(p)%w.colors.length]},w.enable(w.load()),w}},2114:z=>{"use strict";function u(g,S){for(const w in S)Object.defineProperty(g,w,{value:S[w],enumerable:!0,configurable:!0});return g}z.exports=function(g,S,w){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");w||(w={}),"object"==typeof S&&(w=S,S=""),S&&(w.code=S);try{return u(g,w)}catch{w.message=g.message,w.stack=g.stack;const b=function(){};return b.prototype=Object.create(Object.getPrototypeOf(g)),u(new b,w)}}},7187:z=>{"use strict";var u,g="object"==typeof Reflect?Reflect:null,S=g&&"function"==typeof g.apply?g.apply:function(x,D,I){return Function.prototype.apply.call(x,D,I)};u=g&&"function"==typeof g.ownKeys?g.ownKeys:Object.getOwnPropertySymbols?function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:function(x){return Object.getOwnPropertyNames(x)};var w=Number.isNaN||function(x){return x!=x};function C(){C.init.call(this)}z.exports=C,z.exports.once=function(x,D){return new Promise(function(I,A){function R(k){x.removeListener(D,P),A(k)}function P(){"function"==typeof x.removeListener&&x.removeListener("error",R),I([].slice.call(arguments))}var k;_(x,D,P,{once:!0}),"error"!==D&&("function"==typeof(k=x).on&&_(k,"error",R,{once:!0}))})},C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var b=10;function v(x){if("function"!=typeof x)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}function p(x){return void 0===x._maxListeners?C.defaultMaxListeners:x._maxListeners}function m(x,D,I,A){var R,P,k;if(v(I),void 0===(P=x._events)?(P=x._events=Object.create(null),x._eventsCount=0):(void 0!==P.newListener&&(x.emit("newListener",D,I.listener?I.listener:I),P=x._events),k=P[D]),void 0===k)k=P[D]=I,++x._eventsCount;else if("function"==typeof k?k=P[D]=A?[I,k]:[k,I]:A?k.unshift(I):k.push(I),(R=p(x))>0&&k.length>R&&!k.warned){k.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=x,V.type=D,V.count=k.length,console&&console.warn&&console.warn(V)}return x}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(x,D,I){var A={fired:!1,wrapFn:void 0,target:x,type:D,listener:I},R=f.bind(A);return R.listener=I,A.wrapFn=R,R}function a(x,D,I){var A=x._events;if(void 0===A)return[];var R=A[D];return void 0===R?[]:"function"==typeof R?I?[R.listener||R]:[R]:I?function(P){for(var k=new Array(P.length),B=0;B<k.length;++B)k[B]=P[B].listener||P[B];return k}(R):h(R,R.length)}function d(x){var D=this._events;if(void 0!==D){var I=D[x];if("function"==typeof I)return 1;if(void 0!==I)return I.length}return 0}function h(x,D){for(var I=new Array(D),A=0;A<D;++A)I[A]=x[A];return I}function _(x,D,I,A){if("function"==typeof x.on)A.once?x.once(D,I):x.on(D,I);else{if("function"!=typeof x.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x);x.addEventListener(D,function R(P){A.once&&x.removeEventListener(D,R),I(P)})}}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(x){if("number"!=typeof x||x<0||w(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");b=x}}),C.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(x){if("number"!=typeof x||x<0||w(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this},C.prototype.getMaxListeners=function(){return p(this)},C.prototype.emit=function(x){for(var D=[],I=1;I<arguments.length;I++)D.push(arguments[I]);var A="error"===x,R=this._events;if(void 0!==R)A=A&&void 0===R.error;else if(!A)return!1;if(A){var P;if(D.length>0&&(P=D[0]),P instanceof Error)throw P;var k=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw k.context=P,k}var B=R[x];if(void 0===B)return!1;if("function"==typeof B)S(B,this,D);else{var V=B.length,j=h(B,V);for(I=0;I<V;++I)S(j[I],this,D)}return!0},C.prototype.on=C.prototype.addListener=function(x,D){return m(this,x,D,!1)},C.prototype.prependListener=function(x,D){return m(this,x,D,!0)},C.prototype.once=function(x,D){return v(D),this.on(x,c(this,x,D)),this},C.prototype.prependOnceListener=function(x,D){return v(D),this.prependListener(x,c(this,x,D)),this},C.prototype.off=C.prototype.removeListener=function(x,D){var I,A,R,P,k;if(v(D),void 0===(A=this._events))return this;if(void 0===(I=A[x]))return this;if(I===D||I.listener===D)0==--this._eventsCount?this._events=Object.create(null):(delete A[x],A.removeListener&&this.emit("removeListener",x,I.listener||D));else if("function"!=typeof I){for(R=-1,P=I.length-1;P>=0;P--)if(I[P]===D||I[P].listener===D){k=I[P].listener,R=P;break}if(R<0)return this;0===R?I.shift():function(B,V){for(;V+1<B.length;V++)B[V]=B[V+1];B.pop()}(I,R),1===I.length&&(A[x]=I[0]),void 0!==A.removeListener&&this.emit("removeListener",x,k||D)}return this},C.prototype.removeAllListeners=function(x){var D,I,A;if(void 0===(I=this._events))return this;if(void 0===I.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==I[x]&&(0==--this._eventsCount?this._events=Object.create(null):delete I[x]),this;if(0===arguments.length){var R,P=Object.keys(I);for(A=0;A<P.length;++A)"removeListener"!==(R=P[A])&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(D=I[x]))this.removeListener(x,D);else if(void 0!==D)for(A=D.length-1;A>=0;A--)this.removeListener(x,D[A]);return this},C.prototype.listeners=function(x){return a(this,x,!0)},C.prototype.rawListeners=function(x){return a(this,x,!1)},C.listenerCount=function(x,D){return"function"==typeof x.listenerCount?x.listenerCount(D):d.call(x,D)},C.prototype.listenerCount=d,C.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]}},8806:function(z,u,g){!function(S){"use strict";function w(x){for(var D=0,I=Math.min(65536,x.length+1),A=new Uint16Array(I),R=[],P=0;;){var k=D<x.length;if(!k||P>=I-1){var B=A.subarray(0,P);if(R.push(String.fromCharCode.apply(null,B)),!k)return R.join("");x=x.subarray(D),D=0,P=0}var V=x[D++];if(128&V){if(192==(224&V)){var j=63&x[D++];A[P++]=(31&V)<<6|j}else if(224==(240&V)){j=63&x[D++];var X=63&x[D++];A[P++]=(31&V)<<12|j<<6|X}else if(240==(248&V)){var Q=(7&V)<<18|(j=63&x[D++])<<12|(X=63&x[D++])<<6|63&x[D++];Q>65535&&(A[P++]=(Q-=65536)>>>10&1023|55296,Q=56320|1023&Q),A[P++]=Q}}else A[P++]=V}}var C="Failed to ",b=function(x,D,I){if(x)throw new Error("".concat(C).concat(D,": the '").concat(I,"' option is unsupported."))},v="function"==typeof Buffer&&Buffer.from,p=v?function(x){return Buffer.from(x)}:function(x){for(var D=0,I=x.length,A=0,R=Math.max(32,I+(I>>>1)+7),P=new Uint8Array(R>>>3<<3);D<I;){var k=x.charCodeAt(D++);if(k>=55296&&k<=56319){if(D<I){var B=x.charCodeAt(D);56320==(64512&B)&&(++D,k=((1023&k)<<10)+(1023&B)+65536)}if(k>=55296&&k<=56319)continue}if(A+4>P.length){R+=8,R=(R*=1+D/x.length*2)>>>3<<3;var V=new Uint8Array(R);V.set(P),P=V}if(4294967168&k){if(4294965248&k)if(4294901760&k){if(4292870144&k)continue;P[A++]=k>>>18&7|240,P[A++]=k>>>12&63|128,P[A++]=k>>>6&63|128}else P[A++]=k>>>12&15|224,P[A++]=k>>>6&63|128;else P[A++]=k>>>6&31|192;P[A++]=63&k|128}else P[A++]=k}return P.slice?P.slice(0,A):P.subarray(0,A)};function m(){this.encoding="utf-8"}m.prototype.encode=function(x,D){return b(D&&D.stream,"encode","stream"),p(x)};var f=!v&&"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL,c=["utf-8","utf8","unicode-1-1-utf-8"],a=w;v?a=function(x,D){return(x instanceof Buffer?x:Buffer.from(x.buffer,x.byteOffset,x.byteLength)).toString(D)}:f&&(a=function(x){try{return function(D){var I;try{var A=new Blob([D],{type:"text/plain;charset=UTF-8"});I=URL.createObjectURL(A);var R=new XMLHttpRequest;return R.open("GET",I,!1),R.send(),R.responseText}finally{I&&URL.revokeObjectURL(I)}}(x)}catch{return w(x)}});var d="construct 'TextDecoder'",h="".concat(C," ").concat(d,": the ");function _(x,D){if(b(D&&D.fatal,d,"fatal"),x=x||"utf-8",!(v?Buffer.isEncoding(x):-1!==c.indexOf(x.toLowerCase())))throw new RangeError("".concat(h," encoding label provided ('").concat(x,"') is invalid."));this.encoding=x,this.fatal=!1,this.ignoreBOM=!1}_.prototype.decode=function(x,D){var I;return b(D&&D.stream,"decode","stream"),I=x instanceof Uint8Array?x:x.buffer instanceof ArrayBuffer?new Uint8Array(x.buffer):new Uint8Array(x),a(I,this.encoding)},S.TextEncoder=S.TextEncoder||m,S.TextDecoder=S.TextDecoder||_}(typeof window<"u"?window:void 0!==g.g?g.g:this)},5177:z=>{z.exports=function(){if(typeof globalThis>"u")return null;var u={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return u.RTCPeerConnection?u:null}},645:(z,u)=>{u.read=function(g,S,w,C,b){var v,p,m=8*b-C-1,f=(1<<m)-1,c=f>>1,a=-7,d=w?b-1:0,h=w?-1:1,_=g[S+d];for(d+=h,v=_&(1<<-a)-1,_>>=-a,a+=m;a>0;v=256*v+g[S+d],d+=h,a-=8);for(p=v&(1<<-a)-1,v>>=-a,a+=C;a>0;p=256*p+g[S+d],d+=h,a-=8);if(0===v)v=1-c;else{if(v===f)return p?NaN:1/0*(_?-1:1);p+=Math.pow(2,C),v-=c}return(_?-1:1)*p*Math.pow(2,v-C)},u.write=function(g,S,w,C,b,v){var p,m,f,c=8*v-b-1,a=(1<<c)-1,d=a>>1,h=23===b?Math.pow(2,-24)-Math.pow(2,-77):0,_=C?0:v-1,x=C?1:-1,D=S<0||0===S&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(m=isNaN(S)?1:0,p=a):(p=Math.floor(Math.log(S)/Math.LN2),S*(f=Math.pow(2,-p))<1&&(p--,f*=2),(S+=p+d>=1?h/f:h*Math.pow(2,1-d))*f>=2&&(p++,f/=2),p+d>=a?(m=0,p=a):p+d>=1?(m=(S*f-1)*Math.pow(2,b),p+=d):(m=S*Math.pow(2,d-1)*Math.pow(2,b),p=0));b>=8;g[w+_]=255&m,_+=x,m/=256,b-=8);for(p=p<<b|m,c+=b;c>0;g[w+_]=255&p,_+=x,p/=256,c-=8);g[w+_-x]|=128*D}},5717:z=>{z.exports="function"==typeof Object.create?function(u,g){g&&(u.super_=g,u.prototype=Object.create(g.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:function(u,g){if(g){u.super_=g;var S=function(){};S.prototype=g.prototype,u.prototype=new S,u.prototype.constructor=u}}},6486:function(z,u,g){var S;z=g.nmd(z),function(){var w,C="Expected a function",b="__lodash_hash_undefined__",v="__lodash_placeholder__",p=32,m=128,f=1/0,c=9007199254740991,a=NaN,d=4294967295,h=[["ary",m],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",p],["partialRight",64],["rearg",256]],_="[object Arguments]",x="[object Array]",D="[object Boolean]",I="[object Date]",A="[object Error]",R="[object Function]",P="[object GeneratorFunction]",k="[object Map]",B="[object Number]",V="[object Object]",j="[object Promise]",X="[object RegExp]",Q="[object Set]",Z="[object String]",de="[object Symbol]",he="[object WeakMap]",Pe="[object ArrayBuffer]",ie="[object DataView]",ue="[object Float32Array]",Fe="[object Float64Array]",Ye="[object Int8Array]",dt="[object Int16Array]",et="[object Int32Array]",ft="[object Uint8Array]",Rt="[object Uint8ClampedArray]",pt="[object Uint16Array]",Ht="[object Uint32Array]",Oe=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,Je=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ht=/&(?:amp|lt|gt|quot|#39);/g,$t=/[&<>"']/g,Ut=RegExp(ht.source),gt=RegExp($t.source),Gt=/<%-([\s\S]+?)%>/g,at=/<%([\s\S]+?)%>/g,vn=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Se=/^\w*$/,F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/[\\^$.*+?()[\]{}|]/g,G=RegExp(U.source),J=/^\s+/,fe=/\s/,be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ee=/\{\n\/\* \[wrapped with (.+)\] \*/,it=/,? & /,nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/[()=,{}\[\]\/\s]/,q=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,we=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,Me=/^\[object .+?Constructor\]$/,ne=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ae=/($^)/,$e=/['\n\r\u2028\u2029\\]/g,Qe="\\ud800-\\udfff",rt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",mn="\\u2700-\\u27bf",Lt="a-z\\xdf-\\xf6\\xf8-\\xff",Yn="A-Z\\xc0-\\xd6\\xd8-\\xde",hn="\\ufe0e\\ufe0f",Yt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ai="["+Qe+"]",tt="["+Yt+"]",kn="["+rt+"]",ar="\\d+",He="["+mn+"]",ci="["+Lt+"]",Oi="[^"+Qe+Yt+ar+mn+Lt+Yn+"]",Mi="\\ud83c[\\udffb-\\udfff]",fi="[^"+Qe+"]",Bi="(?:\\ud83c[\\udde6-\\uddff]){2}",Vi="[\\ud800-\\udbff][\\udc00-\\udfff]",re="["+Yn+"]",K="\\u200d",ee="(?:"+ci+"|"+Oi+")",Re="(?:"+re+"|"+Oi+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Tt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",At="(?:"+kn+"|"+Mi+")?",_t="["+hn+"]?",lt=_t+At+"(?:"+K+"(?:"+[fi,Bi,Vi].join("|")+")"+_t+At+")*",wt="(?:"+[He,Bi,Vi].join("|")+")"+lt,St="(?:"+[fi+kn+"?",kn,Bi,Vi,ai].join("|")+")",Bt=RegExp("['\u2019]","g"),on=RegExp(kn,"g"),cr=RegExp(Mi+"(?="+Mi+")|"+St+lt,"g"),un=RegExp([re+"?"+ci+"+"+Ke+"(?="+[tt,re,"$"].join("|")+")",Re+"+"+Tt+"(?="+[tt,re+ee,"$"].join("|")+")",re+"?"+ee+"+"+Ke,re+"+"+Tt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ar,wt].join("|"),"g"),Vt=RegExp("["+K+Qe+rt+hn+"]"),zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ir=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vn=-1,Xt={};Xt[ue]=Xt[Fe]=Xt[Ye]=Xt[dt]=Xt[et]=Xt[ft]=Xt[Rt]=Xt[pt]=Xt[Ht]=!0,Xt[_]=Xt[x]=Xt[Pe]=Xt[D]=Xt[ie]=Xt[I]=Xt[A]=Xt[R]=Xt[k]=Xt[B]=Xt[V]=Xt[X]=Xt[Q]=Xt[Z]=Xt[he]=!1;var yn={};yn[_]=yn[x]=yn[Pe]=yn[ie]=yn[D]=yn[I]=yn[ue]=yn[Fe]=yn[Ye]=yn[dt]=yn[et]=yn[k]=yn[B]=yn[V]=yn[X]=yn[Q]=yn[Z]=yn[de]=yn[ft]=yn[Rt]=yn[pt]=yn[Ht]=!0,yn[A]=yn[R]=yn[he]=!1;var ni={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dr=parseFloat,Vr=parseInt,Hn="object"==typeof g.g&&g.g&&g.g.Object===Object&&g.g,Qt="object"==typeof self&&self&&self.Object===Object&&self,Kn=Hn||Qt||Function("return this")(),fr=u&&!u.nodeType&&u,tr=fr&&z&&!z.nodeType&&z,ri=tr&&tr.exports===fr,ui=ri&&Hn.process,$n=function(){try{return tr&&tr.require&&tr.require("util").types||ui&&ui.binding&&ui.binding("util")}catch{}}(),pr=$n&&$n.isArrayBuffer,gn=$n&&$n.isDate,$r=$n&&$n.isMap,se=$n&&$n.isRegExp,Te=$n&&$n.isSet,Ie=$n&&$n.isTypedArray;function Ve(Ze,vt,Et){switch(Et.length){case 0:return Ze.call(vt);case 1:return Ze.call(vt,Et[0]);case 2:return Ze.call(vt,Et[0],Et[1]);case 3:return Ze.call(vt,Et[0],Et[1],Et[2])}return Ze.apply(vt,Et)}function It(Ze,vt,Et,Kt){for(var nn=-1,ut=null==Ze?0:Ze.length;++nn<ut;){var qt=Ze[nn];vt(Kt,qt,Et(qt),Ze)}return Kt}function Pt(Ze,vt){for(var Et=-1,Kt=null==Ze?0:Ze.length;++Et<Kt&&!1!==vt(Ze[Et],Et,Ze););return Ze}function Mn(Ze,vt){for(var Et=null==Ze?0:Ze.length;Et--&&!1!==vt(Ze[Et],Et,Ze););return Ze}function oe(Ze,vt){for(var Et=-1,Kt=null==Ze?0:Ze.length;++Et<Kt;)if(!vt(Ze[Et],Et,Ze))return!1;return!0}function le(Ze,vt){for(var Et=-1,Kt=null==Ze?0:Ze.length,nn=0,ut=[];++Et<Kt;){var qt=Ze[Et];vt(qt,Et,Ze)&&(ut[nn++]=qt)}return ut}function De(Ze,vt){return!(null==Ze||!Ze.length)&&$s(Ze,vt,0)>-1}function Ue(Ze,vt,Et){for(var Kt=-1,nn=null==Ze?0:Ze.length;++Kt<nn;)if(Et(vt,Ze[Kt]))return!0;return!1}function ot(Ze,vt){for(var Et=-1,Kt=null==Ze?0:Ze.length,nn=Array(Kt);++Et<Kt;)nn[Et]=vt(Ze[Et],Et,Ze);return nn}function ct(Ze,vt){for(var Et=-1,Kt=vt.length,nn=Ze.length;++Et<Kt;)Ze[nn+Et]=vt[Et];return Ze}function ze(Ze,vt,Et,Kt){var nn=-1,ut=null==Ze?0:Ze.length;for(Kt&&ut&&(Et=Ze[++nn]);++nn<ut;)Et=vt(Et,Ze[nn],nn,Ze);return Et}function fn(Ze,vt,Et,Kt){var nn=null==Ze?0:Ze.length;for(Kt&&nn&&(Et=Ze[--nn]);nn--;)Et=vt(Et,Ze[nn],nn,Ze);return Et}function jn(Ze,vt){for(var Et=-1,Kt=null==Ze?0:Ze.length;++Et<Kt;)if(vt(Ze[Et],Et,Ze))return!0;return!1}var kr=vu("length");function li(Ze,vt,Et){var Kt;return Et(Ze,function(nn,ut,qt){if(vt(nn,ut,qt))return Kt=ut,!1}),Kt}function qa(Ze,vt,Et,Kt){for(var nn=Ze.length,ut=Et+(Kt?1:-1);Kt?ut--:++ut<nn;)if(vt(Ze[ut],ut,Ze))return ut;return-1}function $s(Ze,vt,Et){return vt==vt?function(Kt,nn,ut){for(var qt=ut-1,Cr=Kt.length;++qt<Cr;)if(Kt[qt]===nn)return qt;return-1}(Ze,vt,Et):qa(Ze,bu,Et)}function Oh(Ze,vt,Et,Kt){for(var nn=Et-1,ut=Ze.length;++nn<ut;)if(Kt(Ze[nn],vt))return nn;return-1}function bu(Ze){return Ze!=Ze}function Il(Ze,vt){var Et=null==Ze?0:Ze.length;return Et?Cc(Ze,vt)/Et:a}function vu(Ze){return function(vt){return null==vt?w:vt[Ze]}}function uo(Ze){return function(vt){return null==Ze?w:Ze[vt]}}function Al(Ze,vt,Et,Kt,nn){return nn(Ze,function(ut,qt,Cr){Et=Kt?(Kt=!1,ut):vt(Et,ut,qt,Cr)}),Et}function Cc(Ze,vt){for(var Et,Kt=-1,nn=Ze.length;++Kt<nn;){var ut=vt(Ze[Kt]);ut!==w&&(Et=Et===w?ut:Et+ut)}return Et}function yu(Ze,vt){for(var Et=-1,Kt=Array(Ze);++Et<Ze;)Kt[Et]=vt(Et);return Kt}function Pl(Ze){return Ze&&Ze.slice(0,Qi(Ze)+1).replace(J,"")}function lo(Ze){return function(vt){return Ze(vt)}}function _u(Ze,vt){return ot(vt,function(Et){return Ze[Et]})}function da(Ze,vt){return Ze.has(vt)}function Rl(Ze,vt){for(var Et=-1,Kt=Ze.length;++Et<Kt&&$s(vt,Ze[Et],0)>-1;);return Et}function kl(Ze,vt){for(var Et=Ze.length;Et--&&$s(vt,Ze[Et],0)>-1;);return Et}var Mh=uo({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Or=uo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ih(Ze){return"\\"+ni[Ze]}function ha(Ze){return Vt.test(Ze)}function _r(Ze){var vt=-1,Et=Array(Ze.size);return Ze.forEach(function(Kt,nn){Et[++vt]=[nn,Kt]}),Et}function wu(Ze,vt){return function(Et){return Ze(vt(Et))}}function Jt(Ze,vt){for(var Et=-1,Kt=Ze.length,nn=0,ut=[];++Et<Kt;){var qt=Ze[Et];qt!==vt&&qt!==v||(Ze[Et]=v,ut[nn++]=Et)}return ut}function pi(Ze){var vt=-1,Et=Array(Ze.size);return Ze.forEach(function(Kt){Et[++vt]=Kt}),Et}function Ur(Ze){return ha(Ze)?function(vt){for(var Et=cr.lastIndex=0;cr.test(vt);)++Et;return Et}(Ze):kr(Ze)}function mr(Ze){return ha(Ze)?Ze.match(cr)||[]:Ze.split("")}function Qi(Ze){for(var vt=Ze.length;vt--&&fe.test(Ze.charAt(vt)););return vt}var zr=uo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Po=function Ze(vt){var Et,Kt=(vt=null==vt?Kn:Po.defaults(Kn.Object(),vt,Po.pick(Kn,ir))).Array,nn=vt.Date,ut=vt.Error,qt=vt.Function,Cr=vt.Math,dr=vt.Object,Ii=vt.RegExp,rs=vt.String,$i=vt.TypeError,Mr=Kt.prototype,Co=dr.prototype,In=vt["__core-js_shared__"],fa=qt.prototype.toString,Tr=Co.hasOwnProperty,Tc=0,Yr=(Et=/[^.]+$/.exec(In&&In.keys&&In.keys.IE_PROTO||""))?"Symbol(src)_1."+Et:"",pa=Co.toString,Ec=fa.call(dr),Us=Kn._,Su=Ii("^"+fa.call(Tr).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xu=ri?vt.Buffer:w,ho=vt.Symbol,Ya=vt.Uint8Array,ma=xu?xu.allocUnsafe:w,Nn=wu(dr.getPrototypeOf,dr),Nl=dr.create,Dc=Co.propertyIsEnumerable,Ro=Mr.splice,Cu=ho?ho.isConcatSpreadable:w,vs=ho?ho.iterator:w,Lr=ho?ho.toStringTag:w,Oc=function(){try{var T=Ri(dr,"defineProperty");return T({},"",{}),T}catch{}}(),eo=vt.clearTimeout!==Kn.clearTimeout&&vt.clearTimeout,to=nn&&nn.now!==Kn.Date.now&&nn.now,Ah=vt.setTimeout!==Kn.setTimeout&&vt.setTimeout,ys=Cr.ceil,Ka=Cr.floor,ko=dr.getOwnPropertySymbols,Ph=xu?xu.isBuffer:w,am=vt.isFinite,ly=Mr.join,Rh=wu(dr.keys,dr),_i=Cr.max,no=Cr.min,kh=nn.now,j1=vt.parseInt,dy=Cr.random,B1=Mr.reverse,cm=Ri(vt,"DataView"),Fl=Ri(vt,"Map"),um=Ri(vt,"Promise"),Tu=Ri(vt,"Set"),Ll=Ri(vt,"WeakMap"),jl=Ri(dr,"create"),Nh=Ll&&new Ll,Eu={},V1=xa(cm),lm=xa(Fl),dm=xa(um),$1=xa(Tu),U1=xa(Ll),Fh=ho?ho.prototype:w,Bl=Fh?Fh.valueOf:w,Lh=Fh?Fh.toString:w;function ce(T){if(mi(T)&&!Un(T)&&!(T instanceof cn)){if(T instanceof is)return T;if(Tr.call(T,"__wrapped__"))return bo(T)}return new is(T)}var Xa=function(){function T(){}return function(M){if(!Fr(M))return{};if(Nl)return Nl(M);T.prototype=M;var L=new T;return T.prototype=w,L}}();function Vl(){}function is(T,M){this.__wrapped__=T,this.__actions__=[],this.__chain__=!!M,this.__index__=0,this.__values__=w}function cn(T){this.__wrapped__=T,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function zs(T){var M=-1,L=null==T?0:T.length;for(this.clear();++M<L;){var W=T[M];this.set(W[0],W[1])}}function No(T){var M=-1,L=null==T?0:T.length;for(this.clear();++M<L;){var W=T[M];this.set(W[0],W[1])}}function ii(T){var M=-1,L=null==T?0:T.length;for(this.clear();++M<L;){var W=T[M];this.set(W[0],W[1])}}function Za(T){var M=-1,L=null==T?0:T.length;for(this.__data__=new ii;++M<L;)this.add(T[M])}function fo(T){var M=this.__data__=new No(T);this.size=M.size}function Qa(T,M){var L=Un(T),W=!L&&Cs(T),te=!L&&!W&&ls(T),pe=!L&&!W&&!te&&cc(T),ke=L||W||te||pe,Be=ke?yu(T.length,rs):[],qe=Be.length;for(var bt in T)!M&&!Tr.call(T,bt)||ke&&("length"==bt||te&&("offset"==bt||"parent"==bt)||pe&&("buffer"==bt||"byteLength"==bt||"byteOffset"==bt)||Xo(bt,qe))||Be.push(bt);return Be}function To(T){var M=T.length;return M?T[Iu(0,M-1)]:w}function hy(T,M){return td(go(T),ss(M,0,T.length))}function jh(T){return td(go(T))}function Bh(T,M,L){(L!==w&&!xs(T[M],L)||L===w&&!(M in T))&&os(T,M,L)}function Eo(T,M,L){var W=T[M];Tr.call(T,M)&&xs(W,L)&&(L!==w||M in T)||os(T,M,L)}function Du(T,M){for(var L=T.length;L--;)if(xs(T[L][0],M))return L;return-1}function fy(T,M,L,W){return Hs(T,function(te,pe,ke){M(W,te,L(te),ke)}),W}function Vh(T,M){return T&&qs(M,si(M),T)}function os(T,M,L){"__proto__"==M&&Oc?Oc(T,M,{configurable:!0,enumerable:!0,value:L,writable:!0}):T[M]=L}function Ou(T,M){for(var L=-1,W=M.length,te=Kt(W),pe=null==T;++L<W;)te[L]=pe?w:zc(T,M[L]);return te}function ss(T,M,L){return T==T&&(L!==w&&(T=T<=L?T:L),M!==w&&(T=T>=M?T:M)),T}function po(T,M,L,W,te,pe){var ke,Be=1&M,qe=2&M,bt=4&M;if(L&&(ke=te?L(T,W,te,pe):L(T)),ke!==w)return ke;if(!Fr(T))return T;var Ct,Nt,Tn,xt=Un(T);if(xt){if(Tn=new(Ct=T).constructor(Nt=Ct.length),Nt&&"string"==typeof Ct[0]&&Tr.call(Ct,"index")&&(Tn.index=Ct.index,Tn.input=Ct.input),ke=Tn,!Be)return go(T,ke)}else{var Mt=io(T),sn=Mt==R||Mt==P;if(ls(T))return nc(T,Be);if(Mt==V||Mt==_||sn&&!te){if(ke=qe||sn?{}:Nr(T),!Be)return qe?function(Ct,Nt){return qs(Ct,Dm(Ct),Nt)}(T,function(Ct,Nt){return Ct&&qs(Nt,oo(Nt),Ct)}(ke,T)):function(Ct,Nt){return qs(Ct,ju(Ct),Nt)}(T,Vh(ke,T))}else{if(!yn[Mt])return te?T:{};ke=function(Ct,Nt,Tn){var Rn,pn,zn=Ct.constructor;switch(Nt){case Pe:return Yl(Ct);case D:case I:return new zn(+Ct);case ie:return Rn=Ct,pn=Tn?Yl(Rn.buffer):Rn.buffer,new Rn.constructor(pn,Rn.byteOffset,Rn.byteLength);case ue:case Fe:case Ye:case dt:case et:case ft:case Rt:case pt:case Ht:return Ru(Ct,Tn);case k:return new zn;case B:case Z:return new zn(Ct);case X:return function(Rn){var gr=new Rn.constructor(Rn.source,ve.exec(Rn));return gr.lastIndex=Rn.lastIndex,gr}(Ct);case Q:return new zn;case de:return Bl?dr(Bl.call(Ct)):{}}}(T,Mt,Be)}}pe||(pe=new fo);var an=pe.get(T);if(an)return an;pe.set(T,ke),Um(T)?T.forEach(function(Ct){ke.add(po(Ct,M,L,Ct,T,pe))}):$m(T)&&T.forEach(function(Ct,Nt){ke.set(Nt,po(Ct,M,L,Nt,T,pe))});var Cn=xt?w:(bt?qe?Jh:Zl:qe?oo:si)(T);return Pt(Cn||T,function(Ct,Nt){Cn&&(Ct=T[Nt=Ct]),Eo(ke,Nt,po(Ct,M,L,Nt,T,pe))}),ke}function $l(T,M,L){var W=L.length;if(null==T)return!W;for(T=dr(T);W--;){var te=L[W],ke=T[te];if(ke===w&&!(te in T)||!(0,M[te])(ke))return!1}return!0}function ga(T,M,L){if("function"!=typeof T)throw new $i(C);return Pn(function(){T.apply(w,L)},M)}function Sn(T,M,L,W){var te=-1,pe=De,ke=!0,Be=T.length,qe=[],bt=M.length;if(!Be)return qe;L&&(M=ot(M,lo(L))),W?(pe=Ue,ke=!1):M.length>=200&&(pe=da,ke=!1,M=new Za(M));e:for(;++te<Be;){var xt=T[te],Mt=null==L?xt:L(xt);if(xt=W||0!==xt?xt:0,ke&&Mt==Mt){for(var sn=bt;sn--;)if(M[sn]===Mt)continue e;qe.push(xt)}else pe(M,Mt,W)||qe.push(xt)}return qe}ce.templateSettings={escape:Gt,evaluate:at,interpolate:vn,variable:"",imports:{_:ce}},(ce.prototype=Vl.prototype).constructor=ce,(is.prototype=Xa(Vl.prototype)).constructor=is,(cn.prototype=Xa(Vl.prototype)).constructor=cn,zs.prototype.clear=function(){this.__data__=jl?jl(null):{},this.size=0},zs.prototype.delete=function(T){var M=this.has(T)&&delete this.__data__[T];return this.size-=M?1:0,M},zs.prototype.get=function(T){var M=this.__data__;if(jl){var L=M[T];return L===b?w:L}return Tr.call(M,T)?M[T]:w},zs.prototype.has=function(T){var M=this.__data__;return jl?M[T]!==w:Tr.call(M,T)},zs.prototype.set=function(T,M){var L=this.__data__;return this.size+=this.has(T)?0:1,L[T]=jl&&M===w?b:M,this},No.prototype.clear=function(){this.__data__=[],this.size=0},No.prototype.delete=function(T){var M=this.__data__,L=Du(M,T);return!(L<0||(L==M.length-1?M.pop():Ro.call(M,L,1),--this.size,0))},No.prototype.get=function(T){var M=this.__data__,L=Du(M,T);return L<0?w:M[L][1]},No.prototype.has=function(T){return Du(this.__data__,T)>-1},No.prototype.set=function(T,M){var L=this.__data__,W=Du(L,T);return W<0?(++this.size,L.push([T,M])):L[W][1]=M,this},ii.prototype.clear=function(){this.size=0,this.__data__={hash:new zs,map:new(Fl||No),string:new zs}},ii.prototype.delete=function(T){var M=Ko(this,T).delete(T);return this.size-=M?1:0,M},ii.prototype.get=function(T){return Ko(this,T).get(T)},ii.prototype.has=function(T){return Ko(this,T).has(T)},ii.prototype.set=function(T,M){var L=Ko(this,T),W=L.size;return L.set(T,M),this.size+=L.size==W?0:1,this},Za.prototype.add=Za.prototype.push=function(T){return this.__data__.set(T,b),this},Za.prototype.has=function(T){return this.__data__.has(T)},fo.prototype.clear=function(){this.__data__=new No,this.size=0},fo.prototype.delete=function(T){var M=this.__data__,L=M.delete(T);return this.size=M.size,L},fo.prototype.get=function(T){return this.__data__.get(T)},fo.prototype.has=function(T){return this.__data__.has(T)},fo.prototype.set=function(T,M){var L=this.__data__;if(L instanceof No){var W=L.__data__;if(!Fl||W.length<199)return W.push([T,M]),this.size=++L.size,this;L=this.__data__=new ii(W)}return L.set(T,M),this.size=L.size,this};var Hs=rc(_s),py=rc($h,!0);function my(T,M){var L=!0;return Hs(T,function(W,te,pe){return L=!!M(W,te,pe)}),L}function Ul(T,M,L){for(var W=-1,te=T.length;++W<te;){var pe=T[W],ke=M(pe);if(null!=ke&&(Be===w?ke==ke&&!Si(ke):L(ke,Be)))var Be=ke,qe=pe}return qe}function hm(T,M){var L=[];return Hs(T,function(W,te,pe){M(W,te,pe)&&L.push(W)}),L}function Ai(T,M,L,W,te){var pe=-1,ke=T.length;for(L||(L=An),te||(te=[]);++pe<ke;){var Be=T[pe];M>0&&L(Be)?M>1?Ai(Be,M-1,L,W,te):ct(te,Be):W||(te[te.length]=Be)}return te}var ba=yy(),fm=yy(!0);function _s(T,M){return T&&ba(T,M,si)}function $h(T,M){return T&&fm(T,M,si)}function zl(T,M){return le(M,function(L){return Do(T[L])})}function Ja(T,M){for(var L=0,W=(M=nr(M,T)).length;null!=T&&L<W;)T=T[Zo(M[L++])];return L&&L==W?T:w}function st(T,M,L){var W=M(T);return Un(T)?W:ct(W,L(T))}function Dn(T){return null==T?T===w?"[object Undefined]":"[object Null]":Lr&&Lr in dr(T)?function(M){var L=Tr.call(M,Lr),W=M[Lr];try{M[Lr]=w;var te=!0}catch{}var pe=pa.call(M);return te&&(L?M[Lr]=W:delete M[Lr]),pe}(T):pa.call(T)}function ur(T,M){return T>M}function hr(T,M){return null!=T&&Tr.call(T,M)}function Ir(T,M){return null!=T&&M in dr(T)}function Hl(T,M,L){for(var W=L?Ue:De,te=T[0].length,pe=T.length,ke=pe,Be=Kt(pe),qe=1/0,bt=[];ke--;){var xt=T[ke];ke&&M&&(xt=ot(xt,lo(M))),qe=no(xt.length,qe),Be[ke]=!L&&(M||te>=120&&xt.length>=120)?new Za(ke&&xt):w}xt=T[0];var Mt=-1,sn=Be[0];e:for(;++Mt<te&&bt.length<qe;){var an=xt[Mt],Cn=M?M(an):an;if(an=L||0!==an?an:0,!(sn?da(sn,Cn):W(bt,Cn,L))){for(ke=pe;--ke;){var Ct=Be[ke];if(!(Ct?da(Ct,Cn):W(T[ke],Cn,L)))continue e}sn&&sn.push(Cn),bt.push(an)}}return bt}function Gs(T,M,L){var W=null==(T=Sy(T,M=nr(M,T)))?T:T[Zo(Hi(M))];return null==W?w:Ve(W,T,L)}function as(T){return mi(T)&&Dn(T)==_}function ec(T,M,L,W,te){return T===M||(null==T||null==M||!mi(T)&&!mi(M)?T!=T&&M!=M:function(pe,ke,Be,qe,bt,xt){var Mt=Un(pe),sn=Un(ke),an=Mt?x:io(pe),Cn=sn?x:io(ke),Ct=(an=an==_?V:an)==V,Nt=(Cn=Cn==_?V:Cn)==V,Tn=an==Cn;if(Tn&&ls(pe)){if(!ls(ke))return!1;Mt=!0,Ct=!1}if(Tn&&!Ct)return xt||(xt=new fo),Mt||cc(pe)?Lu(pe,ke,Be,qe,bt,xt):function(pn,wn,gi,bi,ao,Hr,Wi){switch(gi){case ie:if(pn.byteLength!=wn.byteLength||pn.byteOffset!=wn.byteOffset)return!1;pn=pn.buffer,wn=wn.buffer;case Pe:return!(pn.byteLength!=wn.byteLength||!Hr(new Ya(pn),new Ya(wn)));case D:case I:case B:return xs(+pn,+wn);case A:return pn.name==wn.name&&pn.message==wn.message;case X:case Z:return pn==wn+"";case k:var ds=_r;case Q:if(ds||(ds=pi),pn.size!=wn.size&&!(1&bi))return!1;var Es=Wi.get(pn);if(Es)return Es==wn;bi|=2,Wi.set(pn,wn);var _o=Lu(ds(pn),ds(wn),bi,ao,Hr,Wi);return Wi.delete(pn),_o;case de:if(Bl)return Bl.call(pn)==Bl.call(wn)}return!1}(pe,ke,an,Be,qe,bt,xt);if(!(1&Be)){var Ft=Ct&&Tr.call(pe,"__wrapped__"),zn=Nt&&Tr.call(ke,"__wrapped__");if(Ft||zn){var Rn=Ft?pe.value():pe,gr=zn?ke.value():ke;return xt||(xt=new fo),bt(Rn,gr,Be,qe,xt)}}return!!Tn&&(xt||(xt=new fo),function(pn,wn,gi,bi,ao,Hr){var Wi=1&gi,ds=Zl(pn),Oa=ds.length;if(Oa!=Zl(wn).length&&!Wi)return!1;for(var Es=Oa;Es--;){var _o=ds[Es];if(!(Wi?_o in wn:Tr.call(wn,_o)))return!1}var ig=Hr.get(pn),Df=Hr.get(wn);if(ig&&Df)return ig==wn&&Df==pn;var Xu=!0;Hr.set(pn,wn),Hr.set(wn,pn);for(var Ma=Wi;++Es<Oa;){var Js=pn[_o=ds[Es]],di=wn[_o];if(bi)var og=Wi?bi(di,Js,_o,wn,pn,Hr):bi(Js,di,_o,pn,wn,Hr);if(!(og===w?Js===di||ao(Js,di,gi,bi,Hr):og)){Xu=!1;break}Ma||(Ma="constructor"==_o)}if(Xu&&!Ma){var Kr=pn.constructor,qc=wn.constructor;Kr==qc||!("constructor"in pn)||!("constructor"in wn)||"function"==typeof Kr&&Kr instanceof Kr&&"function"==typeof qc&&qc instanceof qc||(Xu=!1)}return Hr.delete(pn),Hr.delete(wn),Xu}(pe,ke,Be,qe,bt,xt))}(T,M,L,W,ec,te))}function Mu(T,M,L,W){var te=L.length,pe=te,ke=!W;if(null==T)return!pe;for(T=dr(T);te--;){var Be=L[te];if(ke&&Be[2]?Be[1]!==T[Be[0]]:!(Be[0]in T))return!1}for(;++te<pe;){var qe=(Be=L[te])[0],bt=T[qe],xt=Be[1];if(ke&&Be[2]){if(bt===w&&!(qe in T))return!1}else{var Mt=new fo;if(W)var sn=W(bt,xt,qe,T,M,Mt);if(!(sn===w?ec(xt,bt,3,W,Mt):sn))return!1}}return!0}function pm(T){return!(!Fr(T)||(M=T,Yr&&Yr in M))&&(Do(T)?Su:Me).test(xa(T));var M}function gy(T){return"function"==typeof T?T:null==T?Gi:"object"==typeof T?Un(T)?qo(T[0],T[1]):Uh(T):tg(T)}function Gl(T){if(!Vu(T))return Rh(T);var M=[];for(var L in dr(T))Tr.call(T,L)&&"constructor"!=L&&M.push(L);return M}function Ui(T,M){return T<M}function ws(T,M){var L=-1,W=vo(T)?Kt(T.length):[];return Hs(T,function(te,pe,ke){W[++L]=M(te,pe,ke)}),W}function Uh(T){var M=Em(T);return 1==M.length&&M[0][2]?_y(M[0][0],M[0][1]):function(L){return L===T||Mu(L,T,M)}}function qo(T,M){return Bu(T)&&Jl(M)?_y(Zo(T),M):function(L){var W=zc(L,T);return W===w&&W===M?bf(L,T):ec(M,W,3)}}function Yo(T,M,L,W,te){T!==M&&ba(M,function(pe,ke){if(te||(te=new fo),Fr(pe))!function(qe,bt,xt,Mt,sn,an,Cn){var Ct=Mm(qe,xt),Nt=Mm(bt,xt),Tn=Cn.get(Nt);if(Tn)Bh(qe,xt,Tn);else{var Ft=an?an(Ct,Nt,xt+"",qe,bt,Cn):w,zn=Ft===w;if(zn){var Rn=Un(Nt),gr=!Rn&&ls(Nt),pn=!Rn&&!gr&&cc(Nt);Ft=Nt,Rn||gr||pn?Un(Ct)?Ft=Ct:oi(Ct)?Ft=go(Ct):gr?(zn=!1,Ft=nc(Nt,!0)):pn?(zn=!1,Ft=Ru(Nt,!0)):Ft=[]:Wu(Nt)||Cs(Nt)?(Ft=Ct,Cs(Ct)?Ft=ky(Ct):Fr(Ct)&&!Do(Ct)||(Ft=Nr(Nt))):zn=!1}zn&&(Cn.set(Nt,Ft),sn(Ft,Nt,Mt,an,Cn),Cn.delete(Nt)),Bh(qe,xt,Ft)}}(T,M,ke,L,Yo,W,te);else{var Be=W?W(Mm(T,ke),pe,ke+"",T,M,te):w;Be===w&&(Be=pe),Bh(T,ke,Be)}},oo)}function mm(T,M){var L=T.length;if(L)return Xo(M+=M<0?L:0,L)?T[M]:w}function zh(T,M,L){M=M.length?ot(M,function(pe){return Un(pe)?function(ke){return Ja(ke,1===pe.length?pe[0]:pe)}:pe}):[Gi];var W=-1;return M=ot(M,lo(xn())),function(pe,ke){var Be=pe.length;for(pe.sort(function(qe,bt){return function(xt,Mt,sn){for(var an=-1,Cn=xt.criteria,Ct=Mt.criteria,Nt=Cn.length,Tn=sn.length;++an<Nt;){var Ft=ku(Cn[an],Ct[an]);if(Ft)return an>=Tn?Ft:Ft*("desc"==sn[an]?-1:1)}return xt.index-Mt.index}(qe,bt,L)});Be--;)pe[Be]=pe[Be].value;return pe}(ws(T,function(pe,ke,Be){return{criteria:ot(M,function(bt){return bt(pe)}),index:++W,value:pe}}))}function gm(T,M,L){for(var W=-1,te=M.length,pe={};++W<te;){var ke=M[W],Be=Ja(T,ke);L(Be,ke)&&tc(pe,nr(ke,T),Be)}return pe}function Hh(T,M,L,W){var te=W?Oh:$s,pe=-1,ke=M.length,Be=T;for(T===M&&(M=go(M)),L&&(Be=ot(T,lo(L)));++pe<ke;)for(var qe=0,bt=M[pe],xt=L?L(bt):bt;(qe=te(Be,xt,qe,W))>-1;)Be!==T&&Ro.call(Be,qe,1),Ro.call(T,qe,1);return T}function Wl(T,M){for(var L=T?M.length:0,W=L-1;L--;){var te=M[L];if(L==W||te!==pe){var pe=te;Xo(te)?Ro.call(T,te,1):qh(T,te)}}return T}function Iu(T,M){return T+Ka(dy()*(M-T+1))}function Au(T,M){var L="";if(!T||M<1||M>c)return L;do{M%2&&(L+=T),(M=Ka(M/2))&&(T+=T)}while(M);return L}function Gn(T,M){return vr(wy(T,M,Gi),T+"")}function by(T){return To(Ea(T))}function bm(T,M){var L=Ea(T);return td(L,ss(M,0,L.length))}function tc(T,M,L,W){if(!Fr(T))return T;for(var te=-1,pe=(M=nr(M,T)).length,ke=pe-1,Be=T;null!=Be&&++te<pe;){var qe=Zo(M[te]),bt=L;if("__proto__"===qe||"constructor"===qe||"prototype"===qe)return T;if(te!=ke){var xt=Be[qe];(bt=W?W(xt,qe,Be):w)===w&&(bt=Fr(xt)?xt:Xo(M[te+1])?[]:{})}Eo(Be,qe,bt),Be=Be[qe]}return T}var Gh=Nh?function(T,M){return Nh.set(T,M),T}:Gi,vm=Oc?function(T,M){return Oc(T,"toString",{configurable:!0,enumerable:!1,value:_f(M),writable:!0})}:Gi;function ym(T){return td(Ea(T))}function Fo(T,M,L){var W=-1,te=T.length;M<0&&(M=-M>te?0:te+M),(L=L>te?te:L)<0&&(L+=te),te=M>L?0:L-M>>>0,M>>>=0;for(var pe=Kt(te);++W<te;)pe[W]=T[W+M];return pe}function Wh(T,M){var L;return Hs(T,function(W,te,pe){return!(L=M(W,te,pe))}),!!L}function ql(T,M,L){var W=0,te=null==T?W:T.length;if("number"==typeof M&&M==M&&te<=2147483647){for(;W<te;){var pe=W+te>>>1,ke=T[pe];null!==ke&&!Si(ke)&&(L?ke<=M:ke<M)?W=pe+1:te=pe}return te}return Pi(T,M,Gi,L)}function Pi(T,M,L,W){var te=0,pe=null==T?0:T.length;if(0===pe)return 0;for(var ke=(M=L(M))!=M,Be=null===M,qe=Si(M),bt=M===w;te<pe;){var xt=Ka((te+pe)/2),Mt=L(T[xt]),sn=Mt!==w,an=null===Mt,Cn=Mt==Mt,Ct=Si(Mt);if(ke)var Nt=W||Cn;else Nt=bt?Cn&&(W||sn):Be?Cn&&sn&&(W||!an):qe?Cn&&sn&&!an&&(W||!Ct):!an&&!Ct&&(W?Mt<=M:Mt<M);Nt?te=xt+1:pe=xt}return no(pe,4294967294)}function va(T,M){for(var L=-1,W=T.length,te=0,pe=[];++L<W;){var ke=T[L],Be=M?M(ke):ke;if(!L||!xs(Be,qe)){var qe=Be;pe[te++]=0===ke?0:ke}}return pe}function jr(T){return"number"==typeof T?T:Si(T)?a:+T}function Lo(T){if("string"==typeof T)return T;if(Un(T))return ot(T,Lo)+"";if(Si(T))return Lh?Lh.call(T):"";var M=T+"";return"0"==M&&1/T==-1/0?"-0":M}function ya(T,M,L){var W=-1,te=De,pe=T.length,ke=!0,Be=[],qe=Be;if(L)ke=!1,te=Ue;else if(pe>=200){var bt=M?null:Ar(T);if(bt)return pi(bt);ke=!1,te=da,qe=new Za}else qe=M?[]:Be;e:for(;++W<pe;){var xt=T[W],Mt=M?M(xt):xt;if(xt=L||0!==xt?xt:0,ke&&Mt==Mt){for(var sn=qe.length;sn--;)if(qe[sn]===Mt)continue e;M&&qe.push(Mt),Be.push(xt)}else te(qe,Mt,L)||(qe!==Be&&qe.push(Mt),Be.push(xt))}return Be}function qh(T,M){return null==(T=Sy(T,M=nr(M,T)))||delete T[Zo(Hi(M))]}function _m(T,M,L,W){return tc(T,M,L(Ja(T,M)),W)}function Pu(T,M,L,W){for(var te=T.length,pe=W?te:-1;(W?pe--:++pe<te)&&M(T[pe],pe,T););return L?Fo(T,W?0:pe,W?pe+1:te):Fo(T,W?pe+1:0,W?te:pe)}function Yh(T,M){var L=T;return L instanceof cn&&(L=L.value()),ze(M,function(W,te){return te.func.apply(te.thisArg,ct([W],te.args))},L)}function Mc(T,M,L){var W=T.length;if(W<2)return W?ya(T[0]):[];for(var te=-1,pe=Kt(W);++te<W;)for(var ke=T[te],Be=-1;++Be<W;)Be!=te&&(pe[te]=Sn(pe[te]||ke,T[Be],M,L));return ya(Ai(pe,1),M,L)}function Ws(T,M,L){for(var W=-1,te=T.length,pe=M.length,ke={};++W<te;)L(ke,T[W],W<pe?M[W]:w);return ke}function Kh(T){return oi(T)?T:[]}function _a(T){return"function"==typeof T?T:Gi}function nr(T,M){return Un(T)?T:Bu(T,M)?[T]:nd(wr(T))}var wm=Gn;function wa(T,M,L){var W=T.length;return L=L===w?W:L,!M&&L>=W?T:Fo(T,M,L)}var mo=eo||function(T){return Kn.clearTimeout(T)};function nc(T,M){if(M)return T.slice();var L=T.length,W=ma?ma(L):new T.constructor(L);return T.copy(W),W}function Yl(T){var M=new T.constructor(T.byteLength);return new Ya(M).set(new Ya(T)),M}function Ru(T,M){var L=M?Yl(T.buffer):T.buffer;return new T.constructor(L,T.byteOffset,T.length)}function ku(T,M){if(T!==M){var L=T!==w,W=null===T,te=T==T,pe=Si(T),ke=M!==w,Be=null===M,qe=M==M,bt=Si(M);if(!Be&&!bt&&!pe&&T>M||pe&&ke&&qe&&!Be&&!bt||W&&ke&&qe||!L&&qe||!te)return 1;if(!W&&!pe&&!bt&&T<M||bt&&L&&te&&!W&&!pe||Be&&L&&te||!ke&&te||!qe)return-1}return 0}function Kl(T,M,L,W){for(var te=-1,pe=T.length,ke=L.length,Be=-1,qe=M.length,bt=_i(pe-ke,0),xt=Kt(qe+bt),Mt=!W;++Be<qe;)xt[Be]=M[Be];for(;++te<ke;)(Mt||te<pe)&&(xt[L[te]]=T[te]);for(;bt--;)xt[Be++]=T[te++];return xt}function vy(T,M,L,W){for(var te=-1,pe=T.length,ke=-1,Be=L.length,qe=-1,bt=M.length,xt=_i(pe-Be,0),Mt=Kt(xt+bt),sn=!W;++te<xt;)Mt[te]=T[te];for(var an=te;++qe<bt;)Mt[an+qe]=M[qe];for(;++ke<Be;)(sn||te<pe)&&(Mt[an+L[ke]]=T[te++]);return Mt}function go(T,M){var L=-1,W=T.length;for(M||(M=Kt(W));++L<W;)M[L]=T[L];return M}function qs(T,M,L,W){var te=!L;L||(L={});for(var pe=-1,ke=M.length;++pe<ke;){var Be=M[pe],qe=W?W(L[Be],T[Be],Be,L,T):w;qe===w&&(qe=T[Be]),te?os(L,Be,qe):Eo(L,Be,qe)}return L}function ro(T,M){return function(L,W){var te=Un(L)?It:fy,pe=M?M():{};return te(L,T,xn(W,2),pe)}}function Sa(T){return Gn(function(M,L){var W=-1,te=L.length,pe=te>1?L[te-1]:w,ke=te>2?L[2]:w;for(pe=T.length>3&&"function"==typeof pe?(te--,pe):w,ke&&zi(L[0],L[1],ke)&&(pe=te<3?w:pe,te=1),M=dr(M);++W<te;){var Be=L[W];Be&&T(M,Be,W,pe)}return M})}function rc(T,M){return function(L,W){if(null==L)return L;if(!vo(L))return T(L,W);for(var te=L.length,pe=M?te:-1,ke=dr(L);(M?pe--:++pe<te)&&!1!==W(ke[pe],pe,ke););return L}}function yy(T){return function(M,L,W){for(var te=-1,pe=dr(M),ke=W(M),Be=ke.length;Be--;){var qe=ke[T?Be:++te];if(!1===L(pe[qe],qe,pe))break}return M}}function Xh(T){return function(M){var L=ha(M=wr(M))?mr(M):w,W=L?L[0]:M.charAt(0),te=L?wa(L,1).join(""):M.slice(1);return W[T]()+te}}function Ic(T){return function(M){return ze(Xm(lc(M).replace(Bt,"")),T,"")}}function Ss(T){return function(){var M=arguments;switch(M.length){case 0:return new T;case 1:return new T(M[0]);case 2:return new T(M[0],M[1]);case 3:return new T(M[0],M[1],M[2]);case 4:return new T(M[0],M[1],M[2],M[3]);case 5:return new T(M[0],M[1],M[2],M[3],M[4]);case 6:return new T(M[0],M[1],M[2],M[3],M[4],M[5]);case 7:return new T(M[0],M[1],M[2],M[3],M[4],M[5],M[6])}var L=Xa(T.prototype),W=T.apply(L,M);return Fr(W)?W:L}}function Ac(T){return function(M,L,W){var te=dr(M);if(!vo(M)){var pe=xn(L,3);M=si(M),L=function(Be){return pe(te[Be],Be,te)}}var ke=T(M,L,W);return ke>-1?te[pe?M[ke]:ke]:w}}function Sm(T){return us(function(M){var L=M.length,W=L,te=is.prototype.thru;for(T&&M.reverse();W--;){var pe=M[W];if("function"!=typeof pe)throw new $i(C);if(te&&!ke&&"wrapper"==oc(pe))var ke=new is([],!0)}for(W=ke?W:L;++W<L;){var Be=oc(pe=M[W]),qe="wrapper"==Be?Dt(pe):w;ke=qe&&Ql(qe[0])&&424==qe[1]&&!qe[4].length&&1==qe[9]?ke[oc(qe[0])].apply(ke,qe[3]):1==pe.length&&Ql(pe)?ke[Be]():ke.thru(pe)}return function(){var bt=arguments,xt=bt[0];if(ke&&1==bt.length&&Un(xt))return ke.plant(xt).value();for(var Mt=0,sn=L?M[Mt].apply(this,bt):xt;++Mt<L;)sn=M[Mt].call(this,sn);return sn}})}function Nu(T,M,L,W,te,pe,ke,Be,qe,bt){var xt=M&m,Mt=1&M,sn=2&M,an=24&M,Cn=512&M,Ct=sn?w:Ss(T);return function Nt(){for(var Tn=arguments.length,Ft=Kt(Tn),zn=Tn;zn--;)Ft[zn]=arguments[zn];if(an)var Rn=kc(Nt),gr=function(bi,ao){for(var Hr=bi.length,Wi=0;Hr--;)bi[Hr]===ao&&++Wi;return Wi}(Ft,Rn);if(W&&(Ft=Kl(Ft,W,te,an)),pe&&(Ft=vy(Ft,pe,ke,an)),Tn-=gr,an&&Tn<bt){var pn=Jt(Ft,Rn);return Ot(T,M,Nu,Nt.placeholder,L,Ft,pn,Be,qe,bt-Tn)}var wn=Mt?L:this,gi=sn?wn[T]:T;return Tn=Ft.length,Be?Ft=function(bi,ao){for(var Hr=bi.length,Wi=no(ao.length,Hr),ds=go(bi);Wi--;){var Oa=ao[Wi];bi[Wi]=Xo(Oa,Hr)?ds[Oa]:w}return bi}(Ft,Be):Cn&&Tn>1&&Ft.reverse(),xt&&qe<Tn&&(Ft.length=qe),this&&this!==Kn&&this instanceof Nt&&(gi=Ct||Ss(gi)),gi.apply(wn,Ft)}}function Zh(T,M){return function(L,W){return te=L,pe=T,ke=M(W),Be={},_s(te,function(qe,bt,xt){pe(Be,ke(qe),bt,xt)}),Be;var te,pe,ke,Be}}function ic(T,M){return function(L,W){var te;if(L===w&&W===w)return M;if(L!==w&&(te=L),W!==w){if(te===w)return W;"string"==typeof L||"string"==typeof W?(L=Lo(L),W=Lo(W)):(L=jr(L),W=jr(W)),te=T(L,W)}return te}}function Pc(T){return us(function(M){return M=ot(M,lo(xn())),Gn(function(L){var W=this;return T(M,function(te){return Ve(te,W,L)})})})}function Rc(T,M){var L=(M=M===w?" ":Lo(M)).length;if(L<2)return L?Au(M,T):M;var W=Au(M,ys(T/Ur(M)));return ha(M)?wa(mr(W),0,T).join(""):W.slice(0,T)}function xm(T){return function(M,L,W){return W&&"number"!=typeof W&&zi(M,L,W)&&(L=W=w),M=Qs(M),L===w?(L=M,M=0):L=Qs(L),function(te,pe,ke,Be){for(var qe=-1,bt=_i(ys((pe-te)/(ke||1)),0),xt=Kt(bt);bt--;)xt[Be?bt:++qe]=te,te+=ke;return xt}(M,L,W=W===w?M<L?1:-1:Qs(W),T)}}function cs(T){return function(M,L){return"string"==typeof M&&"string"==typeof L||(M=yo(M),L=yo(L)),T(M,L)}}function Ot(T,M,L,W,te,pe,ke,Be,qe,bt){var xt=8&M;M|=xt?p:64,4&(M&=~(xt?64:p))||(M&=-4);var Mt=[T,M,te,xt?pe:w,xt?ke:w,xt?w:pe,xt?w:ke,Be,qe,bt],sn=L.apply(w,Mt);return Ql(T)&&ed(sn,Mt),sn.placeholder=W,xy(sn,T,M)}function Cm(T){var M=Cr[T];return function(L,W){if(L=yo(L),(W=null==W?0:no(Wn(W),292))&&am(L)){var te=(wr(L)+"e").split("e");return+((te=(wr(M(te[0]+"e"+(+te[1]+W)))+"e").split("e"))[0]+"e"+(+te[1]-W))}return M(L)}}var Ar=Tu&&1/pi(new Tu([,-0]))[1]==f?function(T){return new Tu(T)}:xf;function Fu(T){return function(M){var W,L=io(M);return L==k?_r(M):L==Q?function Xn(Ze){var vt=-1,Et=Array(Ze.size);return Ze.forEach(function(Kt){Et[++vt]=[Kt,Kt]}),Et}(M):(W=M,ot(T(M),function(pe){return[pe,W[pe]]}))}}function Ys(T,M,L,W,te,pe,ke,Be){var qe=2&M;if(!qe&&"function"!=typeof T)throw new $i(C);var bt=W?W.length:0;if(bt||(M&=-97,W=te=w),ke=ke===w?ke:_i(Wn(ke),0),Be=Be===w?Be:Wn(Be),bt-=te?te.length:0,64&M){var xt=W,Mt=te;W=te=w}var Ct,Nt,Tn,Ft,sn=qe?w:Dt(T),an=[T,M,L,W,te,xt,Mt,pe,ke,Be];if(sn&&function(Ct,Nt){var Tn=Ct[1],Ft=Nt[1],zn=Tn|Ft;if(!(zn<131||Ft==m&&8==Tn||Ft==m&&256==Tn&&Ct[7].length<=Nt[8]||384==Ft&&Nt[7].length<=Nt[8]&&8==Tn))return Ct;1&Ft&&(Ct[2]=Nt[2],zn|=1&Tn?0:4);var pn=Nt[3];if(pn){var wn=Ct[3];Ct[3]=wn?Kl(wn,pn,Nt[4]):pn,Ct[4]=wn?Jt(Ct[3],v):Nt[4]}(pn=Nt[5])&&(Ct[5]=(wn=Ct[5])?vy(wn,pn,Nt[6]):pn,Ct[6]=wn?Jt(Ct[5],v):Nt[6]),(pn=Nt[7])&&(Ct[7]=pn),Ft&m&&(Ct[8]=null==Ct[8]?Nt[8]:no(Ct[8],Nt[8])),null==Ct[9]&&(Ct[9]=Nt[9]),Ct[0]=Nt[0],Ct[1]=zn}(an,sn),T=an[0],M=an[1],L=an[2],W=an[3],te=an[4],!(Be=an[9]=an[9]===w?qe?0:T.length:_i(an[9]-bt,0))&&24&M&&(M&=-25),M&&1!=M)Cn=8==M||16==M?(Nt=M,Tn=Be,Ft=Ss(Ct=T),function zn(){for(var Rn=arguments.length,gr=Kt(Rn),pn=Rn,wn=kc(zn);pn--;)gr[pn]=arguments[pn];var gi=Rn<3&&gr[0]!==wn&&gr[Rn-1]!==wn?[]:Jt(gr,wn);return(Rn-=gi.length)<Tn?Ot(Ct,Nt,Nu,zn.placeholder,w,gr,gi,w,w,Tn-Rn):Ve(this&&this!==Kn&&this instanceof zn?Ft:Ct,this,gr)}):M!=p&&33!=M||te.length?Nu.apply(w,an):function(Ct,Nt,Tn,Ft){var zn=1&Nt,Rn=Ss(Ct);return function gr(){for(var pn=-1,wn=arguments.length,gi=-1,bi=Ft.length,ao=Kt(bi+wn),Hr=this&&this!==Kn&&this instanceof gr?Rn:Ct;++gi<bi;)ao[gi]=Ft[gi];for(;wn--;)ao[gi++]=arguments[++pn];return Ve(Hr,zn?Tn:this,ao)}}(T,M,L,W);else var Cn=function(Ct,Nt,Tn){var Ft=1&Nt,zn=Ss(Ct);return function Rn(){return(this&&this!==Kn&&this instanceof Rn?zn:Ct).apply(Ft?Tn:this,arguments)}}(T,M,L);return xy((sn?Gh:ed)(Cn,an),T,M)}function Qh(T,M,L,W){return T===w||xs(T,Co[L])&&!Tr.call(W,L)?M:T}function Tm(T,M,L,W,te,pe){return Fr(T)&&Fr(M)&&(pe.set(M,T),Yo(T,M,w,Tm,pe),pe.delete(M)),T}function Xl(T){return Wu(T)?w:T}function Lu(T,M,L,W,te,pe){var ke=1&L,Be=T.length,qe=M.length;if(Be!=qe&&!(ke&&qe>Be))return!1;var bt=pe.get(T),xt=pe.get(M);if(bt&&xt)return bt==M&&xt==T;var Mt=-1,sn=!0,an=2&L?new Za:w;for(pe.set(T,M),pe.set(M,T);++Mt<Be;){var Cn=T[Mt],Ct=M[Mt];if(W)var Nt=ke?W(Ct,Cn,Mt,M,T,pe):W(Cn,Ct,Mt,T,M,pe);if(Nt!==w){if(Nt)continue;sn=!1;break}if(an){if(!jn(M,function(Tn,Ft){if(!da(an,Ft)&&(Cn===Tn||te(Cn,Tn,L,W,pe)))return an.push(Ft)})){sn=!1;break}}else if(Cn!==Ct&&!te(Cn,Ct,L,W,pe)){sn=!1;break}}return pe.delete(T),pe.delete(M),sn}function us(T){return vr(wy(T,w,$u),T+"")}function Zl(T){return st(T,si,ju)}function Jh(T){return st(T,oo,Dm)}var Dt=Nh?function(T){return Nh.get(T)}:xf;function oc(T){for(var M=T.name+"",L=Eu[M],W=Tr.call(Eu,M)?L.length:0;W--;){var te=L[W],pe=te.func;if(null==pe||pe==T)return te.name}return M}function kc(T){return(Tr.call(ce,"placeholder")?ce:T).placeholder}function xn(){var T=ce.iteratee||Sf;return T=T===Sf?gy:T,arguments.length?T(arguments[0],arguments[1]):T}function Ko(T,M){var L,W,te=T.__data__;return("string"==(W=typeof(L=M))||"number"==W||"symbol"==W||"boolean"==W?"__proto__"!==L:null===L)?te["string"==typeof M?"string":"hash"]:te.map}function Em(T){for(var M=si(T),L=M.length;L--;){var W=M[L],te=T[W];M[L]=[W,te,Jl(te)]}return M}function Ri(T,M){var W,L=null==(W=T)?w:W[M];return pm(L)?L:w}var ju=ko?function(T){return null==T?[]:(T=dr(T),le(ko(T),function(M){return Dc.call(T,M)}))}:Qo,Dm=ko?function(T){for(var M=[];T;)ct(M,ju(T)),T=Nn(T);return M}:Qo,io=Dn;function Om(T,M,L){for(var W=-1,te=(M=nr(M,T)).length,pe=!1;++W<te;){var ke=Zo(M[W]);if(!(pe=null!=T&&L(T,ke)))break;T=T[ke]}return pe||++W!=te?pe:!!(te=null==T?0:T.length)&&Uc(te)&&Xo(ke,te)&&(Un(T)||Cs(T))}function Nr(T){return"function"!=typeof T.constructor||Vu(T)?{}:Xa(Nn(T))}function An(T){return Un(T)||Cs(T)||!!(Cu&&T&&T[Cu])}function Xo(T,M){var L=typeof T;return!!(M=M??c)&&("number"==L||"symbol"!=L&&xe.test(T))&&T>-1&&T%1==0&&T<M}function zi(T,M,L){if(!Fr(L))return!1;var W=typeof M;return!!("number"==W?vo(L)&&Xo(M,L.length):"string"==W&&M in L)&&xs(L[M],T)}function Bu(T,M){if(Un(T))return!1;var L=typeof T;return!("number"!=L&&"symbol"!=L&&"boolean"!=L&&null!=T&&!Si(T))||Se.test(T)||!Y.test(T)||null!=M&&T in dr(M)}function Ql(T){var M=oc(T),L=ce[M];if("function"!=typeof L||!(M in cn.prototype))return!1;if(T===L)return!0;var W=Dt(L);return!!W&&T===W[0]}(cm&&io(new cm(new ArrayBuffer(1)))!=ie||Fl&&io(new Fl)!=k||um&&io(um.resolve())!=j||Tu&&io(new Tu)!=Q||Ll&&io(new Ll)!=he)&&(io=function(T){var M=Dn(T),L=M==V?T.constructor:w,W=L?xa(L):"";if(W)switch(W){case V1:return ie;case lm:return k;case dm:return j;case $1:return Q;case U1:return he}return M});var ef=In?Do:Tf;function Vu(T){var M=T&&T.constructor;return T===("function"==typeof M&&M.prototype||Co)}function Jl(T){return T==T&&!Fr(T)}function _y(T,M){return function(L){return null!=L&&L[T]===M&&(M!==w||T in dr(L))}}function wy(T,M,L){return M=_i(M===w?T.length-1:M,0),function(){for(var W=arguments,te=-1,pe=_i(W.length-M,0),ke=Kt(pe);++te<pe;)ke[te]=W[M+te];te=-1;for(var Be=Kt(M+1);++te<M;)Be[te]=W[te];return Be[M]=L(ke),Ve(T,this,Be)}}function Sy(T,M){return M.length<2?T:Ja(T,Fo(M,0,-1))}function Mm(T,M){if(("constructor"!==M||"function"!=typeof T[M])&&"__proto__"!=M)return T[M]}var ed=Im(Gh),Pn=Ah||function(T,M){return Kn.setTimeout(T,M)},vr=Im(vm);function xy(T,M,L){var pe,W=M+"";return vr(T,function(te,pe){var ke=pe.length;if(!ke)return te;var Be=ke-1;return pe[Be]=(ke>1?"& ":"")+pe[Be],pe=pe.join(ke>2?", ":" "),te.replace(be,"{\n/* [wrapped with "+pe+"] */\n")}(W,function(te,pe){return Pt(h,function(ke){var Be="_."+ke[0];pe&ke[1]&&!De(te,Be)&&te.push(Be)}),te.sort()}((pe=W.match(Ee))?pe[1].split(it):[],L)))}function Im(T){var M=0,L=0;return function(){var W=kh(),te=16-(W-L);if(L=W,te>0){if(++M>=800)return arguments[0]}else M=0;return T.apply(w,arguments)}}function td(T,M){var L=-1,W=T.length,te=W-1;for(M=M===w?W:M;++L<M;){var pe=Iu(L,te),ke=T[pe];T[pe]=T[L],T[L]=ke}return T.length=M,T}var Am,tf,nd=(Am=ad(function(T){var M=[];return 46===T.charCodeAt(0)&&M.push(""),T.replace(F,function(L,W,te,pe){M.push(te?pe.replace(q,"$1"):W||L)}),M},function(T){return 500===tf.size&&tf.clear(),T}),tf=Am.cache,Am);function Zo(T){if("string"==typeof T||Si(T))return T;var M=T+"";return"0"==M&&1/T==-1/0?"-0":M}function xa(T){if(null!=T){try{return fa.call(T)}catch{}try{return T+""}catch{}}return""}function bo(T){if(T instanceof cn)return T.clone();var M=new is(T.__wrapped__,T.__chain__);return M.__actions__=go(T.__actions__),M.__index__=T.__index__,M.__values__=T.__values__,M}var Pm=Gn(function(T,M){return oi(T)?Sn(T,Ai(M,1,oi,!0)):[]}),z1=Gn(function(T,M){var L=Hi(M);return oi(L)&&(L=w),oi(T)?Sn(T,Ai(M,1,oi,!0),xn(L,2)):[]}),H1=Gn(function(T,M){var L=Hi(M);return oi(L)&&(L=w),oi(T)?Sn(T,Ai(M,1,oi,!0),w,L):[]});function Nc(T,M,L){var W=null==T?0:T.length;if(!W)return-1;var te=null==L?0:Wn(L);return te<0&&(te=_i(W+te,0)),qa(T,xn(M,3),te)}function rd(T,M,L){var W=null==T?0:T.length;if(!W)return-1;var te=W-1;return L!==w&&(te=Wn(L),te=L<0?_i(W+te,0):no(te,W-1)),qa(T,xn(M,3),te,!0)}function $u(T){return null!=T&&T.length?Ai(T,1):[]}function Rm(T){return T&&T.length?T[0]:w}var Cy=Gn(function(T){var M=ot(T,Kh);return M.length&&M[0]===T[0]?Hl(M):[]}),Ty=Gn(function(T){var M=Hi(T),L=ot(T,Kh);return M===Hi(L)?M=w:L.pop(),L.length&&L[0]===T[0]?Hl(L,xn(M,2)):[]}),km=Gn(function(T){var M=Hi(T),L=ot(T,Kh);return(M="function"==typeof M?M:w)&&L.pop(),L.length&&L[0]===T[0]?Hl(L,w,M):[]});function Hi(T){var M=null==T?0:T.length;return M?T[M-1]:w}var Ey=Gn(Ks);function Ks(T,M){return T&&T.length&&M&&M.length?Hh(T,M):T}var Dy=us(function(T,M){var L=null==T?0:T.length,W=Ou(T,M);return Wl(T,ot(M,function(te){return Xo(te,L)?+te:te}).sort(ku)),W});function We(T){return null==T?T:B1.call(T)}var Nm=Gn(function(T){return ya(Ai(T,1,oi,!0))}),yt=Gn(function(T){var M=Hi(T);return oi(M)&&(M=w),ya(Ai(T,1,oi,!0),xn(M,2))}),id=Gn(function(T){var M=Hi(T);return M="function"==typeof M?M:w,ya(Ai(T,1,oi,!0),w,M)});function Uu(T){if(!T||!T.length)return[];var M=0;return T=le(T,function(L){if(oi(L))return M=_i(L.length,M),!0}),yu(M,function(L){return ot(T,vu(L))})}function Fc(T,M){if(!T||!T.length)return[];var L=Uu(T);return null==M?L:ot(L,function(W){return Ve(M,w,W)})}var Oy=Gn(function(T,M){return oi(T)?Sn(T,M):[]}),My=Gn(function(T){return Mc(le(T,oi))}),Iy=Gn(function(T){var M=Hi(T);return oi(M)&&(M=w),Mc(le(T,oi),xn(M,2))}),G1=Gn(function(T){var M=Hi(T);return M="function"==typeof M?M:w,Mc(le(T,oi),w,M)}),W1=Gn(Uu),od=Gn(function(T){var M=T.length,L=M>1?T[M-1]:w;return L="function"==typeof L?(T.pop(),L):w,Fc(T,L)});function Fm(T){var M=ce(T);return M.__chain__=!0,M}function Lc(T,M){return M(T)}var nf=us(function(T){var M=T.length,L=M?T[0]:0,W=this.__wrapped__,te=function(pe){return Ou(pe,T)};return!(M>1||this.__actions__.length)&&W instanceof cn&&Xo(L)?((W=W.slice(L,+L+(M?1:0))).__actions__.push({func:Lc,args:[te],thisArg:w}),new is(W,this.__chain__).thru(function(pe){return M&&!pe.length&&pe.push(w),pe})):this.thru(te)}),jc=ro(function(T,M,L){Tr.call(T,L)?++T[L]:os(T,L,1)}),rf=Ac(Nc),sf=Ac(rd);function Bc(T,M){return(Un(T)?Pt:Hs)(T,xn(M,3))}function zu(T,M){return(Un(T)?Mn:py)(T,xn(M,3))}var Vc=ro(function(T,M,L){Tr.call(T,L)?T[L].push(M):os(T,L,[M])}),af=Gn(function(T,M,L){var W=-1,te="function"==typeof M,pe=vo(T)?Kt(T.length):[];return Hs(T,function(ke){pe[++W]=te?Ve(M,ke,L):Gs(ke,M,L)}),pe}),cf=ro(function(T,M,L){os(T,L,M)});function sc(T,M){return(Un(T)?ot:ws)(T,xn(M,3))}var q1=ro(function(T,M,L){T[L?0:1].push(M)},function(){return[[],[]]}),uf=Gn(function(T,M){if(null==T)return[];var L=M.length;return L>1&&zi(T,M[0],M[1])?M=[]:L>2&&zi(M[0],M[1],M[2])&&(M=[M[0]]),zh(T,Ai(M,1),[])}),Ca=to||function(){return Kn.Date.now()};function Lm(T,M,L){return M=L?w:M,Ys(T,m,w,w,w,w,M=T&&null==M?T.length:M)}function lf(T,M){var L;if("function"!=typeof M)throw new $i(C);return T=Wn(T),function(){return--T>0&&(L=M.apply(this,arguments)),T<=1&&(M=w),L}}var df=Gn(function(T,M,L){var W=1;if(L.length){var te=Jt(L,kc(df));W|=p}return Ys(T,W,M,L,te)}),jm=Gn(function(T,M,L){var W=3;if(L.length){var te=Jt(L,kc(jm));W|=p}return Ys(M,W,T,L,te)});function sd(T,M,L){var W,te,pe,ke,Be,qe,bt=0,xt=!1,Mt=!1,sn=!0;if("function"!=typeof T)throw new $i(C);function an(Ft){var zn=W,Rn=te;return W=te=w,bt=Ft,ke=T.apply(Rn,zn)}function Cn(Ft){var zn=Ft-qe;return qe===w||zn>=M||zn<0||Mt&&Ft-bt>=pe}function Ct(){var zn,Rn,Ft=Ca();if(Cn(Ft))return Nt(Ft);Be=Pn(Ct,(Rn=M-((zn=Ft)-qe),Mt?no(Rn,pe-(zn-bt)):Rn))}function Nt(Ft){return Be=w,sn&&W?an(Ft):(W=te=w,ke)}function Tn(){var Rn,Ft=Ca(),zn=Cn(Ft);if(W=arguments,te=this,qe=Ft,zn){if(Be===w)return bt=Rn=qe,Be=Pn(Ct,M),xt?an(Rn):ke;if(Mt)return mo(Be),Be=Pn(Ct,M),an(qe)}return Be===w&&(Be=Pn(Ct,M)),ke}return M=yo(M)||0,Fr(L)&&(xt=!!L.leading,pe=(Mt="maxWait"in L)?_i(yo(L.maxWait)||0,M):pe,sn="trailing"in L?!!L.trailing:sn),Tn.cancel=function(){Be!==w&&mo(Be),bt=0,W=qe=te=Be=w},Tn.flush=function(){return Be===w?ke:Nt(Ca())},Tn}var Bm=Gn(function(T,M){return ga(T,1,M)}),Ay=Gn(function(T,M,L){return ga(T,yo(M)||0,L)});function ad(T,M){if("function"!=typeof T||null!=M&&"function"!=typeof M)throw new $i(C);var L=function(){var W=arguments,te=M?M.apply(this,W):W[0],pe=L.cache;if(pe.has(te))return pe.get(te);var ke=T.apply(this,W);return L.cache=pe.set(te,ke)||pe,ke};return L.cache=new(ad.Cache||ii),L}function Xs(T){if("function"!=typeof T)throw new $i(C);return function(){var M=arguments;switch(M.length){case 0:return!T.call(this);case 1:return!T.call(this,M[0]);case 2:return!T.call(this,M[0],M[1]);case 3:return!T.call(this,M[0],M[1],M[2])}return!T.apply(this,M)}}ad.Cache=ii;var Vm=wm(function(T,M){var L=(M=1==M.length&&Un(M[0])?ot(M[0],lo(xn())):ot(Ai(M,1),lo(xn()))).length;return Gn(function(W){for(var te=-1,pe=no(W.length,L);++te<pe;)W[te]=M[te].call(this,W[te]);return Ve(T,this,W)})}),Hu=Gn(function(T,M){var L=Jt(M,kc(Hu));return Ys(T,p,w,M,L)}),hf=Gn(function(T,M){var L=Jt(M,kc(hf));return Ys(T,64,w,M,L)}),Y1=us(function(T,M){return Ys(T,256,w,w,w,M)});function xs(T,M){return T===M||T!=T&&M!=M}var Gu=cs(ur),Py=cs(function(T,M){return T>=M}),Cs=as(function(){return arguments}())?as:function(T){return mi(T)&&Tr.call(T,"callee")&&!Dc.call(T,"callee")},Un=Kt.isArray,Ry=pr?lo(pr):function(T){return mi(T)&&Dn(T)==Pe};function vo(T){return null!=T&&Uc(T.length)&&!Do(T)}function oi(T){return mi(T)&&vo(T)}var ls=Ph||Tf,$c=gn?lo(gn):function(T){return mi(T)&&Dn(T)==I};function Ta(T){if(!mi(T))return!1;var M=Dn(T);return M==A||"[object DOMException]"==M||"string"==typeof T.message&&"string"==typeof T.name&&!Wu(T)}function Do(T){if(!Fr(T))return!1;var M=Dn(T);return M==R||M==P||"[object AsyncFunction]"==M||"[object Proxy]"==M}function ff(T){return"number"==typeof T&&T==Wn(T)}function Uc(T){return"number"==typeof T&&T>-1&&T%1==0&&T<=c}function Fr(T){var M=typeof T;return null!=T&&("object"==M||"function"==M)}function mi(T){return null!=T&&"object"==typeof T}var $m=$r?lo($r):function(T){return mi(T)&&io(T)==k};function Zs(T){return"number"==typeof T||mi(T)&&Dn(T)==B}function Wu(T){if(!mi(T)||Dn(T)!=V)return!1;var M=Nn(T);if(null===M)return!0;var L=Tr.call(M,"constructor")&&M.constructor;return"function"==typeof L&&L instanceof L&&fa.call(L)==Ec}var ac=se?lo(se):function(T){return mi(T)&&Dn(T)==X},Um=Te?lo(Te):function(T){return mi(T)&&io(T)==Q};function Ts(T){return"string"==typeof T||!Un(T)&&mi(T)&&Dn(T)==Z}function Si(T){return"symbol"==typeof T||mi(T)&&Dn(T)==de}var cc=Ie?lo(Ie):function(T){return mi(T)&&Uc(T.length)&&!!Xt[Dn(T)]},pf=cs(Ui),cd=cs(function(T,M){return T<=M});function qu(T){if(!T)return[];if(vo(T))return Ts(T)?mr(T):go(T);if(vs&&T[vs])return function(L){for(var W,te=[];!(W=L.next()).done;)te.push(W.value);return te}(T[vs]());var M=io(T);return(M==k?_r:M==Q?pi:Ea)(T)}function Qs(T){return T?(T=yo(T))===f||T===-1/0?17976931348623157e292*(T<0?-1:1):T==T?T:0:0===T?T:0}function Wn(T){var M=Qs(T),L=M%1;return M==M?L?M-L:M:0}function mf(T){return T?ss(Wn(T),0,d):0}function yo(T){if("number"==typeof T)return T;if(Si(T))return a;if(Fr(T)){var M="function"==typeof T.valueOf?T.valueOf():T;T=Fr(M)?M+"":M}if("string"!=typeof T)return 0===T?T:+T;T=Pl(T);var L=Le.test(T);return L||ne.test(T)?Vr(T.slice(2),L?2:8):we.test(T)?a:+T}function ky(T){return qs(T,oo(T))}function wr(T){return null==T?"":Lo(T)}var Ny=Sa(function(T,M){if(Vu(M)||vo(M))qs(M,si(M),T);else for(var L in M)Tr.call(M,L)&&Eo(T,L,M[L])}),ud=Sa(function(T,M){qs(M,oo(M),T)}),Yu=Sa(function(T,M,L,W){qs(M,oo(M),T,W)}),zm=Sa(function(T,M,L,W){qs(M,si(M),T,W)}),uc=us(Ou),Fy=Gn(function(T,M){T=dr(T);var L=-1,W=M.length,te=W>2?M[2]:w;for(te&&zi(M[0],M[1],te)&&(W=1);++L<W;)for(var pe=M[L],ke=oo(pe),Be=-1,qe=ke.length;++Be<qe;){var bt=ke[Be],xt=T[bt];(xt===w||xs(xt,Co[bt])&&!Tr.call(T,bt))&&(T[bt]=pe[bt])}return T}),gf=Gn(function(T){return T.push(w,Tm),Ve(Hm,w,T)});function zc(T,M,L){var W=null==T?w:Ja(T,M);return W===w?L:W}function bf(T,M){return null!=T&&Om(T,M,Ir)}var vf=Zh(function(T,M,L){null!=M&&"function"!=typeof M.toString&&(M=pa.call(M)),T[M]=L},_f(Gi)),ld=Zh(function(T,M,L){null!=M&&"function"!=typeof M.toString&&(M=pa.call(M)),Tr.call(T,M)?T[M].push(L):T[M]=[L]},xn),jo=Gn(Gs);function si(T){return vo(T)?Qa(T):Gl(T)}function oo(T){return vo(T)?Qa(T,!0):function(M){if(!Fr(M))return function(pe){var ke=[];if(null!=pe)for(var Be in dr(pe))ke.push(Be);return ke}(M);var L=Vu(M),W=[];for(var te in M)("constructor"!=te||!L&&Tr.call(M,te))&&W.push(te);return W}(T)}var Ly=Sa(function(T,M,L){Yo(T,M,L)}),Hm=Sa(function(T,M,L,W){Yo(T,M,L,W)}),Gm=us(function(T,M){var L={};if(null==T)return L;var W=!1;M=ot(M,function(pe){return pe=nr(pe,T),W||(W=pe.length>1),pe}),qs(T,Jh(T),L),W&&(L=po(L,7,Xl));for(var te=M.length;te--;)qh(L,M[te]);return L}),Hc=us(function(T,M){return null==T?{}:gm(L=T,M,function(te,pe){return bf(L,pe)});var L});function Wm(T,M){if(null==T)return{};var L=ot(Jh(T),function(W){return[W]});return M=xn(M),gm(T,L,function(W,te){return M(W,te[0])})}var qm=Fu(si),Ym=Fu(oo);function Ea(T){return null==T?[]:_u(T,si(T))}var Da=Ic(function(T,M,L){return M=M.toLowerCase(),T+(L?dd(M):M)});function dd(T){return yf(wr(T).toLowerCase())}function lc(T){return(T=wr(T))&&T.replace(ye,Mh).replace(on,"")}var jy=Ic(function(T,M,L){return T+(L?"-":"")+M.toLowerCase()}),By=Ic(function(T,M,L){return T+(L?" ":"")+M.toLowerCase()}),xi=Xh("toLowerCase"),Km=Ic(function(T,M,L){return T+(L?"_":"")+M.toLowerCase()}),Vy=Ic(function(T,M,L){return T+(L?" ":"")+yf(M)}),Ku=Ic(function(T,M,L){return T+(L?" ":"")+M.toUpperCase()}),yf=Xh("toUpperCase");function Xm(T,M,L){return T=wr(T),(M=L?w:M)===w?zt.test(T)?T.match(un)||[]:function(W){return W.match(nt)||[]}(T):T.match(M)||[]}var Zm=Gn(function(T,M){try{return Ve(T,w,M)}catch(L){return Ta(L)?L:new ut(L)}}),$y=us(function(T,M){return Pt(M,function(L){L=Zo(L),os(T,L,df(T[L],T))}),T});function _f(T){return function(){return T}}var Uy=Sm(),wf=Sm(!0);function Gi(T){return T}function Sf(T){return gy("function"==typeof T?T:po(T,1))}var Qm=Gn(function(T,M){return function(L){return Gs(L,T,M)}}),so=Gn(function(T,M){return function(L){return Gs(T,L,M)}});function hd(T,M,L){var W=si(M),te=zl(M,W);null!=L||Fr(M)&&(te.length||!W.length)||(L=M,M=T,T=this,te=zl(M,si(M)));var pe=!(Fr(L)&&"chain"in L&&!L.chain),ke=Do(T);return Pt(te,function(Be){var qe=M[Be];T[Be]=qe,ke&&(T.prototype[Be]=function(){var bt=this.__chain__;if(pe||bt){var xt=T(this.__wrapped__);return(xt.__actions__=go(this.__actions__)).push({func:qe,args:arguments,thisArg:T}),xt.__chain__=bt,xt}return qe.apply(T,ct([this.value()],arguments))})}),T}function xf(){}var zy=Pc(ot),Jm=Pc(oe),eg=Pc(jn);function tg(T){return Bu(T)?vu(Zo(T)):function(M){return function(L){return Ja(L,M)}}(T)}var Cf=xm(),Hy=xm(!0);function Qo(){return[]}function Tf(){return!1}var Gc,fd=ic(function(T,M){return T+M},0),pd=Cm("ceil"),Ef=ic(function(T,M){return T/M},1),ng=Cm("floor"),rg=ic(function(T,M){return T*M},1),Gy=Cm("round"),Wc=ic(function(T,M){return T-M},0);return ce.after=function(T,M){if("function"!=typeof M)throw new $i(C);return T=Wn(T),function(){if(--T<1)return M.apply(this,arguments)}},ce.ary=Lm,ce.assign=Ny,ce.assignIn=ud,ce.assignInWith=Yu,ce.assignWith=zm,ce.at=uc,ce.before=lf,ce.bind=df,ce.bindAll=$y,ce.bindKey=jm,ce.castArray=function(){if(!arguments.length)return[];var T=arguments[0];return Un(T)?T:[T]},ce.chain=Fm,ce.chunk=function(T,M,L){M=(L?zi(T,M,L):M===w)?1:_i(Wn(M),0);var W=null==T?0:T.length;if(!W||M<1)return[];for(var te=0,pe=0,ke=Kt(ys(W/M));te<W;)ke[pe++]=Fo(T,te,te+=M);return ke},ce.compact=function(T){for(var M=-1,L=null==T?0:T.length,W=0,te=[];++M<L;){var pe=T[M];pe&&(te[W++]=pe)}return te},ce.concat=function(){var T=arguments.length;if(!T)return[];for(var M=Kt(T-1),L=arguments[0],W=T;W--;)M[W-1]=arguments[W];return ct(Un(L)?go(L):[L],Ai(M,1))},ce.cond=function(T){var M=null==T?0:T.length,L=xn();return T=M?ot(T,function(W){if("function"!=typeof W[1])throw new $i(C);return[L(W[0]),W[1]]}):[],Gn(function(W){for(var te=-1;++te<M;){var pe=T[te];if(Ve(pe[0],this,W))return Ve(pe[1],this,W)}})},ce.conforms=function(T){return M=po(T,1),L=si(M),function(W){return $l(W,M,L)};var M,L},ce.constant=_f,ce.countBy=jc,ce.create=function(T,M){var L=Xa(T);return null==M?L:Vh(L,M)},ce.curry=function T(M,L,W){var te=Ys(M,8,w,w,w,w,w,L=W?w:L);return te.placeholder=T.placeholder,te},ce.curryRight=function T(M,L,W){var te=Ys(M,16,w,w,w,w,w,L=W?w:L);return te.placeholder=T.placeholder,te},ce.debounce=sd,ce.defaults=Fy,ce.defaultsDeep=gf,ce.defer=Bm,ce.delay=Ay,ce.difference=Pm,ce.differenceBy=z1,ce.differenceWith=H1,ce.drop=function(T,M,L){var W=null==T?0:T.length;return W?Fo(T,(M=L||M===w?1:Wn(M))<0?0:M,W):[]},ce.dropRight=function(T,M,L){var W=null==T?0:T.length;return W?Fo(T,0,(M=W-(M=L||M===w?1:Wn(M)))<0?0:M):[]},ce.dropRightWhile=function(T,M){return T&&T.length?Pu(T,xn(M,3),!0,!0):[]},ce.dropWhile=function(T,M){return T&&T.length?Pu(T,xn(M,3),!0):[]},ce.fill=function(T,M,L,W){var te=null==T?0:T.length;return te?(L&&"number"!=typeof L&&zi(T,M,L)&&(L=0,W=te),function(pe,ke,Be,qe){var bt=pe.length;for((Be=Wn(Be))<0&&(Be=-Be>bt?0:bt+Be),(qe=qe===w||qe>bt?bt:Wn(qe))<0&&(qe+=bt),qe=Be>qe?0:mf(qe);Be<qe;)pe[Be++]=ke;return pe}(T,M,L,W)):[]},ce.filter=function(T,M){return(Un(T)?le:hm)(T,xn(M,3))},ce.flatMap=function(T,M){return Ai(sc(T,M),1)},ce.flatMapDeep=function(T,M){return Ai(sc(T,M),f)},ce.flatMapDepth=function(T,M,L){return L=L===w?1:Wn(L),Ai(sc(T,M),L)},ce.flatten=$u,ce.flattenDeep=function(T){return null!=T&&T.length?Ai(T,f):[]},ce.flattenDepth=function(T,M){return null!=T&&T.length?Ai(T,M=M===w?1:Wn(M)):[]},ce.flip=function(T){return Ys(T,512)},ce.flow=Uy,ce.flowRight=wf,ce.fromPairs=function(T){for(var M=-1,L=null==T?0:T.length,W={};++M<L;){var te=T[M];W[te[0]]=te[1]}return W},ce.functions=function(T){return null==T?[]:zl(T,si(T))},ce.functionsIn=function(T){return null==T?[]:zl(T,oo(T))},ce.groupBy=Vc,ce.initial=function(T){return null!=T&&T.length?Fo(T,0,-1):[]},ce.intersection=Cy,ce.intersectionBy=Ty,ce.intersectionWith=km,ce.invert=vf,ce.invertBy=ld,ce.invokeMap=af,ce.iteratee=Sf,ce.keyBy=cf,ce.keys=si,ce.keysIn=oo,ce.map=sc,ce.mapKeys=function(T,M){var L={};return M=xn(M,3),_s(T,function(W,te,pe){os(L,M(W,te,pe),W)}),L},ce.mapValues=function(T,M){var L={};return M=xn(M,3),_s(T,function(W,te,pe){os(L,te,M(W,te,pe))}),L},ce.matches=function(T){return Uh(po(T,1))},ce.matchesProperty=function(T,M){return qo(T,po(M,1))},ce.memoize=ad,ce.merge=Ly,ce.mergeWith=Hm,ce.method=Qm,ce.methodOf=so,ce.mixin=hd,ce.negate=Xs,ce.nthArg=function(T){return T=Wn(T),Gn(function(M){return mm(M,T)})},ce.omit=Gm,ce.omitBy=function(T,M){return Wm(T,Xs(xn(M)))},ce.once=function(T){return lf(2,T)},ce.orderBy=function(T,M,L,W){return null==T?[]:(Un(M)||(M=null==M?[]:[M]),Un(L=W?w:L)||(L=null==L?[]:[L]),zh(T,M,L))},ce.over=zy,ce.overArgs=Vm,ce.overEvery=Jm,ce.overSome=eg,ce.partial=Hu,ce.partialRight=hf,ce.partition=q1,ce.pick=Hc,ce.pickBy=Wm,ce.property=tg,ce.propertyOf=function(T){return function(M){return null==T?w:Ja(T,M)}},ce.pull=Ey,ce.pullAll=Ks,ce.pullAllBy=function(T,M,L){return T&&T.length&&M&&M.length?Hh(T,M,xn(L,2)):T},ce.pullAllWith=function(T,M,L){return T&&T.length&&M&&M.length?Hh(T,M,w,L):T},ce.pullAt=Dy,ce.range=Cf,ce.rangeRight=Hy,ce.rearg=Y1,ce.reject=function(T,M){return(Un(T)?le:hm)(T,Xs(xn(M,3)))},ce.remove=function(T,M){var L=[];if(!T||!T.length)return L;var W=-1,te=[],pe=T.length;for(M=xn(M,3);++W<pe;){var ke=T[W];M(ke,W,T)&&(L.push(ke),te.push(W))}return Wl(T,te),L},ce.rest=function(T,M){if("function"!=typeof T)throw new $i(C);return Gn(T,M=M===w?M:Wn(M))},ce.reverse=We,ce.sampleSize=function(T,M,L){return M=(L?zi(T,M,L):M===w)?1:Wn(M),(Un(T)?hy:bm)(T,M)},ce.set=function(T,M,L){return null==T?T:tc(T,M,L)},ce.setWith=function(T,M,L,W){return W="function"==typeof W?W:w,null==T?T:tc(T,M,L,W)},ce.shuffle=function(T){return(Un(T)?jh:ym)(T)},ce.slice=function(T,M,L){var W=null==T?0:T.length;return W?(L&&"number"!=typeof L&&zi(T,M,L)?(M=0,L=W):(M=null==M?0:Wn(M),L=L===w?W:Wn(L)),Fo(T,M,L)):[]},ce.sortBy=uf,ce.sortedUniq=function(T){return T&&T.length?va(T):[]},ce.sortedUniqBy=function(T,M){return T&&T.length?va(T,xn(M,2)):[]},ce.split=function(T,M,L){return L&&"number"!=typeof L&&zi(T,M,L)&&(M=L=w),(L=L===w?d:L>>>0)?(T=wr(T))&&("string"==typeof M||null!=M&&!ac(M))&&!(M=Lo(M))&&ha(T)?wa(mr(T),0,L):T.split(M,L):[]},ce.spread=function(T,M){if("function"!=typeof T)throw new $i(C);return M=null==M?0:_i(Wn(M),0),Gn(function(L){var W=L[M],te=wa(L,0,M);return W&&ct(te,W),Ve(T,this,te)})},ce.tail=function(T){var M=null==T?0:T.length;return M?Fo(T,1,M):[]},ce.take=function(T,M,L){return T&&T.length?Fo(T,0,(M=L||M===w?1:Wn(M))<0?0:M):[]},ce.takeRight=function(T,M,L){var W=null==T?0:T.length;return W?Fo(T,(M=W-(M=L||M===w?1:Wn(M)))<0?0:M,W):[]},ce.takeRightWhile=function(T,M){return T&&T.length?Pu(T,xn(M,3),!1,!0):[]},ce.takeWhile=function(T,M){return T&&T.length?Pu(T,xn(M,3)):[]},ce.tap=function(T,M){return M(T),T},ce.throttle=function(T,M,L){var W=!0,te=!0;if("function"!=typeof T)throw new $i(C);return Fr(L)&&(W="leading"in L?!!L.leading:W,te="trailing"in L?!!L.trailing:te),sd(T,M,{leading:W,maxWait:M,trailing:te})},ce.thru=Lc,ce.toArray=qu,ce.toPairs=qm,ce.toPairsIn=Ym,ce.toPath=function(T){return Un(T)?ot(T,Zo):Si(T)?[T]:go(nd(wr(T)))},ce.toPlainObject=ky,ce.transform=function(T,M,L){var W=Un(T),te=W||ls(T)||cc(T);if(M=xn(M,4),null==L){var pe=T&&T.constructor;L=te?W?new pe:[]:Fr(T)&&Do(pe)?Xa(Nn(T)):{}}return(te?Pt:_s)(T,function(ke,Be,qe){return M(L,ke,Be,qe)}),L},ce.unary=function(T){return Lm(T,1)},ce.union=Nm,ce.unionBy=yt,ce.unionWith=id,ce.uniq=function(T){return T&&T.length?ya(T):[]},ce.uniqBy=function(T,M){return T&&T.length?ya(T,xn(M,2)):[]},ce.uniqWith=function(T,M){return M="function"==typeof M?M:w,T&&T.length?ya(T,w,M):[]},ce.unset=function(T,M){return null==T||qh(T,M)},ce.unzip=Uu,ce.unzipWith=Fc,ce.update=function(T,M,L){return null==T?T:_m(T,M,_a(L))},ce.updateWith=function(T,M,L,W){return W="function"==typeof W?W:w,null==T?T:_m(T,M,_a(L),W)},ce.values=Ea,ce.valuesIn=function(T){return null==T?[]:_u(T,oo(T))},ce.without=Oy,ce.words=Xm,ce.wrap=function(T,M){return Hu(_a(M),T)},ce.xor=My,ce.xorBy=Iy,ce.xorWith=G1,ce.zip=W1,ce.zipObject=function(T,M){return Ws(T||[],M||[],Eo)},ce.zipObjectDeep=function(T,M){return Ws(T||[],M||[],tc)},ce.zipWith=od,ce.entries=qm,ce.entriesIn=Ym,ce.extend=ud,ce.extendWith=Yu,hd(ce,ce),ce.add=fd,ce.attempt=Zm,ce.camelCase=Da,ce.capitalize=dd,ce.ceil=pd,ce.clamp=function(T,M,L){return L===w&&(L=M,M=w),L!==w&&(L=(L=yo(L))==L?L:0),M!==w&&(M=(M=yo(M))==M?M:0),ss(yo(T),M,L)},ce.clone=function(T){return po(T,4)},ce.cloneDeep=function(T){return po(T,5)},ce.cloneDeepWith=function(T,M){return po(T,5,M="function"==typeof M?M:w)},ce.cloneWith=function(T,M){return po(T,4,M="function"==typeof M?M:w)},ce.conformsTo=function(T,M){return null==M||$l(T,M,si(M))},ce.deburr=lc,ce.defaultTo=function(T,M){return null==T||T!=T?M:T},ce.divide=Ef,ce.endsWith=function(T,M,L){T=wr(T),M=Lo(M);var W=T.length,te=L=L===w?W:ss(Wn(L),0,W);return(L-=M.length)>=0&&T.slice(L,te)==M},ce.eq=xs,ce.escape=function(T){return(T=wr(T))&&gt.test(T)?T.replace($t,Or):T},ce.escapeRegExp=function(T){return(T=wr(T))&&G.test(T)?T.replace(U,"\\$&"):T},ce.every=function(T,M,L){var W=Un(T)?oe:my;return L&&zi(T,M,L)&&(M=w),W(T,xn(M,3))},ce.find=rf,ce.findIndex=Nc,ce.findKey=function(T,M){return li(T,xn(M,3),_s)},ce.findLast=sf,ce.findLastIndex=rd,ce.findLastKey=function(T,M){return li(T,xn(M,3),$h)},ce.floor=ng,ce.forEach=Bc,ce.forEachRight=zu,ce.forIn=function(T,M){return null==T?T:ba(T,xn(M,3),oo)},ce.forInRight=function(T,M){return null==T?T:fm(T,xn(M,3),oo)},ce.forOwn=function(T,M){return T&&_s(T,xn(M,3))},ce.forOwnRight=function(T,M){return T&&$h(T,xn(M,3))},ce.get=zc,ce.gt=Gu,ce.gte=Py,ce.has=function(T,M){return null!=T&&Om(T,M,hr)},ce.hasIn=bf,ce.head=Rm,ce.identity=Gi,ce.includes=function(T,M,L,W){T=vo(T)?T:Ea(T),L=L&&!W?Wn(L):0;var te=T.length;return L<0&&(L=_i(te+L,0)),Ts(T)?L<=te&&T.indexOf(M,L)>-1:!!te&&$s(T,M,L)>-1},ce.indexOf=function(T,M,L){var W=null==T?0:T.length;if(!W)return-1;var te=null==L?0:Wn(L);return te<0&&(te=_i(W+te,0)),$s(T,M,te)},ce.inRange=function(T,M,L){return M=Qs(M),L===w?(L=M,M=0):L=Qs(L),(W=T=yo(T))>=no(te=M,pe=L)&&W<_i(te,pe);var W,te,pe},ce.invoke=jo,ce.isArguments=Cs,ce.isArray=Un,ce.isArrayBuffer=Ry,ce.isArrayLike=vo,ce.isArrayLikeObject=oi,ce.isBoolean=function(T){return!0===T||!1===T||mi(T)&&Dn(T)==D},ce.isBuffer=ls,ce.isDate=$c,ce.isElement=function(T){return mi(T)&&1===T.nodeType&&!Wu(T)},ce.isEmpty=function(T){if(null==T)return!0;if(vo(T)&&(Un(T)||"string"==typeof T||"function"==typeof T.splice||ls(T)||cc(T)||Cs(T)))return!T.length;var M=io(T);if(M==k||M==Q)return!T.size;if(Vu(T))return!Gl(T).length;for(var L in T)if(Tr.call(T,L))return!1;return!0},ce.isEqual=function(T,M){return ec(T,M)},ce.isEqualWith=function(T,M,L){var W=(L="function"==typeof L?L:w)?L(T,M):w;return W===w?ec(T,M,w,L):!!W},ce.isError=Ta,ce.isFinite=function(T){return"number"==typeof T&&am(T)},ce.isFunction=Do,ce.isInteger=ff,ce.isLength=Uc,ce.isMap=$m,ce.isMatch=function(T,M){return T===M||Mu(T,M,Em(M))},ce.isMatchWith=function(T,M,L){return L="function"==typeof L?L:w,Mu(T,M,Em(M),L)},ce.isNaN=function(T){return Zs(T)&&T!=+T},ce.isNative=function(T){if(ef(T))throw new ut("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return pm(T)},ce.isNil=function(T){return null==T},ce.isNull=function(T){return null===T},ce.isNumber=Zs,ce.isObject=Fr,ce.isObjectLike=mi,ce.isPlainObject=Wu,ce.isRegExp=ac,ce.isSafeInteger=function(T){return ff(T)&&T>=-9007199254740991&&T<=c},ce.isSet=Um,ce.isString=Ts,ce.isSymbol=Si,ce.isTypedArray=cc,ce.isUndefined=function(T){return T===w},ce.isWeakMap=function(T){return mi(T)&&io(T)==he},ce.isWeakSet=function(T){return mi(T)&&"[object WeakSet]"==Dn(T)},ce.join=function(T,M){return null==T?"":ly.call(T,M)},ce.kebabCase=jy,ce.last=Hi,ce.lastIndexOf=function(T,M,L){var W=null==T?0:T.length;if(!W)return-1;var te=W;return L!==w&&(te=(te=Wn(L))<0?_i(W+te,0):no(te,W-1)),M==M?function(pe,ke,Be){for(var qe=Be+1;qe--;)if(pe[qe]===ke)return qe;return qe}(T,M,te):qa(T,bu,te,!0)},ce.lowerCase=By,ce.lowerFirst=xi,ce.lt=pf,ce.lte=cd,ce.max=function(T){return T&&T.length?Ul(T,Gi,ur):w},ce.maxBy=function(T,M){return T&&T.length?Ul(T,xn(M,2),ur):w},ce.mean=function(T){return Il(T,Gi)},ce.meanBy=function(T,M){return Il(T,xn(M,2))},ce.min=function(T){return T&&T.length?Ul(T,Gi,Ui):w},ce.minBy=function(T,M){return T&&T.length?Ul(T,xn(M,2),Ui):w},ce.stubArray=Qo,ce.stubFalse=Tf,ce.stubObject=function(){return{}},ce.stubString=function(){return""},ce.stubTrue=function(){return!0},ce.multiply=rg,ce.nth=function(T,M){return T&&T.length?mm(T,Wn(M)):w},ce.noConflict=function(){return Kn._===this&&(Kn._=Us),this},ce.noop=xf,ce.now=Ca,ce.pad=function(T,M,L){T=wr(T);var W=(M=Wn(M))?Ur(T):0;if(!M||W>=M)return T;var te=(M-W)/2;return Rc(Ka(te),L)+T+Rc(ys(te),L)},ce.padEnd=function(T,M,L){T=wr(T);var W=(M=Wn(M))?Ur(T):0;return M&&W<M?T+Rc(M-W,L):T},ce.padStart=function(T,M,L){T=wr(T);var W=(M=Wn(M))?Ur(T):0;return M&&W<M?Rc(M-W,L)+T:T},ce.parseInt=function(T,M,L){return L||null==M?M=0:M&&(M=+M),j1(wr(T).replace(J,""),M||0)},ce.random=function(T,M,L){if(L&&"boolean"!=typeof L&&zi(T,M,L)&&(M=L=w),L===w&&("boolean"==typeof M?(L=M,M=w):"boolean"==typeof T&&(L=T,T=w)),T===w&&M===w?(T=0,M=1):(T=Qs(T),M===w?(M=T,T=0):M=Qs(M)),T>M){var W=T;T=M,M=W}if(L||T%1||M%1){var te=dy();return no(T+te*(M-T+Dr("1e-"+((te+"").length-1))),M)}return Iu(T,M)},ce.reduce=function(T,M,L){var W=Un(T)?ze:Al,te=arguments.length<3;return W(T,xn(M,4),L,te,Hs)},ce.reduceRight=function(T,M,L){var W=Un(T)?fn:Al,te=arguments.length<3;return W(T,xn(M,4),L,te,py)},ce.repeat=function(T,M,L){return M=(L?zi(T,M,L):M===w)?1:Wn(M),Au(wr(T),M)},ce.replace=function(){var T=arguments,M=wr(T[0]);return T.length<3?M:M.replace(T[1],T[2])},ce.result=function(T,M,L){var W=-1,te=(M=nr(M,T)).length;for(te||(te=1,T=w);++W<te;){var pe=null==T?w:T[Zo(M[W])];pe===w&&(W=te,pe=L),T=Do(pe)?pe.call(T):pe}return T},ce.round=Gy,ce.runInContext=Ze,ce.sample=function(T){return(Un(T)?To:by)(T)},ce.size=function(T){if(null==T)return 0;if(vo(T))return Ts(T)?Ur(T):T.length;var M=io(T);return M==k||M==Q?T.size:Gl(T).length},ce.snakeCase=Km,ce.some=function(T,M,L){var W=Un(T)?jn:Wh;return L&&zi(T,M,L)&&(M=w),W(T,xn(M,3))},ce.sortedIndex=function(T,M){return ql(T,M)},ce.sortedIndexBy=function(T,M,L){return Pi(T,M,xn(L,2))},ce.sortedIndexOf=function(T,M){var L=null==T?0:T.length;if(L){var W=ql(T,M);if(W<L&&xs(T[W],M))return W}return-1},ce.sortedLastIndex=function(T,M){return ql(T,M,!0)},ce.sortedLastIndexBy=function(T,M,L){return Pi(T,M,xn(L,2),!0)},ce.sortedLastIndexOf=function(T,M){if(null!=T&&T.length){var L=ql(T,M,!0)-1;if(xs(T[L],M))return L}return-1},ce.startCase=Vy,ce.startsWith=function(T,M,L){return T=wr(T),L=null==L?0:ss(Wn(L),0,T.length),M=Lo(M),T.slice(L,L+M.length)==M},ce.subtract=Wc,ce.sum=function(T){return T&&T.length?Cc(T,Gi):0},ce.sumBy=function(T,M){return T&&T.length?Cc(T,xn(M,2)):0},ce.template=function(T,M,L){var W=ce.templateSettings;L&&zi(T,M,L)&&(M=w),T=wr(T),M=Yu({},M,W,Qh);var te,pe,ke=Yu({},M.imports,W.imports,Qh),Be=si(ke),qe=_u(ke,Be),bt=0,xt=M.interpolate||Ae,Mt="__p += '",sn=Ii((M.escape||Ae).source+"|"+xt.source+"|"+(xt===vn?_e:Ae).source+"|"+(M.evaluate||Ae).source+"|$","g"),an="//# sourceURL="+(Tr.call(M,"sourceURL")?(M.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vn+"]")+"\n";T.replace(sn,function(Nt,Tn,Ft,zn,Rn,gr){return Ft||(Ft=zn),Mt+=T.slice(bt,gr).replace($e,Ih),Tn&&(te=!0,Mt+="' +\n__e("+Tn+") +\n'"),Rn&&(pe=!0,Mt+="';\n"+Rn+";\n__p += '"),Ft&&(Mt+="' +\n((__t = ("+Ft+")) == null ? '' : __t) +\n'"),bt=gr+Nt.length,Nt}),Mt+="';\n";var Cn=Tr.call(M,"variable")&&M.variable;if(Cn){if(Wt.test(Cn))throw new ut("Invalid `variable` option passed into `_.template`")}else Mt="with (obj) {\n"+Mt+"\n}\n";Mt=(pe?Mt.replace(Oe,""):Mt).replace(ge,"$1").replace(Je,"$1;"),Mt="function("+(Cn||"obj")+") {\n"+(Cn?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(te?", __e = _.escape":"")+(pe?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Mt+"return __p\n}";var Ct=Zm(function(){return qt(Be,an+"return "+Mt).apply(w,qe)});if(Ct.source=Mt,Ta(Ct))throw Ct;return Ct},ce.times=function(T,M){if((T=Wn(T))<1||T>c)return[];var L=d,W=no(T,d);M=xn(M),T-=d;for(var te=yu(W,M);++L<T;)M(L);return te},ce.toFinite=Qs,ce.toInteger=Wn,ce.toLength=mf,ce.toLower=function(T){return wr(T).toLowerCase()},ce.toNumber=yo,ce.toSafeInteger=function(T){return T?ss(Wn(T),-9007199254740991,c):0===T?T:0},ce.toString=wr,ce.toUpper=function(T){return wr(T).toUpperCase()},ce.trim=function(T,M,L){if((T=wr(T))&&(L||M===w))return Pl(T);if(!T||!(M=Lo(M)))return T;var W=mr(T),te=mr(M);return wa(W,Rl(W,te),kl(W,te)+1).join("")},ce.trimEnd=function(T,M,L){if((T=wr(T))&&(L||M===w))return T.slice(0,Qi(T)+1);if(!T||!(M=Lo(M)))return T;var W=mr(T);return wa(W,0,kl(W,mr(M))+1).join("")},ce.trimStart=function(T,M,L){if((T=wr(T))&&(L||M===w))return T.replace(J,"");if(!T||!(M=Lo(M)))return T;var W=mr(T);return wa(W,Rl(W,mr(M))).join("")},ce.truncate=function(T,M){var L=30,W="...";if(Fr(M)){var te="separator"in M?M.separator:te;L="length"in M?Wn(M.length):L,W="omission"in M?Lo(M.omission):W}var pe=(T=wr(T)).length;if(ha(T)){var ke=mr(T);pe=ke.length}if(L>=pe)return T;var Be=L-Ur(W);if(Be<1)return W;var qe=ke?wa(ke,0,Be).join(""):T.slice(0,Be);if(te===w)return qe+W;if(ke&&(Be+=qe.length-Be),ac(te)){if(T.slice(Be).search(te)){var bt,xt=qe;for(te.global||(te=Ii(te.source,wr(ve.exec(te))+"g")),te.lastIndex=0;bt=te.exec(xt);)var Mt=bt.index;qe=qe.slice(0,Mt===w?Be:Mt)}}else if(T.indexOf(Lo(te),Be)!=Be){var sn=qe.lastIndexOf(te);sn>-1&&(qe=qe.slice(0,sn))}return qe+W},ce.unescape=function(T){return(T=wr(T))&&Ut.test(T)?T.replace(ht,zr):T},ce.uniqueId=function(T){var M=++Tc;return wr(T)+M},ce.upperCase=Ku,ce.upperFirst=yf,ce.each=Bc,ce.eachRight=zu,ce.first=Rm,hd(ce,(Gc={},_s(ce,function(T,M){Tr.call(ce.prototype,M)||(Gc[M]=T)}),Gc),{chain:!1}),ce.VERSION="4.17.21",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(T){ce[T].placeholder=ce}),Pt(["drop","take"],function(T,M){cn.prototype[T]=function(L){L=L===w?1:_i(Wn(L),0);var W=this.__filtered__&&!M?new cn(this):this.clone();return W.__filtered__?W.__takeCount__=no(L,W.__takeCount__):W.__views__.push({size:no(L,d),type:T+(W.__dir__<0?"Right":"")}),W},cn.prototype[T+"Right"]=function(L){return this.reverse()[T](L).reverse()}}),Pt(["filter","map","takeWhile"],function(T,M){var L=M+1,W=1==L||3==L;cn.prototype[T]=function(te){var pe=this.clone();return pe.__iteratees__.push({iteratee:xn(te,3),type:L}),pe.__filtered__=pe.__filtered__||W,pe}}),Pt(["head","last"],function(T,M){var L="take"+(M?"Right":"");cn.prototype[T]=function(){return this[L](1).value()[0]}}),Pt(["initial","tail"],function(T,M){var L="drop"+(M?"":"Right");cn.prototype[T]=function(){return this.__filtered__?new cn(this):this[L](1)}}),cn.prototype.compact=function(){return this.filter(Gi)},cn.prototype.find=function(T){return this.filter(T).head()},cn.prototype.findLast=function(T){return this.reverse().find(T)},cn.prototype.invokeMap=Gn(function(T,M){return"function"==typeof T?new cn(this):this.map(function(L){return Gs(L,T,M)})}),cn.prototype.reject=function(T){return this.filter(Xs(xn(T)))},cn.prototype.slice=function(T,M){T=Wn(T);var L=this;return L.__filtered__&&(T>0||M<0)?new cn(L):(T<0?L=L.takeRight(-T):T&&(L=L.drop(T)),M!==w&&(L=(M=Wn(M))<0?L.dropRight(-M):L.take(M-T)),L)},cn.prototype.takeRightWhile=function(T){return this.reverse().takeWhile(T).reverse()},cn.prototype.toArray=function(){return this.take(d)},_s(cn.prototype,function(T,M){var L=/^(?:filter|find|map|reject)|While$/.test(M),W=/^(?:head|last)$/.test(M),te=ce[W?"take"+("last"==M?"Right":""):M],pe=W||/^find/.test(M);te&&(ce.prototype[M]=function(){var ke=this.__wrapped__,Be=W?[1]:arguments,qe=ke instanceof cn,bt=Be[0],xt=qe||Un(ke),Mt=function(Tn){var Ft=te.apply(ce,ct([Tn],Be));return W&&sn?Ft[0]:Ft};xt&&L&&"function"==typeof bt&&1!=bt.length&&(qe=xt=!1);var sn=this.__chain__,Cn=pe&&!sn,Ct=qe&&!this.__actions__.length;if(!pe&&xt){ke=Ct?ke:new cn(this);var Nt=T.apply(ke,Be);return Nt.__actions__.push({func:Lc,args:[Mt],thisArg:w}),new is(Nt,sn)}return Cn&&Ct?T.apply(this,Be):(Nt=this.thru(Mt),Cn?W?Nt.value()[0]:Nt.value():Nt)})}),Pt(["pop","push","shift","sort","splice","unshift"],function(T){var M=Mr[T],L=/^(?:push|sort|unshift)$/.test(T)?"tap":"thru",W=/^(?:pop|shift)$/.test(T);ce.prototype[T]=function(){var te=arguments;if(W&&!this.__chain__){var pe=this.value();return M.apply(Un(pe)?pe:[],te)}return this[L](function(ke){return M.apply(Un(ke)?ke:[],te)})}}),_s(cn.prototype,function(T,M){var L=ce[M];if(L){var W=L.name+"";Tr.call(Eu,W)||(Eu[W]=[]),Eu[W].push({name:M,func:L})}}),Eu[Nu(w,2).name]=[{name:"wrapper",func:w}],cn.prototype.clone=function(){var T=new cn(this.__wrapped__);return T.__actions__=go(this.__actions__),T.__dir__=this.__dir__,T.__filtered__=this.__filtered__,T.__iteratees__=go(this.__iteratees__),T.__takeCount__=this.__takeCount__,T.__views__=go(this.__views__),T},cn.prototype.reverse=function(){if(this.__filtered__){var T=new cn(this);T.__dir__=-1,T.__filtered__=!0}else(T=this.clone()).__dir__*=-1;return T},cn.prototype.value=function(){var T=this.__wrapped__.value(),M=this.__dir__,L=Un(T),W=M<0,te=L?T.length:0,pe=function(gr,pn,wn){for(var gi=-1,bi=wn.length;++gi<bi;){var ao=wn[gi],Hr=ao.size;switch(ao.type){case"drop":gr+=Hr;break;case"dropRight":pn-=Hr;break;case"take":pn=no(pn,gr+Hr);break;case"takeRight":gr=_i(gr,pn-Hr)}}return{start:gr,end:pn}}(0,te,this.__views__),ke=pe.start,Be=pe.end,qe=Be-ke,bt=W?Be:ke-1,xt=this.__iteratees__,Mt=xt.length,sn=0,an=no(qe,this.__takeCount__);if(!L||!W&&te==qe&&an==qe)return Yh(T,this.__actions__);var Cn=[];e:for(;qe--&&sn<an;){for(var Ct=-1,Nt=T[bt+=M];++Ct<Mt;){var Tn=xt[Ct],zn=Tn.type,Rn=(0,Tn.iteratee)(Nt);if(2==zn)Nt=Rn;else if(!Rn){if(1==zn)continue e;break e}}Cn[sn++]=Nt}return Cn},ce.prototype.at=nf,ce.prototype.chain=function(){return Fm(this)},ce.prototype.commit=function(){return new is(this.value(),this.__chain__)},ce.prototype.next=function(){this.__values__===w&&(this.__values__=qu(this.value()));var T=this.__index__>=this.__values__.length;return{done:T,value:T?w:this.__values__[this.__index__++]}},ce.prototype.plant=function(T){for(var M,L=this;L instanceof Vl;){var W=bo(L);W.__index__=0,W.__values__=w,M?te.__wrapped__=W:M=W;var te=W;L=L.__wrapped__}return te.__wrapped__=T,M},ce.prototype.reverse=function(){var T=this.__wrapped__;if(T instanceof cn){var M=T;return this.__actions__.length&&(M=new cn(this)),(M=M.reverse()).__actions__.push({func:Lc,args:[We],thisArg:w}),new is(M,this.__chain__)}return this.thru(We)},ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=function(){return Yh(this.__wrapped__,this.__actions__)},ce.prototype.first=ce.prototype.head,vs&&(ce.prototype[vs]=function(){return this}),ce}();Kn._=Po,(S=function(){return Po}.call(u,g,u,z))===w||(z.exports=S)}.call(this)},7824:z=>{var u=1e3,g=60*u,S=60*g,w=24*S;function C(b,v,p,m){var f=v>=1.5*p;return Math.round(b/p)+" "+m+(f?"s":"")}z.exports=function(b,v){v=v||{};var p,m,c,a,f=typeof b;if("string"===f&&b.length>0)return function(c){if(!((c=String(c)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(a){var d=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*d;case"weeks":case"week":case"w":return 6048e5*d;case"days":case"day":case"d":return d*w;case"hours":case"hour":case"hrs":case"hr":case"h":return d*S;case"minutes":case"minute":case"mins":case"min":case"m":return d*g;case"seconds":case"second":case"secs":case"sec":case"s":return d*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}(b);if("number"===f&&isFinite(b))return v.long?(p=b,(m=Math.abs(p))>=w?C(p,m,w,"day"):m>=S?C(p,m,S,"hour"):m>=g?C(p,m,g,"minute"):m>=u?C(p,m,u,"second"):p+" ms"):(c=b,(a=Math.abs(c))>=w?Math.round(c/w)+"d":a>=S?Math.round(c/S)+"h":a>=g?Math.round(c/g)+"m":a>=u?Math.round(c/u)+"s":c+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))}},9793:(module,__unused_webpack_exports,__nested_webpack_require_357276__)=>{var process=__nested_webpack_require_357276__(4155),t;t=()=>(()=>{var __webpack_modules__={8453:(z,u,g)=>{"use strict";g.r(u),g.d(u,{InferenceSession:()=>d,Tensor:()=>c,env:()=>b,registerBackend:()=>C});const S={},w=[],C=(h,_,x)=>{if(!_||"function"!=typeof _.init||"function"!=typeof _.createSessionHandler)throw new TypeError("not a valid backend");{const D=S[h];if(void 0===D)S[h]={backend:_,priority:x};else{if(D.priority>x)return;if(D.priority===x&&D.backend!==_)throw new Error(`cannot register backend "${h}" using priority ${x}`)}if(x>=0){const I=w.indexOf(h);-1!==I&&w.splice(I,1);for(let A=0;A<w.length;A++)if(S[w[A]].priority<=x)return void w.splice(A,0,h);w.push(h)}}},b=new class{constructor(){this.wasm={},this.webgl={},this.webgpu={},this.logLevelInternal="warning"}set logLevel(h){if(void 0!==h){if("string"!=typeof h||-1===["verbose","info","warning","error","fatal"].indexOf(h))throw new Error(`Unsupported logging level: ${h}`);this.logLevelInternal=h}}get logLevel(){return this.logLevelInternal}},v=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),p=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let m=!1;class f{constructor(_,x,D){let I,A,R;if((()=>{if(!m){m=!0;const k=typeof BigInt64Array<"u"&&"function"==typeof BigInt64Array.from,B=typeof BigUint64Array<"u"&&"function"==typeof BigUint64Array.from;k&&(v.set("int64",BigInt64Array),p.set(BigInt64Array,"int64")),B&&(v.set("uint64",BigUint64Array),p.set(BigUint64Array,"uint64"))}})(),"string"==typeof _)if(I=_,R=D,"string"===_){if(!Array.isArray(x))throw new TypeError("A string tensor's data must be a string array.");A=x}else{const k=v.get(_);if(void 0===k)throw new TypeError(`Unsupported tensor type: ${_}.`);if(Array.isArray(x))A=k.from(x);else{if(!(x instanceof k))throw new TypeError(`A ${I} tensor's data must be type of ${k}`);A=x}}else if(R=x,Array.isArray(_)){if(0===_.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const k=typeof _[0];if("string"===k)I="string",A=_;else{if("boolean"!==k)throw new TypeError(`Invalid element type of data array: ${k}.`);I="bool",A=Uint8Array.from(_)}}else{const k=p.get(_.constructor);if(void 0===k)throw new TypeError(`Unsupported type for tensor data: ${_.constructor}.`);I=k,A=_}if(void 0===R)R=[A.length];else if(!Array.isArray(R))throw new TypeError("A tensor's dims must be a number array");const P=(k=>{let B=1;for(let V=0;V<k.length;V++){const j=k[V];if("number"!=typeof j||!Number.isSafeInteger(j))throw new TypeError(`dims[${V}] must be an integer, got: ${j}`);if(j<0)throw new RangeError(`dims[${V}] must be a non-negative integer, got: ${j}`);B*=j}return B})(R);if(P!==A.length)throw new Error(`Tensor's size(${P}) does not match data length(${A.length}).`);this.dims=R,this.type=I,this.data=A,this.size=P}static bufferToTensor(_,x){if(void 0===_)throw new Error("Image buffer must be defined");if(void 0===x.height||void 0===x.width)throw new Error("Image height and width must be defined");if("NHWC"===x.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");const{height:D,width:I}=x,A=x.norm??{mean:255,bias:0};let R,P;R="number"==typeof A.mean?[A.mean,A.mean,A.mean,A.mean]:[A.mean[0],A.mean[1],A.mean[2],A.mean[3]??255],P="number"==typeof A.bias?[A.bias,A.bias,A.bias,A.bias]:[A.bias[0],A.bias[1],A.bias[2],A.bias[3]??0];const k=void 0!==x.bitmapFormat?x.bitmapFormat:"RGBA",B=void 0!==x.tensorFormat&&void 0!==x.tensorFormat?x.tensorFormat:"RGB",V=D*I,j="RGBA"===B?new Float32Array(4*V):new Float32Array(3*V);let X=4,Q=0,Z=1,de=2,he=3,Pe=0,ie=V,ue=2*V,Fe=-1;"RGB"===k&&(X=3,Q=0,Z=1,de=2,he=-1),"RGBA"===B?Fe=3*V:"RBG"===B?(Pe=0,ue=V,ie=2*V):"BGR"===B&&(ue=0,ie=V,Pe=2*V);for(let Ye=0;Ye<V;Ye++,Q+=X,de+=X,Z+=X,he+=X)j[Pe++]=(_[Q]+P[0])/R[0],j[ie++]=(_[Z]+P[1])/R[1],j[ue++]=(_[de]+P[2])/R[2],-1!==Fe&&-1!==he&&(j[Fe++]=(_[he]+P[3])/R[3]);return new f("float32",j,"RGBA"===B?[1,4,D,I]:[1,3,D,I])}static fromImage(_,x){return _asyncToGenerator(function*(){const D=typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement,I=typeof ImageData<"u"&&_ instanceof ImageData,A=typeof ImageBitmap<"u"&&_ instanceof ImageBitmap,R="string"==typeof _;let P,k=x??{};if(D){const B=document.createElement("canvas");B.width=_.width,B.height=_.height;const V=B.getContext("2d");if(null==V)throw new Error("Can not access image data");{let j=_.height,X=_.width;if(void 0!==x&&void 0!==x.resizedHeight&&void 0!==x.resizedWidth&&(j=x.resizedHeight,X=x.resizedWidth),void 0!==x){if(k=x,void 0!==x.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(k.tensorFormat="RGBA",void 0!==x.height&&x.height!==j)throw new Error("Image input config height doesn't match HTMLImageElement height");if(k.height=j,void 0!==x.width&&x.width!==X)throw new Error("Image input config width doesn't match HTMLImageElement width");k.width=X}else k.tensorFormat="RGBA",k.height=j,k.width=X;V.drawImage(_,0,0),P=V.getImageData(0,0,X,j).data}}else{if(!I){if(A){if(void 0===x)throw new Error("Please provide image config with format for Imagebitmap");if(void 0!==x.bitmapFormat)throw new Error("Image input config format must be defined for ImageBitmap");const B=document.createElement("canvas").getContext("2d");if(null!=B){const V=_.height,j=_.width;if(B.drawImage(_,0,0,j,V),P=B.getImageData(0,0,j,V).data,void 0!==x){if(void 0!==x.height&&x.height!==V)throw new Error("Image input config height doesn't match ImageBitmap height");if(k.height=V,void 0!==x.width&&x.width!==j)throw new Error("Image input config width doesn't match ImageBitmap width");k.width=j}else k.height=V,k.width=j;return f.bufferToTensor(P,k)}throw new Error("Can not access image data")}if(R)return new Promise((B,V)=>{const j=document.createElement("canvas"),X=j.getContext("2d");if(!_||!X)return V();const Q=new Image;Q.crossOrigin="Anonymous",Q.src=_,Q.onload=()=>{j.width=Q.width,j.height=Q.height,X.drawImage(Q,0,0,j.width,j.height);const Z=X.getImageData(0,0,j.width,j.height);if(void 0!==x){if(void 0!==x.height&&x.height!==j.height)throw new Error("Image input config height doesn't match height");if(k.height=j.height,void 0!==x.width&&x.width!==j.width)throw new Error("Image input config width doesn't match width");k.width=j.width}else k.height=j.height,k.width=j.width;B(f.bufferToTensor(Z.data,k))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{let V,j;if(void 0!==x&&void 0!==x.resizedWidth&&void 0!==x.resizedHeight?(V=x.resizedHeight,j=x.resizedWidth):(V=_.height,j=_.width),void 0!==x){if(k=x,void 0!==x.bitmapFormat&&"RGBA"!==x.bitmapFormat)throw new Error("Image input config format must be RGBA for ImageData");k.bitmapFormat="RGBA"}else k.bitmapFormat="RGBA";if(k.height=V,k.width=j,void 0!==x){const X=document.createElement("canvas");X.width=j,X.height=V;const Q=X.getContext("2d");if(null==Q)throw new Error("Can not access image data");Q.putImageData(_,0,0),P=Q.getImageData(0,0,j,V).data}else P=_.data}}if(void 0!==P)return f.bufferToTensor(P,k);throw new Error("Input data provided is not supported - aborted tensor creation")})()}toDataURL(_){const x=document.createElement("canvas");x.width=this.dims[3],x.height=this.dims[2];const D=x.getContext("2d");if(null!=D){let I,A;void 0!==_?.tensorLayout&&"NHWC"===_.tensorLayout?(I=this.dims[2],A=this.dims[3]):(I=this.dims[3],A=this.dims[2]);const R=void 0!==_?.format?_.format:"RGB",P=_?.norm;let k,B;void 0===P||void 0===P.mean?k=[255,255,255,255]:"number"==typeof P.mean?k=[P.mean,P.mean,P.mean,P.mean]:(k=[P.mean[0],P.mean[1],P.mean[2],0],void 0!==P.mean[3]&&(k[3]=P.mean[3])),void 0===P||void 0===P.bias?B=[0,0,0,0]:"number"==typeof P.bias?B=[P.bias,P.bias,P.bias,P.bias]:(B=[P.bias[0],P.bias[1],P.bias[2],0],void 0!==P.bias[3]&&(B[3]=P.bias[3]));const V=A*I;let j=0,X=V,Q=2*V,Z=-1;"RGBA"===R?(j=0,X=V,Q=2*V,Z=3*V):"RGB"===R?(j=0,X=V,Q=2*V):"RBG"===R&&(j=0,Q=V,X=2*V);for(let de=0;de<A;de++)for(let he=0;he<I;he++){const Pe=(this.data[j++]-B[0])*k[0],ie=(this.data[X++]-B[1])*k[1],ue=(this.data[Q++]-B[2])*k[2],Fe=-1===Z?255:(this.data[Z++]-B[3])*k[3];D.fillStyle="rgba("+Pe+","+ie+","+ue+","+Fe+")",D.fillRect(he,de,1,1)}return x.toDataURL()}throw new Error("Can not access image data")}toImageData(_){const x=document.createElement("canvas").getContext("2d");let D;if(null==x)throw new Error("Can not access image data");{let I,A,R;void 0!==_?.tensorLayout&&"NHWC"===_.tensorLayout?(I=this.dims[2],A=this.dims[1],R=this.dims[3]):(I=this.dims[3],A=this.dims[2],R=this.dims[1]);const P=void 0!==_&&void 0!==_.format?_.format:"RGB",k=_?.norm;let B,V;void 0===k||void 0===k.mean?B=[255,255,255,255]:"number"==typeof k.mean?B=[k.mean,k.mean,k.mean,k.mean]:(B=[k.mean[0],k.mean[1],k.mean[2],255],void 0!==k.mean[3]&&(B[3]=k.mean[3])),void 0===k||void 0===k.bias?V=[0,0,0,0]:"number"==typeof k.bias?V=[k.bias,k.bias,k.bias,k.bias]:(V=[k.bias[0],k.bias[1],k.bias[2],0],void 0!==k.bias[3]&&(V[3]=k.bias[3]));const j=A*I;if(void 0!==_){if(void 0!==_.height&&_.height!==A)throw new Error("Image output config height doesn't match tensor height");if(void 0!==_.width&&_.width!==I)throw new Error("Image output config width doesn't match tensor width");if(void 0!==_.format&&4===R&&"RGBA"!==_.format||3===R&&"RGB"!==_.format&&"BGR"!==_.format)throw new Error("Tensor format doesn't match input tensor dims")}const X=4;let Q=0,Z=1,de=2,he=3,Pe=0,ie=j,ue=2*j,Fe=-1;"RGBA"===P?(Pe=0,ie=j,ue=2*j,Fe=3*j):"RGB"===P?(Pe=0,ie=j,ue=2*j):"RBG"===P&&(Pe=0,ue=j,ie=2*j),D=x.createImageData(I,A);for(let Ye=0;Ye<A*I;Q+=X,Z+=X,de+=X,he+=X,Ye++)D.data[Q]=(this.data[Pe++]-V[0])*B[0],D.data[Z]=(this.data[ie++]-V[1])*B[1],D.data[de]=(this.data[ue++]-V[2])*B[2],D.data[he]=-1===Fe?255:(this.data[Fe++]-V[3])*B[3]}return D}reshape(_){return new f(this.type,this.data,_)}}const c=f;class a{constructor(_){this.handler=_}run(_,x,D){var I=this;return _asyncToGenerator(function*(){const A={};let R={};if("object"!=typeof _||null===_||_ instanceof c||Array.isArray(_))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let P=!0;if("object"==typeof x){if(null===x)throw new TypeError("Unexpected argument[1]: cannot be null.");if(x instanceof c)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(x)){if(0===x.length)throw new TypeError("'fetches' cannot be an empty array.");P=!1;for(const V of x){if("string"!=typeof V)throw new TypeError("'fetches' must be a string array or an object.");if(-1===I.outputNames.indexOf(V))throw new RangeError(`'fetches' contains invalid output name: ${V}.`);A[V]=null}if("object"==typeof D&&null!==D)R=D;else if(void 0!==D)throw new TypeError("'options' must be an object.")}else{let V=!1;const j=Object.getOwnPropertyNames(x);for(const X of I.outputNames)if(-1!==j.indexOf(X)){const Q=x[X];(null===Q||Q instanceof c)&&(V=!0,P=!1,A[X]=Q)}if(V){if("object"==typeof D&&null!==D)R=D;else if(void 0!==D)throw new TypeError("'options' must be an object.")}else R=x}}else if(void 0!==x)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const V of I.inputNames)if(void 0===_[V])throw new Error(`input '${V}' is missing in 'feeds'.`);if(P)for(const V of I.outputNames)A[V]=null;const k=yield I.handler.run(_,A,R),B={};for(const V in k)Object.hasOwnProperty.call(k,V)&&(B[V]=new c(k[V].type,k[V].data,k[V].dims));return B})()}static create(_,x,D,I){return _asyncToGenerator(function*(){let A,R={};if("string"==typeof _){if(A=_,"object"==typeof x&&null!==x)R=x;else if(void 0!==x)throw new TypeError("'options' must be an object.")}else if(_ instanceof Uint8Array){if(A=_,"object"==typeof x&&null!==x)R=x;else if(void 0!==x)throw new TypeError("'options' must be an object.")}else{if(!(_ instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&_ instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const V=_;let j=0,X=_.byteLength;if("object"==typeof x&&null!==x)R=x;else if("number"==typeof x){if(j=x,!Number.isSafeInteger(j))throw new RangeError("'byteOffset' must be an integer.");if(j<0||j>=V.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${V.byteLength}).`);if(X=_.byteLength-j,"number"==typeof D){if(X=D,!Number.isSafeInteger(X))throw new RangeError("'byteLength' must be an integer.");if(X<=0||j+X>V.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${V.byteLength-j}].`);if("object"==typeof I&&null!==I)R=I;else if(void 0!==I)throw new TypeError("'options' must be an object.")}else if(void 0!==D)throw new TypeError("'byteLength' must be a number.")}else if(void 0!==x)throw new TypeError("'options' must be an object.");A=new Uint8Array(V,j,X)}}const P=(R.executionProviders||[]).map(V=>"string"==typeof V?V:V.name),k=yield(V=_asyncToGenerator(function*(j){const X=0===j.length?w:j,Q=[];for(const Z of X){const de=S[Z];if(de){if(de.initialized)return de.backend;if(de.aborted)continue;const he=!!de.initPromise;try{return he||(de.initPromise=de.backend.init()),yield de.initPromise,de.initialized=!0,de.backend}catch(Pe){he||Q.push({name:Z,err:Pe}),de.aborted=!0}finally{delete de.initPromise}}}throw new Error(`no available backend found. ERR: ${Q.map(Z=>`[${Z.name}] ${Z.err}`).join(", ")}`)}),function(j){return V.apply(this,arguments)})(P),B=yield k.createSessionHandler(A,R);var V;return new a(B)})()}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const d=a},5716:(z,u,g)=>{"use strict";u.R=void 0;const S=g(6027),w=g(1723);u.R=new class{init(){return _asyncToGenerator(function*(){})()}createSessionHandler(C,b){return _asyncToGenerator(function*(){const v=new S.Session(b);return yield v.loadModel(C),new w.OnnxjsSessionHandler(v)})()}}},2818:(z,u,g)=>{"use strict";u.c8=u.rX=void 0;const S=g(8453),w=g(5381),C=g(9544),b=g(6640);u.rX=()=>{if(("number"!=typeof S.env.wasm.initTimeout||S.env.wasm.initTimeout<0)&&(S.env.wasm.initTimeout=0),"boolean"!=typeof S.env.wasm.simd&&(S.env.wasm.simd=!0),"boolean"!=typeof S.env.wasm.proxy&&(S.env.wasm.proxy=!1),"number"!=typeof S.env.wasm.numThreads||!Number.isInteger(S.env.wasm.numThreads)||S.env.wasm.numThreads<=0){const v=typeof navigator>"u"?(0,w.cpus)().length:navigator.hardwareConcurrency;S.env.wasm.numThreads=Math.min(4,Math.ceil((v||1)/2))}},u.c8=new class{init(){return _asyncToGenerator(function*(){(0,u.rX)(),yield(0,C.initWasm)()})()}createSessionHandler(v,p){return _asyncToGenerator(function*(){const m=new b.OnnxruntimeWebAssemblySessionHandler;return yield m.loadModel(v,p),Promise.resolve(m)})()}}},1057:function(z,u,g){"use strict";var S=this&&this.__createBinding||(Object.create?function(b,v,p,m){void 0===m&&(m=p);var f=Object.getOwnPropertyDescriptor(v,p);f&&!("get"in f?!v.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(b,m,f)}:function(b,v,p,m){void 0===m&&(m=p),b[m]=v[p]}),w=this&&this.__exportStar||function(b,v){for(var p in b)"default"===p||Object.prototype.hasOwnProperty.call(v,p)||S(v,b,p)};Object.defineProperty(u,"__esModule",{value:!0}),w(g(8453),u);const C=g(8453);{const b=g(5716).R;(0,C.registerBackend)("webgl",b,-10)}{const b=g(2818).c8;(0,C.registerBackend)("cpu",b,10),(0,C.registerBackend)("wasm",b,10),(0,C.registerBackend)("xnnpack",b,9)}},4910:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createAttributeWithCacheKey=void 0;class g{constructor(w){Object.assign(this,w)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(w=>`${this[w]}`).join(";")),this._cacheKey}}u.createAttributeWithCacheKey=S=>new g(S)},6874:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Attribute=void 0;const S=g(1446),w=g(1287),C=g(9240),b=g(7273);var v=w.onnxruntime.experimental.fbs;class p{constructor(f){if(this._attributes=new Map,null!=f){for(const c of f)c instanceof S.onnx.AttributeProto?this._attributes.set(c.name,[p.getValue(c),p.getType(c)]):c instanceof v.Attribute&&this._attributes.set(c.name(),[p.getValue(c),p.getType(c)]);if(this._attributes.size<f.length)throw new Error("duplicated attribute names")}}set(f,c,a){this._attributes.set(f,[a,c])}delete(f){this._attributes.delete(f)}getFloat(f,c){return this.get(f,"float",c)}getInt(f,c){return this.get(f,"int",c)}getString(f,c){return this.get(f,"string",c)}getTensor(f,c){return this.get(f,"tensor",c)}getFloats(f,c){return this.get(f,"floats",c)}getInts(f,c){return this.get(f,"ints",c)}getStrings(f,c){return this.get(f,"strings",c)}getTensors(f,c){return this.get(f,"tensors",c)}get(f,c,a){const d=this._attributes.get(f);if(void 0===d){if(void 0!==a)return a;throw new Error(`required attribute not found: ${f}`)}if(d[1]!==c)throw new Error(`type mismatch: expected ${c} but got ${d[1]}`);return d[0]}static getType(f){const c=f instanceof S.onnx.AttributeProto?f.type:f.type();switch(c){case S.onnx.AttributeProto.AttributeType.FLOAT:return"float";case S.onnx.AttributeProto.AttributeType.INT:return"int";case S.onnx.AttributeProto.AttributeType.STRING:return"string";case S.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case S.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case S.onnx.AttributeProto.AttributeType.INTS:return"ints";case S.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case S.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${S.onnx.AttributeProto.AttributeType[c]}`)}}static getValue(f){const c=f instanceof S.onnx.AttributeProto?f.type:f.type();if(c===S.onnx.AttributeProto.AttributeType.GRAPH||c===S.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const a=this.getValueNoCheck(f);if(c===S.onnx.AttributeProto.AttributeType.INT&&b.LongUtil.isLong(a))return b.LongUtil.longToNumber(a);if(c===S.onnx.AttributeProto.AttributeType.INTS){const d=a,h=new Array(d.length);for(let _=0;_<d.length;_++)h[_]=b.LongUtil.longToNumber(d[_]);return h}if(c===S.onnx.AttributeProto.AttributeType.TENSOR)return f instanceof S.onnx.AttributeProto?C.Tensor.fromProto(a):C.Tensor.fromOrtTensor(a);if(c===S.onnx.AttributeProto.AttributeType.TENSORS){if(f instanceof S.onnx.AttributeProto)return a.map(d=>C.Tensor.fromProto(d));if(f instanceof v.Attribute)return a.map(d=>C.Tensor.fromOrtTensor(d))}return c===S.onnx.AttributeProto.AttributeType.STRING&&f instanceof S.onnx.AttributeProto?(0,b.decodeUtf8String)(a):c===S.onnx.AttributeProto.AttributeType.STRINGS&&f instanceof S.onnx.AttributeProto?a.map(b.decodeUtf8String):a}static getValueNoCheck(f){return f instanceof S.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(f):this.getValueNoCheckFromOrtFormat(f)}static getValueNoCheckFromOnnxFormat(f){switch(f.type){case S.onnx.AttributeProto.AttributeType.FLOAT:return f.f;case S.onnx.AttributeProto.AttributeType.INT:return f.i;case S.onnx.AttributeProto.AttributeType.STRING:return f.s;case S.onnx.AttributeProto.AttributeType.TENSOR:return f.t;case S.onnx.AttributeProto.AttributeType.GRAPH:return f.g;case S.onnx.AttributeProto.AttributeType.FLOATS:return f.floats;case S.onnx.AttributeProto.AttributeType.INTS:return f.ints;case S.onnx.AttributeProto.AttributeType.STRINGS:return f.strings;case S.onnx.AttributeProto.AttributeType.TENSORS:return f.tensors;case S.onnx.AttributeProto.AttributeType.GRAPHS:return f.graphs;default:throw new Error(`unsupported attribute type: ${S.onnx.AttributeProto.AttributeType[f.type]}`)}}static getValueNoCheckFromOrtFormat(f){switch(f.type()){case v.AttributeType.FLOAT:return f.f();case v.AttributeType.INT:return f.i();case v.AttributeType.STRING:return f.s();case v.AttributeType.TENSOR:return f.t();case v.AttributeType.GRAPH:return f.g();case v.AttributeType.FLOATS:return f.floatsArray();case v.AttributeType.INTS:{const c=[];for(let a=0;a<f.intsLength();a++)c.push(f.ints(a));return c}case v.AttributeType.STRINGS:{const c=[];for(let a=0;a<f.stringsLength();a++)c.push(f.strings(a));return c}case v.AttributeType.TENSORS:{const c=[];for(let a=0;a<f.tensorsLength();a++)c.push(f.tensors(a));return c}default:throw new Error(`unsupported attribute type: ${v.AttributeType[f.type()]}`)}}}u.Attribute=p},1975:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.resolveBackend=u.backend=void 0;const S=g(4418),w=new Map;function C(v){return b.apply(this,arguments)}function b(){return(b=_asyncToGenerator(function*(v){const p=u.backend;if(void 0!==p[v]&&"initialize"in(m=p[v])&&"function"==typeof m.initialize&&"createSessionHandler"in m&&"function"==typeof m.createSessionHandler&&"dispose"in m&&"function"==typeof m.dispose){const m=p[v];let f=m.initialize();if("object"==typeof f&&"then"in f&&(f=yield f),f)return w.set(v,m),m}var m})).apply(this,arguments)}u.backend={webgl:new S.WebGLBackend},u.resolveBackend=function(){var v=_asyncToGenerator(function*(m){if(!m)return p(["webgl"]);{const f="string"==typeof m?[m]:m;for(const c of f){const a=w.get(c);if(a)return a;const d=yield C(c);if(d)return d}}throw new Error("no available backend to use")});function p(m){return v.apply(this,arguments)}return p}()},4418:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.WebGLBackend=void 0;const S=g(8453),w=g(1315),C=g(2171),b=g(3389);u.WebGLBackend=class{get contextId(){return S.env.webgl.contextId}set contextId(v){S.env.webgl.contextId=v}get matmulMaxBatchSize(){return S.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(v){S.env.webgl.matmulMaxBatchSize=v}get textureCacheMode(){return S.env.webgl.textureCacheMode}set textureCacheMode(v){S.env.webgl.textureCacheMode=v}get pack(){return S.env.webgl.pack}set pack(v){S.env.webgl.pack=v}get async(){return S.env.webgl.async}set async(v){S.env.webgl.async=v}initialize(){try{return this.glContext=(0,b.createWebGLContext)(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),w.Logger.setWithEnv(S.env),w.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(v){return w.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${v}`),!1}}createSessionHandler(v){return new C.WebGLSessionHandler(this,v)}dispose(){this.glContext.dispose()}}},6859:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CoordsGlslLib=void 0;const S=g(7273),w=g(1997),C=g(6757),b=g(7618),v=g(432);u.CoordsGlslLib=class p extends w.GlslLib{constructor(f){super(f)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new w.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new w.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){const f=this.context.outputTextureLayout;return f.isPacked?this.getPackedOutputSamplingSnippet(f):this.getUnpackedOutputSamplingSnippet(f)}getPackedOutputSamplingSnippet(f){const c=f.unpackedShape,a=[f.width,f.height],d={},h="getOutputCoords";switch(c.length){case 0:d[h]=this.getOutputScalarCoords();break;case 1:d[h]=this.getOutputPacked1DCoords(c,a);break;case 2:d[h]=this.getOutputPacked2DCoords(c,a);break;case 3:d[h]=this.getOutputPacked3DCoords(c,a);break;default:d[h]=this.getOutputPackedNDCoords(c,a)}const _=`\n      void setOutput(vec4 val) {\n        ${(0,C.getGlsl)(this.context.glContext.version).output} = val;\n      }\n    `;return d.floatTextureSetRGBA=new w.GlslLibRoutine(_),d}getUnpackedOutputSamplingSnippet(f){const c=f.unpackedShape,a=[f.width,f.height],d={},h="getOutputCoords";switch(c.length){case 0:d[h]=this.getOutputScalarCoords();break;case 1:d[h]=this.getOutputUnpacked1DCoords(c,a);break;case 2:d[h]=this.getOutputUnpacked2DCoords(c,a);break;case 3:d[h]=this.getOutputUnpacked3DCoords(c,a);break;case 4:d[h]=this.getOutputUnpacked4DCoords(c,a);break;case 5:d[h]=this.getOutputUnpacked5DCoords(c,a);break;case 6:d[h]=this.getOutputUnpacked6DCoords(c,a);break;default:throw new Error(`Unsupported output dimensionality: ${c.length}`)}const _=`\n        void setOutput(float val) {\n          ${(0,C.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);\n        }\n    `;return d.floatTextureSetR=new w.GlslLibRoutine(_),d}getOutputScalarCoords(){return new w.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(f,c){const a=c;let d="";return 1===a[0]?(d=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ${a[1]}.0);\n          }\n        `,new w.GlslLibRoutine(d)):1===a[1]?(d=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ${a[0]}.0);\n          }\n        `,new w.GlslLibRoutine(d)):(d=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(${a[0]}, ${a[1]}));\n          return 2 * (resTexRC.y * ${a[0]} + resTexRC.x);\n        }\n      `,new w.GlslLibRoutine(d))}getOutputPacked2DCoords(f,c){let a="";if(S.ArrayUtil.arraysEqual(f,c))return a=`\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(${c[0]}, ${c[1]}));\n        }\n      `,new w.GlslLibRoutine(a);const d=c,h=Math.ceil(f[1]/2);return a=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${d[0]}, ${d[1]}));\n\n          int index = resTexRC.y * ${d[0]} + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${h}) * 2;\n          int c = 2 * (index / ${h});\n\n          return ivec2(r, c);\n        }\n      `,new w.GlslLibRoutine(a)}getOutputPacked3DCoords(f,c){const a=[c[0],c[1]],d=Math.ceil(f[2]/2),h=d*Math.ceil(f[1]/2);return new w.GlslLibRoutine(`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${a[0]}, ${a[1]}));\n          int index = resTexRC.y * ${a[0]} + resTexRC.x;\n\n          int b = index / ${h};\n          index -= b * ${h};\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${d}) * 2;\n          int c = 2 * (index / ${d});\n\n          return ivec3(b, r, c);\n        }\n      `)}getOutputPackedNDCoords(f,c){const a=[c[0],c[1]],d=Math.ceil(f[f.length-1]/2),h=d*Math.ceil(f[f.length-2]/2);let _=h,x="",D="b, r, c";for(let A=2;A<f.length-1;A++)_*=f[f.length-A-1],x=`\n      int b${A} = index / ${_};\n      index -= b${A} * ${_};\n    `+x,D=`b${A}, `+D;return new w.GlslLibRoutine(`\n      ivec${f.length} getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(${a[0]}, ${a[1]}));\n        int index = resTexRC.y * ${a[0]} + resTexRC.x;\n\n        ${x}\n\n        int b = index / ${h};\n        index -= b * ${h};\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ${d}) * 2;\n        int c = 2 * (index / ${d});\n\n        return ivec${f.length}(${D});\n      }\n    `)}getOutputUnpacked1DCoords(f,c){return new w.GlslLibRoutine(`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${c[0]}, ${c[1]}));\n          return resTexRC.y * ${c[0]} + resTexRC.x;\n        }\n      `)}getOutputUnpacked2DCoords(f,c){return new w.GlslLibRoutine(`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${c[0]}, ${c[1]}));\n          int index = resTexRC.y * ${c[0]} + resTexRC.x;\n          int r = index / ${f[1]};\n          int c = index - r * ${f[1]};\n          return ivec2(r, c);\n        }\n      `)}getOutputUnpacked3DCoords(f,c){let a="";const d=f.length;let h=null;d<2&&(h=[]),h=new Array(d-1),h[d-2]=f[d-1];for(let D=d-3;D>=0;--D)h[D]=h[D+1]*f[D+1];const _=["r","c","d"],x=h.map((D,I)=>`int ${_[I]} = index / ${D}; ${I===h.length-1?`int ${_[I+1]} = index - ${_[I]} * ${D}`:`index -= ${_[I]} * ${D}`};`).join("");return a=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${c[0]}, ${c[1]}));\n          int index = resTexRC.y * ${c[0]} + resTexRC.x;\n          ${x}\n          return ivec3(r, c, d);\n        }\n      `,new w.GlslLibRoutine(a)}getOutputUnpacked4DCoords(f,c){let a="";const d=f.length;let h=null;d<2&&(h=[]),h=new Array(d-1),h[d-2]=f[d-1];for(let D=d-3;D>=0;--D)h[D]=h[D+1]*f[D+1];const _=["r","c","d","d2"],x=h.map((D,I)=>`int ${_[I]} = index / ${D}; ${I===h.length-1?`int ${_[I+1]} = index - ${_[I]} * ${D}`:`index -= ${_[I]} * ${D}`};`).join("");return a=`\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${c[0]}, ${c[1]}));\n          int index = resTexRC.y * ${c[0]} + resTexRC.x;\n          ${x}\n          return ivec4(r, c, d, d2);\n        }\n      `,new w.GlslLibRoutine(a)}getOutputUnpacked5DCoords(f,c){let a="";const d=f.length;let h=null;d<2&&(h=[]),h=new Array(d-1),h[d-2]=f[d-1];for(let D=d-3;D>=0;--D)h[D]=h[D+1]*f[D+1];const _=["r","c","d","d2","d3"],x=h.map((D,I)=>`int ${_[I]} = index / ${D}; ${I===h.length-1?`int ${_[I+1]} = index - ${_[I]} * ${D}`:`index -= ${_[I]} * ${D}`};`).join("");return a=`\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${c[0]}, ${c[1]}));\n          int index = resTexRC.y * ${c[0]} + resTexRC.x;\n          ${x}\n          return ivec5(r, c, d, d2, d3);\n        }\n      `,new w.GlslLibRoutine(a)}getOutputUnpacked6DCoords(f,c){let a="";const d=f.length;let h=null;d<2&&(h=[]),h=new Array(d-1),h[d-2]=f[d-1];for(let D=d-3;D>=0;--D)h[D]=h[D+1]*f[D+1];const _=["r","c","d","d2","d3","d4"],x=h.map((D,I)=>`int ${_[I]} = index / ${D}; ${I===h.length-1?`int ${_[I+1]} = index - ${_[I]} * ${D}`:`index -= ${_[I]} * ${D}`};`).join("");return a=`\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(${c[0]}, ${c[1]}));\n         int index = resTexRC.y * ${c[0]} + resTexRC.x;\n         ${x}\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     `,new w.GlslLibRoutine(a)}getCommonUtilFuncs(){const f={};let c="uvFromFlat";f[c]=new w.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),c="packedUVfrom1D",f[c]=new w.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),c="packedUVfrom2D",f[c]=new w.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),c="packedUVfrom3D",f[c]=new w.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),c="sampleTexture";const a=(0,C.getGlsl)(this.context.glContext.version);return f[c]=new w.GlslLibRoutine(`\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ${a.texture2D}(textureSampler, uv).r;\n        }`),f}getInputsSamplingSnippets(){const f={},c=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((a,d)=>{const h=this.context.inputTextureLayouts[d],_=(0,v.generateShaderFuncNameFromInputSamplerName)(a);f[_]=h.isPacked?this.getPackedSamplerFromInput(_,a,h):this.getUnpackedSamplerFromInput(_,a,h);const x=(0,v.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(a);h.unpackedShape.length<=c.unpackedShape.length&&(f[x]=h.isPacked?this.getPackedSamplerAtOutputCoords(x,h,c,a):this.getUnpackedSamplerAtOutputCoords(x,h,c,a))}),f}getPackedSamplerAtOutputCoords(f,c,a,d){const h=c.unpackedShape,_=a.unpackedShape,D=(0,v.generateShaderFuncNameFromInputSamplerName)(d),I=h.length,A=_.length,R=S.BroadcastUtil.getBroadcastDims(h,_),P=(0,v.getCoordsDataType)(A),k=A-I;let B;const V=(0,v.getGlChannels)();B=0===I?"":A<2&&R.length>=1?"coords = 0;":R.map(he=>`coords.${V[he+k]} = 0;`).join("\n");let j="";j=A<2&&I>0?"coords":h.map((he,Pe)=>`coords.${V[Pe+k]}`).join(", ");let X="return outputValue;";const Q=1===S.ShapeUtil.size(h),Z=1===S.ShapeUtil.size(_);if(1!==I||Q||Z){if(Q&&!Z)X=1===A?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(R.length){const he=I-2,Pe=I-1;R.indexOf(he)>-1&&R.indexOf(Pe)>-1?X="return vec4(outputValue.x);":R.indexOf(he)>-1?X="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":R.indexOf(Pe)>-1&&(X="return vec4(outputValue.xx, outputValue.zz);")}}else X="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";return new w.GlslLibRoutine(`\n      vec4 ${f}() {\n        ${P} coords = getOutputCoords();\n        \n        int lastDim = coords.${V[A-1]};\n        coords.${V[A-1]} = coords.${V[A-2]};\n        coords.${V[A-2]} = lastDim;\n      \n        ${B}\n        vec4 outputValue = ${D}(${j});\n        ${X}\n      }\n    `,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(f,c,a,d){const h=[a.width,a.height],_=[c.width,c.height],x=c.unpackedShape.length,D=a.unpackedShape.length,I=c.unpackedShape,A=a.unpackedShape,R=(0,v.generateShaderFuncNameFromInputSamplerName)(d);if(x===D&&S.ArrayUtil.arraysEqual(_,h))return new w.GlslLibRoutine(`\n          float ${f}() {\n            return sampleTexture(${d}, TexCoords);\n          }\n        `,["coordinates.sampleTexture"]);const P=(0,v.getCoordsDataType)(D),k=S.BroadcastUtil.getBroadcastDims(I,A),B=D-x;let V;const j=(0,v.getGlChannels)();V=0===x?"":D<2&&k.length>=1?"coords = 0;":k.map(Z=>`coords.${j[Z+B]} = 0;`).join("\n");let X="";return X=D<2&&x>0?"coords":c.unpackedShape.map((Z,de)=>`coords.${j[de+B]}`).join(", "),new w.GlslLibRoutine(`\n        float ${f}() {\n          ${P} coords = getOutputCoords();\n          ${V}\n          return ${R}(${X});\n        }\n      `,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(f,c,a){switch(a.unpackedShape.length){case 0:return this.getPackedSamplerScalar(f,c);case 1:return this.getPackedSampler1D(f,c,a);case 2:return this.getPackedSampler2D(f,c,a);case 3:return this.getPackedSampler3D(f,c,a);default:return this.getPackedSamplerND(f,c,a)}}getUnpackedSamplerFromInput(f,c,a){const d=a.unpackedShape;switch(d.length){case 0:return this.getUnpackedSamplerScalar(f,c,a);case 1:return this.getUnpackedSampler1D(f,c,a);case 2:return this.getUnpackedSampler2D(f,c,a);case 3:return this.getUnpackedSampler3D(f,c,a);case 4:return this.getUnpackedSampler4D(f,c,a);case 5:return this.getUnpackedSampler5D(f,c,a);case 6:return this.getUnpackedSampler6D(f,c,a);default:throw new Error(`Unsupported dimension ${d.length}-D`)}}getPackedSamplerScalar(f,c){const a=`\n          vec4 ${f}() {\n            return ${(0,C.getGlsl)(this.context.glContext.version).texture2D}(${c}, halfCR);\n          }\n        `;return new w.GlslLibRoutine(a)}getPackedSampler1D(f,c,a){const d=[a.width,a.height],h=[d[1],d[0]],_=(0,C.getGlsl)(this.context.glContext.version);return new w.GlslLibRoutine(`vec4 ${f}(int index) {\n      vec2 uv = packedUVfrom1D(\n      ${h[0]}, ${h[1]}, index);\n      return ${_.texture2D}(${c}, uv);\n    }`,["coordinates.packedUVfrom1D"])}getPackedSampler2D(f,c,a){const d=a.unpackedShape,h=[a.width,a.height],_=(0,C.getGlsl)(this.context.glContext.version),x=h[0],D=h[1];if(null!=h&&S.ArrayUtil.arraysEqual(d,h))return new w.GlslLibRoutine(`vec4 ${f}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${D}.0, ${x}.0);\n        return ${_.texture2D}(${c}, uv);\n      }`);const I=h,A=Math.ceil(d[1]/2);return new w.GlslLibRoutine(`vec4 ${f}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${I[1]}, ${I[0]}, ${A}, row, col);\n      return ${_.texture2D}(${c}, uv);\n    }`,["coordinates.packedUVfrom2D"])}getPackedSampler3D(f,c,a){const d=a.unpackedShape,h=[a.width,a.height],_=[h[0],h[1]],x=(0,C.getGlsl)(this.context.glContext.version);if(1===d[0]){const P=d.slice(1),k=[1,2],B=(0,v.squeezeInputShape)(d,P),V=["b","row","col"],j=JSON.parse(JSON.stringify(a));j.unpackedShape=B;const X=this.getPackedSamplerFromInput(f,c,j),Q=`${X.routineBody}\n      vec4 ${f}(int b, int row, int col) {\n        return ${f}(${(0,v.getSqueezedParams)(V,k)});\n      } `;return new w.GlslLibRoutine(Q,X.dependencies)}const D=_[0],I=_[1],A=Math.ceil(d[2]/2),R=`vec4 ${f}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${I}, ${D}, ${A*Math.ceil(d[1]/2)}, ${A}, b, row, col);\n      return ${x.texture2D}(${c}, uv);}`;return new w.GlslLibRoutine(R,["coordinates.packedUVfrom3D"])}getPackedSamplerND(f,c,a){const d=a.unpackedShape,h=d.length,_=[a.width,a.height],x=(0,C.getGlsl)(this.context.glContext.version),D=[_[0],_[1]],I=D[1],A=D[0],R=Math.ceil(d[h-1]/2);let P=R*Math.ceil(d[h-2]/2),k="int b, int row, int col",B=`b * ${P} + (row / 2) * ${R} + (col / 2)`;for(let j=2;j<h-1;j++)k=`int b${j}, `+k,P*=d[h-j-1],B=`b${j} * ${P} + `+B;return new w.GlslLibRoutine(`vec4 ${f}(${k}) {\n      int index = ${B};\n      int texR = index / ${A};\n      int texC = index - texR * ${A};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${A}, ${I});\n      return ${x.texture2D}(${c}, uv);\n    }`)}getUnpackedSamplerScalar(f,c,a){const[d,h]=[a.width,a.height];return 1===d&&1===h?new w.GlslLibRoutine(`\n          float ${f}() {\n            return sampleTexture(${c}, halfCR);\n          }\n        `,["coordinates.sampleTexture"]):new w.GlslLibRoutine(`\n        float ${f}() {\n          int offset_${c} = coordsToOffset(TexCoords, ${d}, ${h});\n          vec2 uv = uvFromFlat(${d}, ${h}, offset_${c});\n          return sampleTexture(${c}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(f,c,a){const d=a.width,h=a.height;return 1===h&&1===d?new w.GlslLibRoutine(`\n        float ${f}(int index) {\n          return sampleTexture(${c}, halfCR);\n        }\n      `,["coordinates.sampleTexture"]):1===h?new w.GlslLibRoutine(`\n          float ${f}(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ${d}.0, 0.5);\n            return sampleTexture(${c}, uv);\n          }\n        `,["coordinates.sampleTexture"]):1===d?new w.GlslLibRoutine(`\n          float ${f}(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${h}.0);\n            return sampleTexture(${c}, uv);\n          }\n        `,["coordinates.sampleTexture"]):new w.GlslLibRoutine(`\n        float ${f}(int index) {\n          vec2 uv = uvFromFlat(${d}, ${h}, index);\n          return sampleTexture(${c}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(f,c,a){const d=a.unpackedShape,h=[a.height,a.width];if(null!=h&&S.ArrayUtil.arraysEqual(d,h))return new w.GlslLibRoutine(`\n          float ${f}(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(${h[1]}.0, ${h[0]}.0);\n            return sampleTexture(${c}, uv);\n          }\n        `,["coordinates.sampleTexture"]);const{newShape:_,keptDims:x}=(0,b.squeezeShape)(d);if(_.length<d.length){const P=(0,v.squeezeInputShape)(d,_),k=JSON.parse(JSON.stringify(a));k.unpackedShape=P;const B=["col","row"],V=`\n          ${this.getUnpackedSamplerFromInput(f,c,k).routineBody}\n          float ${f}(int row, int col) {\n            return ${f}(${(0,v.getSqueezedParams)(B,x)});\n          }\n        `;return new w.GlslLibRoutine(V,["coordinates.sampleTexture"])}const I=h[1],A=h[0];return 1===A?new w.GlslLibRoutine(`\n          float ${f}(int row, int col) {\n            int offset_${c} = coordsToOffset(TexCoords, ${I}, ${A});\n            float index = dot(vec3(row, col, offset_${c}), vec3(${d[1]}, 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ${I}.0);\n            return sampleTexture(${c}, uv);\n          }\n        `,["coordinates.sampleTexture","coordinates.coordsToOffset"]):1===I?new w.GlslLibRoutine(`\n          float ${f}(int row, int col) {\n            int offset_${c} = coordsToOffset(TexCoords, ${I}, ${A});\n            float index = dot(vec3(row, col, offset_${c}), vec3(${d[1]}, 1, 1));\n            vec2 uv = vec2((index + 0.5) / ${A}.0, 0.5);\n            return sampleTexture(${c}, uv);\n          }\n        `,["coordinates.sampleTexture","coordinates.coordsToOffset"]):new w.GlslLibRoutine(`\n        float ${f}(int row, int col) {\n          int index = col * ${d[1]} + row;\n          vec2 uv = uvFromFlat(${I}, ${A}, index);\n          return sampleTexture(${c}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(f,c,a){const d=a.unpackedShape,h=d[1]*d[2],_=d[2],{newShape:x,keptDims:D}=(0,b.squeezeShape)(d);if(x.length<d.length){const R=(0,v.squeezeInputShape)(d,x),P=["batch","col","row"],k=JSON.parse(JSON.stringify(a));k.unpackedShape=R;const B=this.getUnpackedSamplerFromInput(f,c,k),V=D.reverse(),j=`\n          ${B.routineBody}\n          float ${f}(int batch, int row, int col) {\n            return ${f}(${(0,v.getSqueezedParams)(P,V)});\n          }\n        `;return new w.GlslLibRoutine(j,B.dependencies)}return new w.GlslLibRoutine(`\n          float ${f}(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ${h} + col * ${_} + row;\n            vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);\n            return sampleTexture(${c}, uv);\n          }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(f,c,a){const d=a.unpackedShape,h=d[3],_=d[2]*h;return new w.GlslLibRoutine(`\n        float ${f}(int row, int col, int depth, int depth2) {\n          int index = row * ${d[1]*_} + col * ${_} +\n              depth2 * ${h} + depth;\n          vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);\n          return sampleTexture(${c}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(f,c,a){const d=a.unpackedShape,h=d[4],_=d[3]*h,x=d[2]*_,D=d[1]*x,{newShape:I,keptDims:A}=(0,b.squeezeShape)(d);if(I.length<d.length){const P=(0,v.squeezeInputShape)(d,I),k=["row","col","depth","depth2","depth3"],B=JSON.parse(JSON.stringify(a));B.unpackedShape=P;const V=`\n          ${this.getUnpackedSamplerFromInput(f,c,B).routineBody}\n          float ${f}(int row, int col, int depth, int depth2, int depth3) {\n            return ${f}(${(0,v.getSqueezedParams)(k,A)});\n          }\n        `;return new w.GlslLibRoutine(V,["coordinates.sampleTexture","coordinates.uvFromFlat"])}return new w.GlslLibRoutine(`\n        float ${f}(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ${D} + col * ${x} + depth * ${_} +\n          depth3 * ${h} + depth2;\n          vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);\n          return sampleTexture(${c}, uv);\n        }\n      `,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(f,c,a){const d=a.unpackedShape,h=d[5],_=d[4]*h,x=d[3]*_,D=d[2]*x,I=d[1]*D,{newShape:A,keptDims:R}=(0,b.squeezeShape)(d);if(A.length<d.length){const k=(0,v.squeezeInputShape)(d,A),B=["row","col","depth","depth2","depth3","depth4"],V=JSON.parse(JSON.stringify(a));V.unpackedShape=k;const j=`\n            ${this.getUnpackedSamplerFromInput(f,c,V).routineBody}\n            float ${f}(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ${f}(${(0,v.getSqueezedParams)(B,R)});\n            }\n          `;return new w.GlslLibRoutine(j,["coordinates.sampleTexture","coordinates.uvFromFlat"])}return new w.GlslLibRoutine(`\n          float ${f}(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ${I} + col * ${D} + depth * ${x} +\n            depth2 * ${_} + depth3 * ${h} + depth4;\n            vec2 uv = uvFromFlat(${a.width}, ${a.height}, index);\n            return sampleTexture(${c}, uv);\n          }\n        `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const f=this.context.outputTextureLayout,c=f.shape.length,a=f.strides,d=f.width,h=f.height,_=[];for(let D=0;D<c-1;++D)_.push(`\n        c[${D}] = offset / ${a[D]};`),_.push(`\n        offset -= c[${D}] * ${a[D]};`);_.push(`\n        c[${c-1}] = offset;`);const x=`\n      void toVec(vec2 texCoords, out int c[${c}]) {\n        int offset = coordsToOffset(texCoords, ${d}, ${h});\n        ${_.join("")}\n      }\n      void toVec(int offset, out int c[${c}]) {\n        ${_.join("")}\n      }\n    `;return{toVec:new w.GlslLibRoutine(x,["coordinates.coordsToOffset"])}}valueFrom(){const f={};return this.context.programInfo.inputNames.forEach((c,a)=>{const d=this.context.inputTextureLayouts[a],h=(d.unpackedShape.length>0?d.unpackedShape:d.shape).length;let _=`_${c}`;f[_]=new w.GlslLibRoutine(this.getValueFromSingle(c,h,d.width,d.height,!1),[`shapeUtils.indicesToOffset${_}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),_+="_T",f[_]=new w.GlslLibRoutine(this.getValueFromSingle(c,h,d.width,d.height,!0),[`shapeUtils.indicesToOffset${_}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),f}getValueFromSingle(f,c,a,d,h){let _=`_${f}`;return h&&(_+="_T"),`\n        float ${_}(int m[${c}]) {\n          int offset = indicesToOffset${_}(m);\n          vec2 coords = offsetToCoords(offset, ${a}, ${d});\n          float value = getColorAsFloat(${(0,C.getGlsl)(this.context.glContext.version).texture2D}(${f}, coords));\n          return value;\n        }\n        `}getPackedValueFrom(f,c,a,d,h){let _=`_${f}_Pack`;return h&&(_+="_T"),`\n        vec4 ${_}(int m[${c}]) {\n          int offset = indicesToOffset_${f}(m);\n          vec2 coords = offsetToCoords(offset, ${a}, ${d});\n          return ${(0,C.getGlsl)(this.context.glContext.version).texture2D}(${f}, coords);\n        }\n        `}}},1997:(z,u)=>{"use strict";var g;Object.defineProperty(u,"__esModule",{value:!0}),u.TopologicalSortGlslRoutines=u.GlslLibRoutineNode=u.GlslLibRoutine=u.GlslLib=u.GlslContext=u.FunctionType=void 0,(g=u.FunctionType||(u.FunctionType={}))[g.ValueBased=0]="ValueBased",g[g.Positional=1]="Positional",u.GlslContext=class{constructor(S,w,C,b){this.glContext=S,this.programInfo=w,this.inputTextureLayouts=C,this.outputTextureLayout=b}},u.GlslLib=class{constructor(S){this.context=S}},u.GlslLibRoutine=class{constructor(S,w){this.routineBody=S,this.dependencies=w}},u.GlslLibRoutineNode=class{constructor(S,w,C){this.name=S,this.dependencies=C||[],w&&(this.routineBody=w)}addDependency(S){S&&this.dependencies.push(S)}},u.TopologicalSortGlslRoutines=class{static returnOrderedNodes(S){if(!S||0===S.length)return[];if(1===S.length)return S;const w=new Set,C=new Set,b=new Array;return this.createOrderedNodes(S,w,C,b),b}static createOrderedNodes(S,w,C,b){for(let v=0;v<S.length;++v)this.dfsTraverse(S[v],w,C,b)}static dfsTraverse(S,w,C,b){if(!S||C.has(S.name))return;if(w.has(S.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");w.add(S.name);const v=S.dependencies;if(v&&v.length>0)for(let p=0;p<v.length;++p)this.dfsTraverse(v[p],w,C,b);b.push(S),C.add(S.name),w.delete(S.name)}}},1371:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EncodingGlslLib=void 0;const S=g(1997);class w extends S.GlslLib{constructor(b){super(b)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new S.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new S.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){const b=w.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new S.GlslLibRoutine(`\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ${b}\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        `)}}decodeUint8(){const b=w.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new S.GlslLibRoutine(`\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ${b}\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        `)}}static isLittleEndian(){const b=new ArrayBuffer(4),v=new Uint32Array(b),p=new Uint8Array(b);if(v[0]=3735928559,239===p[0])return!0;if(222===p[0])return!1;throw new Error("unknown endianness")}}u.EncodingGlslLib=w},2691:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FragColorGlslLib=void 0;const S=g(1997),w=g(6757);u.FragColorGlslLib=class C extends S.GlslLib{constructor(v){super(v)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const v=(0,w.getGlsl)(this.context.glContext.version);return{setFragColor:new S.GlslLibRoutine(`\n        void setFragColor(float value) {\n            ${v.output} = encode(value);\n        }\n        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new S.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}},3878:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.replaceInlines=void 0;const g=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;u.replaceInlines=function(S){const w={};let C;for(;null!==(C=g.exec(S));){const b=C[3].split(",").map(v=>{const p=v.trim().split(" ");return p&&2===p.length?{type:p[0],name:p[1]}:null}).filter(v=>null!==v);w[C[2]]={params:b,body:C[4]}}for(const b in w){const v="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",b),p=new RegExp(v,"gm");for(;null!==(C=p.exec(S));){const m=C[1],f=C[2],c=C[3].split(","),a=m?`${m} ${f};`:"";let d=w[b].body,h="";w[b].params.forEach((x,D)=>{x&&(h+=`${x.type} ${x.name} = ${c[D]};\n`)}),d=`${h}\n ${d}`,d=d.replace("return",`${f} = `),S=S.replace(C[0],`\n      ${a}\n      {\n        ${d}\n      }\n      `)}}return S.replace(g,"")}},8897:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GlslPreprocessor=void 0;const S=g(1997),w=g(3878),C=g(1248),b=g(6757);u.GlslPreprocessor=class{constructor(v,p,m,f){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new S.GlslContext(v,p,m,f),Object.keys(C.glslRegistry).forEach(a=>{const d=new C.glslRegistry[a](this.context);this.libs[a]=d});const c=this.glslLibRoutineDependencyGraph;for(const a in this.libs){const d=this.libs[a].getFunctions();for(const h in d){const _=a+"."+h;let x;c[_]?(x=c[_],x.routineBody=d[h].routineBody):(x=new S.GlslLibRoutineNode(_,d[h].routineBody),c[_]=x);const D=d[h].dependencies;if(D)for(let I=0;I<D.length;++I)if(c[D[I]])x.addDependency(c[D[I]]);else{const A=new S.GlslLibRoutineNode(D[I]);c[D[I]]=A,x.addDependency(A)}}}}preprocess(){const v=this.context.programInfo;let p=v.shaderSource;return this.context.programInfo.hasMain||(p=`${p}\n      ${(0,b.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),p=(0,w.replaceInlines)(p),`${(0,b.getFragShaderPreamble)(this.context.glContext.version)}\n    ${this.getUniforms(v.inputNames,v.variables)}\n    ${this.getImports(p)}\n    ${p}`}getImports(v){const p=this.selectGlslLibRoutinesToBeIncluded(v);if(0===p.length)return"";let m="";for(let f=0;f<p.length;++f){if(!p[f].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${p[f].name}`);m+=p[f].routineBody+"\n"}return m}selectGlslLibRoutinesToBeIncluded(v){const p=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(m=>{const f=m.split(".")[1];-1!==v.indexOf(f)&&p.push(this.glslLibRoutineDependencyGraph[m])}),S.TopologicalSortGlslRoutines.returnOrderedNodes(p)}getUniforms(v,p){const m=[];if(v)for(const f of v)m.push(`uniform sampler2D ${f};`);if(p)for(const f of p)m.push(`uniform ${f.type} ${f.name}${f.arrayLength?`[${f.arrayLength}]`:""};`);return m.join("\n")}}},1248:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.glslRegistry=void 0;const S=g(6859),w=g(1371),C=g(2691),b=g(9183),v=g(9314);u.glslRegistry={encoding:w.EncodingGlslLib,fragcolor:C.FragColorGlslLib,vec:v.VecGlslLib,shapeUtils:b.ShapeUtilsGlslLib,coordinates:S.CoordsGlslLib}},9183:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ShapeUtilsGlslLib=void 0;const S=g(1997);class w extends S.GlslLib{constructor(b){super(b)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const b=this.context.outputTextureLayout.shape.length,v={};return this.context.programInfo.inputNames.forEach((p,m)=>{const f=this.context.inputTextureLayouts[m].unpackedShape;if(f.length<=b){const c=f.length,a=b-c,d=`bcastIndices_${p}`;let h="";for(let x=0;x<c;++x)h+=`\n          realIndices[${x}] = int( mod(float(bcastedIndices[${a+x}]), ${f[x]}.0) );\n          `;v[d]=new S.GlslLibRoutine(`\n        void ${d} (int bcastedIndices[${b}], out int realIndices[${c}]) {\n          ${h}\n        }\n        `)}}),v}bcastMatmulIndex(){const b=this.context.outputTextureLayout.shape.length,v={};return this.context.programInfo.inputNames.forEach((p,m)=>{const f=this.context.inputTextureLayouts[m].shape;if(!(f.length<2||f.length>b)){const c=f.length,a=b-c,d=`bcastMatmulIndices_${p}`;let h="";for(let x=0;x<c-2;++x)h+=`\n          realIndices[${x}] = int( mod(float(bcastedIndices[${a+x}]), ${f[x]}.0) );\n          `;v[d]=new S.GlslLibRoutine(`\n        void ${d}(int bcastedIndices[${b}], out int realIndices[${c}]) {\n          ${h}\n          realIndices[${c-1}] = bcastedIndices[${b-1}];\n          realIndices[${c-2}] = bcastedIndices[${b-2}];\n        }\n        `)}}),v}indicesToOffset(){const b={};return this.context.programInfo.inputNames.forEach((v,p)=>{const f=this.context.inputTextureLayouts[p].strides,c=this.context.inputTextureLayouts[p].shape.length;let a=`indicesToOffset_${v}`;b[a]=new S.GlslLibRoutine(w.indexToOffsetSingle(a,c,f)),a=`indicesToOffset_${v}_T`,b[a]=new S.GlslLibRoutine(w.indexToOffsetSingle(a,c,f.slice().reverse()))}),b}static indexToOffsetSingle(b,v,p){let m="";for(let f=v-1;f>=0;--f)m+=`\n        offset += indices[${f}] * ${p[f]};\n        `;return`\n      int ${b}(int indices[${v}]) {\n        int offset = 0;\n        ${m}\n        return offset;\n      }\n      `}offsetToIndices(){const b={};return this.context.programInfo.inputNames.forEach((v,p)=>{const f=this.context.inputTextureLayouts[p].strides,c=this.context.inputTextureLayouts[p].shape.length;let a=`offsetToIndices_${v}`;b[a]=new S.GlslLibRoutine(w.offsetToIndicesSingle(a,c,f)),a=`offsetToIndices_${v}_T`,b[a]=new S.GlslLibRoutine(w.offsetToIndicesSingle(a,c,f.slice().reverse()))}),b}static offsetToIndicesSingle(b,v,p){const m=[];for(let f=0;f<v-1;++f)m.push(`\n      indices[${f}] = offset / ${p[f]};`),m.push(`\n        offset -= indices[${f}] * ${p[f]};`);return m.push(`\n      indices[${v-1}] = offset;`),`\n      void ${b}(int offset, out int indices[${v}]) {\n        ${m.join("")}\n      }\n      `}incrementIndices(){const b={};return this.context.programInfo.inputNames.forEach((v,p)=>{const m=this.context.inputTextureLayouts[p].shape,f=m.length,c=`incrementIndices_${v}`;let a="";for(let h=0;h<f;++h)a+=`\n        shape[${h}] = ${m[h]};`;b[c]=new S.GlslLibRoutine(`\n        void ${c}(int axis, out int indices[${f}]) {\n          int shape[${f}];\n          ${a};\n          for(int i = ${f} -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        `)}),b}}u.ShapeUtilsGlslLib=w},6757:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.getDefaultFragShaderMain=u.getFragShaderPreamble=u.getVertexShaderSource=u.getGlsl=void 0;const g={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},S={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function w(C){return 1===C?g:S}u.getGlsl=w,u.getVertexShaderSource=function(C){const b=w(C);return`${b.version}\n      precision highp float;\n      ${b.attribute} vec3 position;\n      ${b.attribute} vec2 textureCoord;\n\n      ${b.varyingVertex} vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }`},u.getFragShaderPreamble=function(C){const b=w(C);return`${b.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${b.varyingFrag} vec2 TexCoords;\n    ${b.outputDeclaration}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    `},u.getDefaultFragShaderMain=function(C,b){return`\n  void main() {\n    int indices[${b}];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ${w(C).output} = result;\n  }\n  `}},9314:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.VecGlslLib=void 0;const S=g(1997);u.VecGlslLib=class w extends S.GlslLib{constructor(b){super(b)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const b=this.context.outputTextureLayout.shape.length,v={add:"+=",sub:"-=",mul:"*=",div:"/="},p={};for(const m in v){const f=`${m}Vec`;let c="";for(let d=0;d<b;++d)c+=`\n          dest[${d}] ${v[m]} src[${d}];\n          `;p[f]=new S.GlslLibRoutine(`\n        void ${f}(int src[${b}], out int dest[${b}]) {\n          ${c}\n        }\n        `)}return p}copyVec(){const b=this.context.outputTextureLayout.shape.length;let v="";for(let m=0;m<b;++m)v+=`\n        dest[${m}] = src[${m}];\n        `;return{copyVec:new S.GlslLibRoutine(`\n      void copyVec(int src[${b}], out int dest[${b}]) {\n        ${v}\n      }\n      `)}}setVecItem(){const b=this.context.outputTextureLayout.shape.length;let v=`\n        if(index < 0)\n            index =${b} + index;\n        if (index == 0)\n            m[0] = value;\n        `;for(let m=1;m<b-1;++m)v+=`\n        else if (index == ${m})\n            m[${m}] = value;\n            `;return v+=`\n        else\n            m[${b-1}] = value;\n        `,{setVecItem:new S.GlslLibRoutine(`\n      void setVecItem(out int m[${b}], int index, int value) {\n        ${v}\n      }\n        `)}}getVecItem(){const b=this.context.outputTextureLayout.shape.length;let v=`\n        if(index < 0)\n            index = ${b} + index;\n        if (index == 0)\n            return m[0];\n      `;for(let m=1;m<b-1;++m)v+=`\n        else if (index == ${m})\n            return m[${m}];\n      `;return v+=`\n        else\n            return m[${b-1}];\n        `,{getVecItem:new S.GlslLibRoutine(`\n      int getVecItem(int m[${b}], int index) {\n        ${v}\n      }\n    `)}}}},7860:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.WebGLInferenceHandler=void 0;const S=g(1315),w=g(9240),C=g(7273),b=g(9),v=g(7379),p=g(2488),m=g(540),f=g(3314),c=g(5639);u.WebGLInferenceHandler=class{constructor(a){this.session=a,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(a,d){return(0,f.calculateTextureWidthAndHeight)(this.session.layoutStrategy,a,d)}executeProgram(a,d){if(d.length<a.inputNames.length)throw new Error(`Input size mustn't be less than ${a.inputNames.length}.`);if(a.inputNames.length!==a.inputTypes.length)throw new Error("input names size does not match input types");const h=[];for(let R=0;R<a.inputNames.length;++R)h[R]=this.getOrCreateTextureData(d[R],a.inputTypes[R]);const _=((R,P)=>{const k=P.map(V=>`${V.unpackedShape.join(",")};${V.width}x${V.height}`).join("_");let B=R.name;return R.cacheHint&&(B+="["+R.cacheHint+"]"),B+=":"+k,B})(a,h);let x=this.session.programManager.getArtifact(_);const D=x?x.programInfo:"function"==typeof a.get?a.get():a,I=(0,f.createTextureLayoutFromTextureType)(this.session.layoutStrategy,D.output.dims,D.output.textureType),A=this.createTextureData(I,D.output.type);return x||(x=this.session.programManager.build(D,h,A),this.session.programManager.setArtifact(_,x)),this.runProgram(x,h,A),A}run(a,d){return this.executeProgram(a,d).tensor}runProgram(a,d,h){for(let _=0;_<d.length;++_)if(!!d[_].isPacked!=(a.programInfo.inputTypes[_]===c.TextureType.packed))throw new Error(`input[${_}] property packed inconsistent`);if(!!h.isPacked!=(a.programInfo.output.textureType===c.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(a,d,h)}getOrCreateTextureData(a,d){let h=this.getTextureData(a.dataId,d===c.TextureType.packed);if(!h&&(h=this.getTextureData(a.dataId,d!==c.TextureType.packed),h))return d===c.TextureType.packed?this.pack(h):this.unpack(h);if(!h){const _=(0,f.createTextureLayoutFromTextureType)(this.session.layoutStrategy,a.dims,d);if(d===c.TextureType.packedLastDimension){const I=a.dims;if(4===I.length){const A=[I[0],Math.ceil(I[1]*I[2]*I[3]/4)],R=(0,f.createTextureLayoutFromTextureType)(this.session.layoutStrategy,A,d);let P=a.numberData;if(I[1]*I[2]*I[3]%4!=0){const k=I[0],B=I[1]*I[2]*I[3],V=4*Math.ceil(1*B/4);P=new Float32Array(k*V);for(let j=0;j<k;++j){const X=j*B,Q=j*V+j%1*B;P.set(a.numberData.subarray(X,X+B),Q)}}return this.createTextureData(R,a.type,P,a,1)}}if(d===c.TextureType.packed){const x=(0,f.createTextureLayoutFromShape)(this.session.layoutStrategy,a.dims,1,[],{reverseWH:!0}),D=this.createTextureData(x,a.type,a.numberData,a,1);h=this.pack(D)}else h=this.createTextureData(_,a.type,a.numberData,a,1)}return h}createTextureDataFromLayoutBindTensor(a,d,h,_){return this.createTextureData(a,d,h,_,1)}createTextureData(a,d,h,_,x){S.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(a)}]`);const D=this.session.textureManager.createTextureFromLayout(d,a,h,x);return this.createTextureDataFromTexture(a,d,D,_)}reshapeUnpacked(a,d){const h=this.getOrCreateTextureData(a,c.TextureType.unpacked),_={channels:h.channels,height:h.height,width:h.width,shape:0!==d.length?d:[1],strides:C.ShapeUtil.computeStrides(d),unpackedShape:d};return this.createTextureDataFromTexture(_,a.type,h.texture).tensor}reshapePacked(a,d){const h=this.getOrCreateTextureData(a,c.TextureType.packed);if((0,v.isReshapeCheap)(a.dims,d)){const A={channels:h.channels,height:h.height,width:h.width,shape:0!==d.length?d:[1],strides:C.ShapeUtil.computeStrides(d),unpackedShape:d,isPacked:!0};return this.createTextureDataFromTexture(A,a.type,h.texture).tensor}const _=(0,v.processDims3D)(a.dims),x=(0,v.processDims3D)(d),D=this.reshapePacked(a,_),I=this.run((0,v.createPackedReshape3DProgramInfoLoader)(this,D,x),[D]);return this.reshapePacked(I,d)}cast(a,d){const h=this.getOrCreateTextureData(a,c.TextureType.unpacked);return this.createTextureDataFromTexture(h,d,h.texture).tensor}createTextureDataFromTexture(a,d,h,_,x){var D=this;const I=Object.assign(Object.assign({},a),{tensor:_||new w.Tensor(a.unpackedShape,d,A=>this.readTexture(I),function(){var A=_asyncToGenerator(function*(R){return D.readTextureAsync(I)});return function(R){return A.apply(this,arguments)}}(),void 0,x),texture:h});return this.setTextureData(I.tensor.dataId,I,a.isPacked),I}getTextureData(a,d=!1){return this.session.isInitializer(a)?this.session.getTextureData(a,d):d?this.packedTextureDataCache.get(a):this.unpackedTextureDataCache.get(a)}setTextureData(a,d,h=!1){this.session.isInitializer(a)?this.session.setTextureData(a,d,h):(h?this.packedTextureDataCache:this.unpackedTextureDataCache).set(a,d)}isTextureLayoutCached(a,d=!1){return!!this.getTextureData(a.dataId,d)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(a=>this.session.textureManager.releaseTexture(a)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(a=>this.session.textureManager.releaseTexture(a)),this.unpackedTextureDataCache=new Map}readTexture(a){return a.isPacked?this.readTexture(this.unpack(a)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(a,a.tensor.type,a.channels):this.session.textureManager.readUint8TextureAsFloat((0,p.encodeAsUint8)(this,a))}readTextureAsync(a){var d=this;return _asyncToGenerator(function*(){return a.isPacked?d.readTextureAsync(d.unpack(a)):d.session.backend.glContext.isFloat32DownloadSupported?d.session.textureManager.readTextureAsync(a,a.tensor.type,a.channels):d.session.textureManager.readUint8TextureAsFloat((0,p.encodeAsUint8)(d,a))})()}pack(a){return this.executeProgram((0,b.createPackProgramInfoLoader)(this,a.tensor),[a.tensor])}unpack(a){return this.executeProgram((0,m.createUnpackProgramInfoLoader)(this,a.tensor),[a.tensor])}}},4110:function(z,u,g){"use strict";var S=this&&this.__createBinding||(Object.create?function(dt,et,ft,Rt){void 0===Rt&&(Rt=ft);var pt=Object.getOwnPropertyDescriptor(et,ft);pt&&!("get"in pt?!et.__esModule:pt.writable||pt.configurable)||(pt={enumerable:!0,get:function(){return et[ft]}}),Object.defineProperty(dt,Rt,pt)}:function(dt,et,ft,Rt){void 0===Rt&&(Rt=ft),dt[Rt]=et[ft]}),w=this&&this.__setModuleDefault||(Object.create?function(dt,et){Object.defineProperty(dt,"default",{enumerable:!0,value:et})}:function(dt,et){dt.default=et}),C=this&&this.__importStar||function(dt){if(dt&&dt.__esModule)return dt;var et={};if(null!=dt)for(var ft in dt)"default"!==ft&&Object.prototype.hasOwnProperty.call(dt,ft)&&S(et,dt,ft);return w(et,dt),et};Object.defineProperty(u,"__esModule",{value:!0}),u.WEBGL_OP_RESOLVE_RULES=void 0;const b=g(8817),v=C(g(5194)),p=g(4752),m=g(6668),f=g(9754),c=g(5042),a=g(6742),d=g(4125),h=g(6149),_=g(5378),x=g(6981),D=g(7413),I=g(7006),A=g(8276),R=g(5565),P=g(2834),k=g(1010),B=g(8126),V=g(2801),j=g(565),X=g(2444),Q=g(815),Z=g(564),de=g(5416),he=g(1240),Pe=g(5944),ie=g(5707),ue=C(g(9087)),Fe=g(7862),Ye=g(3980);u.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",ue.abs],["Acos","","7+",ue.acos],["Add","","7+",v.add],["And","","7+",v.and],["Asin","","7+",ue.asin],["Atan","","7+",ue.atan],["AveragePool","","7+",P.averagePool,P.parseAveragePoolAttributes],["BatchNormalization","","7+",b.batchNormalization,b.parseBatchNormalizationAttributes],["Cast","","6+",p.cast,p.parseCastAttributes],["Ceil","","6+",ue.ceil],["Clip","","6-10",ue.clip,ue.parseClipAttributes],["Clip","","11+",ue.clipV11],["Concat","","4+",m.concat,m.parseConcatAttributes],["Conv","","1+",f.conv,f.parseConvAttributes],["ConvTranspose","","1+",c.convTranspose,c.parseConvTransposeAttributes],["Cos","","7+",ue.cos],["Div","","7+",v.div],["Dropout","","7+",ue.identity],["DepthToSpace","","1+",a.depthToSpace,a.parseDepthToSpaceAttributes],["Equal","","7+",v.equal],["Elu","","6+",ue.elu,ue.parseEluAttributes],["Exp","","6+",ue.exp],["Flatten","","1+",d.flatten,d.parseFlattenAttributes],["Floor","","6+",ue.floor],["FusedConv","com.microsoft","1+",f.conv,f.parseConvAttributes],["Gather","","1+",h.gather,h.parseGatherAttributes],["Gemm","","7-10",_.gemm,_.parseGemmAttributesV7],["Gemm","","11+",_.gemm,_.parseGemmAttributesV11],["GlobalAveragePool","","1+",P.globalAveragePool,P.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",P.globalMaxPool],["Greater","","7+",v.greater],["Identity","","1+",ue.identity],["ImageScaler","","1+",x.imageScaler,x.parseImageScalerAttributes],["InstanceNormalization","","6+",D.instanceNormalization,D.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",ue.leakyRelu,ue.parseLeakyReluAttributes],["Less","","7+",v.less],["LRN","","1+",I.lrn,I.parseLrnAttributes],["Log","","6+",ue.log],["MatMul","","1+",A.matMul,A.parseMatMulAttributes],["MaxPool","","1+",P.maxPool,P.parseMaxPoolAttributes],["Mul","","7+",v.mul],["Neg","","6+",ue.neg],["Not","","1+",ue.not],["Or","","7+",v.or],["Pad","","2-10",R.padV2,R.parsePadAttributesV2],["Pad","","11+",R.padV11,R.parsePadAttributesV11],["Pow","","7+",v.pow],["PRelu","","7+",v.pRelu],["ReduceLogSum","","1+",k.reduceLogSum,k.parseReduceAttributes],["ReduceMax","","1+",k.reduceMax,k.parseReduceAttributes],["ReduceMean","","1+",k.reduceMean,k.parseReduceAttributes],["ReduceMin","","1+",k.reduceMin,k.parseReduceAttributes],["ReduceProd","","1+",k.reduceProd,k.parseReduceAttributes],["ReduceSum","","1-12",k.reduceSum,k.parseReduceAttributes],["ReduceSumSquare","","1+",k.reduceLogSumSquare,k.parseReduceAttributes],["Relu","","6+",ue.relu],["Reshape","","5+",B.reshape],["Resize","","10",V.resize,V.parseResizeAttributesV10],["Resize","","11+",V.resize,V.parseResizeAttributesV11],["Shape","","1+",j.shape],["Sigmoid","","6+",ue.sigmoid],["Sin","","7+",ue.sin],["Slice","","10+",X.sliceV10],["Slice","","1-9",X.slice,X.parseSliceAttributes],["Softmax","","1-12",Q.softmax,Q.parseSoftmaxAttributes],["Softmax","","13+",Q.softmaxV13,Q.parseSoftmaxAttributesV13],["Split","","2-12",Z.split,Z.parseSplitAttributes],["Sqrt","","6+",ue.sqrt],["Squeeze","","1-12",de.squeeze,de.parseSqueezeAttributes],["Squeeze","","13+",de.squeezeV13],["Sub","","7+",v.sub],["Sum","","6+",he.sum],["Tan","","7+",ue.tan],["Tanh","","6+",ue.tanh],["Tile","","6+",Pe.tile],["Transpose","","1+",ie.transpose,ie.parseTransposeAttributes],["Upsample","","7-8",Ye.upsample,Ye.parseUpsampleAttributesV7],["Upsample","","9",Ye.upsample,Ye.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Fe.unsqueeze,Fe.parseUnsqueezeAttributes],["Unsqueeze","","13+",Fe.unsqueezeV13],["Xor","","7+",v.xor]]},8817:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseBatchNormalizationAttributes=u.batchNormalization=void 0;const S=g(4910),w=g(6757),C=g(5639),b={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[C.TextureType.unpacked,C.TextureType.unpacked,C.TextureType.unpacked,C.TextureType.unpacked,C.TextureType.unpacked]};u.batchNormalization=(m,f,c)=>(p(f),[m.run(Object.assign(Object.assign({},b),{cacheHint:c.cacheKey,get:()=>v(m,f,c)}),f)]),u.parseBatchNormalizationAttributes=m=>{const f=m.attributes.getFloat("epsilon",1e-5),c=m.attributes.getFloat("momentum",.9),a=m.attributes.getInt("spatial",1);return(0,S.createAttributeWithCacheKey)({epsilon:f,momentum:c,spatial:a})};const v=(m,f,c)=>{const a=(0,w.getGlsl)(m.session.backend.glContext.version),d=f[0].dims.length,[h,_]=m.calculateTextureWidthAndHeight(f[1].dims,C.TextureType.unpacked),x=`\n  float process(int[${d}] indices) {\n    vec2 position = offsetToCoords(indices[1], ${h}, ${_});\n    float scale = getColorAsFloat(${a.texture2D}(Scale, position));\n    float mean = getColorAsFloat(${a.texture2D}(Mean, position));\n    float variance = getColorAsFloat(${a.texture2D}(Variance, position));\n    float b = getColorAsFloat(${a.texture2D}(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${c.epsilon})) ) + b;\n  }`;return Object.assign(Object.assign({},b),{output:{dims:f[0].dims,type:f[0].type,textureType:C.TextureType.unpacked},shaderSource:x})},p=m=>{if(!m||5!==m.length)throw new Error("BatchNormalization requires 5 inputs.");const f=m[0],c=m[1],a=m[2],d=m[3],h=m[4];if(f.dims.length<3||1!==c.dims.length||1!==a.dims.length||1!==d.dims.length||1!==h.dims.length)throw new Error("invalid input shape.");if(c.dims[0]!==f.dims[1]||a.dims[0]!==f.dims[1]||d.dims[0]!==f.dims[1]||h.dims[0]!==f.dims[1])throw new Error("invalid input shape.");if("float32"!==f.type&&"float64"!==f.type||"float32"!==c.type&&"float64"!==c.type||"float32"!==a.type&&"float64"!==a.type||"float32"!==d.type&&"float64"!==d.type||"float32"!==h.type&&"float64"!==h.type)throw new Error("invalid input tensor types.")}},5194:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.xor=u.sub=u.pRelu=u.pow=u.or=u.mul=u.less=u.greater=u.equal=u.div=u.and=u.add=u.glslPRelu=u.glslPow=u.glslXor=u.glslOr=u.glslAnd=u.glslLess=u.glslGreater=u.glslEqual=u.glslSub=u.glslMul=u.glslDiv=u.glslAdd=void 0;const S=g(7273),w=g(1997),C=g(6757),b=g(5639);function v(){const P="add_";return{body:`\n  float ${P}(float a, float b) {\n    return a + b;\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}function p(){const P="div_";return{body:`\n  float ${P}(float a, float b) {\n    return a / b;\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}function m(){const P="mul_";return{body:`\n  float ${P}(float a, float b) {\n    return a * b;\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}function f(){const P="sub_";return{body:`\n  float ${P}(float a, float b) {\n    return a - b;\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}function c(){const P="equal_";return{body:`\n  float ${P}(float a, float b) {\n    return float(a == b);\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}function a(){const P="greater_";return{body:`\n  float ${P}(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}function d(){const P="less_";return{body:`\n  float ${P}(float a, float b) {\n    return float(a < b);\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}function h(){const P="and_";return{body:`\n  float ${P}(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}function _(){const P="or_";return{body:`\n  float ${P}(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}function x(){const P="xor_";return{body:`\n  float ${P}(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}function D(){return function(P){const k=`${P}_`;return{body:`\n  float ${k}(float a, float b) {\n    return ${P}(a, b);\n  }\n  vec4 ${k}(vec4 v1, vec4 v2) {\n    return ${P}(v1, v2);\n  }\n  `,name:k,type:w.FunctionType.ValueBased}}("pow")}function I(){const P="prelu_";return{body:`\n  float ${P}(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 ${P}(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  `,name:P,type:w.FunctionType.ValueBased}}u.glslAdd=v,u.glslDiv=p,u.glslMul=m,u.glslSub=f,u.glslEqual=c,u.glslGreater=a,u.glslLess=d,u.glslAnd=h,u.glslOr=_,u.glslXor=x,u.glslPow=D,u.glslPRelu=I;const A=(P,k,B,V=k[0].type,j)=>{const X=P.session.pack?b.TextureType.packed:b.TextureType.unpacked;return{name:B.name,inputNames:["A","B"],inputTypes:[X,X],cacheHint:j,get:()=>R(P,k,B,V)}},R=(P,k,B,V=k[0].type)=>{const j=P.session.pack?b.TextureType.packed:b.TextureType.unpacked,X=!S.ShapeUtil.areEqual(k[0].dims,k[1].dims);let Q=k[0].dims;const Z=P.session.pack;if(X){const Pe=S.BroadcastUtil.calcShape(k[0].dims,k[1].dims,!1);if(!Pe)throw new Error("Can't perform binary op on the given tensors");Q=Pe;const ie=Q.length,ue=0!==k[0].dims.length?k[0].dims.length:1,Fe=0!==k[1].dims.length?k[1].dims.length:1,Ye=0!==k[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",dt=0!==k[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",et=(0,C.getGlsl)(P.session.backend.glContext.version);return{name:B.name,inputNames:["A","B"],inputTypes:[j,j],output:{dims:Q,type:V,textureType:j},shaderSource:Z?`\n      ${B.body}\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ${B.name}(a, b);\n        ${et.output} = result;\n      }`:`\n      ${B.body}\n      float process(int indices[${ie}]) {\n        int aindices[${ue}];\n        int bindices[${Fe}];\n        ${Ye}\n        ${dt}\n        return ${B.name}(_A(aindices), _B(bindices));\n      }`,hasMain:Z}}const de=(0,C.getGlsl)(P.session.backend.glContext.version);return{name:B.name,inputNames:["A","B"],inputTypes:[j,j],output:{dims:k[0].dims,type:V,textureType:j},shaderSource:`\n    ${B.body}\n    void main() {\n      vec4 v1 = ${de.texture2D}(A, TexCoords);\n      vec4 v2 = ${de.texture2D}(B, TexCoords);\n      vec4 result = ${B.name}(v1, v2);\n      ${de.output} = result;\n    }\n    `,hasMain:!0}};u.add=(P,k)=>[P.run(A(P,k,v()),k)],u.and=(P,k)=>[P.run(A(P,k,h(),"bool"),k)],u.div=(P,k)=>[P.run(A(P,k,p()),k)],u.equal=(P,k)=>[P.run(A(P,k,c(),"bool"),k)],u.greater=(P,k)=>[P.run(A(P,k,a(),"bool"),k)],u.less=(P,k)=>[P.run(A(P,k,d(),"bool"),k)],u.mul=(P,k)=>[P.run(A(P,k,m()),k)],u.or=(P,k)=>[P.run(A(P,k,_(),"bool"),k)],u.pow=(P,k)=>[P.run(A(P,k,D()),k)],u.pRelu=(P,k)=>[P.run(A(P,k,I()),k)],u.sub=(P,k)=>[P.run(A(P,k,f()),k)],u.xor=(P,k)=>[P.run(A(P,k,x(),"bool"),k)]},4752:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseCastAttributes=u.cast=void 0;const S=g(7273);u.cast=(C,b,v)=>(w(b),[C.cast(b[0],v)]),u.parseCastAttributes=C=>S.ProtoUtil.tensorDataTypeFromProto(C.attributes.getInt("to"));const w=C=>{if(!C||1!==C.length)throw new Error("Cast requires 1 input.");if("string"===C[0].type)throw new Error("Invalid input type.")}},4595:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createPackedConcatProgramInfoLoader=void 0;const S=g(6757),w=g(5639),C=g(432),b=g(5614);u.createPackedConcatProgramInfoLoader=(p,m,f)=>{const c=(a=m.length,d=f.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:a},(h,_)=>`X${_}`),inputTypes:Array(a).fill(w.TextureType.packed),cacheHint:d});var a,d;return Object.assign(Object.assign({},c),{get:()=>((h,_,x,D)=>{const I=x[0].dims.slice();if(D>=I.length||D<-1*I.length)throw new Error("axis specified for concat doesn't match input dimensionality");D<0&&(D=I.length+D);const A=I.slice(0);for(let Ye=1;Ye<x.length;Ye++){const dt=x[Ye].dims.slice();for(let et=0;et<I.length;et++)if(et===D)A[D]+=dt[et];else if(I[et]!==dt[et])throw new Error("non concat dimensions must match")}const R=A.length,P=(0,b.getChannels)("coords",R),k=(0,C.getCoordsDataType)(R),B=(0,b.unpackFromChannel)(),V=x.map(Ye=>Ye.dims),j=(0,C.getGlChannels)(R),X=new Array(V.length-1);X[0]=V[0][D];for(let Ye=1;Ye<X.length;Ye++)X[Ye]=X[Ye-1]+V[Ye][D];const Q=j[D],Z=j.slice(-2),de=j.join();let he=`if (${Q} < ${X[0]}) {\n        return getChannel(\n            getX0(${de}), vec2(${Z.join()}));\n        }`;for(let Ye=1;Ye<X.length;Ye++){const dt=X[Ye-1];he+=`\n            if (${Q} < ${X[Ye]}  && ${Q} >= ${X[Ye-1]}) {\n              return getChannel(\n                getX${Ye}(${v(j,Q,dt)}),\n                vec2(${v(Z,Q,dt)}));\n            }`}const ie=X[X.length-1];he+=`\n            return getChannel(\n              getX${X.length}(${v(j,Q,ie)}),\n              vec2(${v(Z,Q,ie)}));`;const ue=(0,S.getGlsl)(h.session.backend.glContext.version),Fe=`\n          ${B}\n          float getValue(${j.map(Ye=>"int "+Ye)}) {\n            ${he}\n          }\n\n          void main() {\n            ${k} coords = getOutputCoords();\n            int lastDim = coords.${j[R-1]};\n            coords.${j[R-1]} = coords.${j[R-2]};\n            coords.${j[R-2]} = lastDim;\n\n            vec4 result = vec4(getValue(${P}), 0., 0., 0.);\n\n            ${P[R-1]} = ${P[R-1]} + 1;\n            if (${P[R-1]} < ${A[R-1]}) {\n              result.g = getValue(${P});\n            }\n\n            ${P[R-2]} = ${P[R-2]} + 1;\n            if (${P[R-2]} < ${A[R-2]}) {\n              result.a = getValue(${P});\n            }\n\n            ${P[R-1]} = ${P[R-1]} - 1;\n            if (${P[R-2]} < ${A[R-2]} &&\n                ${P[R-1]} < ${A[R-1]}) {\n              result.b = getValue(${P});\n            }\n            ${ue.output} = result;\n          }\n        `;return Object.assign(Object.assign({},_),{output:{dims:A,type:x[0].type,textureType:w.TextureType.packed},shaderSource:Fe,hasMain:!0})})(p,c,m,f.axis)})};const v=(p,m,f)=>{const c=p.indexOf(m);return p.map((a,d)=>d===c?`${a} - ${f}`:a).join()}},6668:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseConcatAttributes=u.concat=void 0;const S=g(4910),w=g(5639),C=g(4595);u.concat=(a,d,h)=>(c(d),a.session.pack&&d[0].dims.length>1?[a.run((0,C.createPackedConcatProgramInfoLoader)(a,d,h),d)]:[a.run(b(a,d,h),d)]);const b=(a,d,h)=>{const _=(x=d.length,D=h.cacheKey,{name:"Concat",inputNames:Array.from({length:x},(I,A)=>`X${A}`),inputTypes:Array(x).fill(w.TextureType.unpacked),cacheHint:D});var x,D;return Object.assign(Object.assign({},_),{get:()=>((I,A,R,P)=>{const k=R[0].dims.slice();if(P>=k.length||P<-1*k.length)throw new Error("axis specified for concat doesn't match input dimensionality");P<0&&(P=k.length+P);const B=k.slice(0);for(let de=1;de<R.length;de++){const he=R[de].dims.slice();for(let Pe=0;Pe<k.length;Pe++)if(Pe===P)B[P]+=he[Pe];else if(k[Pe]!==he[Pe])throw new Error("non concat dimensions must match")}const V=B.length,j=new Array(R.length);let X=0;for(let de=0;de<j.length;++de)X+=R[de].dims[P],j[de]=X;let Q="";Q=R.length<5?v(j):p(j);const Z=`\n        ${m(R.length,V)}\n        ${f(j)}\n        ${Q}\n        float process(int indices[${V}]) {\n          int textureIndex = getTextureWhereDataResides (indices[${P}]);\n\n          if(textureIndex != 0) {\n            indices[${P}] = indices[${P}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }`;return Object.assign(Object.assign({},A),{output:{dims:B,type:R[0].type,textureType:w.TextureType.unpacked},shaderSource:Z})})(0,_,d,h.axis)})},v=a=>`int getTextureWhereDataResides(int index) {\n      ${a.map((d,h)=>`if(index<${d}) {return ${h};}\n`).join("")}\n    }`,p=a=>v(a),m=(a,d)=>{const h=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${d}]) {`];for(let _=0;_<a;++_)h.push(0===_?`\tif (textureIndex == ${_}) { return _X${_}(indices); }`:_===a-1?`\telse { return _X${_}(indices); }`:`\telse if (textureIndex == ${_}) { return _X${_}(indices); }`);return h.push("\t}"),h.join("\n")},f=a=>{const d=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let h=0;h<a.length;++h)d.push(0===h?`\tif (index == ${h}) { return ${a[h]}; }`:h===a.length-1?`\telse { return ${a[h]}; }`:`\telse if (index == ${h}) { return ${a[h]}; }`);return d.push("\t}"),d.join("\n")};u.parseConcatAttributes=a=>(0,S.createAttributeWithCacheKey)({axis:a.attributes.getInt("axis")});const c=a=>{if(!a||a.length<1)throw new Error("too few inputs");const d=a[0].type,h=a[0].dims.length;if("string"===d)throw new Error("string tensor is not supported yet");for(const _ of a){if(_.type!==d)throw new Error("input tensors should be one type");if(_.dims.length!==h)throw new Error("input tensors should have the same shape")}}},7825:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createUnpackedGroupedConvProgramInfoLoader=void 0;const S=g(1315),w=g(6757),C=g(5639),b=g(9754),v=g(2150);u.createUnpackedGroupedConvProgramInfoLoader=(p,m,f)=>{const c={name:"GroupedConv",inputNames:(a=m.length>2)?["X","W","Bias"]:["X","W"],inputTypes:a?[C.TextureType.unpacked,C.TextureType.unpacked,C.TextureType.unpacked]:[C.TextureType.unpacked,C.TextureType.unpacked],cacheHint:f.cacheKey};var a;return Object.assign(Object.assign({},c),{get:()=>((h,_,x,D)=>{const I=_.length>2?"value += getBias(output_channel);":"",A=_[0].dims.slice(),R=_[1].dims.slice(),P=R[0]/D.group;S.Logger.verbose("GroupedConv",`autpPad:${D.autoPad}, dilations:${D.dilations}, group:${D.group}, kernelShape:${D.kernelShape}, pads:${D.pads}, strides:${D.strides}`);const k=(0,b.calculateOutputShape)(A,R,D.dilations,D.pads,D.strides),B=(0,w.getGlsl)(h.session.backend.glContext.version),{activationFunction:V,applyActivation:j}=(0,v.getActivationSnippet)(D),X=`\n  const ivec2 strides = ivec2(${D.strides[0]}, ${D.strides[1]});\n  const ivec2 pads = ivec2(${D.pads[0]}, ${D.pads[1]});\n  ${V}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ${P};\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ${R[1]}; wInChannel++) {\n      int input_channel = group_id * ${R[1]} + wInChannel;\n      for (int wHeight = 0; wHeight < ${R[2]}; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ${D.dilations[0]};\n\n        if (xHeight < 0 || xHeight >= ${A[2]}) {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ${R[3]}; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ${D.dilations[1]};\n          if (xWidth < 0 || xWidth >= ${A[3]}) {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${I}\n    ${j}\n    ${B.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},x),{output:{dims:k,type:_[0].type,textureType:C.TextureType.unpacked},shaderSource:X,hasMain:!0})})(p,m,c,f)})}},7708:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.conv2DPacked=u.conv2DPackedPointwise=void 0;const S=g(9754),w=g(5950),C=g(5632);u.conv2DPackedPointwise=(b,v,p)=>{const m=v[0].dims,f=v[1].dims,c=(0,S.calculateOutputShape)(m,f,p.dilations,p.pads,p.strides),a=b.reshapePacked(v[0],[m[1],m[2]*m[3]]),d=b.reshapePacked(v[1],[f[0],f[1]]),h=v.length>2?[d,a,v[2]]:[d,a],_=b.run((0,C.createPackedMatmulProgramInfoLoader)(b,h,p),h);return b.reshapePacked(_,c)},u.conv2DPacked=(b,v,p)=>{const f=v[1].dims,c=(0,S.calculateOutputShape)(v[0].dims,f,p.dilations,p.pads,p.strides),a=b.run((0,w.createPackedIm2ColProgramInfoLoader)(b,v[0],v[1],c,p),[v[0]]),d=b.reshapePacked(v[1],[f[0],f[1]*f[2]*f[3]]),h=3===v.length?[d,a,v[2]]:[d,a],_=b.run((0,C.createPackedMatmulProgramInfoLoader)(b,h,p),h);return b.reshapePacked(_,c)}},5042:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseConvTransposeAttributes=u.convTranspose=void 0;const S=g(4910),w=g(6757),C=g(5639),b=g(2150),v=(d,h,_,x,D,I)=>(d-1)*h+_+(x-1)*D+1-I,p=(d,h,_,x,D)=>{const I=Math.floor(d/2);"SAME_UPPER"===h?(_[x]=I,_[D]=d-I):"SAME_LOWER"===h&&(_[x]=d-I,_[D]=I)};u.convTranspose=(d,h,_)=>(a(h,_),m(d,h,_));const m=(d,h,_)=>{const x=c(_,h);return[f(d,h,x)]},f=(d,h,_)=>d.run(((x,D,I)=>{const A={name:"ConvTranspose",inputNames:(R=D.length>2)?["X","W","B"]:["X","W"],inputTypes:R?[C.TextureType.unpacked,C.TextureType.unpacked,C.TextureType.unpacked]:[C.TextureType.unpacked,C.TextureType.unpacked],cacheHint:I.cacheKey};var R;return Object.assign(Object.assign({},A),{get:()=>((k,B,V,j)=>{const X=B.length>2?"getB(output_channel)":"0.0",Q=B[0].dims,Z=B[1].dims,de=Z[1],he=Z[0]/j.group,Pe=[B[0].dims[0],B[1].dims[1]*j.group,...j.outputShape],ie=(0,w.getGlsl)(k.session.backend.glContext.version),{activationFunction:ue,applyActivation:Fe}=(0,b.getActivationSnippet)(j),Ye=`\n  const ivec2 strides = ivec2(${j.strides[0]}, ${j.strides[1]});\n  const ivec2 pads = ivec2(${j.pads[0]}, ${j.pads[1]});\n  ${ue}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ${de};\n    int wOutChannel = output_channel - group_id * ${de};\n\n    float value = ${X};\n    for (int inChannelOffset = 0; inChannelOffset < ${he}; inChannelOffset++) {\n      int input_channel = group_id * ${he} + inChannelOffset;\n      for (int wWOff = 0; wWOff < ${Z[2]}; wWOff++) {\n        for (int wHOff = 0; wHOff < ${Z[3]}; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ${j.dilations[0]}, wHOff * ${j.dilations[1]});\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ${Q[2]} &&\n            wLocIn.y >= 0 && wLocIn.y < ${Q[3]}\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ${Fe}\n    ${ie.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},V),{output:{dims:Pe,type:B[0].type,textureType:C.TextureType.unpacked},shaderSource:Ye,hasMain:!0})})(x,D,A,I)})})(d,h,_),h),c=(d,h)=>{const _=d.kernelShape.slice();if(0===d.kernelShape.length)for(let A=2;A<h[1].dims.length;++A)_.push(h[1].dims[A]);const x=d.pads.slice(),D=d.outputShape.slice();((A,R,P,k,B,V,j,X)=>{const Q=A.length-2,Z=0===X.length;for(let de=0;de<Q;++de){const Pe=v(A[de+2],V[de],B[de],R[de],P[de],Z?A[de+2]*V[de]:X[de]);p(Pe,k,B,de,de+Q),Z&&X.push(V[de]*(A[de+2]-1)+j[de]+(R[de]-1)*P[de]+1-B[de]-B[de+Q])}})(h[0].dims,_,d.dilations,d.autoPad,x,d.strides,d.outputPadding,D);const I=Object.assign({},d);return Object.assign(I,{kernelShape:_,pads:x,outputShape:D,cacheKey:d.cacheKey}),I};u.parseConvTransposeAttributes=d=>{const h=d.attributes,_=(0,b.parseInternalActivationAttributes)(h),x=h.getString("auto_pad","NOTSET"),D=h.getInts("dilations",[1,1]),I=h.getInt("group",1),A=h.getInts("kernel_shape",[]),R=h.getInts("output_padding",[0,0]),P=h.getInts("output_shape",[]),k=h.getInts("pads",[0,0,0,0]),B=h.getInts("strides",[1,1]);return(0,S.createAttributeWithCacheKey)(Object.assign({autoPad:x,dilations:D,group:I,kernelShape:A,outputPadding:R,outputShape:P,pads:k,strides:B},_))};const a=(d,h)=>{if(!d||2!==d.length&&3!==d.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==d[0].dims.length||4!==d[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(d[0].dims[1]!==d[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===d.length&&(1!==d[2].dims.length||d[2].dims[0]!==d[1].dims[1]*h.group))throw new Error("invalid bias");const x=d[0].dims.length-2;if(h.dilations.length!==x)throw new Error(`dilations should be ${x}D`);if(h.strides.length!==x)throw new Error(`strides should be ${x}D`);if(h.pads.length!==2*x)throw new Error(`pads should be ${2*x}D`);if(h.outputPadding.length!==x)throw new Error(`output_padding should be ${x}D`);if(0!==h.kernelShape.length&&h.kernelShape.length!==d[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==h.outputShape.length&&h.outputShape.length!==d[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==d[0].type||"float32"!==d[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===d.length&&"float32"!==d[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseConvAttributes=u.conv=u.calculateOutputShape=void 0;const S=g(4910),w=g(7273),C=g(7825),b=g(7708),v=g(3281),p=g(2150),m=g(1625),f=g(8276);u.calculateOutputShape=(x,D,I,A,R)=>{const P=x[0],k=x.slice(2),B=k.length,V=D[0],j=D.slice(2).map((Q,Z)=>Q+(Q-1)*(I[Z]-1)),X=k.map((Q,Z)=>Q+A[Z]+A[Z+B]).map((Q,Z)=>Math.floor((Q-j[Z]+R[Z])/R[Z]));return[P,V].concat(...X)},u.conv=(x,D,I)=>(_(D,I),c(x,D,I));const c=(x,D,I)=>{const A=h(I,D),R=x.session.pack,P=1===A.kernelShape[0]&&1===A.kernelShape[1];return A.group>1?[x.run((0,C.createUnpackedGroupedConvProgramInfoLoader)(x,D,A),D)]:P&&R?[a(x,D,A)]:R&&4===D[0].dims.length&&1===D[0].dims[0]&&!P?[(0,b.conv2DPacked)(x,D,A)]:[d(x,D,A)]},a=(x,D,I)=>{const A=D[0].dims,R=D[1].dims,P=(0,u.calculateOutputShape)(A,R,I.dilations,I.pads,I.strides),k=x.reshapeUnpacked(D[0],[A[1],A[2]*A[3]]),B=x.reshapeUnpacked(D[1],[R[0],R[1]]),V=D.length>2?[B,k,D[2]]:[B,k],j=x.run((0,f.createMatmulProgramInfoLoader)(V,I),V);return x.reshapeUnpacked(j,P)},d=(x,D,I)=>{const P=(0,u.calculateOutputShape)(D[0].dims,D[1].dims,I.dilations,I.pads,I.strides),k=x.run((0,m.createIm2ColProgramInfoLoader)(x,D[0],D[1],P,I),[D[0]]),B=3===D.length?[k,D[1],D[2]]:[k,D[1]];return x.run((0,v.createDotProductProgramInfoLoader)(x,D,P,I),B)},h=(x,D)=>{const I=x.kernelShape.slice();if(0===x.kernelShape.length)for(let P=2;P<D[1].dims.length;++P)I.push(D[1].dims[P]);const A=x.pads.slice();w.PoolConvUtil.adjustPadsBasedOnAutoPad(D[0].dims,x.strides,x.dilations,I,A,x.autoPad);const R=Object.assign({},x);return Object.assign(R,{kernelShape:I,pads:A,cacheKey:x.cacheKey}),R};u.parseConvAttributes=x=>{const D=x.attributes,I=(0,p.parseInternalActivationAttributes)(D),A=D.getString("auto_pad","NOTSET"),R=D.getInts("dilations",[1,1]),P=D.getInt("group",1),k=D.getInts("kernel_shape",[]),B=D.getInts("pads",[0,0,0,0]),V=D.getInts("strides",[1,1]);return(0,S.createAttributeWithCacheKey)(Object.assign({autoPad:A,dilations:R,group:P,kernelShape:k,pads:B,strides:V},I))};const _=(x,D)=>{if(!x||2!==x.length&&3!==x.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==x[0].dims.length||4!==x[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(x[0].dims[1]!==x[1].dims[1]*D.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===x.length&&(1!==x[2].dims.length||x[1].dims[0]!==x[2].dims[0]))throw new Error("invalid bias");const I=x[0].dims.length-2;if(D.dilations.length!==I)throw new Error(`dilations should be ${I}D`);if(D.strides.length!==I)throw new Error(`strides should be ${I}D`);if(D.pads.length!==2*I)throw new Error(`pads should be ${2*I}D`);if(0!==D.kernelShape.length&&D.kernelShape.length!==x[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==x[0].type||"float32"!==x[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===x.length&&"float32"!==x[2].type)throw new Error("Conv input(bias) should be float tensor")}},6742:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseDepthToSpaceAttributes=u.depthToSpace=void 0;const S=g(5707);u.depthToSpace=(C,b,v)=>{w(b);const p=v.blocksize,m=p*p,f="DCR"===v.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],a=C.reshapeUnpacked(b[0],"DCR"===v.mode?[b[0].dims[0],p,p,b[0].dims[1]/m,b[0].dims[2],b[0].dims[3]]:[b[0].dims[0],b[0].dims[1]/m,p,p,b[0].dims[2],b[0].dims[3]]),d={perm:f,cacheKey:`${f}`},[h]=(0,S.transpose)(C,[a],d);return[C.reshapeUnpacked(h,[b[0].dims[0],b[0].dims[1]/m,b[0].dims[2]*p,b[0].dims[3]*p])]},u.parseDepthToSpaceAttributes=C=>{const b=C.attributes.getInt("blocksize");if(b<1)throw new Error(`blocksize must be >= 1, but got : ${b} for DepthToSpace`);const v=C.attributes.getString("mode","DCR");if("DCR"!==v&&"CRD"!==v)throw new Error(`unrecognized mode: ${v} for DepthToSpace`);return{mode:v,blocksize:b}};const w=C=>{if(1!==C.length)throw new Error(`DepthToSpace expect 1 inputs, but got ${C.length}`);if("string"===C[0].type||4!==C[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createDotProductProgramInfoLoader=void 0;const S=g(7273),w=g(6757),C=g(5639),b=g(2150),v=g(1625);u.createDotProductProgramInfoLoader=(p,m,f,c)=>{const a={name:"ConvDotProduct",inputNames:(d=m.length>2)?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:d?[C.TextureType.unpacked,C.TextureType.packedLastDimension,C.TextureType.unpacked]:[C.TextureType.unpacked,C.TextureType.packedLastDimension],cacheKey:c.activationCacheKey};var d;return Object.assign(Object.assign({},a),{get:()=>((d,h,_,x,D)=>{const I=_[0].dims,A=_[1].dims,R=[A[0],Math.ceil(I[1]*A[2]*A[3]/4)],P=(0,v.calculateIm2ColDims)(I,A,x),[k,B]=d.calculateTextureWidthAndHeight(R,C.TextureType.packedLastDimension),V=S.ShapeUtil.computeStrides(P),[j,X]=d.calculateTextureWidthAndHeight(P,C.TextureType.packedLastDimension),Q=x.length,Z=_.length<3?"0.0":"_B(b)",de=Math.ceil(I[1]*A[2]*A[3]/4),{activationFunction:he,applyActivation:Pe}=(0,b.getActivationSnippet)(D),ie=(0,w.getGlsl)(d.session.backend.glContext.version),ue=`\n${he}\nfloat process(int indices[${Q}]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ${V[0]} + im2col[1] * ${V[1]} + im2col[2] * ${V[2]};\n  int kernelOffset = indices[1] * ${R[1]};\n  float value = ${Z};\n  for (int i = 0; i < ${de}; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ${j}, ${X});\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ${k}, ${B});\n    value += dot(${ie.texture2D}(Im2Col, im2colCoords), ${ie.texture2D}(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ${Pe}\n  return value;\n}`;return Object.assign(Object.assign({},h),{output:{dims:x,type:_[0].type,textureType:C.TextureType.unpacked},shaderSource:ue})})(p,a,m,f,c)})}},4125:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseFlattenAttributes=u.flatten=void 0;const S=g(7273);u.flatten=(C,b,v)=>{w(b,v);const p=S.ShapeUtil.flattenShape(b[0].dims,v);return[C.reshapeUnpacked(b[0],p)]},u.parseFlattenAttributes=C=>C.attributes.getInt("axis",1);const w=(C,b)=>{if(!C||1!==C.length)throw new Error("Flatten requires 1 input.");const v=C[0].dims.length;if(0===v)throw new Error("scalar tensor is not supported.");if(b<-v||b>v)throw new Error("Invalid axis");if("string"===C[0].type)throw new Error("string tensor is not supported.")}},2150:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseInternalActivationAttributes=u.getActivationSnippet=void 0;const S=g(7273),w=g(9087);u.getActivationSnippet=function(C){let b;switch(C.activation){case"Relu":b=(0,w.glslRelu)();break;case"Sigmoid":b=(0,w.glslSigmoid)();break;case"Clip":b=(0,w.glslClip)(C.clipMin,C.clipMax);break;default:return{activationFunction:"",applyActivation:""}}return{activationFunction:b.body,applyActivation:`value = ${b.name}_(value);`}},u.parseInternalActivationAttributes=C=>{const b=C.getString("activation","");if("Clip"===b){const[v,p]=C.getFloats("activation_params",[S.MIN_CLIP,S.MAX_CLIP]);return{activation:b,clipMax:p,clipMin:v,activationCacheKey:`${b}:${v},${p}`}}return{activation:b,activationCacheKey:b}}},6149:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseGatherAttributes=u.gather=void 0;const S=g(4910),w=g(6145),C=g(7273),b=g(5639);u.gather=(f,c,a)=>(m(c,a.axis),[f.run(p(f,c,a),c)]),u.parseGatherAttributes=f=>(0,S.createAttributeWithCacheKey)({axis:f.attributes.getInt("axis",0)});const v={name:"Gather",inputNames:["A","B"],inputTypes:[b.TextureType.unpacked,b.TextureType.unpacked]},p=(f,c,a)=>{const d=Object.assign(Object.assign({},v),{cacheHint:a.cacheKey});return Object.assign(Object.assign({},d),{get:()=>((h,_,x,D)=>{const I=x[0].dims.slice(),A=x[1].dims.slice(),R=new Array(I.length+A.length-1);D=C.ShapeUtil.normalizeAxis(D,I.length);const P=[];for(let B=0;B<R.length;B++)B<D?(R[B]=I[B],P.push(`inputIdx[${B}] = outputIdx[${B}];`)):B<D+A.length?(R[B]=A[B-D],P.push(`indexDataIdx[${B-D}] = outputIdx[${B}];`)):(R[B]=I[B-A.length+1],P.push(`inputIdx[${B-A.length+1}] = outputIdx[${B}];`));const k=`\n      float process(int outputIdx[${R.length||1}]) {\n        int inputIdx[${I.length}];\n        int indexDataIdx[${A.length||1}];\n        indexDataIdx[0] = 0;\n        ${P.join("\n        ")}\n        int idx = int(_B(indexDataIdx));\n        inputIdx[${D}] = idx < 0 ? idx + ${I[D]} : idx;\n        return _A(inputIdx);\n      }`;return Object.assign(Object.assign({},_),{output:{dims:R,type:x[0].type,textureType:b.TextureType.unpacked},shaderSource:k})})(0,d,c,a.axis)})},m=(f,c)=>{if(!f||2!==f.length)throw new Error("Gather requires 2 inputs.");const a=f[0].dims.length;if(a<1)throw new Error("Invalid input shape.");if(c<-a||c>a-1)throw new Error("Invalid axis.");if(-1===w.NUMBER_TYPES.indexOf(f[0].type))throw new Error("Invaid input type.");if("int32"!==f[1].type&&"int16"!==f[1].type)throw new Error("Invaid input type.")}},5378:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseGemmAttributesV11=u.parseGemmAttributesV7=u.gemm=void 0;const S=g(4910),w=g(7273),C=g(5639);u.gemm=(f,c,a)=>(m(c,a),[f.run(v(c,a),c)]);const b=(f,c)=>{const a=0!==f.attributes.getInt("transA",0),d=0!==f.attributes.getInt("transB",0),h=f.attributes.getFloat("alpha",1),_=f.attributes.getFloat("beta",1);return(0,S.createAttributeWithCacheKey)({transA:a,transB:d,alpha:h,beta:_,isOptionalC:c})};u.parseGemmAttributesV7=f=>b(f,!1),u.parseGemmAttributesV11=f=>b(f,!0);const v=(f,c)=>{const a={name:"Gemm",inputNames:3===f.length?["A","B","C"]:["A","B"],inputTypes:3===f.length?[C.TextureType.unpacked,C.TextureType.unpacked,C.TextureType.unpacked]:[C.TextureType.unpacked,C.TextureType.unpacked],key:c.cacheKey};return Object.assign(Object.assign({},a),{get:()=>p(a,f,c)})},p=(f,c,a)=>{const d=c[0].dims.slice(),h=c[1].dims.slice(),[_,x]=w.GemmUtil.getShapeOfGemmResult(d,a.transA,h,a.transB,3===c.length?c[2].dims:void 0),D=[_,x];if(!D)throw new Error("Can't use gemm on the given tensors");let I=d[d.length-1],A="";a.transA&&(I=d[0]),a.transA&&a.transB?A="value += _A_T(a) * _B_T(b);":a.transA&&!a.transB?A="value += _A_T(a) * _B(b);":!a.transA&&a.transB?A="value += _A(a) * _B_T(b);":a.transA||a.transB||(A="value += _A(a) * _B(b);");const R=D.length,P=`\n      float process(int indices[${R}]) {\n          int a[${R}];\n          int b[${R}];\n          ${3===c.length?`int c[${c[2].dims.length}];`:""}\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ${3===c.length?"bcastIndices_C(indices, c);":""}\n\n          float value = 0.0;\n          for (int k=0; k<${I}; ++k) {\n              a[${R-1}] = k;\n              b[${R-2}] = k;\n              ${A}\n          }\n\n          value = value * alpha;\n          ${3===c.length?"value += beta * _C(c);":""}\n          return value;\n      }`;return Object.assign(Object.assign({},f),{output:{dims:D,type:c[0].type,textureType:C.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:a.alpha},{name:"beta",type:"float",data:a.beta}],shaderSource:P})},m=(f,c)=>{if(!f)throw new Error("Input is missing");if(c.isOptionalC&&(f.length<2||f.length>3))throw new Error("Invaid input shape.");if(!c.isOptionalC&&3!==f.length)throw new Error("Gemm requires 3 inputs");if(3===f.length&&1!==f[2].dims.length&&2!==f[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==f[0].type&&"float64"!==f[0].type||"float32"!==f[1].type&&"float64"!==f[1].type||3===f.length&&"float32"!==f[2].type&&"float64"!==f[2].type)throw new Error("Invalid input type.");if(f[0].type!==f[1].type||3===f.length&&f[0].type!==f[2].type)throw new Error("Input types are mismatched")}},5950:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createPackedIm2ColProgramInfoLoader=void 0;const S=g(6757),w=g(5639),C=g(5614);u.createPackedIm2ColProgramInfoLoader=(b,v,p,m,f)=>{const c={name:"Im2Col (packed)",inputNames:["A"],inputTypes:[w.TextureType.packed],cacheHint:f.cacheKey};return Object.assign(Object.assign({},c),{get:()=>((d,h,_,x,D,I)=>{const A=_.dims,R=x.dims,P=D.length,k=[R[1]*R[2]*R[3],D[2]*D[3]],B=R[2]*R[3],V=(0,C.unpackFromChannel)(),j=(0,S.getGlsl)(d.session.backend.glContext.version);let X="";for(let Z=0;Z<=1;Z++)for(let de=0;de<=1;de++)X+=`\n            blockIndex = rc.x + ${de};\n            pos = rc.y + ${Z};\n\n            if(blockIndex < ${k[1]} && pos < ${k[0]}) {\n              offsetY = int(blockIndex / (${D[P-1]})) * ${I.strides[0]} -\n                ${I.pads[0]};\n              d0 = offsetY + ${I.dilations[0]} * (imod(pos, ${B}) / ${R[2]});\n\n              if(d0 < ${A[2]} && d0 >= 0) {\n                offsetX = imod(blockIndex, ${D[P-1]}) * ${I.strides[1]} -\n                  ${I.pads[1]};\n                d1 = offsetX + ${I.dilations[1]} * imod(imod(pos, ${B}), ${R[2]});\n\n                if(d1 < ${A[3]} && d1 >= 0) {\n\n                  ch = int(float(pos)/ ${B}.);\n                    innerDims = vec2(d0, d1);\n                    result[${2*Z+de}] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          `;const Q=`\n      ${V}\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ${X}\n          ${j.output} = result;\n      }\n            `;return Object.assign(Object.assign({},h),{output:{dims:k,type:_.type,textureType:w.TextureType.packed},shaderSource:Q,hasMain:!0})})(b,c,v,p,m,f)})}},1625:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.calculateIm2ColDims=u.createIm2ColProgramInfoLoader=void 0;const S=g(5639);u.createIm2ColProgramInfoLoader=(w,C,b,v,p)=>{const m={name:"Im2Col",inputNames:["X"],inputTypes:[S.TextureType.unpacked],cacheHint:p.cacheKey};return Object.assign(Object.assign({},m),{get:()=>((c,a,d,h,_,x)=>{const D=d.dims,A=_.length,R=(0,u.calculateIm2ColDims)(D,h.dims,_,4),P=`\n        const int XC = ${D[1]};\n        const int XH = ${D[2]};\n        const int XW = ${D[3]};\n        const int KH = ${x.kernelShape[0]};\n        const int KW = ${x.kernelShape[1]};\n        const int dilationH = ${x.dilations[0]};\n        const int dilationW = ${x.dilations[1]};\n        const int strideH = ${x.strides[0]};\n        const int strideW = ${x.strides[1]};\n        const int padH = ${x.pads[0]};\n        const int padW = ${x.pads[1]};\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[${A}]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[${D.length}];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        `;return Object.assign(Object.assign({},a),{output:{dims:R,type:d.type,textureType:S.TextureType.packedLastDimension},shaderSource:P})})(0,m,C,b,v,p)})},u.calculateIm2ColDims=(w,C,b,v=4)=>[b[0],b[2],b[3],Math.ceil(w[1]*C[2]*C[3]/v)]},6981:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseImageScalerAttributes=u.imageScaler=void 0;const S=g(4910),w=g(5639);u.imageScaler=(m,f,c)=>(p(f),[m.run(b(m,f,c),f)]),u.parseImageScalerAttributes=m=>{const f=m.attributes.getFloat("scale"),c=m.attributes.getFloats("bias");return(0,S.createAttributeWithCacheKey)({scale:f,bias:c})};const C={name:"ImageScaler",inputNames:["X"],inputTypes:[w.TextureType.unpacked]},b=(m,f,c)=>{const a=Object.assign(Object.assign({},C),{cacheHint:c.cacheKey});return Object.assign(Object.assign({},a),{get:()=>((d,h,_,x)=>{const D=_[0].dims.slice(),I=D.length,A=`\n      ${v(x.bias.length)}\n      float process(int indices[${I}]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }`;return Object.assign(Object.assign({},h),{output:{dims:D,type:_[0].type,textureType:w.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:x.bias.length,data:x.bias},{name:"scale",type:"float",data:x.scale}],shaderSource:A})})(0,a,f,c)})},v=m=>{const f=[`float getBias(float bias[${m}], int channel) {`];for(let c=0;c<m;++c)f.push(0===c?`\tif (channel == ${c}) { return bias[${c}]; }`:c===m-1?`\telse { return bias[${c}]; }`:`\telse if (channel == ${c}) { return bias[${c}]; }`);return f.push("\t}"),f.join("\n")},p=m=>{if(!m||1!==m.length)throw new Error("ImageScaler requires 1 input.");if(4!==m[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==m[0].type&&"float64"!==m[0].type)throw new Error("Invalid input type.")}},7413:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseInstanceNormalizationAttributes=u.instanceNormalization=void 0;const S=g(6757),w=g(5639);u.instanceNormalization=(f,c,a)=>{m(c);const d=f.run(b(c[0]),c);return[f.run(p(f,c[0],a,d.dims),[c[0],d,c[1],c[2]])]},u.parseInstanceNormalizationAttributes=f=>f.attributes.getFloat("epsilon",1e-5);const C={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[w.TextureType.unpacked]},b=f=>Object.assign(Object.assign({},C),{get:()=>((c,a)=>{const d=a.dims.slice(),_=d[2]*d[3],x=[d[0],d[1]],D=`\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<${d[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${d[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(${_});\n        temp = 0.0;\n        for(int a2=0; a2<${d[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${d[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(${_});\n\n        return v;\n      }`;return Object.assign(Object.assign({},c),{output:{dims:x,type:a.type,textureType:w.TextureType.packedLastDimension},shaderSource:D})})(C,f)}),v={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[w.TextureType.unpacked,w.TextureType.packedLastDimension,w.TextureType.unpacked,w.TextureType.unpacked]},p=(f,c,a,d)=>{const h=Object.assign(Object.assign({},v),{cacheHint:`${a}`});return Object.assign(Object.assign({},h),{get:()=>((_,x,D,I,A)=>{const R=(0,S.getGlsl)(_.session.backend.glContext.version),[P,k]=_.calculateTextureWidthAndHeight(A,w.TextureType.packedLastDimension),[B,V]=[P/4,k],j=`\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ${B}, ${V});\n        return ${R.texture2D}(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }`;return Object.assign(Object.assign({},x),{output:{dims:D.dims,type:D.type,textureType:w.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:I}],shaderSource:j})})(f,h,c,a,d)})},m=f=>{if(!f||3!==f.length)throw new Error("InstanceNormalization requires 3 inputs.");const c=f[0],a=f[1],d=f[2];if(c.dims.length<3||1!==a.dims.length||1!==d.dims.length)throw new Error("Invalid input shape.");if(a.dims[0]!==c.dims[1]||d.dims[0]!==c.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==c.type&&"float64"!==c.type||"float32"!==a.type&&"float64"!==a.type||"float32"!==d.type&&"float64"!==d.type)throw new Error("Invalid input type.");if(4!==f[0].dims.length)throw new Error("Only support 4-D input shape.")}},7006:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createLrnProgramInfoLoader=u.parseLrnAttributes=u.lrn=void 0;const S=g(4910),w=g(5639);u.lrn=(p,m,f)=>(v(m),[p.run(b(m,f),m)]),u.parseLrnAttributes=p=>{const m=p.attributes.getFloat("alpha",1e-4),f=p.attributes.getFloat("beta",.75),c=p.attributes.getFloat("bias",1),a=p.attributes.getInt("size");return(0,S.createAttributeWithCacheKey)({alpha:m,beta:f,bias:c,size:a})};const C={name:"LRN",inputNames:["X"],inputTypes:[w.TextureType.unpacked]};function b(p,m){return Object.assign(Object.assign({},C),{cacheHint:m.cacheKey,get:()=>function(f,c){const a=f[0].dims[1],D=`\n    float process(int indices[${f[0].dims.length}]) {\n        int c = indices[1];\n        float x = _X(indices);\n        float square_sum = 0.0;\n\n        for (int i = ${-Math.floor((c.size-1)/2)}; i <= ${Math.ceil((c.size-1)/2)}; i++) {\n          int idx = c + i;\n          if (c >= 0 && c < ${a}) {\n            indices[1] = idx;\n            float j = _X(indices);\n            square_sum += j * j;\n          }\n        }\n        return x / pow(float(${c.bias}) + float(${c.alpha}) / float(${c.size}) * square_sum, float(${c.beta}));\n    }`;return Object.assign(Object.assign({},C),{cacheHint:c.cacheKey,output:{dims:f[0].dims,type:f[0].type,textureType:w.TextureType.unpacked},shaderSource:D})}(p,m)})}u.createLrnProgramInfoLoader=b;const v=p=>{if(!p||1!==p.length)throw new Error("LRN requires 1 input.");if(4!==p[0].dims.length)throw new Error('currently only support LRN for input with "NCHW" format');if("float32"!==p[0].type)throw new Error("input should be float type")}},5632:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createPackedMatmulProgramInfoLoader=void 0;const S=g(7273),w=g(6757),C=g(5639),b=g(432),v=g(2150),p=g(8276);u.createPackedMatmulProgramInfoLoader=(m,f,c)=>{const a={name:"MatMul (packed)",inputNames:(d=f.length>2)?["A","B","Bias"]:["A","B"],inputTypes:d?[C.TextureType.packed,C.TextureType.packed,C.TextureType.packed]:[C.TextureType.packed,C.TextureType.packed],cacheHint:c.activationCacheKey};var d;return Object.assign(Object.assign({},a),{get:()=>((_,x,D,I)=>{const A=D.length>2,R=A?"value += getBiasForMatmul();":"",P=D[0].dims,k=D[1].dims,B=S.BroadcastUtil.calcShape(P,k,!0),V=!S.ShapeUtil.areEqual(D[0].dims,D[1].dims);if(!B)throw new Error("Can't use matmul on the given tensors");const X=Math.ceil(P[P.length-1]/2),Q=P.length,Z=k.length,de=(0,w.getGlsl)(_.session.backend.glContext.version),he=(0,b.getCoordsDataType)(B.length),Pe=B.length,ie=(0,b.getGlChannels)(),{activationFunction:ue,applyActivation:Fe}=(0,v.getActivationSnippet)(I),Ye=A?`${(0,p.getBiasForMatmul)(he,ie,D[2].dims,B,!0)}`:"",dt=V?`${function(pt,Ht,Oe,ge){let Je=[],ht=[];const $t=Oe[0].dims,Ut=Oe[1].dims,gt=$t.length,Gt=Ut.length,at=ge.length,vn=at-gt,Y=at-Gt;Je=$t.map((fe,be)=>`coords.${Ht[be+vn]}`),Je[gt-1]="i*2",Je.join(", "),ht=Ut.map((fe,be)=>`coords.${Ht[be+Y]}`),ht[Gt-2]="i*2",ht.join(", ");const Se=S.BroadcastUtil.getBroadcastDims($t,ge),F=S.BroadcastUtil.getBroadcastDims(Ut,ge),U=Se.map(fe=>`coords.${Ht[fe+vn]} = 0;`).join("\n"),G=F.map(fe=>`coords.${Ht[fe+Y]} = 0;`).join("\n"),J=`int lastDim = coords.${Ht[at-1]};\n  coords.${Ht[at-1]} = coords.${Ht[at-2]};\n  coords.${Ht[at-2]} = lastDim;`;return`\nvec4 getAAtOutCoordsMatmul(int i) {\n  ${pt} coords = getOutputCoords();\n  ${J}\n  ${U}\n  vec4 outputValue = getA(${Je});\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ${pt} coords = getOutputCoords();\n  ${J}\n  ${G}\n  vec4 outputValue = getB(${ht});\n  return outputValue;\n}`}(he,ie,D,B)}`:"",et=V?"getAAtOutCoordsMatmul(i)":`getA(${function(pt,Ht){let Oe="";for(let ge=0;ge<Ht-2;ge++)Oe+=`rc.${pt[ge]}, `;return Oe+=`rc.${pt[Ht-2]}, i*2`,Oe}(ie,Q)})`,ft=V?"getBAtOutCoordsMatmul(i)":`getB(${function(pt,Ht){let Oe="";for(let ge=0;ge<Ht-2;ge++)Oe+=`rc.${pt[ge]}, `;return Oe+=`i*2, rc.${pt[Ht-1]}`,Oe}(ie,Z)})`,Rt=`\n            ${dt}\n            ${Ye}\n            ${ue}\n            void main() {\n              ${V?"":`${he} rc =\n          getOutputCoords(); int lastDim = rc.${ie[Pe-1]}; rc.${ie[Pe-1]} =\n          rc.${ie[Pe-2]}; rc.${ie[Pe-2]} = lastDim;\n      `}\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ${X}; i++) {\n                vec4 a = ${et};\n                vec4 b = ${ft};\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ${R}\n              ${Fe}\n              ${de.output} = value;\n            }`;return Object.assign(Object.assign({},x),{output:{dims:B,type:D[0].type,textureType:C.TextureType.packed},shaderSource:Rt,hasMain:!0})})(m,a,f,c)})}},8276:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.getBiasForMatmul=u.createMatmulProgramInfoLoader=u.parseMatMulAttributes=u.matMul=void 0;const S=g(7273),w=g(5639),C=g(432),b=g(2150),v=g(5632);u.matMul=(a,d,h)=>(f(d),a.session.pack?[a.run((0,v.createPackedMatmulProgramInfoLoader)(a,d,h),d)]:[a.run(m(d,h),d)]),u.parseMatMulAttributes=a=>(0,b.parseInternalActivationAttributes)(a.attributes);const p=(a,d)=>({name:"MatMul",inputNames:a?["A","B","Bias"]:["A","B"],inputTypes:a?[w.TextureType.unpacked,w.TextureType.unpacked,w.TextureType.unpacked]:[w.TextureType.unpacked,w.TextureType.unpacked],cacheHint:d});function m(a,d){const h=p(a.length>2,d.activationCacheKey);return Object.assign(Object.assign({},h),{get:()=>function(_,x,D){const I=x[0].dims,A=x[1].dims,R=S.BroadcastUtil.calcShape(I,A,!0);if(!R)throw new Error("Can't use matmul on the given tensors");const P=(0,C.getCoordsDataType)(R.length),k=(0,C.getGlChannels)(),{activationFunction:B,applyActivation:V}=(0,b.getActivationSnippet)(D),j=x.length>2,X=j?"value += getBiasForMatmul();":"",Q=j?`${c(P,k,x[2].dims,R,!1)}`:"",de=I.length,he=A.length,Pe=`\n    ${B}\n    ${Q}\n    float process(int indices[${R.length}]) {\n        int a[${de}];\n        int b[${he}];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<${I[I.length-1]}; ++k) {\n            a[${de-1}] = k;\n            b[${he-2}] = k;\n            value += _A(a) * _B(b);\n        }\n        ${X}\n        ${V}\n        return value;\n    }`;return Object.assign(Object.assign({},_),{output:{dims:R,type:x[0].type,textureType:w.TextureType.unpacked},shaderSource:Pe})}(h,a,d)})}u.createMatmulProgramInfoLoader=m;const f=a=>{if(!a||2!==a.length)throw new Error("MatMul requires 2 inputs.");if(a[0].dims[a[0].dims.length-1]!==a[1].dims[a[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==a[0].type&&"float64"!==a[0].type||"float32"!==a[1].type&&"float64"!==a[1].type)throw new Error("inputs should be float type");if(a[0].type!==a[1].type)throw new Error("inputs types should match")};function c(a,d,h,_,x){let D="";const I=h.length,A=_.length,R=A-I;D=A<2&&I>0?"coords":h.map((B,V)=>`coords.${d[V+R]}`).join(", ");const P=S.BroadcastUtil.getBroadcastDims(h,_).map(B=>`coords.${d[B+R]} = 0;`).join("\n");let k="vec4(outputValue.xx, outputValue.yy)";return 1===S.ShapeUtil.size(h)&&(k="vec4(outputValue.x)"),x?`\nvec4 getBiasForMatmul() {\n  ${a} coords = getOutputCoords();\n  ${P}\n  vec4 outputValue = getBias(${D});\n  return ${k};\n}`:`\nfloat getBiasForMatmul() {\n  ${a} coords = getOutputCoords();\n  ${P}\n  return getBias(coords.x);\n}`}u.getBiasForMatmul=c},9:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createPackProgramInfoLoader=void 0;const S=g(6757),w=g(5639),C=g(432),b=g(5614),v={name:"pack",inputNames:["A"],inputTypes:[w.TextureType.unpackedReversed]};u.createPackProgramInfoLoader=(p,m)=>Object.assign(Object.assign({},v),{get:()=>((f,c)=>{const a=(0,S.getGlsl)(f.session.backend.glContext.version),d=c.dims,h=d.length,_=c.dims.length,x=(0,C.getCoordsDataType)(_),D=(0,b.getChannels)("rc",_),I=(R=D,0===(A=_)||1===A?"":`\n    int r = ${R[A-2]};\n    int c = ${R[A-1]};\n    int rp1 = ${R[A-2]} + 1;\n    int cp1 = ${R[A-1]} + 1;\n    bool rEdge = rp1 >= ${d[d.length-1]};\n    bool cEdge = cp1 >= ${d[d.length-2]};\n    `);var A,R;let B;B=0===h?[1,1]:1===h?[d[0],1]:[d[_-1],d[_-2]];const V=function(Q,Z,de){if(0===Q)return"false";if(1===Q)return`rc > ${Z[0]}`;let he="";for(let Pe=Q-2;Pe<Q;Pe++)he+=`${de[Pe]} >= ${Z[Pe-Q+2]}`,Pe<Q-1&&(he+="||");return he}(_,B,D),j=function(Q,Z){const de=Q.length;if(0===de)return"getA(), 0, 0, 0";if(1===de)return`getA(rc),\n            rc + 1 >= ${Q[0]} ? 0. : getA(rc + 1),\n            0, 0`;let he="";if(de>2)for(let Pe=0;Pe<de-2;++Pe)he+=`${Z[Pe]},`;return`getA(${he}r, c),\n          rEdge ? 0. : getA(${he}rp1, c),\n          cEdge ? 0. : getA(${he}r, cp1),\n          rEdge || cEdge ? 0. : getA(${he}rp1, cp1)`}(d,D),X=`\n        void main() {\n          ${x} rc = getOutputCoords();\n\n          if(${V}) {\n            ${a.output} = vec4(0);\n          } else {\n            ${I}\n\n            ${a.output} = vec4(${j});\n          }\n        }\n      `;return Object.assign(Object.assign({},v),{hasMain:!0,output:{dims:c.dims,type:c.type,textureType:w.TextureType.packed},shaderSource:X})})(p,m)})},5614:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.unpackFromChannel=u.getChannels=u.getVecChannels=void 0;const S=g(432);function w(C,b){return(0,S.getGlChannels)(b).map(v=>`${C}.${v}`)}u.getVecChannels=w,u.getChannels=function(C,b){return 1===b?[C]:w(C,b)},u.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},5565:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parsePadAttributesV11=u.padV11=u.parsePadAttributesV2=u.padV2=void 0;const S=g(4910),w=g(7273),C=g(6757),b=g(5639),v={name:"Pad",inputNames:["A"],inputTypes:[b.TextureType.unpacked]};u.padV2=(x,D,I)=>(f(D),[x.run(Object.assign(Object.assign({},v),{cacheHint:I.cacheKey,get:()=>m(x,D[0],I)}),D)]),u.parsePadAttributesV2=x=>{const D=x.attributes.getString("mode","constant"),I=x.attributes.getFloat("value",0),A=x.attributes.getInts("pads");return(0,S.createAttributeWithCacheKey)({mode:D,value:I,pads:A})},u.padV11=(x,D,I)=>{c(D);const A=p(x,D,I);return(0,u.padV2)(x,[D[0]],A)},u.parsePadAttributesV11=x=>x.attributes.getString("mode","constant");const p=(x,D,I)=>{if(!x.session.isInitializer(D[1].dataId)||D.length>=3&&!x.session.isInitializer(D[2].dataId))throw new Error("dynamic pad attributes are not allowed");const A=Array.from(D[1].integerData);return(0,S.createAttributeWithCacheKey)({mode:I,pads:A,value:D.length>=3?D[2].floatData[0]:0})},m=(x,D,I)=>{const A=w.ShapeUtil.padShape(D.dims.slice(),I.pads),R=A.length,P=`\n      ${a(x,D,I)}\n      float process(int[${R}] indices) {\n          return padA(indices);\n      }`;return{name:"Pad",inputNames:["A"],inputTypes:[b.TextureType.unpacked],output:{dims:A,type:D.type,textureType:b.TextureType.unpacked},shaderSource:P}},f=x=>{if(!x||1!==x.length)throw new Error("Pad requires 1 input");if("float32"!==x[0].type&&"float64"!==x[0].type)throw new Error("Invalid input type.")},c=x=>{if(!x||2!==x.length&&3!==x.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==x[1].type)throw new Error("Invalid input type.");if(x.length>=3&&"string"===x[2].type)throw new Error("Invalid input type.")},a=(x,D,I)=>{const A=(0,C.getGlsl)(x.session.backend.glContext.version),[R,P]=x.calculateTextureWidthAndHeight(D.dims,b.TextureType.unpacked),k=w.ShapeUtil.computeStrides(D.dims);switch(I.mode){case"constant":return d(A,D.dims,k,R,P,I.pads,I.value);case"reflect":return h(A,D.dims,k,R,P,I.pads);case"edge":return _(A,D.dims,k,R,P,I.pads);default:throw new Error("Invalid mode")}},d=(x,D,I,A,R,P,k)=>{const B=D.length;let V="";for(let j=B-1;j>=0;--j)V+=`\n        k = m[${j}] - ${P[j]};\n        if (k < 0)  return constant;\n        if (k >= ${D[j]}) return constant;\n        offset += k * ${I[j]};\n        `;return`\n      float padA(int m[${B}]) {\n        const float constant = float(${k});\n        int offset = 0;\n        int k = 0;\n        ${V}\n        vec2 coords = offsetToCoords(offset, ${A}, ${R});\n        float value = getColorAsFloat(${x.texture2D}(A, coords));\n        return value;\n      }\n      `},h=(x,D,I,A,R,P)=>{const k=D.length;let B="";for(let V=k-1;V>=0;--V)B+=`\n        k = m[${V}] - ${P[V]};\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ${2*(D[V]-1)};\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ${D[V]}) { k = _2n_1 - k; }\n        }\n        offset += k * ${I[V]};\n        `;return`\n      float padA(int m[${k}]) {\n        int offset = 0;\n        int k = 0;\n        ${B}\n        vec2 coords = offsetToCoords(offset, ${A}, ${R});\n        float value = getColorAsFloat(${x.texture2D}(A, coords));\n        return value;\n      }\n      `},_=(x,D,I,A,R,P)=>{const k=D.length;let B="";for(let V=k-1;V>=0;--V)B+=`\n        k = m[${V}] - ${P[V]};\n        if (k < 0)  k = 0;\n        if (k >= ${D[V]}) k = ${D[V]-1};\n        offset += k * ${I[V]};\n      `;return`\n      float padA(int m[${k}]) {\n        int offset = 0;\n        int k = 0;\n        ${B}\n        vec2 coords = offsetToCoords(offset, ${A}, ${R});\n        float value = getColorAsFloat(${x.texture2D}(A, coords));\n        return value;\n      }\n      `}},2834:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.globalMaxPool=u.parseMaxPoolAttributes=u.maxPool=u.parseGlobalAveragePoolAttributes=u.globalAveragePool=u.parseAveragePoolAttributes=u.averagePool=void 0;const S=g(4910),w=g(7273),C=g(5639);u.averagePool=(_,x,D)=>{c(x);const I={name:"AveragePool",inputNames:["X"],inputTypes:[C.TextureType.unpacked],cacheHint:D.cacheKey};return[_.run(Object.assign(Object.assign({},I),{get:()=>b(x,I,!1,D)}),x)]},u.parseAveragePoolAttributes=_=>{const x=_.attributes.getString("auto_pad","NOTSET"),D=_.attributes.getInt("ceil_mode",0),I=0!==_.attributes.getInt("count_include_pad",0),A=_.attributes.getInts("kernel_shape"),R=_.attributes.getInts("strides",[]),P=_.attributes.getInts("pads",[]);if(0!==D)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,S.createAttributeWithCacheKey)({autoPad:x,ceilMode:D,countIncludePad:I,kernelShape:A,strides:R,pads:P})};const b=(_,x,D,I)=>{const[A,R]=p(_,I,D),P=w.ShapeUtil.size(A.kernelShape);let k="";k+=A.countIncludePad?`value /= float(${P});`:`value /= float(${P} - pad);`;const B=`\n        ${a(_[0].dims,A,"value += _X(x);",k,"0.0")}\n      `;return Object.assign(Object.assign({},x),{output:{dims:R,type:_[0].type,textureType:C.TextureType.unpacked},shaderSource:B})};u.globalAveragePool=(_,x,D)=>{c(x);const I={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[C.TextureType.unpacked],cacheHint:`${D.countIncludePad}`};return[_.run(Object.assign(Object.assign({},I),{get:()=>b(x,I,!0,D)}),x)]},u.parseGlobalAveragePoolAttributes=_=>{const x=0!==_.attributes.getInt("count_include_pad",0);return(0,S.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:x,kernelShape:[],strides:[],pads:[]})},u.maxPool=(_,x,D)=>{c(x);const I={name:"MaxPool",inputNames:["X"],inputTypes:[C.TextureType.unpacked],cacheHint:D.cacheKey};return[_.run(Object.assign(Object.assign({},I),{get:()=>v(x,I,!1,D)}),x)]},u.parseMaxPoolAttributes=_=>{const x=_.attributes.getString("auto_pad","NOTSET"),D=_.attributes.getInt("ceil_mode",0),I=_.attributes.getInts("kernel_shape"),A=_.attributes.getInts("strides",[]),R=_.attributes.getInts("pads",[]),P=_.attributes.getInt("storage_order",0),k=_.attributes.getInts("dilations",[]);if(0!==P)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==D)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,S.createAttributeWithCacheKey)({autoPad:x,ceilMode:D,countIncludePad:!1,kernelShape:I,strides:A,pads:R,storageOrder:P,dilations:k})};const v=(_,x,D,I)=>{const[A,R]=p(_,I,D),P=`\n      ${a(_[0].dims,A,"\n      value = max(_X(x), value);\n    ","","-1e5")}\n    `;return Object.assign(Object.assign({},x),{output:{dims:R,type:_[0].type,textureType:C.TextureType.unpacked},shaderSource:P})},p=(_,x,D)=>{const I=_[0].dims.slice(),A=Object.hasOwnProperty.call(x,"dilations"),R=x.kernelShape.slice(),P=x.strides.slice(),k=A?x.dilations.slice():[],B=x.pads.slice();w.PoolConvUtil.adjustPoolAttributes(D,I,R,P,k,B);const V=w.PoolConvUtil.computePoolOutputShape(D,I,P,k,R,B,x.autoPad),j=Object.assign({},x);return Object.assign(j,A?{kernelShape:R,strides:P,pads:B,dilations:k,cacheKey:x.cacheKey}:{kernelShape:R,strides:P,pads:B,cacheKey:x.cacheKey}),[j,V]},m={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},f={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[C.TextureType.unpacked]};u.globalMaxPool=(_,x)=>(c(x),[_.run(Object.assign(Object.assign({},f),{get:()=>v(x,f,!0,m)}),x)]);const c=_=>{if(!_||1!==_.length)throw new Error("Pool ops requires 1 input.");if("float32"!==_[0].type&&"float64"!==_[0].type)throw new Error("Invalid input type.")},a=(_,x,D,I,A)=>{const R=_.length;if(x.kernelShape.length<=2){const P=x.kernelShape[x.kernelShape.length-1],k=x.strides[x.strides.length-1],B=x.pads[x.pads.length/2-1];let X="",Q="",Z="";if(X=B+x.pads[x.pads.length-1]!==0?`\n          for (int i = 0; i < ${P}; i++) {\n            x[${R} - 1] = indices[${R} - 1] * ${k} - ${B} + i;\n            if (x[${R} - 1] < 0 || x[${R} - 1] >= ${_[R-1]}) {\n              pad++;\n              continue;\n            }\n            ${D}\n          }`:`\n          for (int i = 0; i < ${P}; i++) {\n            x[${R} - 1] = indices[${R} - 1] * ${k} - ${B} + i;\n            ${D}\n          }`,2===x.kernelShape.length){const de=x.kernelShape[x.kernelShape.length-2],he=x.strides[x.strides.length-2],Pe=x.pads[x.pads.length/2-2];Q=Pe+x.pads[x.pads.length-2]!==0?`\n            for (int j = 0; j < ${de}; j++) {\n              x[${R} - 2] = indices[${R} - 2] * ${he} - ${Pe} + j;\n              if (x[${R} - 2] < 0 || x[${R} - 2] >= ${_[R-2]}) {\n                pad+= ${P};\n                continue;\n              }\n          `:`\n            for (int j = 0; j < ${de}; j++) {\n              x[${R} - 2] = indices[${R} - 2] * ${he} - ${Pe} + j;\n            `,Z="\n          }\n        "}return`\n        float process(int indices[${R}]) {\n          int x[${R}];\n          copyVec(indices, x);\n\n          float value = ${A};\n          int pad = 0;\n          ${Q}\n          ${X}\n          ${Z}\n          ${I}\n          return value;\n        }\n      `}{const P=w.ShapeUtil.size(x.kernelShape),k=w.ShapeUtil.computeStrides(x.kernelShape),B=k.length,V=x.pads.length,j=h(B),X=d(_,"inputDims"),Q=d(x.pads,"pads"),Z=d(k,"kernelStrides"),de=d(x.strides,"strides");let he="";return he=x.pads.reduce((Pe,ie)=>Pe+ie)?`\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ${D}\n          }`:`\n          }\n          ${D}\n        `,`\n        ${j}\n        float process(int indices[${R}]) {\n          int x[${R}];\n          copyVec(indices, x);\n          int offset[${B}];\n          int pads[${V}];\n          int inputDims[${R}];\n          int kernelStrides[${B}];\n          int strides[${B}];\n          ${Q}\n          ${X}\n          ${de}\n          ${Z}\n\n          float value = ${A};\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ${P}; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ${R} - ${B}; j < ${R}; j++) {\n              x[j] = indices[j] * strides[j - ${R} + ${B}]\n                + offset[j - ${R} + ${B}] - pads[j - 2];\n              ${he}\n          }\n          ${I}\n\n          return value;\n        }\n      `}},d=(_,x)=>{let D="";for(let I=0;I<_.length;I++)D+=`\n      ${x}[${I}] = ${_[I]};\n    `;return D},h=_=>`\n  void offsetToIndices(int offset, int[${_}] strides, out int[${_}] indices) {\n    if (${_} == 0) {\n      return;\n    }\n    for (int i = 0; i < ${_} - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[${_} - 1] = offset;\n  }`},1010:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.reduceLogSumSquare=u.reduceLogSum=u.reduceProd=u.reduceMin=u.reduceMax=u.reduceMean=u.reduceSum=u.parseReduceAttributes=void 0;const S=g(4910),w=g(6145),C=g(7273),b=g(5639),v=(f,c,a,d,h)=>{m(c);const _={name:d,inputNames:["A"],inputTypes:[b.TextureType.unpacked]};return[f.run(Object.assign(Object.assign({},_),{cacheHint:a.cacheKey,get:()=>p(f,c,a,d,h,_)}),c)]};u.parseReduceAttributes=f=>{const c=f.attributes.getInts("axes",[]),a=1===f.attributes.getInt("keepdims",1);return(0,S.createAttributeWithCacheKey)({axes:c,keepDims:a})};const p=(f,c,a,d,h,_)=>{const x=[],D=c[0].dims.length||1,I=[],A=C.ShapeUtil.normalizeAxes(a.axes,c[0].dims.length),R=h(c,A);let P=R[1];for(let B=0;B<c[0].dims.length;B++)A.indexOf(B)>=0||0===A.length?(a.keepDims&&x.push(1),P=`\n          for(int j${B} = 0; j${B} < ${c[0].dims[B]}; j${B}++) {\n            inputIdx[${B}] = j${B};\n            ${P}\n          }`):(I.push(`inputIdx[${B}] = outputIdx[${x.length}];`),x.push(c[0].dims[B]));const k=`\n      float process(int outputIdx[${x.length||1}]) {\n        float value;                 // final result\n        int inputIdx[${D}];      // addressing input data\n        ${I.join("\n")}\n        ${R[0]}       // init ops for reduce max/min\n        ${P}\n        ${R[2]}       // final computation for reduce mean\n        return value;\n      }`;return Object.assign(Object.assign({},_),{output:{dims:x,type:c[0].type,textureType:b.TextureType.unpacked},shaderSource:k})},m=f=>{if(!f||1!==f.length)throw new Error("Reduce op requires 1 input.");if(-1===w.NUMBER_TYPES.indexOf(f[0].type))throw new Error("Invalid input type.")};u.reduceSum=(f,c,a)=>v(f,c,a,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),u.reduceMean=(f,c,a)=>v(f,c,a,"ReduceMean",(d,h)=>{let _=1;for(let x=0;x<d[0].dims.length;x++)(h.indexOf(x)>=0||0===h.length)&&(_*=d[0].dims[x]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${_}.;`]}),u.reduceMax=(f,c,a)=>v(f,c,a,"ReduceMax",(d,h)=>{const _=[];for(let x=0;x<d[0].dims.length;x++)(h.indexOf(x)>=0||0===h.length)&&_.push(`inputIdx[${x}] = 0;`);return[`${_.join("\n")}\nvalue = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),u.reduceMin=(f,c,a)=>v(f,c,a,"ReduceMin",(d,h)=>{const _=[];for(let x=0;x<d[0].dims.length;x++)(h.indexOf(x)>=0||0===h.length)&&_.push(`inputIdx[${x}] = 0;`);return[`${_.join("\n")}\nvalue = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),u.reduceProd=(f,c,a)=>v(f,c,a,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),u.reduceLogSum=(f,c,a)=>v(f,c,a,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),u.reduceLogSumSquare=(f,c,a)=>v(f,c,a,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isReshapeCheap=u.processDims3D=u.createPackedReshape3DProgramInfoLoader=void 0;const S=g(7273),w=g(6757),C=g(5639),b=g(5614);u.createPackedReshape3DProgramInfoLoader=(v,p,m)=>{const f={name:"Reshape (packed)",inputTypes:[C.TextureType.packed],inputNames:["A"],cacheHint:`${m}`};return Object.assign(Object.assign({},f),{get:()=>((c,a,d,h)=>{const _=a.dims,x=h;let D="";for(let R=0;R<4;R++){let P="";switch(R){case 0:P="outputCoords = rc;";break;case 1:P="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:P="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:P="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}D+=`\n        ${P}\n        ${R>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${R}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ${R>0?"}":""}\n      `}const I=(0,w.getGlsl)(c.session.backend.glContext.version),A=`\n      ${function(R){const P=S.ShapeUtil.computeStrides(R),k=["b","r","c"],B="index";return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${P.map((V,j)=>`int ${k[j]} = ${B} / ${V}; ${j===P.length-1?`int ${k[j+1]} = ${B} - ${k[j]} * ${V}`:`index -= ${k[j]} * ${V}`};`).join("")}\n      return ivec3(b, r, c);\n    }\n  `}(_)}\n      ${function(R){const P=S.ShapeUtil.computeStrides(R);return`\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ${P[0]} + coords.z * ${P[1]} + coords.y;\n  }\n`}(x)}\n      ${(0,b.unpackFromChannel)()}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ${x[2]};\n        int cols = ${x[1]};\n\n        ${D}\n        ${I.output} = result;\n      }\n    `;return Object.assign(Object.assign({},d),{output:{dims:x,type:a.type,textureType:C.TextureType.packed},shaderSource:A,hasMain:!0})})(v,p,f,m)})},u.processDims3D=function(v){if(0===v.length)return[1,1,1];let p=1;for(let m=0;m<v.length-2;++m)p*=v[m];return[p,v.length>1?v[v.length-2]:1,v[v.length-1]]},u.isReshapeCheap=function(v,p){let m=!1;return m=0===v.length||0===p.length||(v.length<2||p.length<2?v[v.length-1]===p[p.length-1]:v[v.length-1]===p[p.length-1]&&v[v.length-2]===p[p.length-2]),m}},8126:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.reshape=void 0;const S=g(7273);u.reshape=(w,C)=>{const b=S.ShapeUtil.calculateReshapedDims(C[0].dims,C[1].integerData);return w.session.pack?[w.reshapePacked(C[0],b)]:[w.reshapeUnpacked(C[0],b)]}},2801:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseResizeAttributesV11=u.parseResizeAttributesV10=u.resize=void 0;const S=g(6757),w=g(5639),C=g(432),b=g(5614),v=g(3980),p={name:"Resize",inputNames:["A"],inputTypes:[w.TextureType.packed]};u.resize=(d,h,_)=>((0,v.validateInputs)(h,_),[d.run(Object.assign(Object.assign({},p),{cacheHint:_.cacheKey,get:()=>m(d,h,_)}),h)]),u.parseResizeAttributesV10=d=>(0,v.parseUpsampleAttributes)(d,10),u.parseResizeAttributesV11=d=>(0,v.parseUpsampleAttributes)(d,11);const m=(d,h,_)=>{const x=(0,S.getGlsl)(d.session.backend.glContext.version),[D,I]=f(h,_);if(D.every(he=>1===he)&&"tf_crop_and_resize"!==_.coordinateTransformMode)return Object.assign(Object.assign({},p),{output:{dims:I,type:h[0].type,textureType:w.TextureType.packed},hasMain:!0,shaderSource:`void main() {\n                    vec4 v = ${x.texture2D}(X, TexCoords);\n                    ${x.output} = v;\n                }`});const A=I.length;if(A<2)throw new Error(`output dimension should be at least 2, but got ${A}`);const R=I[A-2],P=I[A-1],k=h[0].dims;if(A!==k.length)throw new Error(`output dimension should match input ${k.length}, but got ${A}`);const B=k[A-2],V=k[A-1],j=D[A-2],X=D[A-1];let Q="";if("linear"!==_.mode)throw new Error(`resize (packed) does not support mode: '${_.mode}'`);switch(_.coordinateTransformMode){case"asymmetric":Q="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":Q="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"pytorch_half_pixel":Q=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 fcoords = vec4(coords);\n                        return vec4(\n                            ${P}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,\n                            ${R}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,\n                            ${P}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,\n                            ${R}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0\n                          );\n                    }\n                `;break;case"align_corners":Q=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(${P}.0 - 1.0, ${R}.0 - 1.0, ${P}.0 - 1.0,\n                            ${R}.0 - 1.0);\n                        vec4 original = vec4(${V}.0 - 1.0, ${B}.0 - 1.0, ${V}.0 - 1.0,\n                            ${B}.0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${_.coordinateTransformMode}'`)}const Z=(0,C.getCoordsDataType)(A),de=`\n            const vec2 inputWH = vec2(${B}.0, ${V}.0);\n            const vec4 scaleWHWH = vec4(float(${j}), float(${X}), float(${j}), float(${X}));\n            ${(0,b.unpackFromChannel)()}\n            ${Q}\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ${Z} rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ${R-1};\n                bool hasNextCol = rc.z < ${P-1};\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ${x.output} = vec4(newValue);\n            }\n        `;return Object.assign(Object.assign({},p),{output:{dims:I,type:h[0].type,textureType:w.TextureType.packed},hasMain:!0,shaderSource:de})},f=(d,h)=>{const _=d[0].dims;let x,D=h.scales;if(0===D.length){const A=d[h.scalesInputIdx];if(A&&0!==A.size){if(d[h.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");D=c(A,h.mode,h.isResize)}else{const R=d[h.sizesInputIdx];if(!R||0===R.size)throw new Error("Either scales or sizes MUST be provided as input.");x=Array.from(R.integerData),D=a(x,_,h.mode,h.isResize)}}else if(d[h.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const I=x||_.map((A,R)=>Math.floor(A*D[R]));return[D,I]},c=(d,h,_)=>{const x=Array.from(d.floatData);return(0,v.scalesValidation)(x,h,_),x},a=(d,h,_,x)=>{const D=h.length,I=new Array(D);for(let A=0,R=D;A<R;A++)if(0===h[A]){if(0!==d[A])throw new Error("Input dim is zero but required output dim is non-zero.");I[A]=1}else I[A]=d[A]/h[A];return(0,v.scalesValidation)(I,_,x),I}},565:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.shape=void 0;const S=g(9240);u.shape=(C,b)=>(w(b),[new S.Tensor([b[0].dims.length],"int32",void 0,void 0,new Int32Array(b[0].dims))]);const w=C=>{if(!C||1!==C.length)throw new Error("Shape requires 1 input.")}},2444:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sliceV10=u.parseSliceAttributes=u.slice=void 0;const S=g(4910),w=g(6145),C=g(7273),b=g(5639),v={name:"Slice",inputNames:["A"],inputTypes:[b.TextureType.unpacked]};u.slice=(a,d,h)=>(m(d),[a.run(Object.assign(Object.assign({},v),{cacheHint:h.cacheKey,get:()=>p(a,d[0],h)}),d)]),u.parseSliceAttributes=a=>{const d=a.attributes.getInts("starts"),h=a.attributes.getInts("ends"),_=a.attributes.getInts("axes",[]);return(0,S.createAttributeWithCacheKey)({starts:d,ends:h,axes:_})};const p=(a,d,h)=>{const _=0===h.axes.length?d.dims.slice(0).map((k,B)=>B):h.axes,x=C.ShapeUtil.normalizeAxes(_,d.dims.length),D=h.starts.map((k,B)=>k>d.dims[x[B]]-1?d.dims[x[B]]:C.ShapeUtil.normalizeAxis(k,d.dims[x[B]])),I=h.ends.map((k,B)=>k>d.dims[x[B]]-1?d.dims[x[B]]:C.ShapeUtil.normalizeAxis(k,d.dims[x[B]])),A=d.dims.slice(),R=[];for(let k=0;k<x.length;k++)A[x[k]]=I[k]-D[k],D[k]>0&&R.push(`outputIdx[${x[k]}] += ${D[k]};`);const P=`\n      float process(int outputIdx[${A.length}]) {\n        ${R.join("\n      ")}\n        return _A(outputIdx);\n      }`;return Object.assign(Object.assign({},v),{output:{dims:A,type:d.type,textureType:b.TextureType.unpacked},shaderSource:P})},m=a=>{if(!a||1!==a.length)throw new Error("Slice requires 1 input.");if(-1===w.NUMBER_TYPES.indexOf(a[0].type))throw new Error("Invalid input type.")};u.sliceV10=(a,d)=>{c(d);const h=f(a,d);return[a.run(Object.assign(Object.assign({},v),{cacheHint:h.cacheKey,get:()=>p(a,d[0],h)}),[d[0]])]};const f=(a,d)=>{if(!a.session.isInitializer(d[1].dataId)||!a.session.isInitializer(d[2].dataId)||d.length>=4&&!a.session.isInitializer(d[3].dataId)||d.length>=5&&!a.session.isInitializer(d[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(d.length>=5&&d[4].integerData.some(D=>1!==D))throw new Error("currently non-1 steps is not supported for Slice");const h=Array.from(d[1].integerData),_=Array.from(d[2].integerData),x=d.length>=4?Array.from(d[3].integerData):[];return{starts:h,ends:_,axes:x,cacheKey:`${x};${h};${_}`}},c=a=>{if(!a||a.length<3||a.length>5)throw new Error("Invalid input number.");if("int32"!==a[1].type||1!==a[1].dims.length)throw new Error("Invalid input type.");if("int32"!==a[2].type||1!==a[2].dims.length)throw new Error("Invalid input type.");if(a.length>=4&&("int32"!==a[3].type||1!==a[3].dims.length))throw new Error("Invalid input type.");if(a.length>=5&&("int32"!==a[4].type||1!==a[4].dims.length))throw new Error("Invalid input type.")}},815:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.softmaxV13=u.parseSoftmaxAttributesV13=u.parseSoftmaxAttributes=u.softmax=void 0;const S=g(4910),w=g(7273),C=g(6757),b=g(5639),v=g(5707),p={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[b.TextureType.unpacked]},m={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[b.TextureType.unpacked,b.TextureType.unpacked]},f={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[b.TextureType.unpacked,b.TextureType.unpacked,b.TextureType.unpacked]};u.softmax=(x,D,I)=>{_(D);const A=D[0].dims.slice(),R=w.ShapeUtil.normalizeAxis(I.axis,A.length),P=w.ShapeUtil.sizeToDimension(A,R),k=w.ShapeUtil.sizeFromDimension(A,R);return c(x,D,I,P,k)},u.parseSoftmaxAttributes=x=>(0,S.createAttributeWithCacheKey)({axis:x.attributes.getInt("axis",1)}),u.parseSoftmaxAttributesV13=x=>(0,S.createAttributeWithCacheKey)({axis:x.attributes.getInt("axis",-1)}),u.softmaxV13=(x,D,I)=>{_(D);const A=D[0].dims.slice(),R=w.ShapeUtil.normalizeAxis(I.axis,A.length),P=A.length,k=R!==P-1,B=[];let V,j=[],X=[];k&&(j=Array.from({length:P}).map((he,Pe)=>Pe),j[R]=P-1,j[P-1]=R,j.map(he=>B.push(A[he])),V=(0,S.createAttributeWithCacheKey)({perm:j}),X=(0,v.transpose)(x,D,V));const Q=w.ShapeUtil.sizeToDimension(k?B:A,P-1),Z=w.ShapeUtil.sizeFromDimension(k?B:A,P-1),de=c(x,k?X:D,I,Q,Z);return k?(0,v.transpose)(x,de,V):de};const c=(x,D,I,A,R)=>{const P=a(x,D[0],A,R,[A]),k=x.run(Object.assign(Object.assign({},p),{cacheHint:I.cacheKey,get:()=>P}),D),B=d(x,D[0],A,R,P.output.dims,[A]),V=x.run(Object.assign(Object.assign({},m),{cacheHint:I.cacheKey,get:()=>B}),[D[0],k]),j=h(x,D[0],A,R,P.output.dims,B.output.dims);return[x.run(Object.assign(Object.assign({},f),{cacheHint:I.cacheKey,get:()=>j}),[D[0],k,V])]},a=(x,D,I,A,R)=>{const[P,k]=x.calculateTextureWidthAndHeight(D.dims,b.TextureType.unpacked),B=R.length;if(I<1||A<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==R.length)throw new Error("Dimensionality of the output should be 1");if(R[0]!==I)throw new Error("Shape of the output should be equal to logical row count");const V=(0,C.getGlsl)(x.session.backend.glContext.version),j=`\n      float process(int[${B}] indices) {\n        int logical_row_start_offset = indices[0] * ${A};\n\n        float max = getColorAsFloat(${V.texture2D}(A, offsetToCoords(logical_row_start_offset, ${P},\n        ${k} )));\n        for(int i=1; i<${A}; ++i)\n        {\n          float current = getColorAsFloat(${V.texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${P}, ${k})));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }`;return Object.assign(Object.assign({},p),{output:{dims:R,type:D.type,textureType:b.TextureType.unpacked},shaderSource:j})},d=(x,D,I,A,R,P)=>{const[k,B]=x.calculateTextureWidthAndHeight(D.dims,b.TextureType.unpacked),V=P.length;if(I<1||A<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==P.length)throw new Error("Dimensionality of the output should be 1");if(P[0]!==I)throw new Error("Shape of the output should be equal to logical row count");if(1!==R.length)throw new Error("Dimensionality of the intermediate results should be 1");if(R[0]!==I)throw new Error("Shape of the intermediate results should be equal to logical row count");const j=`\n      float process(int[${V}] indices) {\n        int logical_row_start_offset = indices[0] * ${A};\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<${A}; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(${(0,C.getGlsl)(x.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${k}, ${B}))) - max);\n        }\n\n        return norm_factor;\n      }`;return Object.assign(Object.assign({},m),{output:{dims:P,type:D.type,textureType:b.TextureType.unpacked},shaderSource:j})},h=(x,D,I,A,R,P)=>{const[k,B]=x.calculateTextureWidthAndHeight(D.dims,b.TextureType.unpacked),V=D.dims.length;if(I<1||A<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==R.length||1!==P.length)throw new Error("Dimensionality of the intermediate results should be 1");if(R[0]!==I||P[0]!==I)throw new Error("Shape of the intermediate results should be equal to logical row count");const j=`\n      float process(int[${V}] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ${k}, ${B});\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ${A};\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }`;return Object.assign(Object.assign({},f),{output:{dims:D.dims,type:D.type,textureType:b.TextureType.unpacked},shaderSource:j})},_=x=>{if(!x||1!==x.length)throw new Error("Softmax requires 1 input.");if("float32"!==x[0].type&&"float64"!==x[0].type)throw new Error("Invalid input type")}},564:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseSplitAttributes=u.split=void 0;const S=g(4910),w=g(7273),C=g(5639),b={name:"Split",inputNames:["A"],inputTypes:[C.TextureType.unpacked]};u.split=(f,c,a)=>{m(c);const d=w.ShapeUtil.normalizeAxis(a.axis,c[0].dims.length),h=v(f,c,d,a),_=[];for(let x=0;x<h;++x)_.push(f.run(Object.assign(Object.assign({},b),{cacheHint:`${a.cacheKey};${x}`,get:()=>p(f,c[0],a,d,x)}),c));return _},u.parseSplitAttributes=f=>{const c=f.attributes.getInt("axis",0),a=f.attributes.getInts("split",[]);return(0,S.createAttributeWithCacheKey)({axis:c,split:a,numOutputs:f.outputs.length})};const v=(f,c,a,d)=>{const[,h]=w.SplitUtil.splitShape(c[0].dims,a,d.split,d.numOutputs);return h.length},p=(f,c,a,d,h)=>{const[_,x]=w.SplitUtil.splitShape(c.dims,d,a.split,a.numOutputs),I=_[h],A=`\n      float process(int indices[${I.length}]) {\n        indices[${d}] += ${x[h]};\n        return _A(indices);\n      }\n    `;return Object.assign(Object.assign({},b),{cacheHint:`${a.cacheKey}:${h}`,output:{dims:I,type:c.type,textureType:C.TextureType.unpacked},shaderSource:A})},m=f=>{if(!f||1!==f.length)throw new Error("Split requires one input.");if("int8"!==f[0].type&&"uint8"!==f[0].type&&"int16"!==f[0].type&&"uint16"!==f[0].type&&"int32"!==f[0].type&&"uint32"!==f[0].type&&"float32"!==f[0].type&&"float64"!==f[0].type&&"bool"!==f[0].type)throw new Error("Invalid input type.")}},5416:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseSqueezeAttributes=u.squeezeV13=u.squeeze=void 0;const S=g(7273);u.squeeze=(b,v,p)=>{w(v);const m=S.ShapeUtil.squeezeShape(v[0].dims,p);return[b.reshapeUnpacked(v[0],m)]},u.squeezeV13=(b,v)=>(C(v),(0,u.squeeze)(b,[v[0]],Array.from(v[1].integerData))),u.parseSqueezeAttributes=b=>b.attributes.getInts("axes");const w=b=>{if(!b||1!==b.length)throw new Error("Squeeze requires 1 input.");if("string"===b[0].type)throw new Error("invalid input tensor types.")},C=b=>{if(!b||2!==b.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==b[1].type)throw new Error("Invalid input type.")}},1240:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sum=void 0;const S=g(6757),w=g(5639);u.sum=(v,p)=>{b(p);const m={name:"Sum",inputNames:p.map((f,c)=>`X${c}`),inputTypes:new Array(p.length).fill(w.TextureType.unpacked)};return[v.run(Object.assign(Object.assign({},m),{get:()=>C(v,p,m)}),p)]};const C=(v,p,m)=>{const f=(0,S.getGlsl)(v.session.backend.glContext.version),c=p[0].dims.slice(),a=`\n      void main() {\n        vec4 result = ${p.map((d,h)=>`${f.texture2D}(X${h},TexCoords)`).join(" + ")};\n        ${f.output} = result;\n      }\n    `;return Object.assign(Object.assign({},m),{output:{dims:c,type:p[0].type,textureType:w.TextureType.unpacked},hasMain:!0,shaderSource:a})},b=v=>{if(!v||0===v.length)throw new Error("Sum requires inputs.");const p=v[0].dims.length;for(let m=1;m<v.length;m++){if(p!==v[m].dims.length)throw new Error("Input shapes are mismatched.");for(let f=0;f<p;f++)if(v[0].dims[f]!==v[m].dims[f])throw new Error("Input shapes are not matched.")}if("float32"!==v[0].type&&"float64"!==v[0].type)throw new Error("Invalid input type.");for(let m=1;m<v.length;m++)if(v[0].type!==v[m].type)throw new Error("Input types are not matched.")}},5944:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.tile=void 0;const S=g(6145),w=g(5639);u.tile=(v,p)=>{b(p);const m={name:"Tile",inputNames:["A"],inputTypes:[w.TextureType.unpacked]};return[v.run(Object.assign(Object.assign({},m),{get:()=>C(v,p,m)}),p)]};const C=(v,p,m)=>{const f=p[0].dims.slice(),c=new Array(f.length),a=[];for(let _=0;_<f.length;_++)c[_]=f[_]*p[1].numberData[_],a.push(`inputIdx[${_}] = int(mod(float(outputIdx[${_}]), ${f[_]}.));`);const d=c.length,h=`\n      float process(int outputIdx[${d}]) {\n        int inputIdx[${d}];\n        ${a.join("\n")}\n        return _A(inputIdx);\n      }\n    `;return Object.assign(Object.assign({},m),{output:{dims:c,type:p[0].type,textureType:w.TextureType.unpacked},shaderSource:h})},b=v=>{if(!v||2!==v.length)throw new Error("Tile requires 2 input.");if(1!==v[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(v[1].dims[0]!==v[0].dims.length)throw new Error("Invalid input shape.");if(-1===S.NUMBER_TYPES.indexOf(v[0].type))throw new Error("Invalid input type.");if("int32"!==v[1].type&&"int16"!==v[1].type)throw new Error("Invalid repeat type.")}},5707:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseTransposeAttributes=u.transpose=void 0;const S=g(4910),w=g(7273),C=g(5639),b={name:"Transpose",inputNames:["A"],inputTypes:[C.TextureType.unpacked]};u.transpose=(a,d,h)=>(c(d),[a.run(Object.assign(Object.assign({},b),{cacheHint:h.cacheKey,get:()=>v(a,d[0],h.perm)}),d)]),u.parseTransposeAttributes=a=>(0,S.createAttributeWithCacheKey)({perm:a.attributes.getInts("perm",[])});const v=(a,d,h)=>{const _=d.dims;h=p(_,h);const x=m(_,h),D=_.length,I=`\n      ${f("perm",h,D)}\n      float process(int indices[${D}]) {\n        int a[${D}];\n        perm(a, indices);\n        return _A(a);\n      }`;return Object.assign(Object.assign({},b),{output:{dims:x,type:d.type,textureType:C.TextureType.unpacked},shaderSource:I})},p=(a,d)=>(d&&d.length!==a.length&&(d=[...a.keys()].reverse()),d),m=(a,d)=>(d=p(a,d),w.ShapeUtil.sortBasedOnPerm(a,d)),f=(a,d,h)=>{const _=[];_.push(`void ${a}(out int a[${h}], int src[${h}]) {`);for(let x=0;x<h;++x)_.push(`\ta[${d[x]}]=src[${x}];`);return _.push("\t}"),_.join("\n")},c=a=>{if(!a||1!==a.length)throw new Error("Transpose requires 1 input.");if("float32"!==a[0].type&&"float64"!==a[0].type)throw new Error("input should be float tensor")}},2488:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.encodeAsUint8=void 0;const S=g(6757),w=g(5639);u.encodeAsUint8=(C,b)=>{const v=b.shape,p=(0,S.getGlsl)(C.session.backend.glContext.version);return C.executeProgram({name:"Uint8Encode",inputTypes:[w.TextureType.unpacked],inputNames:["X"],output:{dims:v,type:b.tensor.type,textureType:w.TextureType.downloadUint8AsFloat},shaderSource:`\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ${p.texture2D}(X,TexCoords).r;\n      ${p.output} = encodeAsUint8(value);\n    }`,hasMain:!0},[b.tensor])}},9087:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.tanh=u.tan=u.sqrt=u.sin=u.sigmoid=u.relu=u.not=u.neg=u.log=u.parseLeakyReluAttributes=u.leakyRelu=u.identity=u.floor=u.exp=u.parseEluAttributes=u.elu=u.cos=u.ceil=u.clipV11=u.parseClipAttributes=u.clip=u.atan=u.asin=u.acos=u.abs=u.glslTanh=u.glslTan=u.glslSqrt=u.glslSigmoid=u.glslRelu=u.glslSin=u.glslNot=u.glslNeg=u.glslLog=u.glslLeakyRelu=u.glslIdentity=u.glslClip=u.glslFloor=u.glslExp=u.glslElu=u.glslCos=u.glslCeil=u.glslAtan=u.glslAsin=u.glslAcos=u.glslAbs=void 0;const S=g(4910),w=g(7273),C=g(1997),b=g(6757),v=g(5639);function p(){return de("abs")}function m(){return de("acos")}function f(){return de("asin")}function c(){return de("atan")}function a(){return de("ceil")}function d(){return de("cos")}function h(ie){const ue="elu";return{body:`\n  const float alpha = float(${ie});\n\n  float ${ue}_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 ${ue}_(vec4 v) {\n    return vec4(${ue}_(v.x), ${ue}_(v.y), ${ue}_(v.z), ${ue}_(v.w));\n  }\n  `,name:ue,type:C.FunctionType.ValueBased}}function _(){return de("exp")}function x(){return de("floor")}function D(ie,ue){const Fe="clip";return{body:`\n  const float min = float(${ie});\n  const float max = float(${ue});\n\n  float ${Fe}_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 ${Fe}_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  `,name:Fe,type:C.FunctionType.ValueBased}}function I(){const ie="indentity";return{body:`\n  float ${ie}_(float a) {\n    return a;\n  }\n  vec4 ${ie}_(vec4 v) {\n    return v;\n  }\n  `,name:ie,type:C.FunctionType.ValueBased}}function A(ie){const ue="leakyRelu";return{body:`\n  const float alpha = float(${ie});\n\n  float ${ue}_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ${ue}_(vec4 v) {\n    return vec4(${ue}_(v.x), ${ue}_(v.y), ${ue}_(v.z), ${ue}_(v.w));\n  }\n  `,name:ue,type:C.FunctionType.ValueBased}}function R(){return de("log")}function P(){return{body:"\n  float neg_(float a) {\n    return -a;\n  }\n  vec4 neg_(vec4 v) {\n    return -v;\n  }\n  ",name:"neg",type:C.FunctionType.ValueBased}}function k(){const ie="not";return{body:`\n  float ${ie}_(float a) {\n    return float( ! bool(a) );\n  }\n  bool ${ie}_(bool a) {\n    return !a;\n  }\n  vec4 ${ie}_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 ${ie}_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  `,name:ie,type:C.FunctionType.ValueBased}}function B(){return de("sin")}function V(){const ie="relu";return{body:`\n  float ${ie}_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 ${ie}_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  `,name:ie,type:C.FunctionType.ValueBased}}function j(){const ie="sigmoid";return{body:`\n  float ${ie}_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 ${ie}_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  `,name:ie,type:C.FunctionType.ValueBased}}function X(){return de("sqrt")}function Q(){return de("tan")}function Z(){const ie="tanh";return{body:`\n  float ${ie}_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 ${ie}_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  `,name:ie,type:C.FunctionType.ValueBased}}function de(ie){return{body:`\n  float ${ie}_(float a) {\n    return ${ie}(a);\n  }\n  vec4 ${ie}_(vec4 v) {\n    return ${ie}(v);\n  }\n  `,name:ie,type:C.FunctionType.ValueBased}}u.glslAbs=p,u.glslAcos=m,u.glslAsin=f,u.glslAtan=c,u.glslCeil=a,u.glslCos=d,u.glslElu=h,u.glslExp=_,u.glslFloor=x,u.glslClip=D,u.glslIdentity=I,u.glslLeakyRelu=A,u.glslLog=R,u.glslNeg=P,u.glslNot=k,u.glslSin=B,u.glslRelu=V,u.glslSigmoid=j,u.glslSqrt=X,u.glslTan=Q,u.glslTanh=Z;const he=(ie,ue,Fe,Ye)=>{const et={name:Fe.name,inputTypes:[ie.session.pack?v.TextureType.packed:v.TextureType.unpacked],inputNames:["A"],cacheHint:Ye};return Object.assign(Object.assign({},et),{get:()=>((ft,Rt,pt,Ht)=>{const Oe=ft.session.pack?v.TextureType.packed:v.TextureType.unpacked,ge=(0,b.getGlsl)(ft.session.backend.glContext.version);return Object.assign(Object.assign({},Rt),{output:{dims:pt.dims,type:pt.type,textureType:Oe},shaderSource:`\n     ${Ht.body}\n     void main() {\n       vec4 v = ${ge.texture2D}(A, TexCoords);\n       v = ${Ht.name}_(v);\n       ${ge.output} = v;\n     }\n     `,hasMain:!0})})(ie,et,ue,Fe)})};u.abs=(ie,ue)=>[ie.run(he(ie,ue[0],p()),ue)],u.acos=(ie,ue)=>[ie.run(he(ie,ue[0],m()),ue)],u.asin=(ie,ue)=>[ie.run(he(ie,ue[0],f()),ue)],u.atan=(ie,ue)=>[ie.run(he(ie,ue[0],c()),ue)],u.clip=(ie,ue,Fe)=>[ie.run(he(ie,ue[0],D(Fe.min,Fe.max),Fe.cacheKey),ue)],u.parseClipAttributes=ie=>(0,S.createAttributeWithCacheKey)({min:ie.attributes.getFloat("min",w.MIN_CLIP),max:ie.attributes.getFloat("max",w.MAX_CLIP)}),u.clipV11=(ie,ue)=>{const Fe=Pe(ie,ue);return(0,u.clip)(ie,[ue[0]],Fe)};const Pe=(ie,ue)=>{if(ue.length>=3&&(!ie.session.isInitializer(ue[1].dataId)||!ie.session.isInitializer(ue[2].dataId)))throw new Error("dynamic clip attributes are not allowed");return(0,S.createAttributeWithCacheKey)({min:ue.length>=3?ue[1].numberData[0]:w.MIN_CLIP,max:ue.length>=3?ue[2].numberData[0]:w.MAX_CLIP})};u.ceil=(ie,ue)=>[ie.run(he(ie,ue[0],a()),ue)],u.cos=(ie,ue)=>[ie.run(he(ie,ue[0],d()),ue)],u.elu=(ie,ue,Fe)=>[ie.run(he(ie,ue[0],h(Fe.alpha),Fe.cacheKey),ue)],u.parseEluAttributes=ie=>(0,S.createAttributeWithCacheKey)({alpha:ie.attributes.getFloat("alpha",1)}),u.exp=(ie,ue)=>[ie.run(he(ie,ue[0],_()),ue)],u.floor=(ie,ue)=>[ie.run(he(ie,ue[0],x()),ue)],u.identity=(ie,ue)=>[ie.run(he(ie,ue[0],I()),ue)],u.leakyRelu=(ie,ue,Fe)=>[ie.run(he(ie,ue[0],A(Fe.alpha),Fe.cacheKey),ue)],u.parseLeakyReluAttributes=ie=>(0,S.createAttributeWithCacheKey)({alpha:ie.attributes.getFloat("alpha",.01)}),u.log=(ie,ue)=>[ie.run(he(ie,ue[0],R()),ue)],u.neg=(ie,ue)=>[ie.run(he(ie,ue[0],P()),ue)],u.not=(ie,ue)=>[ie.run(he(ie,ue[0],k()),ue)],u.relu=(ie,ue)=>[ie.run(he(ie,ue[0],V()),ue)],u.sigmoid=(ie,ue)=>[ie.run(he(ie,ue[0],j()),ue)],u.sin=(ie,ue)=>[ie.run(he(ie,ue[0],B()),ue)],u.sqrt=(ie,ue)=>[ie.run(he(ie,ue[0],X()),ue)],u.tan=(ie,ue)=>[ie.run(he(ie,ue[0],Q()),ue)],u.tanh=(ie,ue)=>[ie.run(he(ie,ue[0],Z()),ue)]},540:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createUnpackProgramInfoLoader=u.createUnpackProgramInfo=void 0;const S=g(6757),w=g(5639),C=g(432),b=g(5614),v={name:"unpack",inputNames:["A"],inputTypes:[w.TextureType.packed]};u.createUnpackProgramInfo=(p,m)=>{const f=m.dims.length,c=(0,b.getChannels)("rc",f),a=c.slice(-2),d=(0,C.getCoordsDataType)(f),h=(0,b.unpackFromChannel)(),_=0===m.dims.length?"":function(I,A){if(1===I)return"rc";let R="";for(let P=0;P<I;P++)R+=A[P],P<I-1&&(R+=",");return R}(f,c),x=f<=1?"rc":`vec2(${a.join(",")})`,D=`\n    ${h}\n    void main() {\n      ${d} rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(${_});\n\n       ${(0,S.getGlsl)(p.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${x}), 0, 0, 0);\n     }\n   `;return Object.assign(Object.assign({},v),{hasMain:!0,output:{dims:m.dims,type:m.type,textureType:w.TextureType.unpacked},shaderSource:D})},u.createUnpackProgramInfoLoader=(p,m)=>Object.assign(Object.assign({},v),{get:()=>(0,u.createUnpackProgramInfo)(p,m)})},7862:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseUnsqueezeAttributes=u.unsqueezeV13=u.unsqueeze=void 0;const S=g(7273);u.unsqueeze=(b,v,p)=>{w(v);const m=S.ShapeUtil.unsqueezeShape(v[0].dims,p);return[b.reshapeUnpacked(v[0],m)]},u.unsqueezeV13=(b,v)=>(C(v),(0,u.unsqueeze)(b,[v[0]],Array.from(v[1].integerData))),u.parseUnsqueezeAttributes=b=>b.attributes.getInts("axes");const w=b=>{if(!b||1!==b.length)throw new Error("Unsqueeze requires 1 input.");if("string"===b[0].type)throw new Error("invalid input tensor types.")},C=b=>{if(!b||2!==b.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==b[1].type)throw new Error("Invalid input type.")}},3980:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scalesValidation=u.validateInputs=u.parseUpsampleAttributes=u.parseUpsampleAttributesV9=u.parseUpsampleAttributesV7=u.upsample=void 0;const S=g(4910),w=g(6757),C=g(5639),b={name:"Upsample",inputNames:["X"],inputTypes:[C.TextureType.unpacked]};u.upsample=(p,m,f)=>((0,u.validateInputs)(m,f),[p.run(Object.assign(Object.assign({},b),{cacheHint:f.cacheKey,get:()=>v(p,m,f)}),m)]),u.parseUpsampleAttributesV7=p=>(0,u.parseUpsampleAttributes)(p,7),u.parseUpsampleAttributesV9=p=>(0,u.parseUpsampleAttributes)(p,9),u.parseUpsampleAttributes=(p,m)=>{const f=m>=10,c=p.attributes.getString("mode","nearest");if("nearest"!==c&&"linear"!==c&&(m<11||"cubic"!==c))throw new Error(`unrecognized mode: ${c}`);let a=[];m<9&&(a=p.attributes.getFloats("scales"),(0,u.scalesValidation)(a,c,f));const d=p.attributes.getFloat("extrapolation_value",0),h=m>10?p.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(h))throw new Error(`coordinate_transform_mode '${h}' is not supported`);const _="tf_crop_and_resize"===h,x=_,D="nearest"===c&&m>=11?p.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(D))throw new Error(`nearest_mode '${D}' is not supported`);const I=p.attributes.getFloat("cubic_coeff_a",-.75),A=0!==p.attributes.getInt("exclude_outside",0);if(A&&"cubic"!==c)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");let P=0,k=0,B=0;return m>10?p.inputs.length>2?(P=1,k=2,B=3):(k=1,B=2):9===m&&(k=1),(0,S.createAttributeWithCacheKey)({opset:m,isResize:f,mode:c,scales:a,extrapolationValue:d,coordinateTransformMode:h,useExtrapolation:x,needRoiInput:_,nearestMode:D,cubicCoefficientA:I,excludeOutside:A,useNearest2xOptimization:m<11||"nearest"===c&&"asymmetric"===h&&"floor"===D,roiInputIdx:P,scalesInputIdx:k,sizesInputIdx:B})};const v=(p,m,f)=>{const c=(0,w.getGlsl)(p.session.backend.glContext.version),[a,d]=p.calculateTextureWidthAndHeight(m[0].dims,C.TextureType.unpacked),h=m[0].dims.map((B,V)=>Math.floor(B*f.scales[V])),[_,x]=p.calculateTextureWidthAndHeight(h,C.TextureType.unpacked),D=h.length,I=new Array(D),A=new Array(D);let R=`\n      int output_pitches[${D}];\n      int input_pitches[${D}];\n      `;for(let B=D-1;B>=0;B--)I[B]=B===D-1?1:I[B+1]*h[B+1],A[B]=B===D-1?1:A[B+1]*m[0].dims[B+1],R+=`\n        output_pitches[${B}] = ${I[B]};\n        input_pitches[${B}] = ${A[B]};\n        `;const P=`\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ${a}, ${d});\n        float value = getColorAsFloat(${c.texture2D}(X, coords));\n        return value;\n      }\n      `,k="nearest"===f.mode?`\n    ${P}\n    float process(int indices[${D}]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${_}, ${x});\n\n      ${R}\n\n      int d, m;\n      for (int dim = 0; dim < ${D}; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }`:4===D?`\n    ${P}\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${_}, ${x});\n\n      ${R}\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (${m[0].dims[2]} - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }`:`\n    ${P}\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${_}, ${x});\n\n      ${R}\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (${m[0].dims[0]} - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }`;return Object.assign(Object.assign({},b),{output:{dims:h,type:m[0].type,textureType:C.TextureType.unpacked},shaderSource:k,variables:[{name:"scales",type:"int",arrayLength:f.scales.length,data:f.scales.map(B=>Math.ceil(B))}]})};u.validateInputs=(p,m)=>{if(!p||m.opset<9&&1!==p.length||m.opset>=9&&m.opset<11&&2!==p.length||m.opset>=11&&p.length<2)throw new Error("invalid inputs.");if(m.scales.length>0&&p[0].dims.length!==m.scales.length)throw new Error("Invalid input shape.");if("string"===p[0].type)throw new Error("Invalid input tensor types.")},u.scalesValidation=(p,m,f)=>{if(f){for(const c of p)if(c<=0)throw new Error("Scale value should be greater than 0.")}else for(const c of p)if(c<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==m&&"cubic"!==m||2===p.length||4===p.length&&1===p[0]&&1===p[1]))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${f?"Resize":"Upsample"} opeartor.`)}},2757:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ProgramManager=void 0;const S=g(8453),w=g(1315),C=g(8897),b=g(6757);u.ProgramManager=class{constructor(v,p,m){this.profiler=v,this.glContext=p,this.textureLayoutStrategy=m,this.repo=new Map,this.attributesBound=!1}getArtifact(v){return this.repo.get(v)}setArtifact(v,p){this.repo.set(v,p)}run(v,p,m){var f;this.profiler.event("op",`ProgramManager.run ${null!==(f=v.programInfo.name)&&void 0!==f?f:"unknown kernel"}`,()=>{var c;this.glContext.gl.useProgram(v.program);try{this.bindOutput(m),this.attributesBound||this.bindAttributes(v.attribLocations),this.bindUniforms(v.uniformLocations,null!==(c=v.programInfo.variables)&&void 0!==c?c:[],p)}catch(h){throw w.Logger.error("ProgramManager",v.programInfo.shaderSource),h}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(v=>this.glContext.deleteProgram(v.program))}build(v,p,m){return this.profiler.event("backend","ProgramManager.build",()=>{const f=new C.GlslPreprocessor(this.glContext,v,p,m),c=f.preprocess(),a=this.compile(c);return{programInfo:v,program:a,uniformLocations:this.getUniformLocations(a,f.context.programInfo.inputNames,f.context.programInfo.variables),attribLocations:this.getAttribLocations(a)}})}compile(v){if(!this.vertexShader){w.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const f=(0,b.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(f,this.glContext.gl.VERTEX_SHADER)}S.env.debug&&w.Logger.verbose("ProrgramManager",`FragShader:\n${v}\n`);const p=this.glContext.compileShader(v,this.glContext.gl.FRAGMENT_SHADER),m=this.glContext.createProgram(this.vertexShader,p);return this.glContext.deleteShader(p),m}bindOutput(v){const p=v.width,m=v.height;w.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${p}/${m}, shape=${v.shape}, type=${v.tensor.type}`),this.glContext.attachFramebuffer(v.texture,p,m)}bindAttributes(v){this.glContext.setVertexAttributes(v.position,v.textureCoord),this.attributesBound=!0}bindUniforms(v,p,m){var f;const c=this.glContext.gl;let a=0;for(const{name:d,type:h,location:_,arrayLength:x}of v){const D=null===(f=p.find(I=>I.name===d))||void 0===f?void 0:f.data;if("sampler2D"!==h&&!D)throw new Error(`variable '${d}' does not have data defined in program info`);switch(h){case"sampler2D":this.bindTexture(m[a],_,a),a++;break;case"float":x?c.uniform1fv(_,D):c.uniform1f(_,D);break;case"int":x?c.uniform1iv(_,D):c.uniform1i(_,D);break;default:throw new Error(`Uniform not implemented: ${h}`)}}}bindTexture(v,p,m){this.glContext.bindTextureToUniform(v.texture,m,p)}getAttribLocations(v){return{position:this.getAttribLocation(v,"position"),textureCoord:this.getAttribLocation(v,"textureCoord")}}getUniformLocations(v,p,m){const f=[];if(p)for(const c of p)f.push({name:c,type:"sampler2D",location:this.getUniformLocation(v,c)});if(m)for(const c of m)f.push(Object.assign(Object.assign({},c),{location:this.getUniformLocation(v,c.name)}));return f}getUniformLocation(v,p){const m=this.glContext.gl.getUniformLocation(v,p);if(null===m)throw new Error(`Uniform ${p} not found.`);return m}getAttribLocation(v,p){return this.glContext.gl.getAttribLocation(v,p)}}},2171:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.WebGLSessionHandler=void 0;const S=g(1315),w=g(5881),C=g(7860),b=g(4110),v=g(2757),p=g(7618),m=g(5243);u.WebGLSessionHandler=class{constructor(f,c){this.backend=f,this.context=c,this.layoutStrategy=new p.PreferLogicalStrategy(f.glContext.maxTextureSize),this.programManager=new v.ProgramManager(this.context.profiler,f.glContext,this.layoutStrategy),this.textureManager=new m.TextureManager(f.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===f.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=f.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new C.WebGLInferenceHandler(this)}onGraphInitialized(f){const c=f.getValues().filter(a=>-1===a.from&&a.tensor).map(a=>a.tensor.dataId);this.initializers=new Set(c)}isInitializer(f){return!!this.initializers&&this.initializers.has(f)}addInitializer(f){this.initializers.add(f)}getTextureData(f,c){return c?this.packedTextureDataCache.get(f):this.unpackedTextureDataCache.get(f)}setTextureData(f,c,a=!1){S.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),a?this.packedTextureDataCache.set(f,c):this.unpackedTextureDataCache.set(f,c)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(f=>this.textureManager.releaseTexture(f,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(f=>this.textureManager.releaseTexture(f,!0)),this.unpackedTextureDataCache=new Map}resolve(f,c,a){const d=(0,w.resolveOperator)(f,c,b.WEBGL_OP_RESOLVE_RULES);return{impl:d.opImpl,context:d.opInit?d.opInit(f,a):f}}}},9622:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Uint8DataEncoder=u.RGBAFloatDataEncoder=u.RedFloat32DataEncoder=void 0;const S=g(1315);u.RedFloat32DataEncoder=class{constructor(w,C=1){if(1===C)this.internalFormat=w.R32F,this.format=w.RED,this.textureType=w.FLOAT,this.channelSize=C;else{if(4!==C)throw new Error(`Invalid number of channels: ${C}`);this.internalFormat=w.RGBA32F,this.format=w.RGBA,this.textureType=w.FLOAT,this.channelSize=C}}encode(w,C){let b,v;return w.constructor!==Float32Array&&(S.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),v=new Float32Array(w)),C*this.channelSize>w.length?(S.Logger.warning("Encoder","Source data too small. Allocating larger array"),v=w,b=this.allocate(C*this.channelSize),v.forEach((p,m)=>b[m]=p)):(v=w,b=v),b}allocate(w){return new Float32Array(4*w)}decode(w,C){return 1===this.channelSize?w.filter((b,v)=>v%4==0).subarray(0,C):w.subarray(0,C)}},u.RGBAFloatDataEncoder=class{constructor(w,C=1,b){if(1!==C&&4!==C)throw new Error(`Invalid number of channels: ${C}`);this.internalFormat=w.RGBA,this.format=w.RGBA,this.channelSize=C,this.textureType=b||w.FLOAT}encode(w,C){let b=w;return 1===this.channelSize&&(S.Logger.verbose("Encoder","Exploding into a larger array"),b=this.allocate(C),w.forEach((v,p)=>b[4*p]=v)),b}allocate(w){return new Float32Array(4*w)}decode(w,C){return 1===this.channelSize?w.filter((b,v)=>v%4==0).subarray(0,C):w.subarray(0,C)}},u.Uint8DataEncoder=class{constructor(w,C=1){if(this.channelSize=4,1===C)this.internalFormat=w.ALPHA,this.format=w.ALPHA,this.textureType=w.UNSIGNED_BYTE,this.channelSize=C;else{if(4!==C)throw new Error(`Invalid number of channels: ${C}`);this.internalFormat=w.RGBA,this.format=w.RGBA,this.textureType=w.UNSIGNED_BYTE,this.channelSize=C}}encode(w,C){return new Uint8Array(w.buffer,w.byteOffset,w.byteLength)}allocate(w){return new Uint8Array(w*this.channelSize)}decode(w,C){if(w instanceof Uint8Array)return w.subarray(0,C);throw new Error(`Invalid array type: ${w.constructor}`)}}},7618:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.getBatchDim=u.sizeToSquarishShape=u.getRowsCols=u.sizeFromShape=u.isInt=u.parseAxisParam=u.squeezeShape=u.PreferLogicalStrategy=u.AlwaysKeepOriginalSizeStrategy=void 0;const S=g(1315),w=g(7273);function C(f,c){const a=[],d=[],h=null!=c&&Array.isArray(c)&&0===c.length,_=null==c||h?null:b(c,f).sort();let x=0;for(let D=0;D<f.length;++D){if(null!=_){if(_[x]===D&&1!==f[D])throw new Error(`Can't squeeze axis ${D} since its dim '${f[D]}' is not 1`);(null==_[x]||_[x]>D)&&1===f[D]&&(a.push(f[D]),d.push(D)),_[x]<=D&&x++}1!==f[D]&&(a.push(f[D]),d.push(D))}return{newShape:a,keptDims:d}}function b(f,c){const a=c.length;return f=null==f?c.map((d,h)=>h):[].concat(f),(0,w.assert)(f.every(d=>d>=-a&&d<a),()=>`All values in axis param must be in range [-${a}, ${a}) but got axis ${f}`),(0,w.assert)(f.every(v),()=>`All values in axis param must be integers but got axis ${f}`),f.map(d=>d<0?a+d:d)}function v(f){return f%1==0}function p(f){if(0===f.length)return 1;let c=f[0];for(let a=1;a<f.length;a++)c*=f[a];return c}function m(f){const c=Math.ceil(Math.sqrt(f));return[c,Math.ceil(f/c)]}u.AlwaysKeepOriginalSizeStrategy=class{constructor(f){this.maxTextureSize=f}computeTextureWH(f,c){if(0===f.length)return[1,1];const a=this.maxTextureSize;if(c&&void 0!==c.breakAxis){const _=c.breakAxis>=f.length?1:f.slice(c.breakAxis).reduce((D,I)=>D*I),x=c.breakAxis<=0?1:f.slice(0,c.breakAxis).reduce((D,I)=>D*I);if(!(_>a||x>a))return[_,x];S.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${f}, breakAxis:${c.breakAxis}`)}const d=f.reduce((_,x)=>_*x);let h=Math.floor(Math.sqrt(d));for(;h<a&&h<d&&d%h!=0;h++);if(h>=a||d%h!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${f}`);return[h,d/h]}},u.PreferLogicalStrategy=class{constructor(f){this.maxTextureSize=f}computeTextureWH(f,c){const a=this.computeTexture(f,c);return c&&c.isPacked&&(a[0]/=2,a[1]/=2),c&&c.reverseWH?[a[1],a[0]]:a}computeTexture(f,c){const a=c&&c.isPacked;if(0===f.length)return a?[2,2]:[1,1];let d=this.maxTextureSize;if(c&&void 0!==c.breakAxis){const x=c.breakAxis>=f.length?1:f.slice(c.breakAxis).reduce((I,A)=>I*A),D=c.breakAxis<=0?1:f.slice(0,c.breakAxis).reduce((I,A)=>I*A);if(!(x>d||D>d))return[x,D];S.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${f}, breakAxis:${c.breakAxis}`)}let h=f.slice(0);a&&(d*=2,h=h.map((x,D)=>D>=h.length-2?h[D]%2==0?h[D]:h[D]+1:h[D]),1===h.length&&(h=[2,h[0]])),2!==h.length&&(h=C(h).newShape);const _=p(h);return h.length<=1&&_<=d?[1,_]:2===h.length&&h[0]<=d&&h[1]<=d?h:3===h.length&&h[0]*h[1]<=d&&h[2]<=d?[h[0]*h[1],h[2]]:3===h.length&&h[0]<=d&&h[1]*h[2]<=d?[h[0],h[1]*h[2]]:4===h.length&&h[0]*h[1]*h[2]<=d&&h[3]<=d?[h[0]*h[1]*h[2],h[3]]:4===h.length&&h[0]<=d&&h[1]*h[2]*h[3]<=d?[h[0],h[1]*h[2]*h[3]]:a?m(_/4).map(x=>2*x):m(_)}},u.squeezeShape=C,u.parseAxisParam=b,u.isInt=v,u.sizeFromShape=p,u.getRowsCols=function(f){if(0===f.length)throw Error("Cannot get rows and columns of an empty shape array.");return[f.length>1?f[f.length-2]:1,f[f.length-1]]},u.sizeToSquarishShape=m,u.getBatchDim=function(f,c=2){return p(f.slice(0,f.length-c))}},3314:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createTextureLayoutFromShape=u.calculateTextureWidthAndHeight=u.createTextureLayoutFromTextureType=void 0;const S=g(7273),w=g(5639);u.createTextureLayoutFromTextureType=(C,b,v)=>{const p=v===w.TextureType.unpacked||v===w.TextureType.unpackedReversed?1:4,m=v===w.TextureType.packed,f=v===w.TextureType.unpackedReversed||v===w.TextureType.packed,c=v===w.TextureType.packedLastDimension?b.length-1:void 0,a=v===w.TextureType.packedLastDimension?b.map((d,h)=>h===b.length-1?4*d:d):void 0;return(0,u.createTextureLayoutFromShape)(C,b,p,a,{isPacked:m,reverseWH:f,breakAxis:c})},u.calculateTextureWidthAndHeight=(C,b,v)=>{const p=(0,u.createTextureLayoutFromTextureType)(C,b,v);return[p.width,p.height]},u.createTextureLayoutFromShape=(C,b,v=1,p,m)=>{const f=!(!m||!m.isPacked),[c,a]=C.computeTextureWH(f&&p||b,m),d=b.length;let h=b.slice(0);if(0===d&&(h=[1]),1===v)p=b;else if(f){if(4!==v)throw new Error("a packed texture must be 4-channel");p=b,d>0&&(h[d-1]=Math.ceil(h[d-1]/2)),d>1&&(h[d-2]=Math.ceil(h[d-2]/2))}else if(!p)throw new Error("Unpacked shape is needed when using channels > 1");return{width:c,height:a,channels:v,isPacked:f,shape:h,strides:S.ShapeUtil.computeStrides(h),unpackedShape:p,reversedWH:m&&m.reverseWH}}},5243:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TextureManager=void 0;const S=g(1315);u.TextureManager=class{constructor(w,C,b,v){this.glContext=w,this.layoutStrategy=C,this.profiler=b,this.config=v,this.pendingRead=new Map,v.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(w,C,b,v){const p=this.toEncoderType(w),m=this.glContext.getEncoder(p,C.channels||1,v);if(C.isPacked&&1===v)throw new Error("not implemented");const f=C.width,c=C.height;let a,d;if(this.config.reuseTextures){a=`${f}x${c}_${m.format}_${m.internalFormat}_${m.textureType}`,d=this.inUseTextures.get(a),d||(d=[],this.inUseTextures.set(a,d));const _=this.idleTextures.get(a);if(_&&_.length>0){const x=_.pop();return d.push(x),1===v&&this.glContext.updateTexture(x,f,c,m,this.toTextureData(w,b)),x}}S.Logger.verbose("TextureManager",`Creating new texture of size ${C.width}x${C.height}`);const h=this.glContext.allocateTexture(f,c,m,this.toTextureData(w,b));return this.config.reuseTextures&&(d.push(h),this.textureLookup.set(h,a)),h}readTexture(w,C,b){return b||(b=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const v=w.shape.reduce((m,f)=>m*f)*b,p=this.glContext.readTexture(w.texture,w.width,w.height,v,this.toEncoderType(C),b);return this.toTensorData(C,p)})}readTextureAsync(w,C,b){var v=this;return _asyncToGenerator(function*(){const p=w.tensor.dataId;if(b||(b=1),v.pendingRead.has(p)){const m=v.pendingRead.get(p);return new Promise(f=>m?.push(f))}return v.profiler.event("backend","TextureManager.readTextureAsync",_asyncToGenerator(function*(){v.pendingRead.set(p,[]);const m=w.shape.reduce((d,h)=>d*h)*b;yield v.glContext.createAndWaitForFence();const f=v.glContext.readTexture(w.texture,w.width,w.height,m,v.toEncoderType(C),b),c=v.toTensorData(C,f),a=v.pendingRead.get(p);return v.pendingRead.delete(p),a?.forEach(d=>d(c)),c}))})()}readUint8TextureAsFloat(w){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const C=w.shape.reduce((v,p)=>v*p),b=this.glContext.readTexture(w.texture,w.width,w.height,4*C,"byte",4);return new Float32Array(b.buffer,b.byteOffset,C)})}releaseTexture(w,C){let b;if(this.config.reuseTextures&&(b=this.textureLookup.get(w.texture),b)){C&&this.textureLookup.delete(b);const v=this.inUseTextures.get(b);if(v){const p=v.indexOf(w.texture);if(-1!==p){v.splice(p,1);let m=this.idleTextures.get(b);m||(m=[],this.idleTextures.set(b,m)),m.push(w.texture)}}}b&&!C||(S.Logger.verbose("TextureManager",`Deleting texture of size ${w.width}x${w.height}`),this.glContext.deleteTexture(w.texture))}toTensorData(w,C){switch(w){case"int16":return C instanceof Int16Array?C:Int16Array.from(C);case"int32":return C instanceof Int32Array?C:Int32Array.from(C);case"int8":return C instanceof Int8Array?C:Int8Array.from(C);case"uint16":return C instanceof Uint16Array?C:Uint16Array.from(C);case"uint32":return C instanceof Uint32Array?C:Uint32Array.from(C);case"uint8":case"bool":return C instanceof Uint8Array?C:Uint8Array.from(C);case"float32":return C instanceof Float32Array?C:Float32Array.from(C);case"float64":return C instanceof Float64Array?C:Float64Array.from(C);default:throw new Error(`TensorData type ${w} is not supported`)}}toTextureData(w,C){if(C)return C instanceof Float32Array?C:new Float32Array(C)}toEncoderType(w){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(z,u)=>{"use strict";var g;Object.defineProperty(u,"__esModule",{value:!0}),u.TextureType=void 0,(g=u.TextureType||(u.TextureType={}))[g.unpacked=0]="unpacked",g[g.unpackedReversed=1]="unpackedReversed",g[g.packed=2]="packed",g[g.downloadUint8AsFloat=3]="downloadUint8AsFloat",g[g.packedLastDimension=4]="packedLastDimension"},432:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.getGlChannels=u.getCoordsDataType=u.getSqueezedParams=u.squeezeInputShape=u.generateShaderFuncNameFromInputSamplerNameAtOutCoords=u.generateShaderFuncNameFromInputSamplerName=u.repeatedTry=u.getPackedShape=void 0;const S=g(7273);u.getPackedShape=function(w){const C=w.length;return w.slice(0,C-1).concat(w[C-1]/4)},u.repeatedTry=function(){var w=_asyncToGenerator(function*(C,b=(p=>0),v){return new Promise((p,m)=>{let f=0;const c=()=>{if(C())return void p();f++;const a=b(f);null!=v&&f>=v?m():setTimeout(c,a)};c()})});return function(C){return w.apply(this,arguments)}}(),u.generateShaderFuncNameFromInputSamplerName=function(w){return(0,S.assert)(void 0!==w&&0!==w.length,()=>"empty string found for sampler name"),"get"+w.charAt(0).toUpperCase()+w.slice(1)},u.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(w){return(0,S.assert)(void 0!==w&&0!==w.length,()=>"empty string found for sampler name"),"get"+w.charAt(0).toUpperCase()+w.slice(1)+"AtOutCoords"},u.squeezeInputShape=function(w,C){let b=JSON.parse(JSON.stringify(w));return b=C,b},u.getSqueezedParams=function(w,C){return C.map(b=>w[b]).join(", ")},u.getCoordsDataType=function(w){if(w<=1)return"int";if(2===w)return"ivec2";if(3===w)return"ivec3";if(4===w)return"ivec4";if(5===w)return"ivec5";if(6===w)return"ivec6";throw Error(`GPU for rank ${w} is not yet supported`)},u.getGlChannels=function(w=6){return["x","y","z","w","u","v"].slice(0,w)}},3389:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createNewWebGLContext=u.createWebGLContext=void 0;const S=g(1315),w=g(3524),C={};function b(v){const p=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const c=document.createElement("canvas");return c.width=1,c.height=1,c}();let m;const f={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!v||"webgl2"===v)&&(m=p.getContext("webgl2",f),m))try{return new w.WebGLContext(m,2)}catch(c){S.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${c}`)}if((!v||"webgl"===v)&&(m=p.getContext("webgl",f)||p.getContext("experimental-webgl",f),m))try{return new w.WebGLContext(m,1)}catch(c){S.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${c}`)}throw new Error("WebGL is not supported")}u.createWebGLContext=function v(p){let m;p&&"webgl2"!==p||!("webgl2"in C)?p&&"webgl"!==p||!("webgl"in C)||(m=C.webgl):m=C.webgl2,m=m||b(p);const f=m.gl;return C[p=p||1===m.version?"webgl":"webgl2"]=m,f.isContextLost()?(delete C[p],v(p)):(f.disable(f.DEPTH_TEST),f.disable(f.STENCIL_TEST),f.disable(f.BLEND),f.disable(f.DITHER),f.disable(f.POLYGON_OFFSET_FILL),f.disable(f.SAMPLE_COVERAGE),f.enable(f.SCISSOR_TEST),f.enable(f.CULL_FACE),f.cullFace(f.BACK),m)},u.createNewWebGLContext=b},3524:function(z,u,g){"use strict";var S=this&&this.__createBinding||(Object.create?function(f,c,a,d){void 0===d&&(d=a);var h=Object.getOwnPropertyDescriptor(c,a);h&&!("get"in h?!c.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(f,d,h)}:function(f,c,a,d){void 0===d&&(d=a),f[d]=c[a]}),w=this&&this.__setModuleDefault||(Object.create?function(f,c){Object.defineProperty(f,"default",{enumerable:!0,value:c})}:function(f,c){f.default=c}),C=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var c={};if(null!=f)for(var a in f)"default"!==a&&Object.prototype.hasOwnProperty.call(f,a)&&S(c,f,a);return w(c,f),c};Object.defineProperty(u,"__esModule",{value:!0}),u.WebGLContext=u.linearSearchLastTrue=void 0;const b=g(8453),v=C(g(9622)),p=g(432);function m(f){let c=0;for(;c<f.length&&f[c]();++c);return c-1}u.linearSearchLastTrue=m,u.WebGLContext=class{constructor(f,c){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=f,this.version=c,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(f,c,a,d){const h=this.gl,_=h.createTexture();h.bindTexture(h.TEXTURE_2D,_),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);const x=d?a.encode(d,f*c):null;return h.texImage2D(h.TEXTURE_2D,0,a.internalFormat,f,c,0,a.format,a.textureType,x),this.checkError(),_}updateTexture(f,c,a,d,h){const _=this.gl;_.bindTexture(_.TEXTURE_2D,f);const x=d.encode(h,c*a);_.texSubImage2D(_.TEXTURE_2D,0,0,0,c,a,d.format,d.textureType,x),this.checkError()}attachFramebuffer(f,c,a){const d=this.gl;d.bindTexture(d.TEXTURE_2D,f),d.bindFramebuffer(d.FRAMEBUFFER,this.framebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,f,0),this.checkError(),d.viewport(0,0,c,a),d.scissor(0,0,c,a)}readTexture(f,c,a,d,h,_){const x=this.gl;_||(_=1),this.frameBufferBound||this.attachFramebuffer(f,c,a);const D=this.getEncoder(h,_),I=D.allocate(c*a);return x.bindTexture(x.TEXTURE_2D,f),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,f,0),x.readPixels(0,0,c,a,x.RGBA,D.textureType,I),this.checkError(),D.decode(I,d)}isFramebufferReady(){return!0}getActiveTexture(){const f=this.gl;return"TEXTURE"+(f.getParameter(this.gl.ACTIVE_TEXTURE)-f.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(f,c){const a=this.gl;a.vertexAttribPointer(f,3,a.FLOAT,!1,20,0),a.enableVertexAttribArray(f),-1!==c&&(a.vertexAttribPointer(c,2,a.FLOAT,!1,20,12),a.enableVertexAttribArray(c)),this.checkError()}createProgram(f,c){const a=this.gl,d=a.createProgram();return a.attachShader(d,f),a.attachShader(d,c),a.linkProgram(d),d}compileShader(f,c){const a=this.gl,d=a.createShader(c);if(!d)throw new Error(`createShader() returned null with type ${c}`);if(a.shaderSource(d,f),a.compileShader(d),!1===a.getShaderParameter(d,a.COMPILE_STATUS))throw new Error(`Failed to compile shader: ${a.getShaderInfoLog(d)}\nShader source:\n${f}`);return d}deleteShader(f){this.gl.deleteShader(f)}bindTextureToUniform(f,c,a){const d=this.gl;d.activeTexture(d.TEXTURE0+c),this.checkError(),d.bindTexture(d.TEXTURE_2D,f),this.checkError(),d.uniform1i(a,c),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(b.env.debug){const f=this.gl,c=f.getError();let a="";switch(c){case f.NO_ERROR:return;case f.INVALID_ENUM:a="INVALID_ENUM";break;case f.INVALID_VALUE:a="INVALID_VALUE";break;case f.INVALID_OPERATION:a="INVALID_OPERATION";break;case f.INVALID_FRAMEBUFFER_OPERATION:a="INVALID_FRAMEBUFFER_OPERATION";break;case f.OUT_OF_MEMORY:a="OUT_OF_MEMORY";break;case f.CONTEXT_LOST_WEBGL:a="CONTEXT_LOST_WEBGL";break;default:a=`Unknown WebGL Error: ${c.toString(16)}`}throw new Error(a)}}deleteTexture(f){this.gl.deleteTexture(f)}deleteProgram(f){this.gl.deleteProgram(f)}getEncoder(f,c,a=0){if(2===this.version)return new v.RedFloat32DataEncoder(this.gl,c);switch(f){case"float":return 1===a||this.isRenderFloat32Supported?new v.RGBAFloatDataEncoder(this.gl,c):new v.RGBAFloatDataEncoder(this.gl,c,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new v.Uint8DataEncoder(this.gl,c);default:throw new Error(`Invalid dataType: ${f}`)}}clearActiveTextures(){const f=this.gl;for(let c=0;c<this.maxTextureImageUnits;++c)f.activeTexture(f.TEXTURE0+c),f.bindTexture(f.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,null),f.deleteFramebuffer(this.framebuffer),f.bindBuffer(f.ARRAY_BUFFER,null),f.deleteBuffer(this.vertexbuffer),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null),f.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const f=this.gl,c=f.createBuffer();if(!c)throw new Error("createBuffer() returned null");const a=this.createDefaultGeometry();return f.bindBuffer(f.ARRAY_BUFFER,c),f.bufferData(f.ARRAY_BUFFER,a,f.STATIC_DRAW),this.checkError(),c}createFramebuffer(){const f=this.gl.createFramebuffer();if(!f)throw new Error("createFramebuffer returned null");return f}queryVitalParameters(){const f=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=f.getParameter(f.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=f.getParameter(f.MAX_TEXTURE_IMAGE_UNITS)}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const f=this.gl,c=f.createTexture();f.bindTexture(f.TEXTURE_2D,c),f.texImage2D(f.TEXTURE_2D,0,2===this.version?f.RGBA32F:f.RGBA,1,1,0,f.RGBA,f.FLOAT,null);const d=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,d),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,c,0);const h=f.checkFramebufferStatus(f.FRAMEBUFFER)===f.FRAMEBUFFER_COMPLETE;return f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,null),f.deleteTexture(c),f.deleteFramebuffer(d),h}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const f=this.gl;let c,a,d,h,_;try{return c=f.createTexture(),a=f.createFramebuffer(),f.bindTexture(f.TEXTURE_2D,c),f.texImage2D(f.TEXTURE_2D,0,2===this.version?f.RGBA32F:f.RGBA,1,1,0,f.RGBA,f.FLOAT,null),f.bindFramebuffer(f.FRAMEBUFFER,a),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,c,0),f.enable(f.BLEND),d=f.createShader(f.VERTEX_SHADER),!!d&&(f.shaderSource(d,"void main(){}"),f.compileShader(d),h=f.createShader(f.FRAGMENT_SHADER),!!h&&(f.shaderSource(h,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),f.compileShader(h),_=f.createProgram(),!!_&&(f.attachShader(_,d),f.attachShader(_,h),f.linkProgram(_),f.useProgram(_),f.drawArrays(f.POINTS,0,1),f.getError()===f.NO_ERROR)))}finally{f.disable(f.BLEND),_&&f.deleteProgram(_),d&&f.deleteShader(d),h&&f.deleteShader(h),a&&(f.bindFramebuffer(f.FRAMEBUFFER,null),f.deleteFramebuffer(a)),c&&(f.bindTexture(f.TEXTURE_2D,null),f.deleteTexture(c))}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){const f=this.gl,c=this.disjointTimerQueryWebgl2Extension,a=f.createQuery();return f.beginQuery(c.TIME_ELAPSED_EXT,a),a}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");this.gl.endQuery(this.disjointTimerQueryWebgl2Extension.TIME_ELAPSED_EXT)}isTimerResultAvailable(f){let c=!1,a=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const d=this.gl,h=this.disjointTimerQueryWebgl2Extension;c=d.getQueryParameter(f,d.QUERY_RESULT_AVAILABLE),a=d.getParameter(h.GPU_DISJOINT_EXT)}return c&&!a}getTimerResult(f){let c=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{const a=this.gl;c=a.getQueryParameter(f,a.QUERY_RESULT),a.deleteQuery(f)}return c/1e6}waitForQueryAndGetTime(f){var c=this;return _asyncToGenerator(function*(){return yield(0,p.repeatedTry)(()=>c.isTimerResultAvailable(f)),c.getTimerResult(f)})()}createAndWaitForFence(){var f=this;return _asyncToGenerator(function*(){const c=f.createFence(f.gl);return f.pollFence(c)})()}createFence(f){let c;const a=f,d=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);return f.flush(),c=null===d?()=>!0:()=>{const h=a.clientWaitSync(d,0,0);return h===a.ALREADY_SIGNALED||h===a.CONDITION_SATISFIED},{query:d,isFencePassed:c}}pollFence(f){var c=this;return _asyncToGenerator(function*(){return new Promise(a=>{c.addItemToPoll(()=>f.isFencePassed(),()=>a())})})()}pollItems(){const f=m(this.itemsToPoll.map(c=>c.isDoneFn));for(let c=0;c<=f;++c){const{resolveFn:a}=this.itemsToPoll[c];a()}this.itemsToPoll=this.itemsToPoll.slice(f+1)}addItemToPoll(f,c){var a=this;return _asyncToGenerator(function*(){a.itemsToPoll.push({isDoneFn:f,resolveFn:c}),a.itemsToPoll.length>1||(yield(0,p.repeatedTry)(()=>(a.pollItems(),0===a.itemsToPoll.length)))})()}}},6496:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ExecutionPlan=void 0;const S=g(1315);class w{constructor(b,v){this.op=b,this.node=v}}u.ExecutionPlan=class{constructor(C,b,v){this.graph=C,this.profiler=v,this.initialize(b)}initialize(C){this.profiler.event("session","ExecutionPlan.initialize",()=>{const b=this.graph.getNodes();if(b.length!==C.length)throw new Error("The size of nodes and OPs do not match.");this._ops=C.map((v,p)=>new w(v,b[p])),this.reset(),this._starter=[],this._ops.forEach((v,p)=>{let m=!0;for(const f of v.node.inputs)if(!this._values[f]&&-1===this.graph.getInputIndices().indexOf(f)){m=!1;break}m&&this._starter.push(p)})})}reset(){this._values=this.graph.getValues().map(C=>C.tensor)}execute(C,b){var v=this;return _asyncToGenerator(function*(){return v.profiler.event("session","ExecutionPlan.execute",_asyncToGenerator(function*(){v.reset();const p=C.createInferenceHandler(),m=v.graph.getInputIndices();if(b.length!==m.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${b.length} expected: ${m.length}`);b.forEach((_,x)=>{v._values[m[x]]=_});const f=v._starter.slice(0),c=v.graph.getValues(),a=v.graph.getNodes();let d=0;for(;d<f.length;){const _=f[d++],x=v._ops[_],D=x.node.inputs.map(P=>v._values[P]);if(-1!==D.indexOf(void 0))throw new Error(`unresolved input detected: op: ${x.node}`);const I=D;S.Logger.verbose("ExecPlan",`Runing op:${x.node.name} (${I.map((P,k)=>`'${x.node.inputs[k]}': ${P.type}[${P.dims.join(",")}]`).join(", ")})`);const A=yield v.profiler.event("node",x.node.name,_asyncToGenerator(function*(){return x.op.impl(p,I,x.op.context)}));if(A.length!==x.node.outputs.length)throw new Error("the size of output does not match model definition.");A.forEach((P,k)=>{const B=x.node.outputs[k];if(v._values[B])throw new Error(`output [${B}] already has value: op:${x.node.name}`);v._values[B]=P});const R=new Set;A.forEach((P,k)=>{const B=x.node.outputs[k];for(const V of c[B].to){const j=a[V];let X=!0;for(const Q of j.inputs)if(!v._values[Q]){X=!1;break}X&&R.add(V)}}),f.push(...R)}const h=[];for(let _=0;_<v.graph.getOutputIndices().length;_++){const x=v.graph.getOutputIndices()[_],D=v._values[x];if(void 0===D)throw new Error(`required output [${x}] does not have value`);0===x&&(yield D.getData()),h.push(D)}return S.Logger.verbose("ExecPlan","disposing of inferenceHandler"),p.dispose(),h}))})()}}},4662:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Graph=void 0;const S=g(1446),w=g(6874),C=g(1287),b=g(9240),v=g(7273);var p=C.onnxruntime.experimental.fbs;u.Graph={from:(a,d)=>new c(a,d)};class m{constructor(d){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,d&&(this.type=v.ProtoUtil.tensorValueTypeFromProto(d.type.tensorType))}get from(){return this._from}get to(){return this._to}}class f{constructor(d,h){d instanceof S.onnx.NodeProto?(this.name=d.name,this.opType=d.opType,this.attributes=new w.Attribute(d.attribute)):d instanceof p.Node&&(this.name=h??d.name(),this.opType=d.opType(),this.attributes=new w.Attribute(v.ProtoUtil.tensorAttributesFromORTFormat(d))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class c{constructor(d,h){if(!d)throw new TypeError("graph is empty");this.buildGraph(d),this.transformGraph(h),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(d){if(d instanceof S.onnx.GraphProto)this.buildGraphFromOnnxFormat(d);else{if(!(d instanceof p.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(d)}}buildGraphFromOnnxFormat(d){const h=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const _=new Map;if(!d.input)throw new Error("missing information in graph: input");const x=[];for(const D of d.input){if(h.has(D.name))throw new Error(`duplicated input name: ${D.name}`);const I=this._allData.push(new m(D))-1;h.set(D.name,I),x.push(D.name)}if(!d.initializer)throw new Error("missing information in graph: initializer");for(const D of d.initializer){let I=h.get(D.name);if(void 0===I){const A=new m;A.type={shape:{dims:v.ProtoUtil.tensorDimsFromProto(D.dims)},tensorType:v.ProtoUtil.tensorDataTypeFromProto(D.dataType)},I=this._allData.push(A)-1,h.set(D.name,I)}this._allData[I]._from=-1,this._allData[I].tensor=b.Tensor.fromProto(D)}for(let D=0;D<this._allData.length;D++)this._allData[D].tensor||(this._allInputIndices.push(D),this._allInputNames.push(x[D]));if(!d.output)throw new Error("missing information in graph: output");for(const D of d.output){if(h.has(D.name))throw new Error(`duplicated output name: ${D.name}`);const I=this._allData.push(new m(D))-1;h.set(D.name,I),this._allOutputIndices.push(I),this._allOutputNames.push(D.name)}if(!d.node)throw new Error("missing information in graph: node");for(const D of d.node){if(!D.name)for(let A=0;;A++){const R=`unnamed_${D.opType}_${A}`;if(!_.has(R)){D.name=R;break}}if(_.has(D.name))throw new Error(`duplicated node name: ${D.name}`);const I=this._nodes.push(new f(D))-1;_.set(D.name,I)}for(let D=0;D<this._nodes.length;D++){const I=this._nodes[D],A=d.node[D];if(!A.output)throw new Error(`missing output for node: ${A.name}`);for(const R of A.output){let P=h.get(R);if(void 0===P&&(P=this._allData.push(new m)-1,h.set(R,P)),I.outputs.push(P),void 0!==this._allData[P]._from)throw new Error(`multiple nodes output to one data value: ${P}`);if(this._allData[P]._from=D,"Constant"===A.opType){if(!A.attribute||1!==A.attribute.length||!A.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!A.output||1!==A.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");I.outputs.pop(),I.executeNode=!1,this._allData[P]._from=-1,this._allData[P].tensor=b.Tensor.fromProto(A.attribute[0].t)}}}for(let D=0;D<this._nodes.length;D++){const I=this._nodes[D],A=d.node[D];if(!A.input)throw new Error(`missing input for node: ${A.name}`);for(const R of A.input){const P=h.get(R);if(void 0===P){if(""===R&&3===A.input.length&&"Resize"===A.opType)continue;throw new Error(`unrecognized input '${R}' for node: ${A.name}`)}I.inputs.push(P),this._allData[P]._to.push(D)}}return!0}buildGraphFromOrtFormat(d){var h,_,x;const D=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const I=new Map,A=[];for(let R=0;R<d.inputsLength();R++){const P=d.inputs(R);if(D.has(P))throw new Error(`duplicated input name: ${P}`);for(let k=0;k<d.nodeArgsLength();k++)if((null===(h=d.nodeArgs(k))||void 0===h?void 0:h.name())===P){const B=new m;if((null===(x=null===(_=d.nodeArgs(k))||void 0===_?void 0:_.type())||void 0===x?void 0:x.valueType())!==p.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const V=d.nodeArgs(k).type().value(new p.TensorTypeAndShape),j=v.ProtoUtil.tensorDataTypeFromProto(V.elemType()),X=V.shape(),Q=[];for(let de=0;de<X.dimLength();de++)Q.push(v.LongUtil.longToNumber(X.dim(de).value().dimValue()));B.type={shape:{dims:Q},tensorType:j};const Z=this._allData.push(B)-1;D.set(P,Z),A.push(P)}}for(let R=0;R<d.initializersLength();R++){const P=d.initializers(R);let k=D.get(P.name());if(void 0===k){const B=new m,V=v.ProtoUtil.tensorDimsFromORTFormat(P),j=v.ProtoUtil.tensorDataTypeFromProto(P.dataType());B.type={shape:{dims:V},tensorType:j},k=this._allData.push(B)-1,D.set(P.name(),k)}this._allData[k]._from=-1,this._allData[k].tensor=b.Tensor.fromOrtTensor(P)}for(let R=0;R<this._allData.length;R++)this._allData[R].tensor||(this._allInputIndices.push(R),this._allInputNames.push(A[R]));for(let R=0;R<d.outputsLength();R++){const P=d.outputs(R);if(D.has(P))throw new Error(`duplicated output name: ${P}`);const k=this._allData.push(new m)-1;D.set(P,k),this._allOutputIndices.push(k),this._allOutputNames.push(P)}if(!d.nodes)throw new Error("missing information in graph: node");for(let R=0;R<d.nodesLength();R++){const P=d.nodes(R);let k=P.name();if(!k)for(let V=0;k=`unnamed_${P.opType()}_${V}`,I.has(k);V++);if(I.has(k))throw new Error(`duplicated node name: ${k}`);const B=this._nodes.push(new f(P,k))-1;I.set(k,B)}for(let R=0;R<this._nodes.length;R++){const P=this._nodes[R],k=d.nodes(R);if(null==k)throw new Error(`No node exists at index ${R}`);if(0===k?.outputsLength())throw new Error(`missing output for node: ${k.name}`);for(let B=0;B<k?.outputsLength();B++){const V=k?.outputs(B);let j=D.get(V);if(void 0===j&&(j=this._allData.push(new m)-1,D.set(V,j)),P.outputs.push(j),void 0!==this._allData[j]._from)throw new Error(`multiple nodes output to one data value: ${j}`);if(this._allData[j]._from=R,"Constant"===k.opType()){if(1!==k.attributesLength()||!k.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==k.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");P.outputs.pop(),P.executeNode=!1,this._allData[j]._from=-1,this._allData[j].tensor=b.Tensor.fromOrtTensor(k.attributes(0).t())}}}for(let R=0;R<this._nodes.length;R++){const P=this._nodes[R],k=d.nodes(R);if(0===k.inputsLength())throw new Error(`missing input for node: ${k.name}`);for(let B=0;B<k.inputsLength();B++){const V=k.inputs(B),j=D.get(V);if(void 0===j)throw new Error(`unrecognized input '${V}' for node: ${k.name()}`);P.inputs.push(j),this._allData[j]._to.push(R)}}}checkIsAcyclic(){const d=new Set;this._allInputIndices.forEach(x=>{this._allData[x]._to.forEach(D=>{d.add(D)})});const h=Array.from(d),_=new Array(this._nodes.length).fill("white");for(;h.length>0;){const x=h.pop();"gray"===_[x]?_[x]="black":(h.push(x),_[x]="gray",this._nodes[x].outputs.forEach(D=>{const I=this._allData[D];if(void 0!==I.tensor)throw new Error("node outputs should not be initialized");if(I._from!==x)throw new Error("from property of the Value object doesn't match index of Node being processed");I._to.forEach(A=>{if("gray"===_[A])throw new Error("model graph is cyclic");"white"===_[A]&&h.push(A)})}))}}transformGraph(d){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),d&&d.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let d=0;const h=new Array(this._nodes.length,0);let _=0;for(let x=0;x<this._nodes.length;x++)h[x]=_,this._nodes[x].executeNode?(_!==x&&(this._nodes[_]=this._nodes[x]),_++):this._nodes[x].outputs.forEach(D=>{this._allData[D]._from=-2});this._nodes.splice(_,this._nodes.length-_);for(let x=0;x<this._allData.length;x++){const D=this._allData[x];void 0!==D._from&&-1!==D._from&&-2!==D._from&&(D._from=h[D._from]);for(let I=0;I<D._to.length;I++){if(!(D._to[I]>=0))throw new Error("Trying to update a removed node");D._to[I]=h[D._to[I]]}}d=0;for(let x=0;x<this._allData.length;x++)if(-2!==this._allData[x].from||-1!==this._allOutputIndices.indexOf(x+d)){if(d>0){let D=-1;void 0!==this._allData[x].from&&-1!==this._allData[x].from?(D=this._nodes[this._allData[x].from].outputs.indexOf(x+d),-1!==D&&(this._nodes[this._allData[x].from].outputs[D]=x)):(D=this._allInputIndices.indexOf(x+d),-1!==D&&(this._allInputIndices[D]=x)),this._allData[x].to.forEach(I=>{D=this._nodes[I].inputs.indexOf(x+d),-1!==D&&(this._nodes[I].inputs[D]=x)}),0===this._allData[x].to.length&&(D=this._allOutputIndices.indexOf(x+d),-1!==D&&(this._allOutputIndices[D]=x))}}else d++,this._allData.splice(x,1),x--}deleteNode(d){const h=this._nodes[d];if(h.outputs.length>1)for(let A=1;A<h.outputs.length;A++)if(this._allData[h.outputs[A]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");h.executeNode=!1;const _=h.inputs[0],x=h.outputs[0],D=this._allData[x].to;for(let A=0;A<h.inputs.length;A++){const R=this._allData[h.inputs[A]].to.indexOf(d);if(-1===R)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[h.inputs[A]].to.splice(R,1)}this._allData[x]._to=[];const I=this._allOutputIndices.indexOf(x);if(-1!==I&&(this._allOutputIndices[I]=_),D&&D.length>0)for(const A of D){const R=this._nodes[A].inputs.indexOf(x);if(-1===R)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[A].inputs[R]=_,this._allData[_].to.push(A)}}removeAllDropoutNodes(){let d=0;for(const h of this._nodes){if("Dropout"===h.opType){if(1!==h.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==h.outputs.length&&2!==h.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===h.outputs.length&&0!==this._allData[h.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(d)}d++}}removeAllIdentityNodes(){let d=0;for(const h of this._nodes)"Identity"===h.opType&&this.deleteNode(d),d++}isActivation(d){switch(d.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const d of this._nodes)if("Conv"===d.opType){const h=this._allData[d.outputs[0]]._to;if(1===h.length&&this.isActivation(this._nodes[h[0]])){const _=this._nodes[h[0]];if("Clip"===_.opType)if(1===_.inputs.length)try{d.attributes.set("activation_params","floats",[_.attributes.getFloat("min"),_.attributes.getFloat("max")])}catch{d.attributes.set("activation_params","floats",[v.MIN_CLIP,v.MAX_CLIP])}else{if(!(_.inputs.length>=3&&void 0!==this._allData[_.inputs[1]].tensor&&void 0!==this._allData[_.inputs[2]].tensor))continue;d.attributes.set("activation_params","floats",[this._allData[_.inputs[1]].tensor.floatData[0],this._allData[_.inputs[2]].tensor.floatData[0]])}d.attributes.set("activation","string",_.opType),this.deleteNode(h[0])}}}}},1315:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.now=u.Profiler=u.Logger=void 0;const g={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},S={none:new class{log(f,c,a){}},console:new class{log(f,c,a){console.log(`${this.color(f)} ${a?"\x1b[35m"+a+"\x1b[0m ":""}${c}`)}color(f){switch(f){case"verbose":return"\x1b[34;40mv\x1b[0m";case"info":return"\x1b[32mi\x1b[0m";case"warning":return"\x1b[30;43mw\x1b[0m";case"error":return"\x1b[31;40me\x1b[0m";case"fatal":return"\x1b[101mf\x1b[0m";default:throw new Error(`unsupported severity: ${f}`)}}}},w={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let C={"":w};function b(f,c,a,d){if(void 0===c)return{verbose:b.verbose.bind(null,h=f),info:b.info.bind(null,h),warning:b.warning.bind(null,h),error:b.error.bind(null,h),fatal:b.fatal.bind(null,h)};if(void 0===a)v(f,c);else if("number"==typeof a&&void 0===d)v(f,c);else if("string"==typeof a&&void 0===d)v(f,a,0,c);else{if("string"!=typeof a||"number"!=typeof d)throw new TypeError("input is valid");v(f,a,0,c)}var h}function v(f,c,a,d){const h=C[d||""]||C[""];g[f]<g[h.minimalSeverity]||(h.logDateTime&&(c=`${(new Date).toISOString()}|${c}`),S[h.provider].log(f,c,d))}(function(f){function c(d){C={},a("",d||{})}function a(d,h){if("*"===d)c(h);else{const _=C[d]||w;C[d]={provider:h.provider||_.provider,minimalSeverity:h.minimalSeverity||_.minimalSeverity,logDateTime:void 0===h.logDateTime?_.logDateTime:h.logDateTime,logSourceLocation:void 0===h.logSourceLocation?_.logSourceLocation:h.logSourceLocation}}}f.verbose=function(d,h){f("verbose",d,h)},f.info=function(d,h){f("info",d,h)},f.warning=function(d,h){f("warning",d,h)},f.error=function(d,h){f("error",d,h)},f.fatal=function(d,h){f("fatal",d,h)},f.reset=c,f.set=a,f.setWithEnv=function(d){const h={};d.logLevel&&(h.minimalSeverity=d.logLevel),a("",h)}})(b||(b={})),u.Logger=b;class p{constructor(c,a,d,h,_,x){this.category=c,this.name=a,this.startTime=d,this.endCallback=h,this.timer=_,this.ctx=x}end(){var c=this;return _asyncToGenerator(function*(){return c.endCallback(c)})()}checkTimer(){var c=this;return _asyncToGenerator(function*(){if(void 0===c.ctx||void 0===c.timer)throw new Error("No webgl timer found");return c.ctx.endTimer(),c.ctx.waitForQueryAndGetTime(c.timer)})()}}class m{constructor(c,a,d,h){this.category=c,this.name=a,this.startTime=d,this.endTime=h}}u.Profiler=class{static create(f){return void 0===f?new this:new this(f.maxNumberEvents,f.flushBatchSize,f.flushIntervalInMilliseconds)}constructor(f,c,a){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===f?1e4:f,this._flushBatchSize=void 0===c?10:c,this._flushIntervalInMilliseconds=void 0===a?5e3:a}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,u.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(f,c,a,d){const h=this._started?this.begin(f,c,d):void 0;let _=!1;const x=a();if(x&&"function"==typeof x.then)return _=!0,new Promise((D,I)=>{x.then(function(){var A=_asyncToGenerator(function*(R){h&&(yield h.end()),D(R)});return function(R){return A.apply(this,arguments)}}(),function(){var A=_asyncToGenerator(function*(R){h&&(yield h.end()),I(R)});return function(R){return A.apply(this,arguments)}}())});if(!_&&h){const D=h.end();if(D&&"function"==typeof D.then)return new Promise((I,A)=>{D.then(()=>{I(x)},R=>{A(R)})})}return x}begin(f,c,a){var d=this;if(!this._started)throw new Error("profiler is not started yet");if(void 0===a){const h=(0,u.now)();return this.flush(h),new p(f,c,h,_=>this.endSync(_))}{const h=a.beginTimer();return new p(f,c,0,function(){var _=_asyncToGenerator(function*(x){return d.end(x)});return function(x){return _.apply(this,arguments)}}(),h,a)}}end(f){var c=this;return _asyncToGenerator(function*(){const a=yield f.checkTimer();c._timingEvents.length<c._maxNumberEvents&&(c._timingEvents.push(new m(f.category,f.name,f.startTime,a)),c.flush(a))})()}endSync(f){const c=(0,u.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new m(f.category,f.name,f.startTime,c)),this.flush(c))}logOneEvent(f){u.Logger.verbose(`Profiler.${f.category}`,`${(f.endTime-f.startTime).toFixed(2)}ms on event '${f.name}' at ${f.endTime.toFixed(2)}`)}flush(f){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||f-this._flushTime>=this._flushIntervalInMilliseconds){for(const c=this._flushPointer;this._flushPointer<c+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,u.now)()}}get started(){return this._started}},u.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Model=void 0;const S=g(5686),w=g(1446),C=g(4662),b=g(1287),v=g(7273);var p=b.onnxruntime.experimental.fbs;u.Model=class{constructor(){}load(m,f,c){if(!c)try{return void this.loadFromOnnxFormat(m,f)}catch(a){if(void 0!==c)throw a}this.loadFromOrtFormat(m,f)}loadFromOnnxFormat(m,f){const c=w.onnx.ModelProto.decode(m);if(v.LongUtil.longToNumber(c.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=c.opsetImport.map(a=>({domain:a.domain,version:v.LongUtil.longToNumber(a.version)})),this._graph=C.Graph.from(c.graph,f)}loadFromOrtFormat(m,f){const c=new S.flatbuffers.ByteBuffer(m),a=p.InferenceSession.getRootAsInferenceSession(c).model();if(v.LongUtil.longToNumber(a.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let d=0;d<a.opsetImportLength();d++){const h=a.opsetImport(d);this._opsets.push({domain:h?.domain(),version:v.LongUtil.longToNumber(h.version())})}this._graph=C.Graph.from(a.graph(),f)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FLOAT_TYPES=u.INT_TYPES=u.NUMBER_TYPES=void 0,u.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],u.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],u.FLOAT_TYPES=["float32","float64"]},5881:(z,u)=>{"use strict";function g(S,w){if(w.endsWith("+")){const C=Number.parseInt(w.substring(0,w.length-1),10);return!isNaN(C)&&C<=S}if(2===w.split("-").length){const C=w.split("-"),b=Number.parseInt(C[0],10),v=Number.parseInt(C[1],10);return!isNaN(b)&&!isNaN(v)&&b<=S&&S<=v}return Number.parseInt(w,10)===S}Object.defineProperty(u,"__esModule",{value:!0}),u.resolveOperator=void 0,u.resolveOperator=function(S,w,C){for(const b of C){const p=b[1],m=b[2],f=b[3],c=b[4];if(S.opType===b[0])for(const a of w)if((a.domain===p||"ai.onnx"===a.domain&&""===p)&&g(a.version,m))return{opImpl:f,opInit:c}}throw new TypeError(`cannot resolve operator '${S.opType}' with opsets: ${w.map(b=>`${b.domain||"ai.onnx"} v${b.version}`).join(", ")}`)}},1287:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.onnxruntime=void 0;const S=g(5686);var w,C,b,v;(function(b){let v;var p;(p=v=b.AttributeType||(b.AttributeType={}))[p.UNDEFINED=0]="UNDEFINED",p[p.FLOAT=1]="FLOAT",p[p.INT=2]="INT",p[p.STRING=3]="STRING",p[p.TENSOR=4]="TENSOR",p[p.GRAPH=5]="GRAPH",p[p.FLOATS=6]="FLOATS",p[p.INTS=7]="INTS",p[p.STRINGS=8]="STRINGS",p[p.TENSORS=9]="TENSORS",p[p.GRAPHS=10]="GRAPHS",p[p.SPARSE_TENSOR=11]="SPARSE_TENSOR",p[p.SPARSE_TENSORS=12]="SPARSE_TENSORS"})((C=(w=u.onnxruntime||(u.onnxruntime={})).experimental||(w.experimental={})).fbs||(C.fbs={})),function(p){let m;var f;(f=m=p.DimensionValueType||(p.DimensionValueType={}))[f.UNKNOWN=0]="UNKNOWN",f[f.VALUE=1]="VALUE",f[f.PARAM=2]="PARAM"}((v=(b=u.onnxruntime||(u.onnxruntime={})).experimental||(b.experimental={})).fbs||(v.fbs={})),function(b){!function(v){!function(p){let m;var f;(f=m=p.TensorDataType||(p.TensorDataType={}))[f.UNDEFINED=0]="UNDEFINED",f[f.FLOAT=1]="FLOAT",f[f.UINT8=2]="UINT8",f[f.INT8=3]="INT8",f[f.UINT16=4]="UINT16",f[f.INT16=5]="INT16",f[f.INT32=6]="INT32",f[f.INT64=7]="INT64",f[f.STRING=8]="STRING",f[f.BOOL=9]="BOOL",f[f.FLOAT16=10]="FLOAT16",f[f.DOUBLE=11]="DOUBLE",f[f.UINT32=12]="UINT32",f[f.UINT64=13]="UINT64",f[f.COMPLEX64=14]="COMPLEX64",f[f.COMPLEX128=15]="COMPLEX128",f[f.BFLOAT16=16]="BFLOAT16"}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){let m;var f;(f=m=p.NodeType||(p.NodeType={}))[f.Primitive=0]="Primitive",f[f.Fused=1]="Fused"}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){let m;var f;(f=m=p.TypeInfoValue||(p.TypeInfoValue={}))[f.NONE=0]="NONE",f[f.tensor_type=1]="tensor_type",f[f.sequence_type=2]="sequence_type",f[f.map_type=3]="map_type"}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsShape(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsShape(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}dim(c,a){let d=this.bb.__offset(this.bb_pos,4);return d?(a||new b.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}dimLength(){let c=this.bb.__offset(this.bb_pos,4);return c?this.bb.__vector_len(this.bb_pos+c):0}static startShape(c){c.startObject(1)}static addDim(c,a){c.addFieldOffset(0,a,0)}static createDimVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startDimVector(c,a){c.startVector(4,a,4)}static endShape(c){return c.endObject()}static createShape(c,a){return m.startShape(c),m.addDim(c,a),m.endShape(c)}}p.Shape=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsDimension(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsDimension(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}value(c){let a=this.bb.__offset(this.bb_pos,4);return a?(c||new b.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}denotation(c){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,c):null}static startDimension(c){c.startObject(2)}static addValue(c,a){c.addFieldOffset(0,a,0)}static addDenotation(c,a){c.addFieldOffset(1,a,0)}static endDimension(c){return c.endObject()}static createDimension(c,a,d){return m.startDimension(c),m.addValue(c,a),m.addDenotation(c,d),m.endDimension(c)}}p.Dimension=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsDimensionValue(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsDimensionValue(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}dimType(){let c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readInt8(this.bb_pos+c):b.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let c=this.bb.__offset(this.bb_pos,6);return c?this.bb.readInt64(this.bb_pos+c):this.bb.createLong(0,0)}dimParam(c){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__string(this.bb_pos+a,c):null}static startDimensionValue(c){c.startObject(3)}static addDimType(c,a){c.addFieldInt8(0,a,b.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(c,a){c.addFieldInt64(1,a,c.createLong(0,0))}static addDimParam(c,a){c.addFieldOffset(2,a,0)}static endDimensionValue(c){return c.endObject()}static createDimensionValue(c,a,d,h){return m.startDimensionValue(c),m.addDimType(c,a),m.addDimValue(c,d),m.addDimParam(c,h),m.endDimensionValue(c)}}p.DimensionValue=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsTensorTypeAndShape(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsTensorTypeAndShape(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}elemType(){let c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readInt32(this.bb_pos+c):b.experimental.fbs.TensorDataType.UNDEFINED}shape(c){let a=this.bb.__offset(this.bb_pos,6);return a?(c||new b.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startTensorTypeAndShape(c){c.startObject(2)}static addElemType(c,a){c.addFieldInt32(0,a,b.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(c,a){c.addFieldOffset(1,a,0)}static endTensorTypeAndShape(c){return c.endObject()}static createTensorTypeAndShape(c,a,d){return m.startTensorTypeAndShape(c),m.addElemType(c,a),m.addShape(c,d),m.endTensorTypeAndShape(c)}}p.TensorTypeAndShape=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsMapType(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsMapType(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}keyType(){let c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readInt32(this.bb_pos+c):b.experimental.fbs.TensorDataType.UNDEFINED}valueType(c){let a=this.bb.__offset(this.bb_pos,6);return a?(c||new b.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startMapType(c){c.startObject(2)}static addKeyType(c,a){c.addFieldInt32(0,a,b.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(c,a){c.addFieldOffset(1,a,0)}static endMapType(c){return c.endObject()}static createMapType(c,a,d){return m.startMapType(c),m.addKeyType(c,a),m.addValueType(c,d),m.endMapType(c)}}p.MapType=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsSequenceType(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsSequenceType(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}elemType(c){let a=this.bb.__offset(this.bb_pos,4);return a?(c||new b.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startSequenceType(c){c.startObject(1)}static addElemType(c,a){c.addFieldOffset(0,a,0)}static endSequenceType(c){return c.endObject()}static createSequenceType(c,a){return m.startSequenceType(c),m.addElemType(c,a),m.endSequenceType(c)}}p.SequenceType=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){(v.fbs||(v.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(p,m){return this.bb_pos=p,this.bb=m,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(p,m,f,c){return p.prep(4,12),p.writeInt32(c),p.writeInt32(f),p.writeInt32(m),p.offset()}}}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsNodeEdge(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsNodeEdge(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}nodeIndex(){let c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readUint32(this.bb_pos+c):0}inputEdges(c,a){let d=this.bb.__offset(this.bb_pos,6);return d?(a||new b.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+d)+12*c,this.bb):null}inputEdgesLength(){let c=this.bb.__offset(this.bb_pos,6);return c?this.bb.__vector_len(this.bb_pos+c):0}outputEdges(c,a){let d=this.bb.__offset(this.bb_pos,8);return d?(a||new b.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+d)+12*c,this.bb):null}outputEdgesLength(){let c=this.bb.__offset(this.bb_pos,8);return c?this.bb.__vector_len(this.bb_pos+c):0}static startNodeEdge(c){c.startObject(3)}static addNodeIndex(c,a){c.addFieldInt32(0,a,0)}static addInputEdges(c,a){c.addFieldOffset(1,a,0)}static startInputEdgesVector(c,a){c.startVector(12,a,4)}static addOutputEdges(c,a){c.addFieldOffset(2,a,0)}static startOutputEdgesVector(c,a){c.startVector(12,a,4)}static endNodeEdge(c){return c.endObject()}static createNodeEdge(c,a,d,h){return m.startNodeEdge(c),m.addNodeIndex(c,a),m.addInputEdges(c,d),m.addOutputEdges(c,h),m.endNodeEdge(c)}}p.NodeEdge=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsNode(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsNode(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}name(c){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,c):null}docString(c){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,c):null}domain(c){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__string(this.bb_pos+a,c):null}sinceVersion(){let c=this.bb.__offset(this.bb_pos,10);return c?this.bb.readInt32(this.bb_pos+c):0}index(){let c=this.bb.__offset(this.bb_pos,12);return c?this.bb.readUint32(this.bb_pos+c):0}opType(c){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__string(this.bb_pos+a,c):null}type(){let c=this.bb.__offset(this.bb_pos,16);return c?this.bb.readInt32(this.bb_pos+c):b.experimental.fbs.NodeType.Primitive}executionProviderType(c){let a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__string(this.bb_pos+a,c):null}inputs(c,a){let d=this.bb.__offset(this.bb_pos,20);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+4*c,a):null}inputsLength(){let c=this.bb.__offset(this.bb_pos,20);return c?this.bb.__vector_len(this.bb_pos+c):0}outputs(c,a){let d=this.bb.__offset(this.bb_pos,22);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+4*c,a):null}outputsLength(){let c=this.bb.__offset(this.bb_pos,22);return c?this.bb.__vector_len(this.bb_pos+c):0}attributes(c,a){let d=this.bb.__offset(this.bb_pos,24);return d?(a||new b.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}attributesLength(){let c=this.bb.__offset(this.bb_pos,24);return c?this.bb.__vector_len(this.bb_pos+c):0}inputArgCounts(c){let a=this.bb.__offset(this.bb_pos,26);return a?this.bb.readInt32(this.bb.__vector(this.bb_pos+a)+4*c):0}inputArgCountsLength(){let c=this.bb.__offset(this.bb_pos,26);return c?this.bb.__vector_len(this.bb_pos+c):0}inputArgCountsArray(){let c=this.bb.__offset(this.bb_pos,26);return c?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+c),this.bb.__vector_len(this.bb_pos+c)):null}implicitInputs(c,a){let d=this.bb.__offset(this.bb_pos,28);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+4*c,a):null}implicitInputsLength(){let c=this.bb.__offset(this.bb_pos,28);return c?this.bb.__vector_len(this.bb_pos+c):0}static startNode(c){c.startObject(13)}static addName(c,a){c.addFieldOffset(0,a,0)}static addDocString(c,a){c.addFieldOffset(1,a,0)}static addDomain(c,a){c.addFieldOffset(2,a,0)}static addSinceVersion(c,a){c.addFieldInt32(3,a,0)}static addIndex(c,a){c.addFieldInt32(4,a,0)}static addOpType(c,a){c.addFieldOffset(5,a,0)}static addType(c,a){c.addFieldInt32(6,a,b.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(c,a){c.addFieldOffset(7,a,0)}static addInputs(c,a){c.addFieldOffset(8,a,0)}static createInputsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startInputsVector(c,a){c.startVector(4,a,4)}static addOutputs(c,a){c.addFieldOffset(9,a,0)}static createOutputsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startOutputsVector(c,a){c.startVector(4,a,4)}static addAttributes(c,a){c.addFieldOffset(10,a,0)}static createAttributesVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startAttributesVector(c,a){c.startVector(4,a,4)}static addInputArgCounts(c,a){c.addFieldOffset(11,a,0)}static createInputArgCountsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addInt32(a[d]);return c.endVector()}static startInputArgCountsVector(c,a){c.startVector(4,a,4)}static addImplicitInputs(c,a){c.addFieldOffset(12,a,0)}static createImplicitInputsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startImplicitInputsVector(c,a){c.startVector(4,a,4)}static endNode(c){return c.endObject()}static createNode(c,a,d,h,_,x,D,I,A,R,P,k,B,V){return m.startNode(c),m.addName(c,a),m.addDocString(c,d),m.addDomain(c,h),m.addSinceVersion(c,_),m.addIndex(c,x),m.addOpType(c,D),m.addType(c,I),m.addExecutionProviderType(c,A),m.addInputs(c,R),m.addOutputs(c,P),m.addAttributes(c,k),m.addInputArgCounts(c,B),m.addImplicitInputs(c,V),m.endNode(c)}}p.Node=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsValueInfo(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsValueInfo(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}name(c){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,c):null}docString(c){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,c):null}type(c){let a=this.bb.__offset(this.bb_pos,8);return a?(c||new b.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startValueInfo(c){c.startObject(3)}static addName(c,a){c.addFieldOffset(0,a,0)}static addDocString(c,a){c.addFieldOffset(1,a,0)}static addType(c,a){c.addFieldOffset(2,a,0)}static endValueInfo(c){return c.endObject()}static createValueInfo(c,a,d,h){return m.startValueInfo(c),m.addName(c,a),m.addDocString(c,d),m.addType(c,h),m.endValueInfo(c)}}p.ValueInfo=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsTypeInfo(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsTypeInfo(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}denotation(c){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,c):null}valueType(){let c=this.bb.__offset(this.bb_pos,6);return c?this.bb.readUint8(this.bb_pos+c):b.experimental.fbs.TypeInfoValue.NONE}value(c){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__union(c,this.bb_pos+a):null}static startTypeInfo(c){c.startObject(3)}static addDenotation(c,a){c.addFieldOffset(0,a,0)}static addValueType(c,a){c.addFieldInt8(1,a,b.experimental.fbs.TypeInfoValue.NONE)}static addValue(c,a){c.addFieldOffset(2,a,0)}static endTypeInfo(c){return c.endObject()}static createTypeInfo(c,a,d,h){return m.startTypeInfo(c),m.addDenotation(c,a),m.addValueType(c,d),m.addValue(c,h),m.endTypeInfo(c)}}p.TypeInfo=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsOperatorSetId(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsOperatorSetId(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}domain(c){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,c):null}version(){let c=this.bb.__offset(this.bb_pos,6);return c?this.bb.readInt64(this.bb_pos+c):this.bb.createLong(0,0)}static startOperatorSetId(c){c.startObject(2)}static addDomain(c,a){c.addFieldOffset(0,a,0)}static addVersion(c,a){c.addFieldInt64(1,a,c.createLong(0,0))}static endOperatorSetId(c){return c.endObject()}static createOperatorSetId(c,a,d){return m.startOperatorSetId(c),m.addDomain(c,a),m.addVersion(c,d),m.endOperatorSetId(c)}}p.OperatorSetId=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsTensor(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsTensor(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}name(c){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,c):null}docString(c){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,c):null}dims(c){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+8*c):this.bb.createLong(0,0)}dimsLength(){let c=this.bb.__offset(this.bb_pos,8);return c?this.bb.__vector_len(this.bb_pos+c):0}dataType(){let c=this.bb.__offset(this.bb_pos,10);return c?this.bb.readInt32(this.bb_pos+c):b.experimental.fbs.TensorDataType.UNDEFINED}rawData(c){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readUint8(this.bb.__vector(this.bb_pos+a)+c):0}rawDataLength(){let c=this.bb.__offset(this.bb_pos,12);return c?this.bb.__vector_len(this.bb_pos+c):0}rawDataArray(){let c=this.bb.__offset(this.bb_pos,12);return c?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+c),this.bb.__vector_len(this.bb_pos+c)):null}stringData(c,a){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+4*c,a):null}stringDataLength(){let c=this.bb.__offset(this.bb_pos,14);return c?this.bb.__vector_len(this.bb_pos+c):0}static startTensor(c){c.startObject(6)}static addName(c,a){c.addFieldOffset(0,a,0)}static addDocString(c,a){c.addFieldOffset(1,a,0)}static addDims(c,a){c.addFieldOffset(2,a,0)}static createDimsVector(c,a){c.startVector(8,a.length,8);for(let d=a.length-1;d>=0;d--)c.addInt64(a[d]);return c.endVector()}static startDimsVector(c,a){c.startVector(8,a,8)}static addDataType(c,a){c.addFieldInt32(3,a,b.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(c,a){c.addFieldOffset(4,a,0)}static createRawDataVector(c,a){c.startVector(1,a.length,1);for(let d=a.length-1;d>=0;d--)c.addInt8(a[d]);return c.endVector()}static startRawDataVector(c,a){c.startVector(1,a,1)}static addStringData(c,a){c.addFieldOffset(5,a,0)}static createStringDataVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startStringDataVector(c,a){c.startVector(4,a,4)}static endTensor(c){return c.endObject()}static createTensor(c,a,d,h,_,x,D){return m.startTensor(c),m.addName(c,a),m.addDocString(c,d),m.addDims(c,h),m.addDataType(c,_),m.addRawData(c,x),m.addStringData(c,D),m.endTensor(c)}}p.Tensor=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsSparseTensor(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsSparseTensor(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}values(c){let a=this.bb.__offset(this.bb_pos,4);return a?(c||new b.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}indices(c){let a=this.bb.__offset(this.bb_pos,6);return a?(c||new b.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}dims(c){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+8*c):this.bb.createLong(0,0)}dimsLength(){let c=this.bb.__offset(this.bb_pos,8);return c?this.bb.__vector_len(this.bb_pos+c):0}static startSparseTensor(c){c.startObject(3)}static addValues(c,a){c.addFieldOffset(0,a,0)}static addIndices(c,a){c.addFieldOffset(1,a,0)}static addDims(c,a){c.addFieldOffset(2,a,0)}static createDimsVector(c,a){c.startVector(8,a.length,8);for(let d=a.length-1;d>=0;d--)c.addInt64(a[d]);return c.endVector()}static startDimsVector(c,a){c.startVector(8,a,8)}static endSparseTensor(c){return c.endObject()}static createSparseTensor(c,a,d,h){return m.startSparseTensor(c),m.addValues(c,a),m.addIndices(c,d),m.addDims(c,h),m.endSparseTensor(c)}}p.SparseTensor=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsAttribute(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsAttribute(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}name(c){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,c):null}docString(c){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,c):null}type(){let c=this.bb.__offset(this.bb_pos,8);return c?this.bb.readInt32(this.bb_pos+c):b.experimental.fbs.AttributeType.UNDEFINED}f(){let c=this.bb.__offset(this.bb_pos,10);return c?this.bb.readFloat32(this.bb_pos+c):0}i(){let c=this.bb.__offset(this.bb_pos,12);return c?this.bb.readInt64(this.bb_pos+c):this.bb.createLong(0,0)}s(c){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__string(this.bb_pos+a,c):null}t(c){let a=this.bb.__offset(this.bb_pos,16);return a?(c||new b.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}g(c){let a=this.bb.__offset(this.bb_pos,18);return a?(c||new b.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}floats(c){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.readFloat32(this.bb.__vector(this.bb_pos+a)+4*c):0}floatsLength(){let c=this.bb.__offset(this.bb_pos,20);return c?this.bb.__vector_len(this.bb_pos+c):0}floatsArray(){let c=this.bb.__offset(this.bb_pos,20);return c?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+c),this.bb.__vector_len(this.bb_pos+c)):null}ints(c){let a=this.bb.__offset(this.bb_pos,22);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+8*c):this.bb.createLong(0,0)}intsLength(){let c=this.bb.__offset(this.bb_pos,22);return c?this.bb.__vector_len(this.bb_pos+c):0}strings(c,a){let d=this.bb.__offset(this.bb_pos,24);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+4*c,a):null}stringsLength(){let c=this.bb.__offset(this.bb_pos,24);return c?this.bb.__vector_len(this.bb_pos+c):0}tensors(c,a){let d=this.bb.__offset(this.bb_pos,26);return d?(a||new b.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}tensorsLength(){let c=this.bb.__offset(this.bb_pos,26);return c?this.bb.__vector_len(this.bb_pos+c):0}graphs(c,a){let d=this.bb.__offset(this.bb_pos,28);return d?(a||new b.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}graphsLength(){let c=this.bb.__offset(this.bb_pos,28);return c?this.bb.__vector_len(this.bb_pos+c):0}static startAttribute(c){c.startObject(13)}static addName(c,a){c.addFieldOffset(0,a,0)}static addDocString(c,a){c.addFieldOffset(1,a,0)}static addType(c,a){c.addFieldInt32(2,a,b.experimental.fbs.AttributeType.UNDEFINED)}static addF(c,a){c.addFieldFloat32(3,a,0)}static addI(c,a){c.addFieldInt64(4,a,c.createLong(0,0))}static addS(c,a){c.addFieldOffset(5,a,0)}static addT(c,a){c.addFieldOffset(6,a,0)}static addG(c,a){c.addFieldOffset(7,a,0)}static addFloats(c,a){c.addFieldOffset(8,a,0)}static createFloatsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addFloat32(a[d]);return c.endVector()}static startFloatsVector(c,a){c.startVector(4,a,4)}static addInts(c,a){c.addFieldOffset(9,a,0)}static createIntsVector(c,a){c.startVector(8,a.length,8);for(let d=a.length-1;d>=0;d--)c.addInt64(a[d]);return c.endVector()}static startIntsVector(c,a){c.startVector(8,a,8)}static addStrings(c,a){c.addFieldOffset(10,a,0)}static createStringsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startStringsVector(c,a){c.startVector(4,a,4)}static addTensors(c,a){c.addFieldOffset(11,a,0)}static createTensorsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startTensorsVector(c,a){c.startVector(4,a,4)}static addGraphs(c,a){c.addFieldOffset(12,a,0)}static createGraphsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startGraphsVector(c,a){c.startVector(4,a,4)}static endAttribute(c){return c.endObject()}static createAttribute(c,a,d,h,_,x,D,I,A,R,P,k,B,V){return m.startAttribute(c),m.addName(c,a),m.addDocString(c,d),m.addType(c,h),m.addF(c,_),m.addI(c,x),m.addS(c,D),m.addT(c,I),m.addG(c,A),m.addFloats(c,R),m.addInts(c,P),m.addStrings(c,k),m.addTensors(c,B),m.addGraphs(c,V),m.endAttribute(c)}}p.Attribute=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsGraph(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsGraph(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}initializers(c,a){let d=this.bb.__offset(this.bb_pos,4);return d?(a||new b.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}initializersLength(){let c=this.bb.__offset(this.bb_pos,4);return c?this.bb.__vector_len(this.bb_pos+c):0}nodeArgs(c,a){let d=this.bb.__offset(this.bb_pos,6);return d?(a||new b.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}nodeArgsLength(){let c=this.bb.__offset(this.bb_pos,6);return c?this.bb.__vector_len(this.bb_pos+c):0}nodes(c,a){let d=this.bb.__offset(this.bb_pos,8);return d?(a||new b.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}nodesLength(){let c=this.bb.__offset(this.bb_pos,8);return c?this.bb.__vector_len(this.bb_pos+c):0}maxNodeIndex(){let c=this.bb.__offset(this.bb_pos,10);return c?this.bb.readUint32(this.bb_pos+c):0}nodeEdges(c,a){let d=this.bb.__offset(this.bb_pos,12);return d?(a||new b.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}nodeEdgesLength(){let c=this.bb.__offset(this.bb_pos,12);return c?this.bb.__vector_len(this.bb_pos+c):0}inputs(c,a){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+4*c,a):null}inputsLength(){let c=this.bb.__offset(this.bb_pos,14);return c?this.bb.__vector_len(this.bb_pos+c):0}outputs(c,a){let d=this.bb.__offset(this.bb_pos,16);return d?this.bb.__string(this.bb.__vector(this.bb_pos+d)+4*c,a):null}outputsLength(){let c=this.bb.__offset(this.bb_pos,16);return c?this.bb.__vector_len(this.bb_pos+c):0}sparseInitializers(c,a){let d=this.bb.__offset(this.bb_pos,18);return d?(a||new b.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}sparseInitializersLength(){let c=this.bb.__offset(this.bb_pos,18);return c?this.bb.__vector_len(this.bb_pos+c):0}static startGraph(c){c.startObject(8)}static addInitializers(c,a){c.addFieldOffset(0,a,0)}static createInitializersVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startInitializersVector(c,a){c.startVector(4,a,4)}static addNodeArgs(c,a){c.addFieldOffset(1,a,0)}static createNodeArgsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startNodeArgsVector(c,a){c.startVector(4,a,4)}static addNodes(c,a){c.addFieldOffset(2,a,0)}static createNodesVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startNodesVector(c,a){c.startVector(4,a,4)}static addMaxNodeIndex(c,a){c.addFieldInt32(3,a,0)}static addNodeEdges(c,a){c.addFieldOffset(4,a,0)}static createNodeEdgesVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startNodeEdgesVector(c,a){c.startVector(4,a,4)}static addInputs(c,a){c.addFieldOffset(5,a,0)}static createInputsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startInputsVector(c,a){c.startVector(4,a,4)}static addOutputs(c,a){c.addFieldOffset(6,a,0)}static createOutputsVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startOutputsVector(c,a){c.startVector(4,a,4)}static addSparseInitializers(c,a){c.addFieldOffset(7,a,0)}static createSparseInitializersVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startSparseInitializersVector(c,a){c.startVector(4,a,4)}static endGraph(c){return c.endObject()}static createGraph(c,a,d,h,_,x,D,I,A){return m.startGraph(c),m.addInitializers(c,a),m.addNodeArgs(c,d),m.addNodes(c,h),m.addMaxNodeIndex(c,_),m.addNodeEdges(c,x),m.addInputs(c,D),m.addOutputs(c,I),m.addSparseInitializers(c,A),m.endGraph(c)}}p.Graph=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsModel(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsModel(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}irVersion(){let c=this.bb.__offset(this.bb_pos,4);return c?this.bb.readInt64(this.bb_pos+c):this.bb.createLong(0,0)}opsetImport(c,a){let d=this.bb.__offset(this.bb_pos,6);return d?(a||new b.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}opsetImportLength(){let c=this.bb.__offset(this.bb_pos,6);return c?this.bb.__vector_len(this.bb_pos+c):0}producerName(c){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__string(this.bb_pos+a,c):null}producerVersion(c){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__string(this.bb_pos+a,c):null}domain(c){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__string(this.bb_pos+a,c):null}modelVersion(){let c=this.bb.__offset(this.bb_pos,14);return c?this.bb.readInt64(this.bb_pos+c):this.bb.createLong(0,0)}docString(c){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__string(this.bb_pos+a,c):null}graph(c){let a=this.bb.__offset(this.bb_pos,18);return a?(c||new b.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}graphDocString(c){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.__string(this.bb_pos+a,c):null}static startModel(c){c.startObject(9)}static addIrVersion(c,a){c.addFieldInt64(0,a,c.createLong(0,0))}static addOpsetImport(c,a){c.addFieldOffset(1,a,0)}static createOpsetImportVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startOpsetImportVector(c,a){c.startVector(4,a,4)}static addProducerName(c,a){c.addFieldOffset(2,a,0)}static addProducerVersion(c,a){c.addFieldOffset(3,a,0)}static addDomain(c,a){c.addFieldOffset(4,a,0)}static addModelVersion(c,a){c.addFieldInt64(5,a,c.createLong(0,0))}static addDocString(c,a){c.addFieldOffset(6,a,0)}static addGraph(c,a){c.addFieldOffset(7,a,0)}static addGraphDocString(c,a){c.addFieldOffset(8,a,0)}static endModel(c){return c.endObject()}static createModel(c,a,d,h,_,x,D,I,A,R){return m.startModel(c),m.addIrVersion(c,a),m.addOpsetImport(c,d),m.addProducerName(c,h),m.addProducerVersion(c,_),m.addDomain(c,x),m.addModelVersion(c,D),m.addDocString(c,I),m.addGraph(c,A),m.addGraphDocString(c,R),m.endModel(c)}}p.Model=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsKernelCreateInfos(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsKernelCreateInfos(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}nodeIndices(c){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint32(this.bb.__vector(this.bb_pos+a)+4*c):0}nodeIndicesLength(){let c=this.bb.__offset(this.bb_pos,4);return c?this.bb.__vector_len(this.bb_pos+c):0}nodeIndicesArray(){let c=this.bb.__offset(this.bb_pos,4);return c?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+c),this.bb.__vector_len(this.bb_pos+c)):null}kernelDefHashes(c){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint64(this.bb.__vector(this.bb_pos+a)+8*c):this.bb.createLong(0,0)}kernelDefHashesLength(){let c=this.bb.__offset(this.bb_pos,6);return c?this.bb.__vector_len(this.bb_pos+c):0}static startKernelCreateInfos(c){c.startObject(2)}static addNodeIndices(c,a){c.addFieldOffset(0,a,0)}static createNodeIndicesVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addInt32(a[d]);return c.endVector()}static startNodeIndicesVector(c,a){c.startVector(4,a,4)}static addKernelDefHashes(c,a){c.addFieldOffset(1,a,0)}static createKernelDefHashesVector(c,a){c.startVector(8,a.length,8);for(let d=a.length-1;d>=0;d--)c.addInt64(a[d]);return c.endVector()}static startKernelDefHashesVector(c,a){c.startVector(8,a,8)}static endKernelCreateInfos(c){return c.endObject()}static createKernelCreateInfos(c,a,d){return m.startKernelCreateInfos(c),m.addNodeIndices(c,a),m.addKernelDefHashes(c,d),m.endKernelCreateInfos(c)}}p.KernelCreateInfos=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsSubGraphSessionState(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsSubGraphSessionState(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}graphId(c){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,c):null}sessionState(c){let a=this.bb.__offset(this.bb_pos,6);return a?(c||new b.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startSubGraphSessionState(c){c.startObject(2)}static addGraphId(c,a){c.addFieldOffset(0,a,0)}static addSessionState(c,a){c.addFieldOffset(1,a,0)}static endSubGraphSessionState(c){let a=c.endObject();return c.requiredField(a,4),a}static createSubGraphSessionState(c,a,d){return m.startSubGraphSessionState(c),m.addGraphId(c,a),m.addSessionState(c,d),m.endSubGraphSessionState(c)}}p.SubGraphSessionState=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsSessionState(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsSessionState(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}kernels(c){let a=this.bb.__offset(this.bb_pos,4);return a?(c||new b.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}subGraphSessionStates(c,a){let d=this.bb.__offset(this.bb_pos,6);return d?(a||new b.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+d)+4*c),this.bb):null}subGraphSessionStatesLength(){let c=this.bb.__offset(this.bb_pos,6);return c?this.bb.__vector_len(this.bb_pos+c):0}static startSessionState(c){c.startObject(2)}static addKernels(c,a){c.addFieldOffset(0,a,0)}static addSubGraphSessionStates(c,a){c.addFieldOffset(1,a,0)}static createSubGraphSessionStatesVector(c,a){c.startVector(4,a.length,4);for(let d=a.length-1;d>=0;d--)c.addOffset(a[d]);return c.endVector()}static startSubGraphSessionStatesVector(c,a){c.startVector(4,a,4)}static endSessionState(c){return c.endObject()}static createSessionState(c,a,d){return m.startSessionState(c),m.addKernels(c,a),m.addSubGraphSessionStates(c,d),m.endSessionState(c)}}p.SessionState=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={})),function(b){!function(v){!function(p){class m{constructor(){this.bb=null,this.bb_pos=0}__init(c,a){return this.bb_pos=c,this.bb=a,this}static getRootAsInferenceSession(c,a){return(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static getSizePrefixedRootAsInferenceSession(c,a){return c.setPosition(c.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(a||new m).__init(c.readInt32(c.position())+c.position(),c)}static bufferHasIdentifier(c){return c.__has_identifier("ORTM")}ortVersion(c){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,c):null}model(c){let a=this.bb.__offset(this.bb_pos,6);return a?(c||new b.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}sessionState(c){let a=this.bb.__offset(this.bb_pos,8);return a?(c||new b.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startInferenceSession(c){c.startObject(3)}static addOrtVersion(c,a){c.addFieldOffset(0,a,0)}static addModel(c,a){c.addFieldOffset(1,a,0)}static addSessionState(c,a){c.addFieldOffset(2,a,0)}static endInferenceSession(c){return c.endObject()}static finishInferenceSessionBuffer(c,a){c.finish(a,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(c,a){c.finish(a,"ORTM",!0)}static createInferenceSession(c,a,d,h){return m.startInferenceSession(c),m.addOrtVersion(c,a),m.addModel(c,d),m.addSessionState(c,h),m.endInferenceSession(c)}}p.InferenceSession=m}(v.fbs||(v.fbs={}))}(b.experimental||(b.experimental={}))}(u.onnxruntime||(u.onnxruntime={}))},1723:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.OnnxjsSessionHandler=void 0;const S=g(8453),w=g(9240);u.OnnxjsSessionHandler=class{constructor(C){this.session=C,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}dispose(){return _asyncToGenerator(function*(){})()}run(C,b,v){var p=this;return _asyncToGenerator(function*(){const m=new Map;for(const a in C)if(Object.hasOwnProperty.call(C,a)){const d=C[a];m.set(a,new w.Tensor(d.dims,d.type,void 0,void 0,d.data))}const f=yield p.session.run(m),c={};return f.forEach((a,d)=>{c[d]=new S.Tensor(a.type,a.data,a.dims)}),c})()}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Session=void 0;const S=g(7067),w=g(1296),C=g(1975),b=g(6496),v=g(1315),p=g(1745);u.Session=class{constructor(m={}){this._initialized=!1,this.backendHint=m.backendHint,this.profiler=v.Profiler.create(m.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}loadModel(m,f,c){var a=this;return _asyncToGenerator(function*(){yield a.profiler.event("session","Session.loadModel",_asyncToGenerator(function*(){const d=yield(0,C.resolveBackend)(a.backendHint);if(a.sessionHandler=d.createSessionHandler(a.context),a._model=new p.Model,"string"==typeof m){const h=m.endsWith(".ort");if(typeof fetch>"u"){const _=yield(0,w.promisify)(S.readFile)(m);a.initialize(_,h)}else{const _=yield fetch(m),x=yield _.arrayBuffer();a.initialize(new Uint8Array(x),h)}}else if(ArrayBuffer.isView(m))a.initialize(m);else{const h=new Uint8Array(m,f||0,c||m.byteLength);a.initialize(h)}}))})()}initialize(m,f){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{this._model.load(m,this.sessionHandler.transformGraph?this.sessionHandler:void 0,f),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new b.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}run(m){var f=this;return _asyncToGenerator(function*(){if(!f._initialized)throw new Error("session not initialized yet");return f.profiler.event("session","Session.run",_asyncToGenerator(function*(){const c=f.normalizeAndValidateInputs(m),a=yield f._executionPlan.execute(f.sessionHandler,c);return f.createOutput(a)}))})()}normalizeAndValidateInputs(m){const f=this._model.graph.getInputNames();if(Array.isArray(m)){if(m.length!==f.length)throw new Error(`incorrect input array length: expected ${f.length} but got ${m.length}`)}else{if(m.size!==f.length)throw new Error(`incorrect input map size: expected ${f.length} but got ${m.size}`);const c=new Array(m.size);let a=0;for(let d=0;d<f.length;++d){const h=m.get(f[d]);if(!h)throw new Error(`missing input tensor for: '${name}'`);c[a++]=h}m=c}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,m,!1);else{const c=this._model.graph.getInputIndices(),a=this._model.graph.getValues(),d=new Array(c.length);for(let h=0;h<c.length;++h){const _=a[c[h]];d[h]=_.type.shape.dims,this.context.graphInputTypes.push(_.type.tensorType),this.context.graphInputDims.push(m[h].dims)}this.validateInputTensorDims(d,m,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,m),m}validateInputTensorTypes(m,f){for(let c=0;c<f.length;c++){const a=m[c],d=f[c].type;if(a!==d)throw new Error(`input tensor[${c}] check failed: expected type '${a}' but got ${d}`)}}validateInputTensorDims(m,f,c){for(let a=0;a<f.length;a++){const d=m[a],h=f[a].dims;if(!this.compareTensorDims(d,h,c))throw new Error(`input tensor[${a}] check failed: expected shape '[${d.join(",")}]' but got [${h.join(",")}]`)}}compareTensorDims(m,f,c){if(m.length!==f.length)return!1;for(let a=0;a<m.length;++a)if(m[a]!==f[a]&&(!c||0!==m[a]))return!1;return!0}createOutput(m){const f=this._model.graph.getOutputNames();if(m.length!==f.length)throw new Error("expected number of outputs do not match number of generated outputs");const c=new Map;for(let a=0;a<f.length;++a)c.set(f[a],m[a]);return c}initializeOps(m){const f=m.getNodes();this._ops=new Array(f.length);for(let c=0;c<f.length;c++)this._ops[c]=this.sessionHandler.resolve(f[c],this._model.opsets,m)}}},9240:function(z,u,g){"use strict";var S=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(u,"__esModule",{value:!0}),u.Tensor=void 0;const w=g(3442),C=S(g(3720)),b=g(1446),v=g(1287),p=g(7273);var m=v.onnxruntime.experimental.fbs;class f{get data(){if(void 0===this.cache){const x=this.dataProvider(this.dataId);if(x.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=x}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(x){return this.data[p.ShapeUtil.indicesToOffset(x,this.strides)]}set(x,D){this.data[p.ShapeUtil.indicesToOffset(x,this.strides)]=D}getData(){var x=this;return _asyncToGenerator(function*(){return void 0===x.cache&&(x.cache=yield x.asyncDataProvider(x.dataId)),x.cache})()}get strides(){return this._strides||(this._strides=p.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(x,D,I,A,R,P=w.Guid.create()){this.dims=x,this.type=D,this.dataProvider=I,this.asyncDataProvider=A,this.cache=R,this.dataId=P,this.size=p.ShapeUtil.validateDimsAndCalcSize(x);const k=this.size,B=void 0===I&&void 0===A&&void 0===R;if(void 0!==R&&R.length!==k)throw new RangeError("Input dims doesn't match data length.");if("string"===D){if(!(void 0===R||Array.isArray(R)&&R.every(V=>"string"==typeof V)))throw new TypeError("cache should be a string array");B&&(this.cache=new Array(k))}else{if(void 0!==R){const V=a(D);if(!(R instanceof V))throw new TypeError(`cache should be type ${V.name}`)}if(B){const V=new ArrayBuffer(k*function(j){switch(j){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${j}`)}}(D));this.cache=(j=V,new(a(D))(j))}}var j}static fromProto(x){if(!x)throw new Error("cannot construct Value from an empty tensor");const D=p.ProtoUtil.tensorDataTypeFromProto(x.dataType),I=p.ProtoUtil.tensorDimsFromProto(x.dims),A=new f(I,D);if("string"===D)x.stringData.forEach((R,P)=>{A.data[P]=(0,p.decodeUtf8String)(R)});else if(x.rawData&&"number"==typeof x.rawData.byteLength&&x.rawData.byteLength>0){const R=A.data,P=new DataView(x.rawData.buffer,x.rawData.byteOffset,x.rawData.byteLength),k=c(x.dataType),B=x.rawData.byteLength/k;if(x.rawData.byteLength%k!=0)throw new Error("invalid buffer length");if(R.length!==B)throw new Error("buffer length mismatch");for(let V=0;V<B;V++){const j=h(P,x.dataType,V*k);R[V]=j}}else{let R;switch(x.dataType){case b.onnx.TensorProto.DataType.FLOAT:R=x.floatData;break;case b.onnx.TensorProto.DataType.INT32:case b.onnx.TensorProto.DataType.INT16:case b.onnx.TensorProto.DataType.UINT16:case b.onnx.TensorProto.DataType.INT8:case b.onnx.TensorProto.DataType.UINT8:case b.onnx.TensorProto.DataType.BOOL:R=x.int32Data;break;case b.onnx.TensorProto.DataType.INT64:R=x.int64Data;break;case b.onnx.TensorProto.DataType.DOUBLE:R=x.doubleData;break;case b.onnx.TensorProto.DataType.UINT32:case b.onnx.TensorProto.DataType.UINT64:R=x.uint64Data;break;default:throw new Error("unspecific error")}if(null==R)throw new Error("failed to populate data from a tensorproto value");const P=A.data;if(P.length!==R.length)throw new Error("array length mismatch");for(let k=0;k<R.length;k++){const B=R[k];P[k]=C.default.isLong(B)?d(B,x.dataType):B}}return A}static fromData(x,D,I){return new f(D,I,void 0,void 0,x)}static fromOrtTensor(x){if(!x)throw new Error("cannot construct Value from an empty tensor");const D=p.ProtoUtil.tensorDimsFromORTFormat(x),I=p.ProtoUtil.tensorDataTypeFromProto(x.dataType()),A=new f(D,I);if("string"===I)for(let R=0;R<x.stringDataLength();R++)A.data[R]=x.stringData(R);else if(x.rawDataArray()&&"number"==typeof x.rawDataLength()&&x.rawDataLength()>0){const R=A.data,P=new DataView(x.rawDataArray().buffer,x.rawDataArray().byteOffset,x.rawDataLength()),k=c(x.dataType()),B=x.rawDataLength()/k;if(x.rawDataLength()%k!=0)throw new Error("invalid buffer length");if(R.length!==B)throw new Error("buffer length mismatch");for(let V=0;V<B;V++){const j=h(P,x.dataType(),V*k);R[V]=j}}return A}}function c(_){switch(_){case b.onnx.TensorProto.DataType.UINT8:case b.onnx.TensorProto.DataType.INT8:case b.onnx.TensorProto.DataType.BOOL:return 1;case b.onnx.TensorProto.DataType.UINT16:case b.onnx.TensorProto.DataType.INT16:return 2;case b.onnx.TensorProto.DataType.FLOAT:case b.onnx.TensorProto.DataType.INT32:case b.onnx.TensorProto.DataType.UINT32:return 4;case b.onnx.TensorProto.DataType.INT64:case b.onnx.TensorProto.DataType.DOUBLE:case b.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${b.onnx.TensorProto.DataType[_]}`)}}function a(_){switch(_){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function d(_,x){if(x===b.onnx.TensorProto.DataType.INT64||x===m.TensorDataType.INT64){if(_.greaterThanOrEqual(2147483648)||_.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(x!==b.onnx.TensorProto.DataType.UINT32&&x!==m.TensorDataType.UINT32&&x!==b.onnx.TensorProto.DataType.UINT64&&x!==m.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${b.onnx.TensorProto.DataType[x]}`);if(_.greaterThanOrEqual(4294967296)||_.lessThan(0))throw new TypeError("uint64 is not supported")}return _.toNumber()}function h(_,x,D){switch(x){case b.onnx.TensorProto.DataType.BOOL:case b.onnx.TensorProto.DataType.UINT8:return _.getUint8(D);case b.onnx.TensorProto.DataType.INT8:return _.getInt8(D);case b.onnx.TensorProto.DataType.UINT16:return _.getUint16(D,!0);case b.onnx.TensorProto.DataType.INT16:return _.getInt16(D,!0);case b.onnx.TensorProto.DataType.FLOAT:return _.getFloat32(D,!0);case b.onnx.TensorProto.DataType.INT32:return _.getInt32(D,!0);case b.onnx.TensorProto.DataType.UINT32:return _.getUint32(D,!0);case b.onnx.TensorProto.DataType.INT64:return d(C.default.fromBits(_.getUint32(D,!0),_.getUint32(D+4,!0),!1),x);case b.onnx.TensorProto.DataType.DOUBLE:return _.getFloat64(D,!0);case b.onnx.TensorProto.DataType.UINT64:return d(C.default.fromBits(_.getUint32(D,!0),_.getUint32(D+4,!0),!0),x);default:throw new Error(`cannot read from DataView for type ${b.onnx.TensorProto.DataType[x]}`)}}u.Tensor=f},7273:function(z,u,g){"use strict";var S=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(u,"__esModule",{value:!0}),u.decodeUtf8String=u.MAX_CLIP=u.MIN_CLIP=u.PoolConvUtil=u.ReduceUtil=u.SplitUtil=u.MathUtil=u.ShapeUtil=u.LongUtil=u.ProtoUtil=u.GemmUtil=u.arrayCopyHelper=u.BroadcastUtil=u.MatMulUtil=u.ArrayUtil=u.assert=u.checkInputsShape=void 0;const w=g(5686),C=S(g(3720)),b=g(1446),v=g(9240);u.checkInputsShape=function(x,...D){if(!x||x.length!==D.length)return!1;for(let I=0;I<x.length;I++)if(!x[I].dims||x[I].dims.length!==D[I])return!1;return!0},u.assert=function(x,D){if(!x)throw new Error("string"==typeof D?D:D())},u.ArrayUtil=class{static arraysEqual(x,D){if(x.length!==D.length)return!1;for(let I=0;I<x.length;I++)if(x[I]!==D[I])return!1;return!0}};class p{static preprocessInputShapes(D,I){return[1===D.length?[1,D[0]]:D,1===I.length?[I[0],1]:I]}static postprocessOutputShape(D,I,A){1===I&&D.splice(D.length-2,1),1===A&&D.pop()}static calcMatMulShape(D,I){return D[1]!==I[0]?void 0:[D[0],I[1]]}}u.MatMulUtil=p;class m{static calcShape(D,I,A=!1){const R=D.length,P=I.length;if(0===R)return I;if(0===P)return D;const k=Math.max(D.length,I.length),B=new Array(k);if(A){if(R<2||P<2)return;const V=p.calcMatMulShape([D[R-2],D[R-1]],[I[P-2],I[P-1]]);if(void 0===V)return;[B[k-2],B[k-1]]=V}for(let V=A?3:1;V<=k;V++){const j=R-V<0?1:D[R-V],X=P-V<0?1:I[P-V];if(j!==X&&j>1&&X>1)return;B[k-V]=Math.max(j,X)}return B}static index(D,I){const A=new Array(I.length);return m.fillIndex(D,I,A),A}static fillIndex(D,I,A){const R=D.length-I.length;for(let P=0;P<I.length;P++)A[P]=D[R+P]%I[P]}static calc(D,I,A,R,P){const k=m.calcShape(D.dims,I.dims);if(k){if(R&&!a.areEqual(k,D.dims))return;const B=a.size(k),V=R?D:new v.Tensor(k,P||D.type);if(0===k.length)V.set([],A(D.get([]),I.get([])));else{const j=new Array(k.length),X=new Array(D.dims.length),Q=new Array(I.dims.length);let Z,de=0,he=0,Pe=!1,ie=!1;0===D.dims.length&&(de=D.get([]),Pe=!0),0===I.dims.length&&(he=I.get([]),ie=!0);for(let ue=0;ue<B;ue++){Z=ue;for(let Fe=k.length-1;Fe>=0;Fe--)j[Fe]=Z%k[Fe],Z=Math.floor(Z/k[Fe]);Pe||(m.fillIndex(j,D.dims,X),de=D.get(X)),ie||(m.fillIndex(j,I.dims,Q),he=I.get(Q)),V.set(j,A(de,he))}}return V}}static isValidBroadcast(D,I){const A=D.length,R=I.length;if(A>R)return!1;for(let P=1;P<=A;P++)if(1!==D[A-P]&&D[A-P]!==I[R-P])return!1;return!0}static getBroadcastDims(D,I){const A=D.length,R=[];for(let P=0;P<A;P++){const k=A-1-P;(I[I.length-1-P]||1)>1&&1===(D[k]||1)&&R.unshift(k)}return R}}u.BroadcastUtil=m,u.arrayCopyHelper=function(x,D,I,A,R){if(A<0||A>=D.length)throw new Error("sourceIndex out of bounds");if(I<0||I>=x.length)throw new Error("targetIndex out of bounds");if(A+R>D.length)throw new Error("source indices to be copied are outside bounds");if(I+R>x.length)throw new Error("target array is too small to hold result");for(let P=0;P<R;P++)x[I+P]=D[A+P]},u.GemmUtil=class{static getShapeOfGemmResult(x,D,I,A,R){if(2!==x.length||2!==I.length)throw new Error("shape need to be of size 2");let P,k,B;D?(P=x[1],k=x[0]):(P=x[0],k=x[1]);let V=-1;if(A?(B=I[0],V=1):(B=I[1],V=0),I[V]!==k)throw new Error("dimension mismatch");if(P<=0||B<=0||k<=0)throw new Error("invalid shape specified");if(R&&!m.isValidBroadcast(R,[P,B]))throw new Error("gemm: invalid bias shape for broadcast");return[P,B,k]}};class f{static tensorDataTypeFromProto(D){switch(D){case b.onnx.TensorProto.DataType.INT8:return"int8";case b.onnx.TensorProto.DataType.UINT8:return"uint8";case b.onnx.TensorProto.DataType.BOOL:return"bool";case b.onnx.TensorProto.DataType.INT16:return"int16";case b.onnx.TensorProto.DataType.UINT16:return"uint16";case b.onnx.TensorProto.DataType.INT32:return"int32";case b.onnx.TensorProto.DataType.UINT32:return"uint32";case b.onnx.TensorProto.DataType.FLOAT:return"float32";case b.onnx.TensorProto.DataType.DOUBLE:return"float64";case b.onnx.TensorProto.DataType.STRING:return"string";case b.onnx.TensorProto.DataType.INT64:return"int32";case b.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${b.onnx.TensorProto.DataType[D]}`)}}static tensorDataTypeStringToEnum(D){switch(D){case"int8":return b.onnx.TensorProto.DataType.INT8;case"uint8":return b.onnx.TensorProto.DataType.UINT8;case"bool":return b.onnx.TensorProto.DataType.BOOL;case"int16":return b.onnx.TensorProto.DataType.INT16;case"uint16":return b.onnx.TensorProto.DataType.UINT16;case"int32":return b.onnx.TensorProto.DataType.INT32;case"uint32":return b.onnx.TensorProto.DataType.UINT32;case"float32":return b.onnx.TensorProto.DataType.FLOAT;case"float64":return b.onnx.TensorProto.DataType.DOUBLE;case"string":return b.onnx.TensorProto.DataType.STRING;case"int64":return b.onnx.TensorProto.DataType.INT64;case"uint64":return b.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${D}`)}}static tensorDimsFromProto(D){return D.map(I=>C.default.isLong(I)?I.toNumber():I)}static tensorValueTypeFromProto(D){return{tensorType:f.tensorDataTypeFromProto(D.elemType),shape:{dims:f.tensorDimsFromProto(D.shape.dim.map(I=>I.dimValue))}}}static tensorDimsFromORTFormat(D){const I=[];for(let A=0;A<D.dimsLength();A++)I.push(c.longToNumber(D.dims(A)));return I}static tensorAttributesFromORTFormat(D){const I=[];for(let A=0;A<D.attributesLength();A++)I.push(D.attributes(A));return I}}u.ProtoUtil=f;class c{static longToNumber(D,I){return C.default.isLong(D)?D.toNumber():D instanceof w.flatbuffers.Long?C.default.fromValue({low:D.low,high:D.high,unsigned:null!=I&&I}).toNumber():D}static isLong(D){return C.default.isLong(D)||D instanceof w.flatbuffers.Long}}u.LongUtil=c;class a{static size(D){return a.getSizeFromDimensionRange(D,0,D.length)}static sizeFromDimension(D,I){if(I<0||I>D.length)throw new Error(`invalid dimension of ${I} for sizeFromDimension as Tensor has ${D.length} dimensions.`);return a.getSizeFromDimensionRange(D,I,D.length)}static sizeToDimension(D,I){if(I<0||I>D.length)throw new Error(`invalid dimension of ${I} for sizeToDimension as Tensor has ${D.length} dimensions.`);return a.getSizeFromDimensionRange(D,0,I)}static getSizeFromDimensionRange(D,I,A){let R=1;for(let P=I;P<A;P++){if(D[P]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");R*=D[P]}return R}static computeStrides(D){const I=D.length;if(0===I)return[];if(1===I)return[1];const A=new Array(I);A[I-1]=1,A[I-2]=D[I-1];for(let R=I-3;R>=0;--R)A[R]=A[R+1]*D[R+1];return A}static transpose(D){return D.slice().reverse()}static indicesToOffset(D,I,A){void 0===A&&(A=D.length);let R=0;for(let P=0;P<A;++P)R+=I[P]*D[P];return R}static offsetToIndices(D,I){const A=I.length;if(0===A)return[];if(1===A)return[D*I[0]];const R=new Array(I.length);for(let P=0;P<R.length-1;++P)R[P]=Math.floor(D/I[P]),D-=R[P]*I[P];return R[R.length-1]=D,R}static normalizeAxis(D,I){if(D<-I&&D>=I)throw new Error("unsupported axis for this operation.");return D<0?D+I:D}static normalizeAxes(D,I){return D.map(A=>this.normalizeAxis(A,I))}static incrementIndex(D,I,A){if(0===I.length||0===D.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===A)A=I.length;else if(A<=0||A>I.length)throw new Error("Incorrect axis to increment on");for(let R=A-1;R>=0&&(D[R]++,!(D[R]<I[R]));--R)D[R]=0}static calculateReshapedDims(D,I){if(0===I.length){if(0===D.length||1===a.size(D))return[];throw new Error("cannot reshape to a scalar Tensor")}const A=I.length,R=new Array(A);let P=-1,k=1;for(let V=0;V<A;V++){if(I[V]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===I[V]){if(-1!==P)throw new Error("at most one dimension in shape hints can be -1");P=V}else{if(0===I[V]){if(V>=D.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");R[V]=D[V]}else R[V]=I[V];k*=R[V]}}const B=a.size(D);if(-1!==P){if(B%k!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${D}] Output shape: [${I}]`);R[P]=B/k}else if(k!==B)throw new Error("reshapedDims and originalDims don't have matching sizes");return R}static sortBasedOnPerm(D,I){return I?I.map(A=>D[A]):D.slice().reverse()}static padShape(D,I){const A=D.length;return D.map((R,P)=>R+I[P]+I[P+A])}static areEqual(D,I){return D.length===I.length&&D.every((A,R)=>A===I[R])}static validateDimsAndCalcSize(D){if(D.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let I=1;for(const A of D){if(!Number.isInteger(A))throw new TypeError(`Invalid shape: ${A} is not an integer`);if(A<0||A>2147483647)throw new TypeError(`Invalid shape: length ${A} is not allowed`);I*=A}return I}static flattenShape(D,I){I<0&&(I+=D.length);const A=D.reduce((P,k)=>P*k,1),R=D.slice(I).reduce((P,k)=>P*k,1);return[A/R,R]}static squeezeShape(D,I){const A=new Array;I=a.normalizeAxes(I,D.length);for(let R=0;R<D.length;R++){const P=I.indexOf(R)>=0;if(P&&1!==D[R])throw new Error("squeeze an axis of size different than 1");(0===I.length&&D[R]>1||I.length>0&&!P)&&A.push(D[R])}return A}static unsqueezeShape(D,I){const A=new Array(D.length+I.length);A.fill(0);for(let P=0;P<I.length;P++){const k=a.normalizeAxis(I[P],A.length);if(k>=A.length)throw new Error("'axes' has an out of range axis");if(0!==A[k])throw new Error("'axes' has a duplicate axis");A[k]=1}let R=0;for(let P=0;P<A.length;P++)0===A[P]&&(A[P]=D[R++]);if(R!==D.length)throw new Error("the unsqueezed dimension could not be established");return A}}u.ShapeUtil=a,u.MathUtil=class{static sqr(x,D,I,A,R){if(A<0||A>=D.length)throw new Error("sourceIndex out of bounds");if(I<0||I>=x.length)throw new Error("targetIndex out of bounds");if(A+R>D.length)throw new Error("source indices to be copied are outside bounds");if(I+R>x.length)throw new Error("target array is too small to hold result");for(let P=0;P<R;P++)x[I+P]+=Math.pow(D[A+P],2)}static axpy(x,D,I,A,R,P){if(A<0||A>=D.length)throw new Error("sourceIndex out of bounds");if(I<0||I>=x.length)throw new Error("targetIndex out of bounds");if(A+R>D.length)throw new Error("source indices to be copied are outside bounds");if(I+R>x.length)throw new Error("target array is too small to hold result");for(let k=0;k<R;k++)x[I+k]+=P*D[A+k]}static powx(x,D,I,A,R,P){if(A<0||A>=D.length)throw new Error("sourceIndex out of bounds");if(I<0||I>=x.length)throw new Error("targetIndex out of bounds");if(A+R>D.length)throw new Error("source indices to be copied are outside bounds");if(I+R>x.length)throw new Error("target array is too small to hold result");for(let k=0;k<R;k++)x[I+k]=Math.pow(D[A+k],P)}static mul(x,D,I,A,R){if(A<0||A>=D.length)throw new Error("sourceIndex out of bounds");if(I<0||I>=x.length)throw new Error("targetIndex out of bounds");if(A+R>D.length)throw new Error("source indices to be copied are outside bounds");if(I+R>x.length)throw new Error("target array is too small to hold result");for(let P=0;P<R;P++)x[I+P]=D[A+P]*x[I+P]}};class d{static splitShape(D,I,A,R){if(0===A.length){if(!R)throw new Error("need to know number of outputs when the 'split' attribute is not specified");d.determineSplit(D[I],R,A)}const P=[],k=[0];for(let B=0;B<A.length;++B){0!==B&&k.push(k[B-1]+A[B-1]);const V=D.slice();V[I]=A[B],P.push(V)}return[P,k]}static determineSplit(D,I,A){if(D%I!=0)throw new Error("cannot split tensor to equal sized parts");for(let R=0;R<I;++R)A.push(D/I)}}u.SplitUtil=d;class h{static calcReduce(D,I,A,R,P){const k=D.dims.slice(0);0===I.length&&k.forEach((de,he)=>I.push(he));const B=h.calcReduceShape(k,I,!0),V=a.size(B),j=new v.Tensor(B,D.type),X=a.computeStrides(B),Q=a.computeStrides(k),Z=new Array(k.length);for(let de=0;de<V;de++){const he=a.offsetToIndices(de,X);m.fillIndex(he,k,Z),j.set(he,h.calcReduceByAxis(D.numberData,I,k,0,a.indicesToOffset(Z,Q),R,P))}return A?j:new v.Tensor(h.calcReduceShape(k,I,A),j.type,void 0,void 0,j.data,j.dataId)}static calcReduceByAxis(D,I,A,R,P,k,B){let V=0;if(R>=I.length)return k(D[P]);const j=I[R],X=j>=A.length?1:a.size(A.slice(j+1));for(let Q=0;Q<A[j];Q++)V=0===Q?h.calcReduceByAxis(D,I,A,R+1,P,k,B):B(V,h.calcReduceByAxis(D,I,A,R+1,P,k,B)),P+=X;return V}static calcReduceShape(D,I,A){const R=D.slice();for(let P=0;P<I.length;P++)R[I[P]]=A?1:0;return R.filter(P=>0!==P)}}u.ReduceUtil=h;class _{static adjustPoolAttributes(D,I,A,R,P,k){if(!D&&A.length!==I.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(D)for(let B=0;B<I.length-2;B++)B>=A.length?A.push(I[B+2]):A[B]=I[B+2];for(let B=0;B<A.length;B++)if(B<R.length){if(R[B]<0)throw new Error("strides should be greater than or equal to 1")}else R.push(1);for(let B=0;B<A.length;B++)if(B<P.length){if(P[B]<0)throw new Error("dilations should be greater than or equal to 1")}else P.push(1);for(let B=0;B<2*A.length;B++)if(B<k.length){if(k[B]<0)throw new Error("pad should be greater than or equal to 1")}else k.push(0);for(let B=0;B<A.length;B++){if(A[B]<=0)throw new Error("kernel shapes need to be greater than 0");if(k[B]>=A[B]||k[B+A.length]>=A[B])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(D,I,A,R,P,k){if(k){if(P.length!==2*(D.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(I.length!==D.length-2)throw new Error("length of strides should be the length of data dimensions");if(R.length!==D.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let B=0;B<D.length-2;B++)_.adjustPadAndReturnShape(D[B+2],I[B],A[B],R[B],P,B,B+D.length-2,k)}}static computePoolOutputShape(D,I,A,R,P,k,B){if(I.length<=0)throw new Error("input shape must be of size greater than 0");const V=[I[0],I[1]];return _.computeShapeHelper(D,I,V,A,R,P,k,B),V}static computeConvOutputShape(D,I,A,R,P,k,B){if(D.length<=0||I.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const V=[D[0],I[0]];return _.computeShapeHelper(!1,D,V,A,R,P,k,B),V}static computeShapeHelper(D,I,A,R,P,k,B,V){if(D)for(let j=0;j<I.length-2;j++)A.push(1);else for(let j=0;j<I.length-2;j++)A.push(_.adjustPadAndReturnShape(I[j+2],R[j],P[j],k[j],B,j,j+I.length-2,V))}static adjustPadAndReturnShape(D,I,A,R,P,k,B,V){const j=A*(R-1)+1;if(!V||"NOTSET"===V)return Math.floor((D+P[k]+P[B]-j)/I+1);switch(V){case"VALID":return P[k]=0,P[B]=0,Math.floor((D-j)/I+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==A)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const X=((D+I-1)/I-1)*I+R-D;return P[k]=Math.floor("SAME_LOWER"===V?(X+1)/2:X/2),P[B]=X-P[k],Math.floor((D+X-R)/I+1)}default:throw new Error("Unsupported AutoPad type")}}}u.PoolConvUtil=_,u.MIN_CLIP=-34028234663852886e22,u.MAX_CLIP=34028234663852886e22,u.decodeUtf8String=function(x){return(new TextDecoder).decode(x)}},3838:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.WebGpuBackend=void 0;const S=g(8453),w=g(4955),C=g(7771),b=g(8510),v=g(8305);u.WebGpuBackend=class{constructor(){this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.pendingDispatchNumber=0,this.profilingEnabled=!1}get currentKernelCustomData(){if(null===this.currentKernelId)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let p=this.kernelCustomData.get(this.currentKernelId);return p||(p={},this.kernelCustomData.set(this.currentKernelId,p)),p}initialize(){var p=this;return _asyncToGenerator(function*(){if(!navigator.gpu)throw new Error("WebGpuBackend: WebGPU is not available.");const m=yield navigator.gpu.requestAdapter();if(!m)throw new Error("WebGpuBackend: Failed to get GPU adapter.");const f={requiredLimits:{maxComputeWorkgroupStorageSize:m.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:m.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:m.limits.maxStorageBufferBindingSize}};m.features.has("timestamp-query-inside-passes")&&"default"===S.env.webgpu.profilingMode&&(p.profilingEnabled=!0,f.requiredFeatures=["timestamp-query-inside-passes"]),p.device=yield m.requestDevice(f),p.gpuDataManager=(0,C.createGpuDataManager)(p),p.programManager=new v.ProgramManager(p),p.kernels=new Map,p.kernelPersistentData=new Map,p.kernelCustomData=new Map,p.device.onuncapturederror=c=>{c.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${c.error.message}`)},p.profilingEnabled&&(p.profilingQuerySet=p.device.createQuerySet({type:"timestamp",count:2}))})()}dispose(){}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){return this.computePassEncoder||(this.computePassEncoder=this.getCommandEncoder().beginComputePass()),this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){this.endComputePass(),this.device.queue.submit([this.getCommandEncoder().finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0}run(p,m,f,c,a){if(m.length!==p.inputTypes.length)throw new Error(`Input size must be equal to ${p.inputTypes.length}.`);const d=[];for(let P=0;P<m.length;++P){const k=this.gpuDataManager.get(m[P].data);if(!k)throw new Error(`no GPU data for input: ${m[P].data}`);d[P]=k}const h=((P,k,B)=>{const V=k.map(Q=>`${Q.join(",")}`).join("_"),j=B.join("_");let X=P.name;return P.cacheHint&&(X+="["+P.cacheHint+"]"),X+=":"+V+";"+j,X})(p,m.map(P=>P.dims),d.map(P=>P.type));let _=this.programManager.getArtifact(h);const x=_?_.programInfo:"function"==typeof p.get?p.get():p,D=0===f.length?x.outputs.map((P,k)=>k):f;if(D.length!==x.outputs.length)throw new Error(`Output size ${D.length} must be equal to ${x.outputs.length}.`);const I=[],A=[];for(let P=0;P<x.outputs.length;++P){if(!Number.isInteger(D[P])||D[P]<-2||D[P]>=x.outputs.length)throw new Error(`Invalid output index: ${D[P]}`);const k=-1===D[P],B=-2===D[P],V=k||B?a(x.outputs[P].dataType,x.outputs[P].dims):c(D[P],x.outputs[P].dataType,x.outputs[P].dims),j=this.gpuDataManager.get(V.data);if(!j)throw new Error(`no GPU data for output: ${V.data}`);if(k&&this.temporaryData.push(j),B){let X=this.kernelPersistentData.get(this.currentKernelId);X||(X=[],this.kernelPersistentData.set(this.currentKernelId,X)),X.push(j)}I.push(V),A.push(j)}const R=this.programManager.normalizeDispatchGroupSize(x.dispatchGroup(m));return _||(_=this.programManager.build(x,R),this.programManager.setArtifact(h,_)),(0,w.LOG_DEBUG)("info",()=>`[ProgramManager] run "${x.name}" (key=${h}) with ${R[0]}x${R[1]}x${R[2]}`),this.programManager.run(_,d,A,R),I}upload(p,m){this.gpuDataManager.upload(p,m)}memcpy(p,m){this.gpuDataManager.memcpy(p,m)}download(p,m){var f=this;return _asyncToGenerator(function*(){const c=yield f.gpuDataManager.download(p);m().set(new Uint8Array(c))})()}alloc(p){return this.gpuDataManager.create(p).id}free(p){return this.gpuDataManager.release(p)}createKernel(p,m,f){const c=b.WEBGPU_OP_RESOLVE_RULES.get(p);if(!c)throw new Error(`kernel not implemented: ${p}`);this.kernels.set(m,[p,c[0],[c[1],f]])}releaseKernel(p){const m=this.kernelPersistentData.get(p);if(m){for(const f of m)this.gpuDataManager.release(f.id);this.kernelPersistentData.delete(p)}this.kernelCustomData.delete(p),this.kernels.delete(p)}computeKernel(p,m){const f=this.kernels.get(p);if(!f)throw new Error(`kernel not created: ${p}`);const[c,a,d]=f;if(null!==this.currentKernelId)throw new Error(`kernel "${c}" is not allowed to be called recursively`);this.currentKernelId=p,d[0]&&(d[1]=d[0](d[1]),d[0]=void 0),(0,w.LOG_DEBUG)("info",()=>`[WebGPU] Start to run kernel "${c}"...`),this.temporaryData=[];try{return a(m,d[1]),0}catch(h){return(0,w.LOG_DEBUG)("warning",`[WebGPU] Kernel "${c}" failed. Error: ${h}`),1}finally{for(const h of this.temporaryData)this.gpuDataManager.release(h.id);this.temporaryData=[],this.currentKernelId=null}}}},7675:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.init=void 0;const S=g(7917),w=g(3838),C=g(4955),b=g(6952);class v{constructor(f,c,a,d){this.module=f,this.dataType=c,this.data=a,this.dims=d}getFloat32Array(){return new Float32Array(this.module.HEAP8.buffer,this.data,b.ShapeUtil.size(this.dims))}reshape(f){if(b.ShapeUtil.size(f)!==b.ShapeUtil.size(this.dims))throw new Error("Invalid new shape");return new v(this.module,this.dataType,this.data,f)}}class p{get customData(){return this.backend.currentKernelCustomData}constructor(f,c,a){this.module=f,this.backend=c;const d=f.HEAPU32;let h=a>>2;this.opKernelContext=d[h++];const _=d[h++],x=[];for(let D=0;D<_;D++){const I=d[h++],A=d[h++],R=d[h++],P=[];for(let k=0;k<R;k++)P.push(d[h++]);x.push(new v(f,I,A,P))}this.inputs=x}compute(f,c){var a,d,h;const _=null!==(d=null===(a=c?.inputs)||void 0===a?void 0:a.map(D=>"number"==typeof D?this.inputs[D]:D))&&void 0!==d?d:this.inputs,x=null!==(h=c?.outputs)&&void 0!==h?h:[];return this.backend.run(f,_,x,(D,I,A)=>new v(this.module,I,this.output(D,A),A),(D,I)=>{const A=(0,S.getTensorElementSize)(D);if(!A)throw new Error(`Unsupported data type: ${D}`);const R=A*b.ShapeUtil.size(I);return new v(this.module,D,this.backend.gpuDataManager.create(R).id,I)})}output(f,c){const a=this.module.stackSave();try{const d=this.module.stackAlloc(4*(1+c.length));let h=d>>2;this.module.HEAPU32[h++]=c.length;for(let _=0;_<c.length;_++)this.module.HEAPU32[h++]=c[_];return this.module._JsepOutput(this.opKernelContext,f,d)}finally{this.module.stackRestore(a)}}}u.init=function(){var m=_asyncToGenerator(function*(f){const c=f.jsepInit;if(c&&navigator.gpu){const a=new w.WebGpuBackend;yield a.initialize(),c({backend:a},d=>a.alloc(d),d=>a.free(d),(d,h,_,x=!1)=>{if(x)(0,C.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${d}, dst=${h}, size=${_}`),a.memcpy(d,h);else{(0,C.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${d}, gpuDataId=${h}, size=${_}`);const D=f.HEAPU8.subarray(d,d+_);a.upload(h,D)}},function(){var d=_asyncToGenerator(function*(h,_,x){(0,C.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${h}, dataOffset=${_}, size=${x}`),yield a.download(h,()=>f.HEAPU8.subarray(_,_+x))});return function(h,_,x){return d.apply(this,arguments)}}(),(d,h,_)=>a.createKernel(d,h,_),d=>a.releaseKernel(d),(d,h)=>{(0,C.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepRun: kernel=${d}, contextDataOffset=${h}`);const _=new p(f,a,h);return a.computeKernel(d,_)})}});return function(f){return m.apply(this,arguments)}}()},4955:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.LOG_DEBUG=u.LOG=void 0;const S=g(8453),w=g(7917),C=["V","I","W","E","F"];u.LOG=(b,v)=>{const p=(0,w.logLevelStringToEnum)(b);var m,f;p>=(0,w.logLevelStringToEnum)(S.env.logLevel)&&(m=p,f="function"==typeof v?v():v,console.log(`[${C[m]},${(new Date).toISOString()}]${f}`))},u.LOG_DEBUG=(...b)=>{S.env.debug&&(0,u.LOG)(...b)}},6952:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MAX_CLIP=u.MIN_CLIP=u.GemmUtil=u.PoolConvUtil=u.ShapeUtil=u.BroadcastUtil=u.MatMulUtil=void 0;class g{static calcMatMulShape(v,p){return v[1]!==p[0]?void 0:[v[0],p[1]]}}u.MatMulUtil=g;class S{static calcShape(v,p,m=!1){const f=v.length,c=p.length;if(0===f)return p;if(0===c)return v;const a=Math.max(v.length,p.length),d=new Array(a);if(m){if(f<2||c<2)return;const h=g.calcMatMulShape([v[f-2],v[f-1]],[p[c-2],p[c-1]]);if(void 0===h)return;[d[a-2],d[a-1]]=h}for(let h=m?3:1;h<=a;h++){const _=f-h<0?1:v[f-h],x=c-h<0?1:p[c-h];if(_!==x&&_>1&&x>1)return;d[a-h]=Math.max(_,x)}return d}static isValidBroadcast(v,p){const m=v.length,f=p.length;if(m>f)return!1;for(let c=1;c<=m;c++)if(1!==v[m-c]&&v[m-c]!==p[f-c])return!1;return!0}}u.BroadcastUtil=S;class w{static size(v){return w.getSizeFromDimensionRange(v,0,v.length)}static sizeFromDimension(v,p){if(p<0||p>v.length)throw new Error(`invalid dimension of ${p} for sizeFromDimension as Tensor has ${v.length} dimensions.`);return w.getSizeFromDimensionRange(v,p,v.length)}static sizeToDimension(v,p){if(p<0||p>v.length)throw new Error(`invalid dimension of ${p} for sizeToDimension as Tensor has ${v.length} dimensions.`);return w.getSizeFromDimensionRange(v,0,p)}static getSizeFromDimensionRange(v,p,m){let f=1;for(let c=p;c<m;c++){if(v[c]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");f*=v[c]}return f}static computeStrides(v){const p=v.length;if(0===p)return[];if(1===p)return[1];const m=new Array(p);m[p-1]=1,m[p-2]=v[p-1];for(let f=p-3;f>=0;--f)m[f]=m[f+1]*v[f+1];return m}static normalizeAxis(v,p){if(v<-p&&v>=p)throw new Error("unsupported axis for this operation.");return v<0?v+p:v}static normalizeAxes(v,p){return v.map(m=>this.normalizeAxis(m,p??v.length))}static sortBasedOnPerm(v,p){return p?p.map(m=>v[m]):v.slice().reverse()}static padShape(v,p){const m=v.length;return v.map((f,c)=>f+p[c]+p[c+m])}static areEqual(v,p){return v.length===p.length&&v.every((m,f)=>m===p[f])}}u.ShapeUtil=w;class C{static adjustPoolAttributes(v,p,m,f,c,a){if(!v&&m.length!==p.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(v)for(let d=0;d<p.length-2;d++)d>=m.length?m.push(p[d+2]):m[d]=p[d+2];for(let d=0;d<m.length;d++)if(d<f.length){if(f[d]<0)throw new Error("strides should be greater than or equal to 1")}else f.push(1);for(let d=0;d<m.length;d++)if(d<c.length){if(c[d]<0)throw new Error("dilations should be greater than or equal to 1")}else c.push(1);for(let d=0;d<2*m.length;d++)if(d<a.length){if(a[d]<0)throw new Error("pad should be greater than or equal to 1")}else a.push(0);for(let d=0;d<m.length;d++){if(m[d]<=0)throw new Error("kernel shapes need to be greater than 0");if(a[d]>=m[d]||a[d+m.length]>=m[d])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(v,p,m,f,c,a,d){if(d){if(c.length!==2*(v.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(p.length!==v.length-2)throw new Error("length of strides should be the length of data dimensions");if(f.length!==v.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let h=0;h<v.length-2;h++)C.adjustPadAndReturnShape(v[h+(a?1:2)],p[h],m[h],f[h],c,h,h+v.length-2,d)}}static computePoolOutputShape(v,p,m,f,c,a,d){if(p.length<=0)throw new Error("input shape must be of size greater than 0");const h=[p[0],p[1]];return C.computeShapeHelper(v,p,h,m,f,c,a,d),h}static computeConvOutputShape(v,p,m,f,c,a,d){if(v.length<=0||p.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const h=[v[0],p[0]];return C.computeShapeHelper(!1,v,h,m,f,c,a,d),h}static computeShapeHelper(v,p,m,f,c,a,d,h){if(v)for(let _=0;_<p.length-2;_++)m.push(1);else for(let _=0;_<p.length-2;_++)m.push(C.adjustPadAndReturnShape(p[_+2],f[_],c[_],a[_],d,_,_+p.length-2,h))}static adjustPadAndReturnShape(v,p,m,f,c,a,d,h){const _=m*(f-1)+1;if(!h||"NOTSET"===h)return Math.floor((v+c[a]+c[d]-_)/p+1);switch(h){case"VALID":return c[a]=0,c[d]=0,Math.floor((v-_)/p+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==m)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const x=((v+p-1)/p-1)*p+f-v;return c[a]=Math.floor("SAME_LOWER"===h?(x+1)/2:x/2),c[d]=x-c[a],Math.floor((v+x-f)/p+1)}default:throw new Error("Unsupported AutoPad type")}}}u.PoolConvUtil=C,u.GemmUtil=class{static getShapeOfGemmResult(b,v,p,m,f){if(2!==b.length||2!==p.length)throw new Error("shape need to be of size 2");let c,a,d;v?(c=b[1],a=b[0]):(c=b[0],a=b[1]);let h=-1;if(m?(d=p[0],h=1):(d=p[1],h=0),p[h]!==a)throw new Error("dimension mismatch");if(c<=0||d<=0||a<=0)throw new Error("invalid shape specified");if(f&&!S.isValidBroadcast(f,[c,d]))throw new Error("gemm: invalid bias shape for broadcast");return[c,d,a]}},u.MIN_CLIP=-34028234663852886e22,u.MAX_CLIP=34028234663852886e22},387:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createAttributeWithCacheKey=void 0;class g{constructor(w){Object.assign(this,w)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(w=>`${this[w]}`).join(";")),this._cacheKey}}u.createAttributeWithCacheKey=S=>new g(S)},7771:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createGpuDataManager=void 0;const S=g(4955),w=g(1163),C=p=>16*Math.ceil(p/16);let b=0;class v{constructor(m){this.backend=m,this.storageCache=new Map,this.downloadCache=new Map,this.buffersForUploadingPending=[],this.buffersPending=[]}upload(m,f){const c=f.buffer,a=f.byteOffset,d=f.byteLength,h=C(d),_=this.storageCache.get(m);if(!_)throw new Error("gpu data for uploading does not exist");if(_.originalSize!==d)throw new Error(`inconsistent data size. gpu data size=${_.originalSize}, data size=${d}`);const x=this.backend.device.createBuffer({mappedAtCreation:!0,size:h,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),D=x.getMappedRange();new Uint8Array(D).set(new Uint8Array(c,a,d)),x.unmap();const I=this.backend.getCommandEncoder();this.backend.endComputePass(),I.copyBufferToBuffer(x,0,_.gpuData.buffer,0,h),(0,S.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${m})`),this.buffersForUploadingPending.push(x)}memcpy(m,f){const c=this.storageCache.get(m);if(!c)throw new Error("source gpu data for memcpy does not exist");const a=this.storageCache.get(f);if(!a)throw new Error("destination gpu data for memcpy does not exist");if(c.originalSize!==a.originalSize)throw new Error("inconsistent source and destination gpu data size");const d=C(c.originalSize);this.backend.getCommandEncoder().copyBufferToBuffer(c.gpuData.buffer,0,a.gpuData.buffer,0,d)}create(m,f=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){const c=C(m),a=this.backend.device.createBuffer({size:c,usage:f}),d={id:b++,type:w.GpuDataType.default,buffer:a};return this.storageCache.set(d.id,{gpuData:d,originalSize:m}),(0,S.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.create(size=${m}) => id=${d.id}`),d}get(m){var f;return null===(f=this.storageCache.get(m))||void 0===f?void 0:f.gpuData}release(m){const f=this.storageCache.get(m);if(!f)throw new Error("releasing data does not exist");return(0,S.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.release(id=${m}), gpuDataId=${f.gpuData.id}`),this.storageCache.delete(m),this.buffersPending.push(f.gpuData.buffer),this.downloadCache.get(m)&&this.downloadCache.delete(m),f.originalSize}download(m){var f=this;return _asyncToGenerator(function*(){const c=f.downloadCache.get(m);if(c)return c.data;const a=f.storageCache.get(m);if(!a)throw new Error("data does not exist");const d=f.backend.getCommandEncoder();f.backend.endComputePass();const h=f.backend.device.createBuffer({size:a.originalSize,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});d.copyBufferToBuffer(a.gpuData.buffer,0,h,0,a.originalSize),f.backend.flush();const _=new Promise(x=>{h.mapAsync(GPUMapMode.READ).then(()=>{const D=h.getMappedRange().slice(0);h.destroy(),x(D)})});return f.downloadCache.set(m,{data:_}),_})()}refreshPendingBuffers(){for(const m of this.buffersForUploadingPending)m.destroy();for(const m of this.buffersPending)m.destroy()}}u.createGpuDataManager=(...p)=>new v(...p)},8510:function(z,u,g){"use strict";var S=this&&this.__createBinding||(Object.create?function(d,h,_,x){void 0===x&&(x=_);var D=Object.getOwnPropertyDescriptor(h,_);D&&!("get"in D?!h.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return h[_]}}),Object.defineProperty(d,x,D)}:function(d,h,_,x){void 0===x&&(x=_),d[x]=h[_]}),w=this&&this.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),C=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(null!=d)for(var _ in d)"default"!==_&&Object.prototype.hasOwnProperty.call(d,_)&&S(h,d,_);return w(h,d),h};Object.defineProperty(u,"__esModule",{value:!0}),u.WEBGPU_OP_RESOLVE_RULES=void 0;const b=C(g(504)),v=g(9770),p=g(4271),m=g(1522),f=C(g(5262)),c=g(2625),a=C(g(9302));u.WEBGPU_OP_RESOLVE_RULES=new Map([["Abs",[a.abs]],["Acos",[a.acos]],["Acosh",[a.acosh]],["Add",[b.add]],["Asin",[a.asin]],["Asinh",[a.asinh]],["Atan",[a.atan]],["Atanh",[a.atanh]],["AveragePool",[f.averagePool,f.parseAveragePoolAttributes]],["Ceil",[a.ceil]],["ClipV10",[a.clipV10]],["Clip",[a.clip]],["Conv",[v.conv,v.parseConvAttributes]],["Cos",[a.cos]],["Cosh",[a.cosh]],["Div",[b.div]],["Elu",[a.elu,a.parseAlphaAttributes]],["Erf",[a.erf]],["Exp",[a.exp]],["Floor",[a.floor]],["Gemm",[p.gemm,p.parseGemmAttributes]],["GlobalAveragePool",[f.globalAveragePool,f.parseGlobalAveragePoolAttributes]],["GlobalMaxPool",[f.globalMaxPool,f.parseGlobalMaxPoolAttributes]],["LeakyRelu",[a.leakyRelu,a.parseAlphaAttributes]],["MatMul",[m.matMul]],["MaxPool",[f.maxPool,f.parseMaxPoolAttributes]],["Mul",[b.mul]],["Neg",[a.neg]],["Pow",[b.pow]],["Reciprocal",[a.reciprocal]],["Relu",[a.relu]],["Sigmoid",[a.sigmoid]],["Sin",[a.sin]],["Sinh",[a.sinh]],["Sqrt",[a.sqrt]],["Sub",[b.sub]],["Tan",[a.tan]],["Tanh",[a.tanh]],["ThresholdedRelu",[a.thresholdedRelu,a.parseAlphaAttributes]],["Transpose",[c.transpose,c.parseTransposeAttributes]]])},1427:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.biasActivationSnippet=u.activationFnSnippet=u.typeSnippet=void 0,u.typeSnippet=g=>{switch(g){case 1:return"f32";case 2:return"vec2<f32>";case 3:return"vec3<f32>";case 4:return"vec4<f32>";default:throw new Error(`${g}-component is not supported.`)}},u.activationFnSnippet=(g,S=!1,w=!1,C=3)=>"",u.biasActivationSnippet=(g,S)=>`\n      ${g?"value = value + getBiasByOutputCoords(coords);":""}\n      ${S?"value = activation(value, coords);":""}\n      `},9456:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createConv2DMatMulProgramInfo=void 0;const S=g(4955),w=g(6952),C=g(1163),b=g(1427),v=g(4085),p=g(158);u.createConv2DMatMulProgramInfo=(m,f,c,a,d,h,_,x,D)=>{const I="NHWC"===c.format,A=I?m[0].dims[3]:m[0].dims[1],R=a[0],P=I?a[2]:a[3],k=I?a[1]:a[2],B=I?a[3]:a[1],V=((A%4==0||A%3==0)&&I||P%4==0&&!I)&&B%4==0,j=I?B:P*k,X=I?P*k:B,Q=V?[8,8,1]:[j<=4?4:16,j>4&&X<=4?4:16,1],Z=V?[4,4,1]:[j<=4?1:2,j>4&&X<=4?1:2,1],de=[Math.ceil(j/Q[0]/Z[0]),Math.ceil(X/Q[1]/Z[1]),Math.ceil(R/Q[2]/Z[1])];(0,S.LOG_DEBUG)("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${de}`);const he=V?I&&A%4!=0?3:4:Z[0],Pe=Q[1]*Z[1],ie=Q[0]*Z[0],ue=Math.max(Q[0]*he,Q[1]),Fe=d%Pe==0,Ye=h%ie==0,dt=_%ue==0,et=V?[he,4,4]:[1,1,1],ft=[`@group(0) @binding(0) var<storage, read> x: array<${V&&4===he?"vec4<f32>":"f32"}>;`,`@group(0) @binding(1) var<storage, read> w: array<${V?"vec4<f32>":"f32"}>;`];let Rt=`\n      fn setOutputAtIndex(flatIndex : i32, value : ${V?"vec4<f32>":"f32"}) {\n        result[flatIndex] = ${V?"vec4<f32>":"f32"}(value);\n      }\n      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${V?"vec4<f32>":"f32"}) {\n        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));\n        setOutputAtIndex(flatIndex ${V?"/ 4":""}, value);\n      }`;return x&&(ft.push(`@group(0) @binding(2) var<storage, read> bias: array<${V?"vec4<f32>":"f32"}>;`),Rt+=`\n        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${V?"vec4<f32>":"f32"} {\n          return bias[coords.${I?"w":"y"}${V?"/ 4":""}];\n        }`),Object.assign(Object.assign({},f),{outputs:[{dims:a,dataType:m[0].dataType,gpuDataType:C.GpuDataType.default}],dispatchGroup:()=>({x:de[0],y:de[1],z:de[2]}),getShaderSource:()=>`\n        ${v.utilFunctions}\n        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,\n        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,\n        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };\n        ${ft.join("")}\n        @group(0) @binding(${ft.length}) var<storage, read_write> result: array<${V?"vec4<f32>":"f32"}>;\n        //@group(0) @binding(${ft.length+1}) var<uniform> uniforms: Uniforms;\n\n        const xShape : vec4<i32> = vec4<i32>(${m[0].dims.join(",")});\n        const wShape : vec4<i32> = vec4<i32>(${m[1].dims.join(",")});\n        const outShape : vec4<i32> = vec4<i32>(${a.join(",")});\n        const outShapeStrides : vec3<i32> = vec3<i32>(${w.ShapeUtil.computeStrides(a).slice(0,3).join(",")});\n        const filterDims : vec2<i32> = vec2<i32>(${c.kernelShape[0]}, ${c.kernelShape[1]});\n        const pad : vec2<i32> = vec2<i32>(${c.pads[0]}, ${c.pads[1]});\n        const stride : vec2<i32> = vec2<i32>(${c.strides[0]}, ${c.strides[1]});\n        const dilation : vec2<i32> = vec2<i32>(${c.dilations[0]}, ${c.dilations[1]});\n        const dimAOuter : i32 = ${d};\n        const dimBOuter : i32 = ${h};\n        const dimInner : i32 = ${_};\n        ${Rt}\n        ${((pt,Ht,Oe,ge,Je=!1,ht,$t=!1,Ut=4,gt=4,Gt=4)=>{const at=pt?"\n    let coord = vec4<i32>(batch, xRow, xCol, xCh);\n    ":"\n    let coord = vec4<i32>(batch, xCh, xRow, xCol);\n    ",vn=pt?"\n    let coords = vec4<i32>(\n      batch,\n      row / outWidth,\n      row % outWidth,\n      col);\n    ":"\n    let coords = vec4<i32>(\n      batch,\n      row,\n      col / outWidth,\n      col % outWidth);\n    ",Y=pt?"xShape[1]":"xShape[2]",Se=pt?"xShape[2]":"xShape[3]",F=pt?"row":"col",U=pt?"col":"row",G=`\n    let inChannels = wShape[2];\n    let outWidth = ${pt?"outShape[2]":"outShape[3]"};\n    let outRow = ${F} / outWidth;\n    let outCol = ${F} % outWidth;\n\n    let WRow = ${U} / (filterDims[1] * inChannels);\n    let WCol = ${U} / inChannels % filterDims[1];\n    let xRow = outRow * stride[0] + dilation[0] * WRow - pad[0];\n    let xCol = outCol * stride[1] + dilation[1] * WCol - pad[1];\n    let xCh = ${U} % inChannels;\n    var resData = ${(0,b.typeSnippet)(Ut)}(0.0);\n    // The bounds checking is always needed since we use it to pad zero for\n    // the 'same' padding type.\n    if (xRow >= 0 && xRow < ${Y} && xCol >= 0 && xCol < ${Se}) {\n      ${at}\n      let xIndex = getIndexFromCoords4D(coord, xShape);\n      ${(nt=>{switch(nt){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${nt} is not supported.`)}})(Ut)}\n    }\n    return resData;`,J=pt?Ht&&ge?`\n    let col = colIn * ${Ut};\n    ${G}`:`\n    let col = colIn * ${Ut};\n    if (row < dimAOuter && col < dimInner) {\n      ${G}\n    }\n    return ${(0,b.typeSnippet)(Ut)}(0.0);`:ge&&Oe?`\n    let col = colIn * ${Ut};\n    ${G}`:`\n    let col = colIn * ${Ut};\n    if (row < dimInner && col < dimBOuter) {\n      ${G}\n    }\n    return ${(0,b.typeSnippet)(Ut)}(0.0);`,fe=`${(nt=>{switch(nt){case 1:return"return w[row * wShape[3] + colIn];";case 4:return"return w[row * wShape[3] / 4 + colIn];";default:throw new Error(`innerElementSize ${nt} is not supported.`)}})(gt)}`,be=(0,b.typeSnippet)(Gt),Ee=(0,b.typeSnippet)(pt?Ut:gt),it=(0,b.typeSnippet)(pt?gt:Ut);return`\n    ${(0,b.activationFnSnippet)(ht,$t,4===Gt,4)}\n    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${Ee} {\n      ${pt?J:fe}\n    }\n\n    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${it} {\n      ${pt?fe:J}\n    }\n\n    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${be}) {\n      let col = colIn * ${Gt};\n      if (row < dimAOuter && col < dimBOuter)\n      {\n      var value = valueIn;\n      let outWidth = ${pt?"outShape[2]":"outShape[3]"};\n      ${vn}\n      ${(0,b.biasActivationSnippet)(Je,ht)}\n      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);\n      }\n    }`})(I,Fe,Ye,dt,x,void 0,!1,et[0],et[1],et[2])}\n            ${V?(0,p.makeMatMulPackedVec4Source)(Z,Q,!I,ue):(0,p.makeMatMulPackedSource)(Z,Q,!I,ue,!1,void 0,D)}`})}},4085:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.utilFunctions=void 0,u.utilFunctions="\nfn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));\n}\nfn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {\n  return dot(coords, vec4<i32>(\n    outShapeStrides.x, outShapeStrides.y, outShapeStrides.z, 1));\n}\n"},158:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.makeMatMulPackedSource=u.makeMatMulPackedVec4Source=void 0,u.makeMatMulPackedVec4Source=(S,w,C=!1,b=32,v=!1,p=32,m=!1)=>{const f=w[1]*S[1],c=w[0]*S[0],a=C?f:b,d=C?b:f,h=a/w[0],_=b/w[1];if((!C||4!==h||4!==S[1])&&(C||3!==h&&4!==h)||a%w[0]!=0||b%w[1]!=0||4!==S[0])throw new Error(`If transposeA ${C} is true, innerElementSize ${h} and workPerThread[1] ${S[1]} must be 4.\n      Otherwise, innerElementSize ${h} must be 3 or 4.\n  tileAWidth ${a} must be divisible by workgroupSize[0]${w[0]}. tileInner ${b} must be divisible by workgroupSize[1] ${w[1]}. colPerThread ${S[0]} must be 4.`);return`\nvar<workgroup> mm_Asub : array<array<vec${h}<f32>, ${a/h}>, ${d}>;\nvar<workgroup> mm_Bsub : array<array<vec4<f32>, ${c/S[0]}>, ${b}>;\n\nconst rowPerThread = ${S[1]};\nconst colPerThread = ${S[0]};\nconst innerElementSize = ${h};\nconst tileInner = ${b};\n\n@compute @workgroup_size(${w[0]}, ${w[1]}, ${w[2]})\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n  let localRow = i32(localId.y);\n  let tileRow = ${m?"0":"localRow * rowPerThread"};\n  let tileCol = i32(localId.x);\n\n  let globalRow = ${m?"0":"i32(globalId.y) * rowPerThread"};\n  let globalCol = i32(globalId.x);\n  let batch = ${v?"0":"i32(globalId.z)"};\n  let globalRowStart = i32(workgroupId.y) * ${f};\n\n  let numTiles = ${v?`${Math.ceil(p/b)}`:"(dimInner - 1) / tileInner + 1"};\n  var kStart = ${v?`i32(globalId.z) * ${p}`:"0"};\n\n  var acc: array<vec4<f32>, rowPerThread>;\n\n  // Loop over shared dimension.\n  let tileRowB = localRow * ${_};\n  for (var t = 0; t < numTiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let inputRow = tileRow + innerRow;\n          let inputCol = tileCol;\n          ${x=C,x?"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          kStart + inputRow,\n          globalRowStart / innerElementSize + inputCol);\n        ":"\n        mm_Asub[inputRow][inputCol] = mm_readA(batch,\n          globalRow + innerRow,\n          kStart / innerElementSize + inputCol);\n        "}\n      }\n\n      // Load one tile of B into local memory.\n      for (var innerRow = 0; innerRow < ${_}; innerRow = innerRow + 1) {\n          let inputRow = tileRowB + innerRow;\n          let inputCol = tileCol;\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol);\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {\n          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];\n          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];\n          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];\n          ${3===h?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}\n\n          ${((D,I)=>D?`\n        let ACached0 = mm_Asub[k * innerElementSize][localRow];\n        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];\n        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];\n        ${3===I?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          acc[i] = BCached0 * ACached0[i] + acc[i];\n          acc[i] = BCached1 * ACached1[i] + acc[i];\n          acc[i] = BCached2 * ACached2[i] + acc[i];\n          ${3===I?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}\n        }`:`\n        for (var i = 0; i < rowPerThread; i = i + 1) {\n          let ACached = mm_Asub[tileRow + i][k];\n          acc[i] = BCached0 * ACached.x + acc[i];\n          acc[i] = BCached1 * ACached.y + acc[i];\n          acc[i] = BCached2 * ACached.z + acc[i];\n          ${3===I?"":"acc[i] = BCached3 * ACached.w + acc[i];"}\n        }`)(C,h)}\n      }\n\n      workgroupBarrier();\n  }\n\n  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);\n  }\n}`;var x};const g=S=>S?"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              kStart + inputRow,\n              globalRowStart + inputCol);\n            ":"\n            mm_Asub[inputRow][inputCol] = mm_readA(batch,\n              globalRowStart + inputRow,\n              kStart + inputCol);\n            ";u.makeMatMulPackedSource=(S,w,C=!1,b=32,v=!1,p=32,m=!1)=>{const f=S[1]*w[1],c=S[0]*w[0],a=C?f:b,d=C?b:f;if(d%w[1]!=0||a%w[0]!=0||b%w[1]!=0)throw new Error(`tileAHight ${d} must be divisible by workgroupSize[1]${w[1]}, tileAWidth ${a} must be divisible by workgroupSize[0]${w[0]}, tileInner ${b} must be divisible by workgroupSize[1]${w[1]}`);const h=d/w[1],_=a/w[0],x=b/w[1],D=m?`\n    let localRow = i32(localId.y);\n    let localCol = i32(localId.x);\n    let globalRowStart = i32(workgroupId.y) * ${f};\n    let globalColStart = i32(workgroupId.x) * ${c};\n\n    // Loop over shared dimension.\n    for (var t = 0; t < numTiles; t = t + 1) {\n      // Load one tile of A into local memory.\n      for (var inputRow = localRow; inputRow < ${d}; inputRow = inputRow + ${w[1]}) {\n        for (var inputCol = localCol; inputCol < ${a}; inputCol = inputCol + ${w[0]}) {\n          ${g(C)}\n        }\n      }\n      // Load one tile of B into local memory.\n      for (var inputRow = localRow; inputRow < ${b}; inputRow = inputRow + ${w[1]}) {\n            for (var inputCol = localCol; inputCol < ${c}; inputCol = inputCol + ${w[0]}) {\n          mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n            kStart + inputRow,\n            globalColStart + inputCol);\n        }\n      }\n      kStart = kStart + tileInner;\n      workgroupBarrier();\n\n      // Compute acc values for a single thread.\n      var BCached : array<f32, colPerThread>;\n      for (var k = 0; k < tileInner; k = k + 1) {\n        for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n          BCached[inner] = mm_Bsub[k][localCol + inner * ${w[0]}];\n        }\n        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n          let ACached = ${C?`mm_Asub[k][localRow + innerRow * ${w[1]}];`:`mm_Asub[localRow + innerRow * ${w[1]}][k];`}\n          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n            acc[innerRow][innerCol] = acc[innerRow][innerCol] +\n                ACached * BCached[innerCol];\n          }\n        }\n      }\n      workgroupBarrier();\n    }\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      let gRow = globalRowStart + localRow + innerRow * ${w[1]};\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        let gCol = globalColStart + localCol + innerCol * ${w[0]};\n        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);\n      }\n    }\n    `:`\nlet tileRow = i32(localId.y) * rowPerThread;\nlet tileCol = i32(localId.x) * colPerThread;\n\nlet globalRow = i32(globalId.y) * rowPerThread;\nlet globalCol = i32(globalId.x) * colPerThread;\nlet globalRowStart = i32(workgroupId.y) * ${f};\n\nlet tileRowA = i32(localId.y) * ${h};\nlet tileColA = i32(localId.x) * ${_};\nlet tileRowB = i32(localId.y) * ${x};\n// Loop over shared dimension.\nfor (var t = 0; t < numTiles; t = t + 1) {\n  // Load one tile of A into local memory.\n  for (var innerRow = 0; innerRow < ${h}; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < ${_}; innerCol = innerCol + 1) {\n      let inputRow = tileRowA + innerRow;\n      let inputCol = tileColA + innerCol;\n      ${g(C)}\n    }\n  }\n\n  // Load one tile of B into local memory.\n  for (var innerRow = 0; innerRow < ${x}; innerRow = innerRow + 1) {\n    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n      let inputRow = tileRowB + innerRow;\n      let inputCol = tileCol + innerCol;\n      mm_Bsub[inputRow][inputCol] = mm_readB(batch,\n        kStart + inputRow,\n        globalCol + innerCol);\n    }\n  }\n  kStart = kStart + tileInner;\n  workgroupBarrier();\n\n  // Compute acc values for a single thread.\n  var BCached : array<f32, colPerThread>;\n  for (var k = 0; k < tileInner; k = k + 1) {\n    for (var inner = 0; inner < colPerThread; inner = inner + 1) {\n      BCached[inner] = mm_Bsub[k][tileCol + inner];\n    }\n\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      ${(I=>I?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];")(C)}\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];\n      }\n    }\n  }\n\n  workgroupBarrier();\n}\n\nfor (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n    mm_write(batch, globalRow + innerRow, globalCol + innerCol,\n        acc[innerRow][innerCol]);\n  }\n}\n`;return`\n  var<workgroup> mm_Asub : array<array<f32, ${a}>, ${d}>;\n  var<workgroup> mm_Bsub : array<array<f32, ${c}>, ${b}>;\n  const rowPerThread = ${S[1]};\n  const colPerThread = ${S[0]};\n  const tileInner = ${b};\n\n@compute @workgroup_size(${w[0]}, ${w[1]}, ${w[2]})\nfn main(@builtin(local_invocation_id) localId : vec3<u32>,\n        @builtin(global_invocation_id) globalId : vec3<u32>,\n        @builtin(workgroup_id) workgroupId : vec3<u32>) {\n    let batch = ${v?"0":"i32(globalId.z)"};\n    let numTiles = ${v?`${Math.ceil(p/b)}`:"(dimInner - 1) / tileInner + 1"};\n    var kStart = ${v?`i32(globalId.z) * ${p}`:"0"};\n\n    var acc : array<array<f32, colPerThread>, rowPerThread>;\n\n    // Without this initialization strange values show up in acc.\n    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {\n      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {\n        acc[innerRow][innerCol] = 0.0;\n      }\n    }\n    ${D}\n  }\n`}},504:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sub=u.pow=u.mul=u.div=u.add=void 0;const S=g(6952),w=g(1163),C=g(2075),b=(v,p,m,f,c)=>{const a={name:p,inputTypes:[w.GpuDataType.default,w.GpuDataType.default],cacheHint:c};return Object.assign(Object.assign({},a),{get:()=>((d,h,_,x,D,I=h.dataType)=>{var A,R;const P=!S.ShapeUtil.areEqual(h.dims,_.dims);let k=h.dims,B=S.ShapeUtil.size(h.dims),V=!1;if(P){const j=S.BroadcastUtil.calcShape(h.dims,_.dims,!1);if(!j)throw new Error("Can't perform binary op on the given tensors");k=j,B=S.ShapeUtil.size(k);let X=1;for(let Q=0;Q<k.length;Q++){const Z=null!==(A=h.dims[h.dims.length-Q])&&void 0!==A?A:1;if(Z!==(null!==(R=_.dims[_.dims.length-Q])&&void 0!==R?R:1))break;X*=Z}X%4==0&&(V=!0)}else V=!0;return Object.assign(Object.assign({},d),{getShaderSource:j=>((X,Q,Z,de,he,Pe,ie,ue,Fe="f32",Ye="f32",dt="f32")=>{const et=S.ShapeUtil.size(de),ft=Math.ceil(et/4);let Rt,pt;"string"==typeof ie?Rt=pt=(Je,ht)=>`${ie}((${Je}),(${ht}))`:"function"==typeof ie?Rt=pt=ie:(Rt=ie.scalar,pt=ie.vector);let Ht="";const Oe=(0,C.createIndicesHelper)("output",de);if(Pe){const Je=ht=>{const $t=S.ShapeUtil.computeStrides(ht),Ut=[];for(let gt=ht.length-1;gt>=0;gt--)Ut.push(`${$t[gt]}u * (${0===de.length?"0u":1===de.length?"(*outputIndices)":`(*outputIndices)[${gt+de.length-ht.length}]`} % ${ht[gt]}u)`);return Ut.length>0?Ut.join("+"):"0u"};Ht=`\n  ${Oe.o2iImpl}\n\n  fn calcOffsetA(outputIndices: ptr<function, ${Oe.iType}>) -> u32 {\n    return ${Je(Q)};\n  }\n\n  fn calcOffsetB(outputIndices: ptr<function, ${Oe.iType}>) -> u32 {\n    return ${Je(Z)};\n  }\n  `}let ge;if(he)ge=Pe?`\n      ${Oe.indicesVariableDeclaration("outputIndices")}\n      ${Oe.o2iCall("global_idx * 4u","outputIndices")}\n      let offsetA = calcOffsetA(&outputIndices);\n      let offsetB = calcOffsetB(&outputIndices);\n      outputData[global_idx] = ${pt("aData[offsetA / 4u]","bData[offsetB / 4u]")};`:`outputData[global_idx] = ${pt("aData[global_idx]","bData[global_idx]")};`;else{if(!Pe)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");const Je=ht=>{const $t=`aData[indexA${ht}][componentA${ht}]`,Ut=`bData[indexB${ht}][componentB${ht}]`;return`\n      ${Oe.o2iCall(`global_idx * 4u + ${ht}u`,"outputIndices")}\n      let offsetA${ht} = calcOffsetA(&outputIndices);\n      let offsetB${ht} = calcOffsetB(&outputIndices);\n      let indexA${ht} = offsetA${ht} / 4u;\n      let indexB${ht} = offsetB${ht} / 4u;\n      let componentA${ht} = offsetA${ht} % 4u;\n      let componentB${ht} = offsetB${ht} % 4u;\n      outputData[global_idx][${ht}] = ${Rt($t,Ut)};`};ge=`\n      ${Oe.indicesVariableDeclaration("outputIndices")}\n      ${Je(0)}\n      ${Je(1)}\n      ${Je(2)}\n      ${Je(3)}`}return`\n  @group(0) @binding(0) var<storage, read> aData : array<vec4<${Fe}>>;\n  @group(0) @binding(1) var<storage, read> bData : array<vec4<${Ye}>>;\n  @group(0) @binding(2) var<storage, read_write> outputData : array<vec4<${dt}>>;\n\n  ${ue??""}\n  ${Ht}\n\n  ${X.mainStart()}\n    ${X.guardAgainstOutOfBoundsWorkgroupSizes(ft)}\n    ${ge}\n  }`})(j,h.dims,_.dims,k,V,P,x,D),outputs:[{dims:k,dataType:I,gpuDataType:w.GpuDataType.default}],dispatchGroup:()=>({x:Math.ceil(B/64/(V?4:1))})})})(a,v[0],v[1],m,f)})};u.add=v=>{v.compute(b(v.inputs,"Add",(p,m)=>`${p}+${m}`))},u.div=v=>{v.compute(b(v.inputs,"Div",(p,m)=>`${p}/${m}`))},u.mul=v=>{v.compute(b(v.inputs,"Mul",(p,m)=>`${p}*${m}`))},u.pow=v=>{v.compute(b(v.inputs,"Pow",{scalar:(p,m)=>`pow_f32(${p},${m})`,vector:(p,m)=>`pow_vf32(${p},${m})`},"\n    fn pow_f32(a : f32, b : f32) -> f32 {\n      if (b == 0.0) {\n        return 1.0;\n      } else if (a < 0.0 && b != floor(b)) {\n        return pow(a, b); // NaN\n      }\n      return select(sign(a), 1.0, round(abs(b) % 2.0) != 1.0) * pow(abs(a), b);\n    }\n    fn pow_vf32(a : vec4<f32>, b : vec4<f32>) -> vec4<f32> {\n      // TODO: implement vectorized pow\n      return vec4<f32>(pow_f32(a.x, b.x), pow_f32(a.y, b.y), pow_f32(a.z, b.z), pow_f32(a.w, b.w));\n    }\n      "))},u.sub=v=>{v.compute(b(v.inputs,"Sub",(p,m)=>`${p}-${m}`))}},2075:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createShaderHelper=u.createIndicesHelper=u.WORKGROUP_SIZE=void 0;const S=g(6952);u.WORKGROUP_SIZE=64,u.createIndicesHelper=(C,b)=>{const v=b.length<2?"u32":`array<u32, ${b.length}>`,p=S.ShapeUtil.computeStrides(b);let m="";for(let a=0;a<b.length-1;a++)m+=`\n    let dim${a} = current / ${p[a]}u;\n    let rest${a} = current % ${p[a]}u;\n    (*indices)[${a}] = dim${a};\n    current = rest${a};\n    `;m+=`(*indices)[${b.length-1}] = current;`;const f=b.length<2?"":`\n  fn ih_o2i_${C}(offset: u32, indices: ptr<function, ${v}>) {\n    var current = offset;\n    ${m}\n  }`,c=[];if(0===b.length)c.push("0u");else if(b.length<2)c.push("(*indices)");else for(let a=b.length-1;a>=0;a--)c.push(`${p[a]}u * ((*indices)[${a}])`);return{o2iImpl:f,o2iCall:(a,d)=>b.length<2?`${d}=${a};`:`ih_o2i_${C}(${a}, &${d});`,i2oImpl:b.length<2?"":`\n  fn ih_i2o_${C}(indices: ptr<function, ${v}>) -> u32 {\n    return ${c.join("+")};\n  }`,i2oExpression:(a,d)=>b.length<2?`(${d?"*":""}${a})`:`ih_i2o_${C}(${d?"":"&"}${a})`,indicesVariableDeclaration:(a,d)=>`var ${a}:${v}${d?`=${v}(${d.join(",")})`:""};`,iType:v}};class w{constructor(b){this.normalizedDispatchGroup=b}guardAgainstOutOfBoundsWorkgroupSizes(b){return`if (global_idx >= ${"number"==typeof b?`${b}u`:b}) { return; }`}mainStart(b=u.WORKGROUP_SIZE){const v="number"==typeof b?b:b[0],p="number"==typeof b?1:b[1],m="number"==typeof b?1:b[2],f=1===this.normalizedDispatchGroup[1]&&1===this.normalizedDispatchGroup[2];return`@compute @workgroup_size(${v}, ${p}, ${m})\n  fn main(${f?"@builtin(global_invocation_id) global_id : vec3<u32>":"@builtin(local_invocation_index) local_index : u32,\n    @builtin(workgroup_id) workgroup_id : vec3<u32>"}) {\n    ${f?"let global_idx = global_id.x;":`let global_idx = (workgroup_id.z * ${this.normalizedDispatchGroup[0]*this.normalizedDispatchGroup[1]}u +\n          workgroup_id.y * ${this.normalizedDispatchGroup[0]}u + workgroup_id.x) * ${v*p*m}u + local_index;`}\n  `}}u.createShaderHelper=C=>new w(C)},9192:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createGroupedConvProgramInfoLoader=void 0;const S=g(6952),w=g(1163),C=g(2075),b=g(9770),v=g(3997);u.createGroupedConvProgramInfoLoader=(p,m,f)=>{const c={name:"GroupedConv",inputTypes:p.length>2?[w.GpuDataType.default,w.GpuDataType.default,w.GpuDataType.default]:[w.GpuDataType.default,w.GpuDataType.default],cacheHint:m.cacheKey};return Object.assign(Object.assign({},c),{get:()=>((h,_,x,D)=>{const I=h.length>2,A=I?"value += b[output_channel];":"",R=h[0].dims,P=h[1].dims,k=P[0]/x.group,B="f32",{activationFunction:V,applyActivation:j}=(0,v.getActicationSnippet)(x),X=[`@group(0) @binding(0) var<storage, read> x : array<${B}>;`,`@group(0) @binding(1) var<storage, read> w : array<${B}>;`];I&&X.push(`@group(0) @binding(2) var<storage, read> b : array<${B}>;`);const Q="NHWC"===x.format,Z=(0,b.calculateOutputShape)(R,P,x.dilations,x.pads,x.strides,Q),de=S.ShapeUtil.size(Z),he=(0,C.createIndicesHelper)("output",Z),Pe=(0,C.createIndicesHelper)("x",R),ie=(0,C.createIndicesHelper)("w",P);return Object.assign(Object.assign({},_),{outputs:[{dims:D?D(Z):Z,dataType:h[0].dataType,gpuDataType:w.GpuDataType.default}],getShaderSource:ue=>`\n  const strides: vec2<u32> = vec2(${x.strides[0]}u, ${x.strides[1]}u);\n  const pads: vec2<u32> = vec2(${x.pads[0]}u, ${x.pads[1]}u);\n\n  ${X.join("\n")}\n  @group(0) @binding(${X.length}) var<storage, read_write> output : array<${B}>;\n\n  ${V}\n  ${he.o2iImpl}\n  ${Pe.i2oImpl}\n  ${ie.i2oImpl}\n\n  ${ue.mainStart()}\n    ${ue.guardAgainstOutOfBoundsWorkgroupSizes(de)}\n\n    ${he.indicesVariableDeclaration("outputIndices")}\n    ${he.o2iCall("global_idx","outputIndices")}\n    let batch: u32 = outputIndices[0];\n    let output_channel: u32 = outputIndices[${Q?3:1}];\n    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${Q?1:2}], outputIndices[${Q?2:3}]) * strides - pads;\n    let group_id: u32 = output_channel / ${k}u;\n\n    var value: ${B} = ${B}(0);\n    for (var wInChannel: u32 = 0u; wInChannel < ${P[1]}u; wInChannel++) {\n      let input_channel = group_id * ${P[1]}u + wInChannel;\n      for (var wHeight: u32 = 0u; wHeight < ${P[2]}u; wHeight++) {\n        let xHeight = xRCCorner.x + wHeight * ${x.dilations[0]}u;\n\n        if (xHeight < 0u || xHeight >= ${R[Q?1:2]}u) {\n          continue;\n        }\n\n        for (var wWidth: u32 = 0u; wWidth < ${P[3]}u; wWidth++) {\n          let xWidth = xRCCorner.y + wWidth * ${x.dilations[1]}u;\n          if (xWidth < 0u || xWidth >= ${R[Q?2:3]}u) {\n            continue;\n          }\n\n          ${Pe.indicesVariableDeclaration("xIndices",Q?["batch","xHeight","xWidth","input_channel"]:["batch","input_channel","xHeight","xWidth"])}\n          let xVal = x[${Pe.i2oExpression("xIndices")}];\n          ${ie.indicesVariableDeclaration("wIndices",["output_channel","wInChannel","wHeight","wWidth"])}\n          let wVal = w[${ie.i2oExpression("wIndices")}];\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${A}\n    ${j}\n    output[global_idx] = value;\n  }`,dispatchGroup:()=>({x:Math.ceil(de/64)})})})(p,c,m,f)})}},9770:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.conv=u.parseConvAttributes=u.calculateOutputShape=void 0;const S=g(6952),w=g(387),C=g(9192),b=g(3822),v=g(3997),p=g(2625);u.calculateOutputShape=(c,a,d,h,_,x)=>{const D=c[0],I=c.slice(x?1:2,x?3:4),A=I.length,R=a[0],P=a.slice(2).map((B,V)=>B+(B-1)*(d[V]-1)),k=I.map((B,V)=>B+h[V]+h[V+A]).map((B,V)=>Math.floor((B-P[V]+_[V])/_[V]));return k.splice(0,0,D),k.splice(x?3:1,0,R),k};const m=(0,w.createAttributeWithCacheKey)({perm:[2,3,1,0]}),f=(c,a)=>{const d=c.kernelShape.slice();for(let x=2;x<a[1].dims.length;++x)0===d[x-2]&&(d[x-2]=a[1].dims[x]);const h=c.pads.slice();S.PoolConvUtil.adjustPadsBasedOnAutoPad(a[0].dims,c.strides,c.dilations,d,h,"NHWC"===c.format,c.autoPad);const _=Object.assign({},c);return Object.assign(_,{kernelShape:d,pads:h,cacheKey:c.cacheKey}),_};u.parseConvAttributes=c=>{const a=(0,v.parseInternalActivationAttributes)(c),d=c.format,h=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][c.auto_pad],_=c.dilations,x=c.group,D=c.kernel_shape,I=c.pads,A=c.strides,R=c.w_is_const();return(0,w.createAttributeWithCacheKey)(Object.assign({autoPad:h,format:d,dilations:_,group:x,kernelShape:D,pads:I,strides:A,wIsConst:R},a))},u.conv=(c,a)=>{((d,h)=>{if(!d||2!==d.length&&3!==d.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==d[0].dims.length&&3!==d[0].dims.length)throw new Error("currently only support conv 1D and 2D");if(d[0].dims.length!==d[1].dims.length)throw new Error("filter does not have same dimension as input");if(d[0].dims["NHWC"===h.format?d[0].dims.length-1:1]!==d[1].dims[1]*h.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===d.length&&(1!==d[2].dims.length||d[1].dims[0]!==d[2].dims[0]))throw new Error("invalid bias");const _=d[0].dims.length-2;if(h.dilations.length!==_)throw new Error(`dilations should be ${_}D`);if(h.strides.length!==_)throw new Error(`strides should be ${_}D`);if(h.pads.length!==2*_)throw new Error(`pads should be ${2*_}D`);if(0!==h.kernelShape.length&&h.kernelShape.length!==d[1].dims.length-2)throw new Error("invalid kernel shape");if(1!==d[0].dataType||1!==d[1].dataType)throw new Error("Conv input(X,W) should be float tensor");if(3===d.length&&1!==d[2].dataType)throw new Error("Conv input(bias) should be float tensor")})(c.inputs,a),3===c.inputs[0].dims.length?((d,h)=>{const _="NHWC"===h.format,x=[d.inputs[0].reshape(_?[d.inputs[0].dims[0],1,d.inputs[0].dims[1],d.inputs[0].dims[2]]:[d.inputs[0].dims[0],d.inputs[0].dims[1],1,d.inputs[0].dims[2]]),d.inputs[1].reshape([d.inputs[1].dims[0],d.inputs[1].dims[1],1,d.inputs[1].dims[2]])];3===d.inputs.length&&x.push(d.inputs[2]);const D=[0,h.pads[0],0,h.pads[1]],I=[1].concat(h.strides),A=[1].concat(h.dilations),R=[1].concat(h.kernelShape),P=f(Object.assign(Object.assign({},h),{pads:D,strides:I,dilations:A,kernelShape:R}),x);d.compute((0,C.createGroupedConvProgramInfoLoader)(x,P,k=>_?[k[0],k[2],k[3]]:[]))})(c,a):((d,h,_)=>{var x;const D=f(_,h),I=3===h.length,A="NHWC"===_.format,R=h[0].dims[A?1:2],P=h[0].dims[A?2:3],k=h[0].dims[A?3:1],B=h[1].dims[2],V=h[1].dims[3],j=(0,u.calculateOutputShape)(h[0].dims,h[1].dims,_.dilations,D.pads,_.strides,A),X=j[A?1:2],Q=j[A?2:3],Z=j[A?3:1];if(A&&B===R&&V===P&&"VALID"===_.autoPad||1===B&&1===V&&1===_.dilations[0]&&1===_.dilations[1]&&1===_.strides[0]&&1===_.strides[1]&&("SAME_UPPER"===_.autoPad||"SAME_LOWER"===_.autoPad||"VALID"===_.autoPad)||!A||1!==_.group)return void d.compute((0,C.createGroupedConvProgramInfoLoader)(h,D));const de=A?X*Q:Z,he=A?Z:X*Q,Pe=B*V*k,ie=null!==(x=d.customData.wT)&&void 0!==x?x:d.compute(Object.assign(Object.assign({},p.transposeProgramMetadata),{cacheHint:m.cacheKey,get:()=>(0,p.createTransposeProgramInfo)(h[1],m.perm)}),{inputs:[1],outputs:[_.wIsConst?-2:-1]})[0];_.wIsConst&&!d.customData.wT&&(d.customData.wT=ie);const ue=[h[0],ie];I&&ue.push(A||1!==h[2].dims.length?h[2]:h[2].reshape([h[2].dims[0],1,1])),d.compute((0,b.createConv2DMatMulProgramInfoLoader)(ue,D,j,de,he,Pe,I,!0),{inputs:ue})})(c,c.inputs,a)}},3822:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createConv2DMatMulProgramInfoLoader=void 0;const S=g(1163),w=g(9456);u.createConv2DMatMulProgramInfoLoader=(C,b,v,p,m,f,c,a)=>{const d={name:"Conv2DMatMul",inputTypes:c?[S.GpuDataType.default,S.GpuDataType.default,S.GpuDataType.default]:[S.GpuDataType.default,S.GpuDataType.default],cacheHint:b.cacheKey};return Object.assign(Object.assign({},d),{get:()=>(0,w.createConv2DMatMulProgramInfo)(C,d,b,v,p,m,f,c,a)})}},3997:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseInternalActivationAttributes=u.getActicationSnippet=void 0;const S=g(6952);u.getActicationSnippet=w=>{switch(w.activation){case"Relu":return{activationFunction:"",applyActivation:"value = max(value, 0.0);"};case"Sigmoid":return{activationFunction:"",applyActivation:"value = (1.0 / (1.0 + exp(-value)));"};case"Clip":return{activationFunction:`const clip_min_=f32(${w.clipMin});const clip_max_=f32(${w.clipMax});`,applyActivation:"value = clamp(value, clip_min_, clip_max_);"};default:return{activationFunction:"",applyActivation:""}}},u.parseInternalActivationAttributes=w=>{const C=w?.activation||"";if("Clip"===C){const[b,v]=w?.activation_params||[S.MIN_CLIP,S.MAX_CLIP];return{activation:C,clipMax:v,clipMin:b,activationCacheKey:`${C}:${b},${v}`}}return{activation:C,activationCacheKey:C}}},4271:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseGemmAttributes=u.gemm=void 0;const S=g(6952),w=g(387),C=g(1163);u.gemm=(b,v)=>{(p=>{if(!p)throw new Error("Input is missing");if(p.length<2||p.length>3)throw new Error("Invaid input number.");if(3===p.length&&p[2].dims.length>2)throw new Error("Invalid input shape of C");if(1!==p[0].dataType||1!==p[1].dataType||3===p.length&&1!==p[2].dataType)throw new Error("Invalid input type.");if(p[0].dataType!==p[1].dataType||3===p.length&&p[0].dataType!==p[2].dataType)throw new Error("Input types are mismatched")})(b.inputs),b.compute(((p,m)=>{const f={name:"Gemm",inputTypes:3===p.length?[C.GpuDataType.default,C.GpuDataType.default,C.GpuDataType.default]:[C.GpuDataType.default,C.GpuDataType.default],cacheHint:m.cacheKey};return Object.assign(Object.assign({},f),{get:()=>((c,a,d)=>{const h=a[0].dims.slice(),_=a[1].dims.slice(),[x,D,I]=S.GemmUtil.getShapeOfGemmResult(h,d.transA,_,d.transB,3===a.length?a[2].dims:void 0),A=[x,D];if(!A)throw new Error("Can't use gemm on the given tensors");const R=S.ShapeUtil.size(A);let P="";d.transA&&d.transB?P="value += a[k * M + m] * b[n * K + k];":d.transA&&!d.transB?P="value += a[k * M + m] * b[k * N + n];":!d.transA&&d.transB?P="value += a[m * K + k] * b[n * K + k];":d.transA||d.transB||(P="value += a[m * K + k] * b[k * N + n];");const k="f32",B=1===d.alpha?"":"value *= alpha;",V=3===a.length?`value += beta * c[${((X,Q,Z)=>{if(0===Z.length)return"0u";let Pe="0u";return 1===Z.length&&1!==X||2===Z.length&&Z[0]!==X||(Pe+=`+ m * ${Z[Z.length-1]}u`),Z[Z.length-1]!==Q||(Pe+="+n"),Pe})(x,D,a[2].dims)}];`:"",j=[`@group(0) @binding(0) var<storage, read> a : array<${k}>;`,`@group(0) @binding(1) var<storage, read> b : array<${k}>;`];return 3===a.length&&j.push(`@group(0) @binding(2) var<storage, read> c : array<${k}>;`),Object.assign(Object.assign({},c),{outputs:[{dims:A,dataType:a[0].dataType,gpuDataType:C.GpuDataType.default}],getShaderSource:X=>`\n  const M: u32 = ${x}u;\n  const N: u32 = ${D}u;\n  const K: u32 = ${I}u;\n  const alpha = ${k}(${d.alpha});\n  const beta = ${k}(${d.beta});\n\n  ${j.join("\n")}\n  @group(0) @binding(${a.length}) var<storage, read_write> output : array<${k}>;\n\n  ${X.mainStart()}\n    ${X.guardAgainstOutOfBoundsWorkgroupSizes(R)}\n\n    let m = global_id.x / N;\n    let n = global_id.x % N;\n\n    var value = ${k}(0);\n    for (var k: u32 = 0u; k<${I}u; k++) {\n      ${P}\n    }\n\n    ${B}\n    ${V}\n    output[global_id.x] = value;\n\n  }`,dispatchGroup:()=>({x:Math.ceil(R/64)})})})(f,p,m)})})(b.inputs,v))},u.parseGemmAttributes=b=>(0,w.createAttributeWithCacheKey)(b)},1522:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.matMul=u.createMatmulProgramInfoLoader=void 0;const S=g(6952),w=g(1163),C=g(3997);u.createMatmulProgramInfoLoader=(b,v)=>{const p={name:"MatMul",inputTypes:b.length>2?[w.GpuDataType.default,w.GpuDataType.default,w.GpuDataType.default]:[w.GpuDataType.default,w.GpuDataType.default],cacheHint:v.activationCacheKey};return Object.assign(Object.assign({},p),{get:()=>((c,a,d)=>{const h=a[0].dims,x=S.BroadcastUtil.calcShape(h,a[1].dims,!0);if(!x)throw new Error("Can't use matmul on the given tensors");const D=S.ShapeUtil.size(x),I="f32",{activationFunction:A,applyActivation:R}=(0,C.getActicationSnippet)(d),P=x[x.length-2],k=h[h.length-1],B=x[x.length-1];return Object.assign(Object.assign({},c),{outputs:[{dims:x,dataType:a[0].dataType,gpuDataType:w.GpuDataType.default}],getShaderSource:V=>`\n  const M: u32 = ${P}u;\n  const N: u32 = ${B}u;\n  const K: u32 = ${k}u;\n\n  @group(0) @binding(0) var<storage, read> a : array<${I}>;\n  @group(0) @binding(1) var<storage, read> b : array<${I}>;\n  @group(0) @binding(2) var<storage, read_write> output : array<${I}>;\n\n  ${A}\n\n  ${V.mainStart()}\n    ${V.guardAgainstOutOfBoundsWorkgroupSizes(D)}\n\n    let stack = global_idx / (M * N);\n    let mn = global_idx % (M * N);\n    let n = global_idx % N;\n    let m = mn / N;\n\n    let offsetA = stack * (M * K);\n    let offsetB = stack * (K * N);\n\n    var value = ${I}(0);\n    for (var k: u32 = 0u; k<${k}u; k++) {\n      value += a[offsetA + m * K + k] * b[offsetB + k * N + n];\n    }\n    ${R}\n    output[global_idx] = value;\n  }`,dispatchGroup:()=>({x:Math.ceil(D/64)})})})(p,b,v)})},u.matMul=b=>{(v=>{if(!v||2!==v.length)throw new Error("MatMul requires 2 inputs.");if(v[0].dims[v[0].dims.length-1]!==v[1].dims[v[1].dims.length-2])throw new Error("shared dimension does not match.");if(1!==v[0].dataType||1!==v[1].dataType)throw new Error("inputs should be float type")})(b.inputs),b.compute((0,u.createMatmulProgramInfoLoader)(b.inputs,{activation:"",activationCacheKey:""}))}},5262:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.globalMaxPool=u.parseGlobalMaxPoolAttributes=u.parseMaxPoolAttributes=u.maxPool=u.globalAveragePool=u.parseGlobalAveragePoolAttributes=u.averagePool=u.parseAveragePoolAttributes=void 0;const S=g(6952),w=g(387),C=g(1163),b=g(2075),v=h=>{if(!h||1!==h.length)throw new Error("Pool ops requires 1 input.");if(4!==h[0].dims.length)throw new Error("Pool ops supports 2-D inputs only for now.");if(1!==h[0].dataType)throw new Error("Invalid input type.")},p=(h,_,x)=>{const D="NHWC"===_.format,I=D?[h[0].dims[0],h[0].dims[3],h[0].dims[1],h[0].dims[2]]:h[0].dims.slice(),A=Object.hasOwnProperty.call(_,"dilations"),R=_.kernelShape.slice(),P=_.strides.slice(),k=A?_.dilations.slice():[],B=_.pads.slice();S.PoolConvUtil.adjustPoolAttributes(x,I,R,P,k,B);const V=S.PoolConvUtil.computePoolOutputShape(x,I,P,k,R,B,_.autoPad),j=Object.assign({},_);return Object.assign(j,A?{kernelShape:R,strides:P,pads:B,dilations:k,cacheKey:_.cacheKey}:{kernelShape:R,strides:P,pads:B,cacheKey:_.cacheKey}),[j,D?[V[0],V[2],V[3],V[1]]:V]},m=(h,_,x,D,I,A,R,P)=>{const k="NHWC"===D.format,B=_.length,V=S.ShapeUtil.size(x),j=(0,b.createIndicesHelper)("output",x),X=(0,b.createIndicesHelper)("x",_);if(D.kernelShape.length<=2){const Q=D.kernelShape[D.kernelShape.length-1],Z=D.strides[D.strides.length-1],de=D.pads[D.pads.length/2-1],he=B-(k?2:1);let Pe="",ie="",ue="";if(Pe=de+D.pads[D.pads.length-1]!==0?`\n              for (var i: u32 = 0u; i < ${Q}u; i++) {\n                xIndices[${he}] = indices[${he}] * ${Z} - ${de} + i;\n                if (xIndices[${he}] < 0 || xIndices[${he}] >= ${_[he]}) {\n                  pad++;\n                  continue;\n                }\n                let x_val = x[${X.i2oExpression("xIndices")}];\n                ${I}\n              }`:`\n              for (var i: u32 = 0u; i < ${Q}u; i++) {\n                xIndices[${he}] = indices[${he}] * ${Z} - ${de} + i;\n                let x_val = x[${X.i2oExpression("xIndices")}];\n                ${I}\n              }`,2===D.kernelShape.length){const Fe=D.kernelShape[D.kernelShape.length-2],Ye=D.strides[D.strides.length-2],dt=D.pads[D.pads.length/2-2],ft=B-(k?3:2);ie=dt+D.pads[D.pads.length-2]!==0?`\n                for (var j: u32 = 0u; j < ${Fe}u; j++) {\n                  xIndices[${ft}] = indices[${ft}] * ${Ye} - ${dt} + j;\n                  if (xIndices[${ft}] < 0 || xIndices[${ft}] >= ${_[ft]}) {\n                    pad+= ${Q};\n                    continue;\n                  }\n              `:`\n                for (var j: u32 = 0u; j < ${Fe}u; j++) {\n                  xIndices[${ft}] = indices[${ft}] * ${Ye} - ${dt} + j;\n                `,ue="\n              }\n            "}return`\n            @group(0) @binding(0) var<storage, read> x : array<${R}>;\n            @group(0) @binding(1) var<storage, read_write> output : array<${R}>;\n\n            ${j.o2iImpl}\n            ${X.i2oImpl}\n\n            ${h.mainStart()}\n              ${h.guardAgainstOutOfBoundsWorkgroupSizes(V)}\n\n              ${j.indicesVariableDeclaration("indices")}\n              ${j.o2iCall("global_idx","indices")}\n              ${j.indicesVariableDeclaration("xIndices")}\n              ${j.o2iCall("global_idx","xIndices")}\n\n              var value: ${R} = ${R}(${P});\n              var pad = 0;\n              ${ie}\n              ${Pe}\n              ${ue}\n              ${A}\n\n              output[global_idx] = value;\n            }`}{if(k)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");const Q=S.ShapeUtil.size(D.kernelShape),Z=S.ShapeUtil.computeStrides(D.kernelShape),de=Z.length,he=D.pads.length;let Pe="";return Pe=D.pads.reduce((ie,ue)=>ie+ue)?`\n                if (xIndices[j] >= inputDims[j]) {\n                  pad++;\n                  isPad = true;\n                  break;\n                }\n              }\n              if (!isPad) {\n                let x_val = x[${X.i2oExpression("xIndices")}];\n                ${I}\n              }`:`\n              }\n              let x_val = x[${X.i2oExpression("xIndices")}];\n              ${I}\n            `,`\n            @group(0) @binding(0) var<storage, read> x : array<${R}>;\n            @group(0) @binding(1) var<storage, read_write> output : array<${R}>;\n\n            ${j.o2iImpl}\n            ${X.i2oImpl}\n\n            const pads = array<u32, ${he}>(${D.pads.map(ie=>`${ie}u`).join(",")});\n            const inputDims = array<u32, ${B}>(${_.map(ie=>`${ie}u`).join(",")});\n            const kernelStrides = array<u32, ${de}>(${Z.map(ie=>`${ie}u`).join(",")});\n            const strides = array<u32, ${de}>(${D.strides.map(ie=>`${ie}u`).join(",")});\n\n            ${h.mainStart()}\n              ${h.guardAgainstOutOfBoundsWorkgroupSizes(V)}\n\n              ${j.indicesVariableDeclaration("indices")}\n              ${j.o2iCall("global_idx","indices")}\n              ${j.indicesVariableDeclaration("xIndices")}\n              ${j.o2iCall("global_idx","xIndices")}\n\n              var offsets: array<u32, ${de}>;\n\n              var value = ${R}(${P});\n              var pad = 0;\n              var isPad = false;\n\n              for (var i: u32 = 0u; i < ${Q}u; i++) {\n                var offset = i;\n                for (var j = 0u; j < ${de-1}u; j++) {\n                  offsets[j] = offset / kernelStrides[j];\n                  offset -= offsets[j] * kernelStrides[j];\n                }\n                offsets[${de-1}] = offset;\n\n                isPad = false;\n                for (var j = ${B-de}u; j < ${B}u; j++) {\n                  xIndices[j] = indices[j] * strides[j - ${B-de}u]\n                    + offsets[j - ${B-de}u] - pads[j - 2u];\n                  ${Pe}\n              }\n              ${A}\n\n              output[global_idx] = value;\n            }`}},f=h=>({format:h.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][h.auto_pad],ceilMode:h.ceil_mode,kernelShape:h.kernel_shape,strides:h.strides,pads:h.pads}),c=(h,_,x,D)=>{const[I,A]=p(h,D,x),R=S.ShapeUtil.size(I.kernelShape),P="f32";let k="";return k+=I.countIncludePad?`value /= ${P}(${R});`:`value /= ${P}(${R} - pad);`,Object.assign(Object.assign({},_),{outputs:[{dims:A,dataType:h[0].dataType,gpuDataType:C.GpuDataType.default}],getShaderSource:B=>m(B,h[0].dims,A,I,"value += x_val;",k,P,"0.0"),dispatchGroup:()=>({x:Math.ceil(S.ShapeUtil.size(A)/64)})})};u.parseAveragePoolAttributes=h=>{const _=0!==h.count_include_pad,x=f(h);if(0!==x.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,w.createAttributeWithCacheKey)(Object.assign({countIncludePad:_},x))},u.averagePool=(h,_)=>{v(h.inputs);const x={name:"AveragePool",inputTypes:[C.GpuDataType.default],cacheHint:_.cacheKey};h.compute(Object.assign(Object.assign({},x),{get:()=>c(h.inputs,x,!1,_)}))};const a={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""};u.parseGlobalAveragePoolAttributes=h=>{const _=h.format;return Object.assign(Object.assign({format:_},a),{cacheKey:_})},u.globalAveragePool=(h,_)=>{v(h.inputs);const x={name:"GlobalAveragePool",inputTypes:[C.GpuDataType.default],cacheHint:_.cacheKey};h.compute(Object.assign(Object.assign({},x),{get:()=>c(h.inputs,x,!0,_)}))};const d=(h,_,x,D)=>{const[I,A]=p(h,D,x);return Object.assign(Object.assign({},_),{outputs:[{dims:A,dataType:h[0].dataType,gpuDataType:C.GpuDataType.default}],getShaderSource:R=>m(R,h[0].dims,A,I,"\n      value = max(x_val, value);\n    ","","f32","-1e5"),dispatchGroup:()=>({x:Math.ceil(S.ShapeUtil.size(A)/64)})})};u.maxPool=(h,_)=>{v(h.inputs);const x={name:"MaxPool",inputTypes:[C.GpuDataType.default],cacheHint:_.cacheKey};h.compute(Object.assign(Object.assign({},x),{get:()=>d(h.inputs,x,!1,_)}))},u.parseMaxPoolAttributes=h=>{const _=h.storage_order,x=h.dilations,D=f(h);if(0!==_)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==D.ceilMode)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,w.createAttributeWithCacheKey)(Object.assign({storageOrder:_,dilations:x},D))},u.parseGlobalMaxPoolAttributes=h=>{const _=h.format;return Object.assign(Object.assign({format:_},a),{cacheKey:_})},u.globalMaxPool=(h,_)=>{v(h.inputs);const x={name:"GlobalMaxPool",inputTypes:[C.GpuDataType.default],cacheHint:_.cacheKey};h.compute(Object.assign(Object.assign({},x),{get:()=>d(h.inputs,x,!0,_)}))}},2625:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.parseTransposeAttributes=u.transpose=u.createTransposeProgramInfo=u.transposeProgramMetadata=void 0;const S=g(6952),w=g(387),C=g(1163),b=g(2075);u.transposeProgramMetadata={name:"Transpose",inputTypes:[C.GpuDataType.default]};const v=(p,m)=>m&&m.length!==p.length?[...p.keys()].reverse():m;u.createTransposeProgramInfo=(p,m)=>{const f=p.dims,c=v(f,m),a=S.ShapeUtil.sortBasedOnPerm(D=f,v(D,c)),d=f.length,h=S.ShapeUtil.size(a),_=(0,b.createIndicesHelper)("output",a),x=(0,b.createIndicesHelper)("a",f);var D;return Object.assign(Object.assign({},u.transposeProgramMetadata),{outputs:[{dims:a,dataType:p.dataType,gpuDataType:C.GpuDataType.default}],getShaderSource:D=>`\n  @group(0) @binding(0) var<storage, read> a : array<f32>;\n  @group(0) @binding(1) var<storage, read_write> output : array<f32>;\n\n  ${((I,A)=>{const R=[];R.push(`fn perm(a: ptr<function, array<u32, ${A}>>, i: ptr<function, array<u32, ${A}>>) {`);for(let P=0;P<A;++P)R.push(`\t(*a)[${I[P]}]=(*i)[${P}];`);return R.push("\t}"),R.join("\n")})(c,d)}\n  ${_.o2iImpl}\n  ${x.i2oImpl}\n\n  ${D.mainStart()}\n    ${D.guardAgainstOutOfBoundsWorkgroupSizes(h)}\n\n    ${_.indicesVariableDeclaration("indices")}\n    ${_.o2iCall("global_idx","indices")}\n    ${x.indicesVariableDeclaration("aIndices")}\n    perm(&aIndices, &indices);\n\n    output[global_idx] = a[${x.i2oExpression("aIndices")}];\n  }`,dispatchGroup:()=>({x:Math.ceil(h/64)})})},u.transpose=(p,m)=>{(f=>{if(!f||1!==f.length)throw new Error("Transpose requires 1 input.");if(1!==f[0].dataType)throw new Error("input should be float tensor")})(p.inputs),p.compute(Object.assign(Object.assign({},u.transposeProgramMetadata),{cacheHint:m.cacheKey,get:()=>(0,u.createTransposeProgramInfo)(p.inputs[0],m.perm)}))},u.parseTransposeAttributes=p=>(0,w.createAttributeWithCacheKey)({perm:p.perm})},9302:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.thresholdedRelu=u.tanh=u.tan=u.sqrt=u.sinh=u.sin=u.sigmoid=u.relu=u.reciprocal=u.neg=u.leakyRelu=u.floor=u.exp=u.erf=u.elu=u.parseAlphaAttributes=u.cosh=u.cos=u.ceil=u.clip=u.clipV10=u.atanh=u.atan=u.asinh=u.asin=u.acosh=u.acos=u.abs=void 0;const S=g(6952),w=g(387),C=g(1163),b=(v,p,m,f,c)=>{const a={name:p,inputTypes:[C.GpuDataType.default],cacheHint:c};return Object.assign(Object.assign({},a),{get:()=>{return h=v,_=m,x=f,Object.assign(Object.assign({},a),{getShaderSource:D=>((I,A,R,P)=>{const k=Math.ceil(A/4);let B="";return B="string"==typeof R?`${R}(a)`:R("a"),`\n  @group(0) @binding(0) var<storage, read> inputData : array<vec4<f32>>;\n  @group(0) @binding(1) var<storage, read_write> outputData : array<vec4<f32>>;\n\n  ${P??""}\n\n  ${I.mainStart()}\n    ${I.guardAgainstOutOfBoundsWorkgroupSizes(k)}\n\n    let a = inputData[global_idx];\n    outputData[global_idx] = ${B};\n  }`})(D,S.ShapeUtil.size(h.dims),_,x),outputs:[{dims:h.dims,dataType:h.dataType,gpuDataType:C.GpuDataType.default}],dispatchGroup:D=>({x:Math.ceil(S.ShapeUtil.size(D[0].dims)/64/4)})});var h,_,x}})};u.abs=v=>{v.compute(b(v.inputs[0],"Abs","abs"))},u.acos=v=>{v.compute(b(v.inputs[0],"Acos","acos"))},u.acosh=v=>{v.compute(b(v.inputs[0],"Acosh","acosh"))},u.asin=v=>{v.compute(b(v.inputs[0],"Asin","asin"))},u.asinh=v=>{v.compute(b(v.inputs[0],"Asinh","asinh"))},u.atan=v=>{v.compute(b(v.inputs[0],"Atan","atan"))},u.atanh=v=>{v.compute(b(v.inputs[0],"Atanh","atanh"))},u.clipV10=(v,p)=>{v.compute(b(v.inputs[0],"Clip",m=>`clamp(${m}, clip_min_, clip_max_)`,`\n    const clip_min_: vec4<f32> = vec4(f32(${p.min}));\n    const clip_max_: vec4<f32> = vec4(f32(${p.max}));\n`,p.cacheKey),{inputs:[0]})},u.clip=v=>{const p=(m=>{const f=m.length>=2?m[1].getFloat32Array()[0]:S.MIN_CLIP,c=m.length>=3?m[2].getFloat32Array()[0]:S.MAX_CLIP;return(0,w.createAttributeWithCacheKey)({min:f,max:c})})(v.inputs);(0,u.clipV10)(v,p)},u.ceil=v=>{v.compute(b(v.inputs[0],"Ceil","ceil"))},u.cos=v=>{v.compute(b(v.inputs[0],"Cos","cos"))},u.cosh=v=>{v.compute(b(v.inputs[0],"Cosh","cosh"))},u.parseAlphaAttributes=v=>(0,w.createAttributeWithCacheKey)(v),u.elu=(v,p)=>{v.compute(b(v.inputs[0],"Elu",m=>`elu_vf32(${m})`,`\n  const elu_alpha_: f32 = f32(${p.alpha});\n\n  fn elu_f32(a: f32) -> f32 {\n  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);\n  }\n\n  fn elu_vf32(v: vec4<f32>) -> vec4<f32> {\n  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));\n  }`,p.cacheKey))},u.erf=v=>{v.compute(b(v.inputs[0],"Erf",p=>`erf_vf32(${p})`,"\n  const r0: f32 = 0.3275911;\n  const r1: f32 = 0.254829592;\n  const r2: f32 = -0.284496736;\n  const r3: f32 = 1.421413741;\n  const r4: f32 = -1.453152027;\n  const r5: f32 = 1.061405429;\n\n  fn erf_vf32(v: vec4<f32>) -> vec4<f32> {\n    let absv = abs(v);\n    let x = 1.0 / (1.0 + r0 * absv);\n    return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));\n  }"))},u.exp=v=>{v.compute(b(v.inputs[0],"Exp","exp"))},u.floor=v=>{v.compute(b(v.inputs[0],"Floor","floor"))},u.leakyRelu=(v,p)=>{v.compute(b(v.inputs[0],"LeakyRelu",m=>`select(leaky_relu_alpha_ * ${m}, ${m}, ${m} >= vec4<f32>(0.0))`,`const leaky_relu_alpha_: f32 = f32(${p.alpha});`,p.cacheKey))},u.neg=v=>{v.compute(b(v.inputs[0],"Neg",p=>`-${p}`))},u.reciprocal=v=>{v.compute(b(v.inputs[0],"Reciprocal",p=>`1.0/${p}`))},u.relu=v=>{v.compute(b(v.inputs[0],"Relu",p=>`select(vec4<f32>(0.0), ${p}, ${p} > vec4<f32>(0.0))`))},u.sigmoid=v=>{v.compute(b(v.inputs[0],"Sigmoid",p=>`(1.0 / (1.0 + exp(-${p})))`))},u.sin=v=>{v.compute(b(v.inputs[0],"Sin","sin"))},u.sinh=v=>{v.compute(b(v.inputs[0],"Sinh","sinh"))},u.sqrt=v=>{v.compute(b(v.inputs[0],"Sqrt","sqrt"))},u.tan=v=>{v.compute(b(v.inputs[0],"Tan","tan"))},u.tanh=v=>{v.compute(b(v.inputs[0],"Tanh","tanh"))},u.thresholdedRelu=(v,p)=>(v.compute(b(v.inputs[0],"ThresholdedRelu",m=>`select(vec4<f32>(0.0), ${m}, ${m} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_: vec4<f32> = vec4<f32>(${p.alpha});`,p.cacheKey)),0)},8305:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ProgramManager=void 0;const S=g(4955),w=g(2075);u.ProgramManager=class{constructor(C){this.backend=C,this.repo=new Map,this.attributesBound=!1}getArtifact(C){return this.repo.get(C)}setArtifact(C,b){this.repo.set(C,b)}run(C,b,v,p){const m=this.backend.device,f=this.backend.getComputePassEncoder();this.backend.profilingEnabled&&f.writeTimestamp(this.backend.profilingQuerySet,0),f.setPipeline(C.computePipeline);const c=[];for(const d of b)c.push({binding:c.length,resource:{buffer:d.buffer}});for(const d of v)c.push({binding:c.length,resource:{buffer:d.buffer}});const a=m.createBindGroup({layout:C.computePipeline.getBindGroupLayout(0),entries:c});if(f.setBindGroup(0,a),f.dispatchWorkgroups(...p),this.backend.pendingDispatchNumber++,this.backend.profilingEnabled){f.writeTimestamp(this.backend.profilingQuerySet,1);const d=this.backend.gpuDataManager.create(16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),h=this.backend.gpuDataManager.create(16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.backend.endComputePass(),this.backend.getCommandEncoder().resolveQuerySet(this.backend.profilingQuerySet,0,2,d.buffer,0),this.backend.getCommandEncoder().copyBufferToBuffer(d.buffer,0,h.buffer,0,16),this.backend.flush();const _=this.backend.currentKernelId,x=this.backend.kernels.get(_)[0];h.buffer.mapAsync(GPUMapMode.READ).then(()=>{const D=new BigUint64Array(h.buffer.getMappedRange()),I=D[0],A=D[1];h.buffer.unmap(),void 0===this.backend.profilingTimeBase&&(this.backend.profilingTimeBase=I);const R=Number(I-this.backend.profilingTimeBase),P=Number(A-this.backend.profilingTimeBase);if(!Number.isSafeInteger(R)||!Number.isSafeInteger(P))throw new RangeError("incorrect timestamp range");this.backend.gpuDataManager.release(d.id),this.backend.gpuDataManager.release(h.id),console.log(`[profiling] kernel "${_}|${x}" execution time: ${P-R} ns`)})}this.backend.pendingDispatchNumber>=16&&this.backend.flush()}dispose(){}build(C,b){const v=this.backend.device,p=C.getShaderSource((0,w.createShaderHelper)(b)),m=v.createShaderModule({code:p});return(0,S.LOG_DEBUG)("verbose",()=>`[WebGPU] shader code: ${p}`),{programInfo:C,computePipeline:v.createComputePipeline({compute:{module:m,entryPoint:"main"},layout:"auto"})}}normalizeDispatchGroupSize(C){const b="number"==typeof C?C:C.x,v="number"==typeof C?1:C.y||1,p="number"==typeof C?1:C.z||1,m=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(b<=m&&v<=m&&p<=m)return[b,v,p];const f=b*v*p;let c=Math.ceil(Math.sqrt(f));if(c>m){if(c=Math.ceil(Math.cbrt(f)),c>m)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[c,c,c]}return[c,c,1]}}},1163:(z,u)=>{"use strict";var g;Object.defineProperty(u,"__esModule",{value:!0}),u.GpuDataType=void 0,(g=u.GpuDataType||(u.GpuDataType={}))[g.default=0]="default",g[g.upload=1]="upload",g[g.profile=2]="profile"},3899:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.iterateExtraOptions=void 0,u.iterateExtraOptions=(g,S,w,C)=>{if("object"==typeof g&&null!==g){if(w.has(g))throw new Error("Circular reference in options");w.add(g)}Object.entries(g).forEach(([b,v])=>{const p=S?S+b:b;if("object"==typeof v)(0,u.iterateExtraOptions)(v,p+".",w,C);else if("string"==typeof v||"number"==typeof v)C(p,v.toString());else{if("boolean"!=typeof v)throw new Error("Can't handle extra config type: "+typeof v);C(p,v?"1":"0")}})}},9544:function(z,u,g){"use strict";var S,w=this&&this.__createBinding||(Object.create?function(Q,Z,de,he){void 0===he&&(he=de);var Pe=Object.getOwnPropertyDescriptor(Z,de);Pe&&!("get"in Pe?!Z.__esModule:Pe.writable||Pe.configurable)||(Pe={enumerable:!0,get:function(){return Z[de]}}),Object.defineProperty(Q,he,Pe)}:function(Q,Z,de,he){void 0===he&&(he=de),Q[he]=Z[de]}),C=this&&this.__setModuleDefault||(Object.create?function(Q,Z){Object.defineProperty(Q,"default",{enumerable:!0,value:Z})}:function(Q,Z){Q.default=Z}),b=this&&this.__importStar||function(Q){if(Q&&Q.__esModule)return Q;var Z={};if(null!=Q)for(var de in Q)"default"!==de&&Object.prototype.hasOwnProperty.call(Q,de)&&w(Z,Q,de);return C(Z,Q),Z};Object.defineProperty(u,"__esModule",{value:!0}),u.endProfiling=u.run=u.releaseSession=u.createSession=u.createSessionFinalize=u.createSessionAllocate=u.initOrt=u.initWasm=void 0;const v=g(8453),p=g(7675),m=b(g(1259)),f=g(263),c=()=>!!v.env.wasm.proxy&&typeof document<"u";let a,d,h,_=!1,x=!1,D=!1;const I=[],A=[],R=[],P=[],k=[],B=[],V=()=>{if(_||!x||D||!a)throw new Error("worker not ready")},j=Q=>{switch(Q.data.type){case"init-wasm":_=!1,Q.data.err?(D=!0,d[1](Q.data.err)):(x=!0,d[0]());break;case"init-ort":Q.data.err?h[1](Q.data.err):h[0]();break;case"create_allocate":Q.data.err?I.shift()[1](Q.data.err):I.shift()[0](Q.data.out);break;case"create_finalize":Q.data.err?A.shift()[1](Q.data.err):A.shift()[0](Q.data.out);break;case"create":Q.data.err?R.shift()[1](Q.data.err):R.shift()[0](Q.data.out);break;case"release":Q.data.err?P.shift()[1](Q.data.err):P.shift()[0]();break;case"run":Q.data.err?k.shift()[1](Q.data.err):k.shift()[0](Q.data.out);break;case"end-profiling":Q.data.err?B.shift()[1](Q.data.err):B.shift()[0]()}},X=typeof document<"u"?null===(S=document?.currentScript)||void 0===S?void 0:S.src:void 0;u.initWasm=_asyncToGenerator(function*(){if(c()){if(x)return;if(_)throw new Error("multiple calls to 'initWasm()' detected.");if(D)throw new Error("previous call to 'initWasm()' failed.");return _=!0,void 0===v.env.wasm.wasmPaths&&X&&0!==X.indexOf("blob:")&&(v.env.wasm.wasmPaths=X.substr(0,+X.lastIndexOf("/")+1)),new Promise((Q,Z)=>{a?.terminate(),a=g(8050).Z(),a.onmessage=j,d=[Q,Z],a.postMessage({type:"init-wasm",in:v.env.wasm})})}return(0,f.initializeWebAssembly)(v.env.wasm)}),u.initOrt=function(){var Q=_asyncToGenerator(function*(Z,de){if(c())return V(),new Promise((he,Pe)=>{h=[he,Pe],a.postMessage({type:"init-ort",in:{numThreads:Z,loggingLevel:de}})});m.initOrt(Z,de),yield(0,p.init)((0,f.getInstance)())});return function(Z,de){return Q.apply(this,arguments)}}(),u.createSessionAllocate=function(){var Q=_asyncToGenerator(function*(Z){return c()?(V(),new Promise((de,he)=>{I.push([de,he]),a.postMessage({type:"create_allocate",in:{model:Z}},[Z.buffer])})):m.createSessionAllocate(Z)});return function(Z){return Q.apply(this,arguments)}}(),u.createSessionFinalize=function(){var Q=_asyncToGenerator(function*(Z,de){return c()?(V(),new Promise((he,Pe)=>{A.push([he,Pe]),a.postMessage({type:"create_finalize",in:{modeldata:Z,options:de}})})):m.createSessionFinalize(Z,de)});return function(Z,de){return Q.apply(this,arguments)}}(),u.createSession=function(){var Q=_asyncToGenerator(function*(Z,de){return c()?(V(),new Promise((he,Pe)=>{R.push([he,Pe]),a.postMessage({type:"create",in:{model:Z,options:de}},[Z.buffer])})):m.createSession(Z,de)});return function(Z,de){return Q.apply(this,arguments)}}(),u.releaseSession=function(){var Q=_asyncToGenerator(function*(Z){if(c())return V(),new Promise((de,he)=>{P.push([de,he]),a.postMessage({type:"release",in:Z})});m.releaseSession(Z)});return function(Z){return Q.apply(this,arguments)}}(),u.run=function(){var Q=_asyncToGenerator(function*(Z,de,he,Pe,ie){return c()?(V(),new Promise((ue,Fe)=>{k.push([ue,Fe]),a.postMessage({type:"run",in:{sessionId:Z,inputIndices:de,inputs:he,outputIndices:Pe,options:ie}},m.extractTransferableBuffers(he))})):m.run(Z,de,he,Pe,ie)});return function(Z,de,he,Pe,ie){return Q.apply(this,arguments)}}(),u.endProfiling=function(){var Q=_asyncToGenerator(function*(Z){if(c())return V(),new Promise((de,he)=>{B.push([de,he]),a.postMessage({type:"end-profiling",in:Z})});m.endProfiling(Z)});return function(Z){return Q.apply(this,arguments)}}()},7918:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.setRunOptions=void 0;const S=g(3899),w=g(9444),C=g(263);u.setRunOptions=b=>{const v=(0,C.getInstance)();let p=0;const m=[],f=b||{};try{if(void 0===b?.logSeverityLevel)f.logSeverityLevel=2;else if("number"!=typeof b.logSeverityLevel||!Number.isInteger(b.logSeverityLevel)||b.logSeverityLevel<0||b.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${b.logSeverityLevel}`);if(void 0===b?.logVerbosityLevel)f.logVerbosityLevel=0;else if("number"!=typeof b.logVerbosityLevel||!Number.isInteger(b.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${b.logVerbosityLevel}`);void 0===b?.terminate&&(f.terminate=!1);let c=0;if(void 0!==b?.tag&&(c=(0,w.allocWasmString)(b.tag,m)),p=v._OrtCreateRunOptions(f.logSeverityLevel,f.logVerbosityLevel,!!f.terminate,c),0===p)throw new Error("Can't create run options");return void 0!==b?.extra&&(0,S.iterateExtraOptions)(b.extra,"",new WeakSet,(a,d)=>{const h=(0,w.allocWasmString)(a,m),_=(0,w.allocWasmString)(d,m);if(0!==v._OrtAddRunConfigEntry(p,h,_))throw new Error(`Can't set a run config entry: ${a} - ${d}`)}),[p,m]}catch(c){throw 0!==p&&v._OrtReleaseRunOptions(p),m.forEach(v._free),c}}},6640:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.OnnxruntimeWebAssemblySessionHandler=void 0;const S=g(2806),w=g(8453),C=g(2850),b=g(9544),v=g(7917);let p;u.OnnxruntimeWebAssemblySessionHandler=class{createSessionAllocate(m){return _asyncToGenerator(function*(){const f=yield fetch(m),c=yield f.arrayBuffer();return(0,b.createSessionAllocate)(new Uint8Array(c))})()}loadModel(m,f){var c=this;return _asyncToGenerator(function*(){if(p||(yield(0,b.initOrt)(w.env.wasm.numThreads,(0,v.logLevelStringToEnum)(w.env.logLevel)),p=!0),"string"==typeof m)if(typeof fetch>"u"){const a=yield(0,C.promisify)(S.readFile)(m);[c.sessionId,c.inputNames,c.outputNames]=yield(0,b.createSession)(a,f)}else{const a=yield c.createSessionAllocate(m);[c.sessionId,c.inputNames,c.outputNames]=yield(0,b.createSessionFinalize)(a,f)}else[c.sessionId,c.inputNames,c.outputNames]=yield(0,b.createSession)(m,f)})()}dispose(){var m=this;return _asyncToGenerator(function*(){return(0,b.releaseSession)(m.sessionId)})()}run(m,f,c){var a=this;return _asyncToGenerator(function*(){const d=[],h=[];Object.entries(m).forEach(I=>{const A=I[0],R=I[1],P=a.inputNames.indexOf(A);if(-1===P)throw new Error(`invalid input '${A}'`);d.push(R),h.push(P)});const _=[];Object.entries(f).forEach(I=>{const A=I[0],R=a.outputNames.indexOf(A);if(-1===R)throw new Error(`invalid output '${A}'`);_.push(R)});const x=yield(0,b.run)(a.sessionId,h,d.map(I=>[I.type,I.dims,I.data]),_,c),D={};for(let I=0;I<x.length;I++)D[a.outputNames[_[I]]]=new w.Tensor(x[I][0],x[I][2],x[I][1]);return D})()}startProfiling(){}endProfiling(){(0,b.endProfiling)(this.sessionId)}}},7622:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.setSessionOptions=void 0;const S=g(3899),w=g(9444),C=g(263);u.setSessionOptions=b=>{var v,p,m,f;const c=(0,C.getInstance)();let a=0;const d=[],h=b||{};(_=>{_.extra||(_.extra={}),_.extra.session||(_.extra.session={});const x=_.extra.session;x.use_ort_model_bytes_directly||(x.use_ort_model_bytes_directly="1"),_.executionProviders&&_.executionProviders.some(D=>"webgpu"===("string"==typeof D?D:D.name))&&(_.enableMemPattern=!1)})(h);try{const _=(P=>{switch(P){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${P}`)}})(null!==(v=h.graphOptimizationLevel)&&void 0!==v?v:"all"),x=(P=>{switch(P){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${P}`)}})(null!==(p=h.executionMode)&&void 0!==p?p:"sequential"),D="string"==typeof h.logId?(0,w.allocWasmString)(h.logId,d):0,I=null!==(m=h.logSeverityLevel)&&void 0!==m?m:2;if(!Number.isInteger(I)||I<0||I>4)throw new Error(`log serverity level is not valid: ${I}`);const A=null!==(f=h.logVerbosityLevel)&&void 0!==f?f:0;if(!Number.isInteger(A)||A<0||A>4)throw new Error(`log verbosity level is not valid: ${A}`);const R="string"==typeof h.optimizedModelFilePath?(0,w.allocWasmString)(h.optimizedModelFilePath,d):0;if(a=c._OrtCreateSessionOptions(_,!!h.enableCpuMemArena,!!h.enableMemPattern,x,!!h.enableProfiling,0,D,I,A,R),0===a)throw new Error("Can't create session options");return h.executionProviders&&((P,k,B)=>{for(const V of k){let j="string"==typeof V?V:V.name;switch(j){case"xnnpack":j="XNNPACK";break;case"webgpu":j="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${j}`)}const X=(0,w.allocWasmString)(j,B);if(0!==(0,C.getInstance)()._OrtAppendExecutionProvider(P,X))throw new Error(`Can't append execution provider: ${j}`)}})(a,h.executionProviders,d),void 0!==h.extra&&(0,S.iterateExtraOptions)(h.extra,"",new WeakSet,(P,k)=>{const B=(0,w.allocWasmString)(P,d),V=(0,w.allocWasmString)(k,d);if(0!==c._OrtAddSessionConfigEntry(a,B,V))throw new Error(`Can't set a session config entry: ${P} - ${k}`)}),[a,d]}catch(_){throw 0!==a&&c._OrtReleaseSessionOptions(a),d.forEach(c._free),_}}},9444:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.allocWasmString=void 0;const S=g(263);u.allocWasmString=(w,C)=>{const b=(0,S.getInstance)(),v=b.lengthBytesUTF8(w)+1,p=b._malloc(v);return b.stringToUTF8(w,p,v),C.push(p),p}},7917:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.logLevelStringToEnum=u.tensorTypeToTypedArrayConstructor=u.getTensorElementSize=u.tensorDataTypeEnumToString=u.tensorDataTypeStringToEnum=void 0,u.tensorDataTypeStringToEnum=g=>{switch(g){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${g}`)}},u.tensorDataTypeEnumToString=g=>{switch(g){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${g}`)}},u.getTensorElementSize=g=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][g],u.tensorTypeToTypedArrayConstructor=g=>{switch(g){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${g}`)}},u.logLevelStringToEnum=g=>{switch(g){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${g}`)}}},1259:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.extractTransferableBuffers=u.endProfiling=u.run=u.releaseSession=u.createSession=u.createSessionFinalize=u.createSessionAllocate=u.initOrt=void 0;const S=g(7918),w=g(7622),C=g(9444),b=g(7917),v=g(263);u.initOrt=(m,f)=>{const c=(0,v.getInstance)()._OrtInit(m,f);if(0!==c)throw new Error(`Can't initialize onnxruntime. error code = ${c}`)};const p=new Map;u.createSessionAllocate=m=>{const f=(0,v.getInstance)(),c=f._malloc(m.byteLength);return f.HEAPU8.set(m,c),[c,m.byteLength]},u.createSessionFinalize=(m,f)=>{const c=(0,v.getInstance)();let a=0,d=0,h=[];try{if([d,h]=(0,w.setSessionOptions)(f),a=c._OrtCreateSession(m[0],m[1],d),0===a)throw new Error("Can't create a session")}finally{c._free(m[0]),0!==d&&c._OrtReleaseSessionOptions(d),h.forEach(c._free)}const _=c._OrtGetInputCount(a),x=c._OrtGetOutputCount(a),D=[],I=[],A=[],R=[];for(let P=0;P<_;P++){const k=c._OrtGetInputName(a,P);if(0===k)throw new Error("Can't get an input name");I.push(k),D.push(c.UTF8ToString(k))}for(let P=0;P<x;P++){const k=c._OrtGetOutputName(a,P);if(0===k)throw new Error("Can't get an output name");R.push(k),A.push(c.UTF8ToString(k))}return p.set(a,[a,I,R]),[a,D,A]},u.createSession=(m,f)=>{const c=(0,u.createSessionAllocate)(m);return(0,u.createSessionFinalize)(c,f)},u.releaseSession=m=>{const f=(0,v.getInstance)(),c=p.get(m);if(!c)throw new Error("invalid session id");const a=c[0],h=c[2];c[1].forEach(f._OrtFree),h.forEach(f._OrtFree),f._OrtReleaseSession(a),p.delete(m)},u.run=function(){var m=_asyncToGenerator(function*(f,c,a,d,h){const _=(0,v.getInstance)(),x=p.get(f);if(!x)throw new Error("invalid session id");const D=x[0],I=x[1],A=x[2],R=c.length,P=d.length;let k=0,B=[];const V=[],j=[];try{[k,B]=(0,S.setRunOptions)(h);for(let Pe=0;Pe<R;Pe++){const ie=a[Pe][0],ue=a[Pe][1],Fe=a[Pe][2];let Ye,dt;if(Array.isArray(Fe)){dt=4*Fe.length,Ye=_._malloc(dt),j.push(Ye);let Rt=Ye/4;for(let pt=0;pt<Fe.length;pt++){if("string"!=typeof Fe[pt])throw new TypeError(`tensor data at index ${pt} is not a string`);_.HEAPU32[Rt++]=(0,C.allocWasmString)(Fe[pt],j)}}else dt=Fe.byteLength,Ye=_._malloc(dt),j.push(Ye),_.HEAPU8.set(new Uint8Array(Fe.buffer,Fe.byteOffset,dt),Ye);const et=_.stackSave(),ft=_.stackAlloc(4*ue.length);try{let Rt=ft/4;ue.forEach(Ht=>_.HEAP32[Rt++]=Ht);const pt=_._OrtCreateTensor((0,b.tensorDataTypeStringToEnum)(ie),Ye,dt,ft,ue.length);if(0===pt)throw new Error("Can't create a tensor");V.push(pt)}finally{_.stackRestore(et)}}const X=_.stackSave(),Q=_.stackAlloc(4*R),Z=_.stackAlloc(4*R),de=_.stackAlloc(4*P),he=_.stackAlloc(4*P);try{let Pe=Q/4,ie=Z/4,ue=de/4,Fe=he/4;for(let ft=0;ft<R;ft++)_.HEAPU32[Pe++]=V[ft],_.HEAPU32[ie++]=I[c[ft]];for(let ft=0;ft<P;ft++)_.HEAPU32[ue++]=0,_.HEAPU32[Fe++]=A[d[ft]];let Ye=_._OrtRun(D,Z,Q,R,he,P,de,k);const dt=_.jsepRunPromise;dt&&void 0!==dt.then&&(Ye=yield dt);const et=[];if(0===Ye)for(let ft=0;ft<P;ft++){const Rt=_.HEAPU32[de/4+ft],pt=_.stackSave(),Ht=_.stackAlloc(16);let Oe,ge=0;try{if(Ye=_._OrtGetTensorData(Rt,Ht,Ht+4,Ht+8,Ht+12),0!==Ye)throw new Error(`Can't access output tensor data. error code = ${Ye}`);let Je=Ht/4;const ht=_.HEAPU32[Je++];ge=_.HEAPU32[Je++];const $t=_.HEAPU32[Je++],Ut=_.HEAPU32[Je++],gt=[];for(let at=0;at<Ut;at++)gt.push(_.HEAPU32[$t/4+at]);_._OrtFree($t);const Gt=0===gt.length?1:gt.reduce((at,vn)=>at*vn);if(Oe=(0,b.tensorDataTypeEnumToString)(ht),"string"===Oe){const at=[];let vn=ge/4;for(let Y=0;Y<Gt;Y++){const Se=_.HEAPU32[vn++];at.push(_.UTF8ToString(Se,Y===Gt-1?void 0:_.HEAPU32[vn]-Se))}et.push([Oe,gt,at])}else{const at=new((0,b.tensorTypeToTypedArrayConstructor)(Oe))(Gt);new Uint8Array(at.buffer,at.byteOffset,at.byteLength).set(_.HEAPU8.subarray(ge,ge+at.byteLength)),et.push([Oe,gt,at])}}finally{_.stackRestore(pt),"string"===Oe&&ge&&_._free(ge),_._OrtReleaseTensor(Rt)}}if(0===Ye)return et;throw new Error(`failed to call OrtRun(). error code = ${Ye}.`)}finally{_.stackRestore(X)}}finally{V.forEach(_._OrtReleaseTensor),j.forEach(_._free),_._OrtReleaseRunOptions(k),B.forEach(_._free)}});return function(f,c,a,d,h){return m.apply(this,arguments)}}(),u.endProfiling=m=>{const f=(0,v.getInstance)(),c=p.get(m);if(!c)throw new Error("invalid session id");const d=f._OrtEndProfiling(c[0]);if(0===d)throw new Error("Can't get an profile file name");f._OrtFree(d)},u.extractTransferableBuffers=m=>{const f=[];for(const c of m){const a=c[2];!Array.isArray(a)&&a.buffer&&f.push(a.buffer)}return f}},263:function(z,u,g){"use strict";var S=this&&this.__createBinding||(Object.create?function(d,h,_,x){void 0===x&&(x=_);var D=Object.getOwnPropertyDescriptor(h,_);D&&!("get"in D?!h.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return h[_]}}),Object.defineProperty(d,x,D)}:function(d,h,_,x){void 0===x&&(x=_),d[x]=h[_]}),w=this&&this.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),C=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(null!=d)for(var _ in d)"default"!==_&&Object.prototype.hasOwnProperty.call(d,_)&&S(h,d,_);return w(h,d),h};Object.defineProperty(u,"__esModule",{value:!0}),u.dispose=u.getInstance=u.initializeWebAssembly=void 0;const b=C(g(6449)),v=g(932),p=g(3474);let m,f=!1,c=!1,a=!1;u.initializeWebAssembly=function(){var d=_asyncToGenerator(function*(h){if(f)return Promise.resolve();if(c)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(a)throw new Error("previous call to 'initializeWebAssembly()' failed.");c=!0;const _=h.initTimeout,D=h.simd,I=h.numThreads>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),A=D&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),R=h.wasmPaths,P="string"==typeof R?R:void 0,k=((X,Q)=>Q?X?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":X?"ort-wasm-simd.wasm":"ort-wasm.wasm")(A,I),B="object"==typeof R?R[k]:void 0;let V=!1;const j=[];if(_>0&&j.push(new Promise(X=>{setTimeout(()=>{V=!0,X()},_)})),j.push(new Promise((X,Q)=>{const Z=I?p:v,de={locateFile:(he,Pe)=>I&&he.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([g(4154)],{type:"text/javascript"})):he.endsWith(".wasm")?B||(P??Pe)+k:Pe+he};if(I)if(typeof Blob>"u")de.mainScriptUrlOrBlob=b.join("/","ort-wasm-threaded.js");else{const he=`var ortWasmThreaded=(function(){var _scriptDir;return ${Z.toString()}})();`;de.mainScriptUrlOrBlob=new Blob([he],{type:"text/javascript"})}Z(de).then(he=>{c=!1,f=!0,m=he,X()},he=>{c=!1,a=!0,Q(he)})})),yield Promise.race(j),V)throw new Error(`WebAssembly backend initializing failed due to timeout: ${_}ms`)});return function(h){return d.apply(this,arguments)}}(),u.getInstance=()=>{if(f&&m)return m;throw new Error("WebAssembly is not initialized yet.")},u.dispose=()=>{var d;!f||c||a||(c=!0,null===(d=m.PThread)||void 0===d||d.terminateAllThreads(),m=void 0,c=!1,f=!1,a=!0)}},8050:(z,u,g)=>{"use strict";g.d(u,{Z:()=>C});var S=g(6614),w=g.n(S);function C(){return w()('/*!\n* ONNX Runtime Web v1.15.1\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setRunOptions=e=>{const t=(0,o.getInstance)();let n=0;const i=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=(0,a.allocWasmString)(e.tag,i)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const o=(0,a.allocWasmString)(e,i),s=(0,a.allocWasmString)(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,s))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setSessionOptions=e=>{var t,n,i,s;const u=(0,o.getInstance)();let c=0;const l=[],f=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(f);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=f.graphOptimizationLevel)&&void 0!==t?t:"all"),p=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(n=f.executionMode)&&void 0!==n?n:"sequential"),d="string"==typeof f.logId?(0,a.allocWasmString)(f.logId,l):0,m=null!==(i=f.logSeverityLevel)&&void 0!==i?i:2;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log serverity level is not valid: ${m}`);const g=null!==(s=f.logVerbosityLevel)&&void 0!==s?s:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof f.optimizedModelFilePath?(0,a.allocWasmString)(f.optimizedModelFilePath,l):0;if(c=u._OrtCreateSessionOptions(e,!!f.enableCpuMemArena,!!f.enableMemPattern,p,!!f.enableProfiling,0,d,m,g,h),0===c)throw new Error("Can\'t create session options");return f.executionProviders&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=(0,a.allocWasmString)(t,n);if(0!==(0,o.getInstance)()._OrtAppendExecutionProvider(e,i))throw new Error(`Can\'t append execution provider: ${t}`)}})(c,f.executionProviders,l),void 0!==f.extra&&(0,r.iterateExtraOptions)(f.extra,"",new WeakSet,((e,t)=>{const n=(0,a.allocWasmString)(e,l),r=(0,a.allocWasmString)(t,l);if(0!==u._OrtAddSessionConfigEntry(c,n,r))throw new Error(`Can\'t set a session config entry: ${e} - ${t}`)})),[c,l]}catch(e){throw 0!==c&&u._OrtReleaseSessionOptions(c),l.forEach(u._free),e}}},444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(263);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(918),a=n(622),o=n(444),i=n(917),s=n(263);t.initOrt=(e,t)=>{const n=(0,s.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;t.createSessionAllocate=e=>{const t=(0,s.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,s.getInstance)();let r=0,o=0,i=[];try{if([o,i]=(0,a.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],o),0===r)throw new Error("Can\'t create a session")}finally{n._free(e[0]),0!==o&&n._OrtReleaseSessionOptions(o),i.forEach(n._free)}const c=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],d=[],m=[];for(let e=0;e<c;e++){const t=n._OrtGetInputName(r,e);if(0===t)throw new Error("Can\'t get an input name");p.push(t),f.push(n.UTF8ToString(t))}for(let e=0;e<l;e++){const t=n._OrtGetOutputName(r,e);if(0===t)throw new Error("Can\'t get an output name");m.push(t),d.push(n.UTF8ToString(t))}return u.set(r,[r,p,m]),[r,f,d]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)},t.run=async(e,t,n,a,c)=>{const l=(0,s.getInstance)(),f=u.get(e);if(!f)throw new Error("invalid session id");const p=f[0],d=f[1],m=f[2],g=t.length,h=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,r.setRunOptions)(c);for(let e=0;e<g;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let s,u;if(Array.isArray(a)){u=4*a.length,s=l._malloc(u),w.push(s);let e=s/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,o.allocWasmString)(a[t],w)}}else u=a.byteLength,s=l._malloc(u),w.push(s),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),s);const c=l.stackSave(),f=l.stackAlloc(4*r.length);try{let e=f/4;r.forEach((t=>l.HEAP32[e++]=t));const n=l._OrtCreateTensor((0,i.tensorDataTypeStringToEnum)(t),s,u,f,r.length);if(0===n)throw new Error("Can\'t create a tensor");b.push(n)}finally{l.stackRestore(c)}}const e=l.stackSave(),s=l.stackAlloc(4*g),u=l.stackAlloc(4*g),f=l.stackAlloc(4*h),_=l.stackAlloc(4*h);try{let e=s/4,n=u/4,r=f/4,o=_/4;for(let r=0;r<g;r++)l.HEAPU32[e++]=b[r],l.HEAPU32[n++]=d[t[r]];for(let e=0;e<h;e++)l.HEAPU32[r++]=0,l.HEAPU32[o++]=m[a[e]];let c=l._OrtRun(p,u,s,g,_,h,f,y);const v=l.jsepRunPromise;v&&void 0!==v.then&&(c=await v);const w=[];if(0===c)for(let e=0;e<h;e++){const t=l.HEAPU32[f/4+e],n=l.stackSave(),r=l.stackAlloc(16);let a,o=0;try{if(c=l._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==c)throw new Error(`Can\'t access output tensor data. error code = ${c}`);let e=r/4;const n=l.HEAPU32[e++];o=l.HEAPU32[e++];const s=l.HEAPU32[e++],u=l.HEAPU32[e++],f=[];for(let e=0;e<u;e++)f.push(l.HEAPU32[s/4+e]);l._OrtFree(s);const p=0===f.length?1:f.reduce(((e,t)=>e*t));if(a=(0,i.tensorDataTypeEnumToString)(n),"string"===a){const e=[];let t=o/4;for(let n=0;n<p;n++){const r=l.HEAPU32[t++],a=n===p-1?void 0:l.HEAPU32[t]-r;e.push(l.UTF8ToString(r,a))}w.push([a,f,e])}else{const e=new((0,i.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(o,o+e.byteLength)),w.push([a,f,e])}}finally{l.stackRestore(n),"string"===a&&o&&l._free(o),l._OrtReleaseTensor(t)}}if(0===c)return w;throw new Error(`failed to call OrtRun(). error code = ${c}.`)}finally{l.stackRestore(e)}}finally{b.forEach(l._OrtReleaseTensor),w.forEach(l._free),l._OrtReleaseRunOptions(y),v.forEach(l._free)}},t.endProfiling=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(n(449)),s=n(932),u=n(474);let c,l=!1,f=!1,p=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(p)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),d=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),m=e.wasmPaths,g="string"==typeof m?m:void 0,h=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(d,o),y="object"==typeof m?m[h]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const r=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=g?g:t)+h:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,p=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||p||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,p=!0)}},474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return P.buffer!=D&&G(P.buffer),F}function r(){return P.buffer!=D&&G(P.buffer),U}function a(){return P.buffer!=D&&G(P.buffer),I}function o(){return P.buffer!=D&&G(P.buffer),W}function i(){return P.buffer!=D&&G(P.buffer),j}var s,u,c;e=e||{},s||(s=void 0!==e?e:{}),s.ready=new Promise((function(e,t){u=e,c=t}));var l,f,p,d,m,g,h=Object.assign({},s),y="./this.program",v=(e,t)=>{throw t},b="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=s.ENVIRONMENT_IS_PTHREAD||!1,S="";function T(e){return s.locateFile?s.locateFile(e,S):S+e}if(_){let t;S=w?n(908).dirname(S)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?void 0:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ie))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(C)throw process.exitCode=e,t;t instanceof ie||x("exiting due to exception: "+t),process.exit(e)},s.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(b||w)&&(w?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),_scriptDir&&(S=_scriptDir),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var A=console.log.bind(console),E=console.warn.bind(console);_&&(g(),A=e=>d.writeSync(1,e+"\\n"),E=e=>d.writeSync(2,e+"\\n"));var M,R=s.print||A,x=s.printErr||E;Object.assign(s,h),h=null,s.thisProgram&&(y=s.thisProgram),s.quit&&(v=s.quit),s.wasmBinary&&(M=s.wasmBinary);var C=s.noExitRuntime||!0;"object"!=typeof WebAssembly&&ne("no native wasm support detected");var P,k,D,F,U,I,W,j,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Y(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&L)return L.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function z(e,t){return(e>>>=0)?Y(r(),e,t):""}function B(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function N(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){D=e,s.HEAP8=F=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=I=new Int32Array(e),s.HEAPU8=U=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=W=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=j=new Float64Array(e)}O&&(D=s.buffer);var q=s.INITIAL_MEMORY||16777216;if(O)P=s.wasmMemory,D=s.buffer;else if(s.wasmMemory)P=s.wasmMemory;else if(!((P=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");P&&(D=P.buffer),q=D.byteLength,G(D);var $,V=[],J=[],Q=[];function X(){var e=s.preRun.shift();V.unshift(e)}var K,Z=0,ee=null,te=null;function ne(e){throw O?postMessage({cmd:"onAbort",arg:e}):s.onAbort&&s.onAbort(e),x(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function re(){return K.startsWith("data:application/octet-stream;base64,")}function ae(){var e=K;try{if(e==K&&M)return new Uint8Array(M);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}K="ort-wasm-threaded.wasm",re()||(K=T(K));var oe={};function ie(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function se(e){(e=fe.La[e])||ne(),fe.Xa(e)}function ue(e){var t=fe.lb();if(!t)return 6;fe.Ra.push(t),fe.La[e.Ka]=t,t.Ka=e.Ka;var n={cmd:"run",start_routine:e.pb,arg:e.ib,pthread_ptr:e.Ka};return t.Qa=()=>{n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Qa(),delete t.Qa),0}function ce(e){if(O)return He(1,1,e);C||(fe.qb(),s.onExit&&s.onExit(e),H=!0),v(e,new ie(e))}function le(e,t){if(!t&&O)throw de(e),"unwind";ce(e)}var fe={Oa:[],Ra:[],$a:[],La:{},Ua:function(){O&&fe.mb()},xb:function(){},mb:function(){fe.receiveObjectTransfer=fe.ob,fe.threadInitTLS=fe.Za,fe.setExitStatus=fe.Ya,C=!1},Ya:function(){},qb:function(){for(var e of Object.values(fe.La))fe.Xa(e);for(e of fe.Oa)e.terminate();fe.Oa=[]},Xa:function(e){var t=e.Ka;delete fe.La[t],fe.Oa.push(e),fe.Ra.splice(fe.Ra.indexOf(e),1),e.Ka=0,ct(t)},ob:function(){},Za:function(){fe.$a.forEach((e=>e()))},nb:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ka&&(fe.kb=e.Ka),n.targetThread&&n.targetThread!=rt()){var a=fe.La[n.yb];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?De(n.queue):"spawnThread"===r?ue(n):"cleanupThread"===r?se(n.thread):"killThread"===r?(n=n.thread,r=fe.La[n],delete fe.La[n],r.terminate(),ct(n),fe.Ra.splice(fe.Ra.indexOf(r),1),r.Ka=0):"cancelThread"===r?fe.La[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Qa&&(e.Qa(),delete e.Qa)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?s.onAbort&&s.onAbort(n.arg):r&&x("worker sent an unknown command "+r);fe.kb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},_&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:s.mainScriptUrlOrBlob||_scriptDir,wasmMemory:P,wasmModule:k})},hb:function(){var e=T("ort-wasm-threaded.worker.js");fe.Oa.push(new Worker(e))},lb:function(){return 0==fe.Oa.length&&(fe.hb(),fe.nb(fe.Oa[0])),fe.Oa.pop()}};function pe(e){for(;0<e.length;)e.shift()(s)}function de(e){if(O)return He(2,0,e);try{le(e)}catch(e){e instanceof ie||"unwind"==e||v(1,e)}}s.PThread=fe,s.establishStackSpace=function(){var e=rt(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],ft(t,t-e),dt(t)};var me,ge,he=[];function ye(e){this.Pa=e-24,this.gb=function(e){o()[this.Pa+4>>2>>>0]=e},this.cb=function(e){o()[this.Pa+8>>2>>>0]=e},this.eb=function(){a()[this.Pa>>2>>>0]=0},this.bb=function(){t()[this.Pa+12>>0>>>0]=0},this.fb=function(){t()[this.Pa+13>>0>>>0]=0},this.Ua=function(e,t){this.ab(),this.gb(e),this.cb(t),this.eb(),this.bb(),this.fb()},this.ab=function(){o()[this.Pa+16>>2>>>0]=0}}function ve(e,t,n,r){return O?He(3,1,e,t,n,r):be(e,t,n,r)}function be(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?ve(e,t,n,r):(e={pb:n,Ka:e,ib:r,vb:a},O?(e.wb="spawnThread",postMessage(e,a),0):ue(e))}function we(e,t,n){return O?He(4,1,e,t,n):0}function _e(e,t){if(O)return He(5,1,e,t)}function Oe(e,t){if(O)return He(6,1,e,t)}function Se(e,t,n){if(O)return He(7,1,e,t,n)}function Te(e,t,n){return O?He(8,1,e,t,n):0}function Ae(e,t){if(O)return He(9,1,e,t)}function Ee(e,t,n){if(O)return He(10,1,e,t,n)}function Me(e,t,n,r){if(O)return He(11,1,e,t,n,r)}function Re(e,t,n,r){if(O)return He(12,1,e,t,n,r)}function xe(e,t,n,r){if(O)return He(13,1,e,t,n,r)}function Ce(e){if(O)return He(14,1,e)}function Pe(e,t){if(O)return He(15,1,e,t)}function ke(e,t,n){if(O)return He(16,1,e,t,n)}function De(e){Atomics.store(a(),e>>2,1),rt()&&ut(e),Atomics.compareExchange(a(),e>>2,1,0)}function Fe(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function Ue(e,t,n,r,a,o){return O?He(17,1,e,t,n,r,a,o):-52}function Ie(e,t,n,r,a,o){if(O)return He(18,1,e,t,n,r,a,o)}function We(e){var n=N(e)+1,r=at(n);return r&&B(e,t(),r,n),r}function je(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return He(19,1,e,t,n);var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);a()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=r(s),t=r(u),e=We(e),t=We(t),c<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function He(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=pt();return e=e(),dt(t),e}((()=>{for(var a=mt(8*n),o=a>>3,s=0;s<n;s++){var u=r[2+s];i()[o+s>>>0]=u}return st(e,n,a,t)}))}s.invokeEntryPoint=function(e,t){var n=he[e];n||(e>=he.length&&(he.length=e+1),he[e]=n=$.get(e)),e=n(t),C?fe.Ya(e):lt(e)},s.executeNotifiedProxyingQueue=De,ge=_?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-s.__performance_now_clock_drift:()=>performance.now();var Le,Ye=[],ze={};function Be(){if(!Le){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in ze)void 0===ze[e]?delete t[e]:t[e]=ze[e];var n=[];for(e in t)n.push(e+"="+t[e]);Le=n}return Le}function Ne(e,n){if(O)return He(20,1,e,n);var r=0;return Be().forEach((function(a,i){var s=n+r;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,r+=a.length+1})),0}function Ge(e,t){if(O)return He(21,1,e,t);var n=Be();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function qe(e){return O?He(22,1,e):52}function $e(e,t,n,r){return O?He(23,1,e,t,n,r):52}function Ve(e,t,n,r,a){return O?He(24,1,e,t,n,r,a):70}var Je=[null,[],[]];function Qe(e,t,n,a){if(O)return He(25,1,e,t,n,a);for(var i=0,s=0;s<n;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=r()[u+l>>>0],p=Je[e];0===f||10===f?((1===e?R:x)(Y(p,0)),p.length=0):p.push(f)}i+=c}return o()[a>>2>>>0]=i,0}function Xe(e){return 0==e%4&&(0!=e%100||0==e%400)}var Ke=[31,29,31,30,31,30,31,31,30,31,30,31],Ze=[31,28,31,30,31,30,31,31,30,31,30,31];function et(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return i(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Ma;for(e=new Date(new Date(e.Na+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Xe(e.getFullYear())?Ke:Ze)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2>>>0];for(var p in o={tb:a()[o>>2>>>0],sb:a()[o+4>>2>>>0],Sa:a()[o+8>>2>>>0],Va:a()[o+12>>2>>>0],Ta:a()[o+16>>2>>>0],Na:a()[o+20>>2>>>0],Ja:a()[o+24>>2>>>0],Ma:a()[o+28>>2>>>0],zb:a()[o+32>>2>>>0],rb:a()[o+36>>2>>>0],ub:f?z(f):""},r=z(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ja].substring(0,3)},"%A":function(e){return d[e.Ja]},"%b":function(e){return m[e.Ta].substring(0,3)},"%B":function(e){return m[e.Ta]},"%C":function(e){return s((e.Na+1900)/100|0,2)},"%d":function(e){return s(e.Va,2)},"%e":function(e){return i(e.Va,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.Sa,2)},"%I":function(e){return 0==(e=e.Sa)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ta-1;t+=(Xe(e.Na+1900)?Ke:Ze)[n++]);return s(e.Va+t,3)},"%m":function(e){return s(e.Ta+1,2)},"%M":function(e){return s(e.sb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Sa&&12>e.Sa?"AM":"PM"},"%S":function(e){return s(e.tb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ja||7},"%U":function(e){return s(Math.floor((e.Ma+7-e.Ja)/7),2)},"%V":function(e){var t=Math.floor((e.Ma+7-(e.Ja+6)%7)/7);if(2>=(e.Ja+371-e.Ma-2)%7&&t++,t)53==t&&(4==(n=(e.Ja+371-e.Ma)%7)||3==n&&Xe(e.Na)||(t=1));else{t=52;var n=(e.Ja+7-e.Ma-1)%7;(4==n||5==n&&Xe(e.Na%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Ja},"%W":function(e){return s(Math.floor((e.Ma+7-(e.Ja+6)%7)/7),2)},"%y":function(e){return(e.Na+1900).toString().substring(2)},"%Y":function(e){return e.Na+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(N(e)+1);return B(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}fe.Ua();var tt=[null,ce,de,ve,we,_e,Oe,Se,Te,Ae,Ee,Me,Re,xe,Ce,Pe,ke,Ue,Ie,je,Ne,Ge,qe,$e,Ve,Qe],nt={b:function(e){return at(e+24)+24},c:function(e,t,n){throw new ye(e).Ua(t,n),e},L:function(e){ot(e,!w,1,!b),fe.Za()},l:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):se(e)},D:be,i:we,R:_e,z:Oe,B:Se,T:Te,P:Ae,I:Ee,O:Me,p:Re,A:xe,x:Ce,Q:Pe,y:ke,r:function(){},j:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout((()=>De(r)));else if(O)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=fe.La[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},W:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},X:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},Y:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),u=Math.min(s,i);return 0>n?a()[e+32>>2>>>0]=Number(i!=s&&u==r):0<n!=(u==r)&&(i=Math.max(s,i),t.setTime(t.getTime()+6e4*((0<n?u:i)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:Ue,H:Ie,Z:function e(t,n,r){e.jb||(e.jb=!0,je(t,n,r))},d:function(){ne("")},m:function(){if(!_&&!w){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";me||(me={}),me[e]||(me[e]=1,_&&(e="warning: "+e),x(e))}},w:function(){return 4294901760},f:ge,S:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){Ye.length=t,n>>=3;for(var r=0;r<t;r++)Ye[r]=i()[n+r>>>0];return(0>e?oe[-e-1]:tt[e]).apply(null,Ye)},v:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a),o=o.min.call(o,4294901760,a+(65536-a%65536)%65536);e:{try{P.grow(o-D.byteLength+65535>>>16),G(P.buffer);var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},U:function(){throw"unwind"},M:Ne,N:Ge,k:le,h:qe,o:$e,t:Ve,n:Qe,u:function e(r,a){e.Wa||(e.Wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(_)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>ne("randomDevice")}());for(var o=0;o<a;o++)t()[r+o>>0>>>0]=e.Wa();return 0},a:P||s.wasmMemory,C:et,e:function(e,t,n,r){return et(e,t,n,r)}};!function(){function e(e,t){s.asm=e.exports,fe.$a.push(s.asm.wa),$=s.asm.za,J.unshift(s.asm._),k=t,O||(Z--,s.monitorRunDependencies&&s.monitorRunDependencies(Z),0==Z&&(null!==ee&&(clearInterval(ee),ee=null),te&&(e=te,te=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!M&&(b||w)){if("function"==typeof fetch&&!K.startsWith("file://"))return fetch(K,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+K+"\'";return e.arrayBuffer()})).catch((function(){return ae()}));if(f)return new Promise((function(e,t){f(K,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ae()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),ne(e)}))}var r={a:nt};if(O||(Z++,s.monitorRunDependencies&&s.monitorRunDependencies(Z)),s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||re()||K.startsWith("file://")||_||"function"!=typeof fetch?n(t):fetch(K,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm._).apply(null,arguments)},s._OrtInit=function(){return(s._OrtInit=s.asm.$).apply(null,arguments)},s._OrtCreateSessionOptions=function(){return(s._OrtCreateSessionOptions=s.asm.aa).apply(null,arguments)},s._OrtAppendExecutionProvider=function(){return(s._OrtAppendExecutionProvider=s.asm.ba).apply(null,arguments)},s._OrtAddSessionConfigEntry=function(){return(s._OrtAddSessionConfigEntry=s.asm.ca).apply(null,arguments)},s._OrtReleaseSessionOptions=function(){return(s._OrtReleaseSessionOptions=s.asm.da).apply(null,arguments)},s._OrtCreateSession=function(){return(s._OrtCreateSession=s.asm.ea).apply(null,arguments)},s._OrtReleaseSession=function(){return(s._OrtReleaseSession=s.asm.fa).apply(null,arguments)},s._OrtGetInputCount=function(){return(s._OrtGetInputCount=s.asm.ga).apply(null,arguments)},s._OrtGetOutputCount=function(){return(s._OrtGetOutputCount=s.asm.ha).apply(null,arguments)},s._OrtGetInputName=function(){return(s._OrtGetInputName=s.asm.ia).apply(null,arguments)},s._OrtGetOutputName=function(){return(s._OrtGetOutputName=s.asm.ja).apply(null,arguments)},s._OrtFree=function(){return(s._OrtFree=s.asm.ka).apply(null,arguments)},s._OrtCreateTensor=function(){return(s._OrtCreateTensor=s.asm.la).apply(null,arguments)},s._OrtGetTensorData=function(){return(s._OrtGetTensorData=s.asm.ma).apply(null,arguments)},s._OrtReleaseTensor=function(){return(s._OrtReleaseTensor=s.asm.na).apply(null,arguments)},s._OrtCreateRunOptions=function(){return(s._OrtCreateRunOptions=s.asm.oa).apply(null,arguments)},s._OrtAddRunConfigEntry=function(){return(s._OrtAddRunConfigEntry=s.asm.pa).apply(null,arguments)},s._OrtReleaseRunOptions=function(){return(s._OrtReleaseRunOptions=s.asm.qa).apply(null,arguments)},s._OrtRun=function(){return(s._OrtRun=s.asm.ra).apply(null,arguments)},s._OrtEndProfiling=function(){return(s._OrtEndProfiling=s.asm.sa).apply(null,arguments)};var rt=s._pthread_self=function(){return(rt=s._pthread_self=s.asm.ta).apply(null,arguments)},at=s._malloc=function(){return(at=s._malloc=s.asm.ua).apply(null,arguments)};s._free=function(){return(s._free=s.asm.va).apply(null,arguments)},s.__emscripten_tls_init=function(){return(s.__emscripten_tls_init=s.asm.wa).apply(null,arguments)};var ot=s.__emscripten_thread_init=function(){return(ot=s.__emscripten_thread_init=s.asm.xa).apply(null,arguments)};s.__emscripten_thread_crashed=function(){return(s.__emscripten_thread_crashed=s.asm.ya).apply(null,arguments)};var it,st=s._emscripten_run_in_main_runtime_thread_js=function(){return(st=s._emscripten_run_in_main_runtime_thread_js=s.asm.Aa).apply(null,arguments)},ut=s.__emscripten_proxy_execute_task_queue=function(){return(ut=s.__emscripten_proxy_execute_task_queue=s.asm.Ba).apply(null,arguments)},ct=s.__emscripten_thread_free_data=function(){return(ct=s.__emscripten_thread_free_data=s.asm.Ca).apply(null,arguments)},lt=s.__emscripten_thread_exit=function(){return(lt=s.__emscripten_thread_exit=s.asm.Da).apply(null,arguments)},ft=s._emscripten_stack_set_limits=function(){return(ft=s._emscripten_stack_set_limits=s.asm.Ea).apply(null,arguments)},pt=s.stackSave=function(){return(pt=s.stackSave=s.asm.Fa).apply(null,arguments)},dt=s.stackRestore=function(){return(dt=s.stackRestore=s.asm.Ga).apply(null,arguments)},mt=s.stackAlloc=function(){return(mt=s.stackAlloc=s.asm.Ha).apply(null,arguments)};function gt(){function e(){if(!it&&(it=!0,s.calledRun=!0,!H)&&(O||pe(J),u(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!O)){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var e=s.postRun.shift();Q.unshift(e)}pe(Q)}}if(!(0<Z))if(O)u(s),O||pe(J),postMessage({cmd:"loaded"});else{if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)X();pe(V),0<Z||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),e()}),1)):e())}}if(s.___cxa_is_pointer_type=function(){return(s.___cxa_is_pointer_type=s.asm.Ia).apply(null,arguments)},s.UTF8ToString=z,s.stringToUTF8=function(e,t,n){return B(e,r(),t,n)},s.lengthBytesUTF8=N,s.keepRuntimeAlive=function(){return C},s.wasmMemory=P,s.stackSave=pt,s.stackRestore=dt,s.stackAlloc=mt,s.ExitStatus=ie,s.PThread=fe,te=function e(){it||gt(),it||(te=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return gt(),e.ready});e.exports=r},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var o,i,s,u,c,l,f=Object.assign({},t),p="./this.program",d=(e,t)=>{throw t},m="object"==typeof window,g="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y="";h?(y=g?n(908).dirname(y)+"/":"//",l=()=>{c||(u=n(384),c=n(908))},o=function(e,t){return l(),e=c.normalize(e),u.readFileSync(e,t?void 0:"utf8")},s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,n)=>{l(),e=c.normalize(e),u.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof $))throw e})),process.on("unhandledRejection",(function(e){throw e})),d=(e,t)=>{if(_)throw process.exitCode=e,t;t instanceof $||w("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),_scriptDir&&(y=_scriptDir),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var v,b=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(p=t.thisProgram),t.quit&&(d=t.quit),t.wasmBinary&&(v=t.wasmBinary);var _=t.noExitRuntime||!0;"object"!=typeof WebAssembly&&B("no native wasm support detected");var O,S,T,A,E,M,R=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&x)return x.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function P(e,t){return(e>>>=0)?C(A,e,t):""}function k(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function D(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function F(){var e=O.buffer;S=e,t.HEAP8=T=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=E=new Int32Array(e),t.HEAPU8=A=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=M=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var U=[],I=[],W=[];function j(){var e=t.preRun.shift();U.unshift(e)}var H,L=0,Y=null,z=null;function B(e){throw t.onAbort&&t.onAbort(e),w(e="Aborted("+e+")"),R=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function N(){return H.startsWith("data:application/octet-stream;base64,")}if(H="ort-wasm.wasm",!N()){var G=H;H=t.locateFile?t.locateFile(G,y):y+G}function q(){var e=H;try{if(e==H&&v)return new Uint8Array(v);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){B(e)}}function $(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function V(e){for(;0<e.length;)e.shift()(t)}function J(e){this.sa=e-24,this.Ia=function(e){M[this.sa+4>>2>>>0]=e},this.Ba=function(e){M[this.sa+8>>2>>>0]=e},this.Ga=function(){E[this.sa>>2>>>0]=0},this.Aa=function(){T[this.sa+12>>0>>>0]=0},this.Ha=function(){T[this.sa+13>>0>>>0]=0},this.ya=function(e,t){this.za(),this.Ia(e),this.Ba(t),this.Ga(),this.Aa(),this.Ha()},this.za=function(){M[this.sa+16>>2>>>0]=0}}function Q(e){var t=D(e)+1,n=ie(t);return n&&k(e,T,n,t),n}var X={};function K(){if(!Z){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in X)void 0===X[e]?delete t[e]:t[e]=X[e];var n=[];for(e in t)n.push(e+"="+t[e]);Z=n}return Z}var Z,ee=[null,[],[]];function te(e){return 0==e%4&&(0!=e%100||0==e%400)}var ne=[31,29,31,30,31,30,31,31,30,31,30,31],re=[31,28,31,30,31,30,31,31,30,31,30,31];function ae(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.qa;for(e=new Date(new Date(e.ra+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(te(e.getFullYear())?ne:re)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=i(t,e)?0>=i(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=E[r+40>>2>>>0];for(var l in r={Ea:E[r>>2>>>0],Da:E[r+4>>2>>>0],ta:E[r+8>>2>>>0],va:E[r+12>>2>>>0],ua:E[r+16>>2>>>0],ra:E[r+20>>2>>>0],la:E[r+24>>2>>>0],qa:E[r+28>>2>>>0],Ja:E[r+32>>2>>>0],Ca:E[r+36>>2>>>0],Fa:c?P(c):""},n=P(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.la].substring(0,3)},"%A":function(e){return f[e.la]},"%b":function(e){return p[e.ua].substring(0,3)},"%B":function(e){return p[e.ua]},"%C":function(e){return o((e.ra+1900)/100|0,2)},"%d":function(e){return o(e.va,2)},"%e":function(e){return a(e.va,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return o(e.ta,2)},"%I":function(e){return 0==(e=e.ta)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ua-1;t+=(te(e.ra+1900)?ne:re)[n++]);return o(e.va+t,3)},"%m":function(e){return o(e.ua+1,2)},"%M":function(e){return o(e.Da,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.ta&&12>e.ta?"AM":"PM"},"%S":function(e){return o(e.Ea,2)},"%t":function(){return"\\t"},"%u":function(e){return e.la||7},"%U":function(e){return o(Math.floor((e.qa+7-e.la)/7),2)},"%V":function(e){var t=Math.floor((e.qa+7-(e.la+6)%7)/7);if(2>=(e.la+371-e.qa-2)%7&&t++,t)53==t&&(4==(n=(e.la+371-e.qa)%7)||3==n&&te(e.ra)||(t=1));else{t=52;var n=(e.la+7-e.qa-1)%7;(4==n||5==n&&te(e.ra%400-1))&&t++}return o(t,2)},"%w":function(e){return e.la},"%W":function(e){return o(Math.floor((e.qa+7-(e.la+6)%7)/7),2)},"%y":function(e){return(e.ra+1900).toString().substring(2)},"%Y":function(e){return e.ra+1900},"%z":function(e){var t=0<=(e=e.Ca);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Fa},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(D(e)+1);return k(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),l.length>t?0:(T.set(l,e>>>0),l.length-1)}var oe={a:function(e){return ie(e+24)+24},b:function(e,t,n){throw new J(e).ya(t,n),e},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getUTCSeconds(),E[t+4>>2>>>0]=e.getUTCMinutes(),E[t+8>>2>>>0]=e.getUTCHours(),E[t+12>>2>>>0]=e.getUTCDate(),E[t+16>>2>>>0]=e.getUTCMonth(),E[t+20>>2>>>0]=e.getUTCFullYear()-1900,E[t+24>>2>>>0]=e.getUTCDay(),E[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),E[t+20>>2>>>0]=e.getFullYear()-1900,E[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);E[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,E[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},O:function(e){var t=new Date(E[e+20>>2>>>0]+1900,E[e+16>>2>>>0],E[e+12>>2>>>0],E[e+8>>2>>>0],E[e+4>>2>>>0],E[e>>2>>>0],0),n=E[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),s=Math.min(i,o);return 0>n?E[e+32>>2>>>0]=Number(o!=i&&s==r):0<n!=(s==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),E[e+24>>2>>>0]=t.getDay(),E[e+28>>2>>>0]=(t.getTime()-a.getTime())/864e5|0,E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function e(t,n,r){e.xa||(e.xa=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();E[e>>2>>>0]=60*Math.max(a,s),E[t>>2>>>0]=Number(a!=s),e=r(o),t=r(i),e=Q(e),t=Q(t),s<a?(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t):(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e)}(t,n,r))},d:function(){B("")},t:function(){return 4294901760},h:h?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),J:function(e,t,n){A.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=A.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{O.grow(a-S.byteLength+65535>>>16),F();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){var n=0;return K().forEach((function(r,a){var o=t+n;for(a=M[e+4*a>>2>>>0]=o,o=0;o<r.length;++o)T[a++>>0>>>0]=r.charCodeAt(o);T[a>>0>>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=K();M[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),M[t>>2>>>0]=r,0},r:function(e){_||(t.onExit&&t.onExit(e),R=!0),d(e,new $(e))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=M[t>>2>>>0],s=M[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=A[i+u>>>0],l=ee[e];0===c||10===c?((1===e?b:w)(C(l,0)),l.length=0):l.push(c)}a+=s}return M[r>>2>>>0]=a,0},s:function e(t,r){e.wa||(e.wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(h)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>B("randomDevice")}());for(var a=0;a<r;a++)T[t+a>>0>>>0]=e.wa();return 0},A:ae,c:function(e,t,n,r){return ae(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,O=t.asm.P,F(),I.unshift(t.asm.Q),L--,t.monitorRunDependencies&&t.monitorRunDependencies(L),0==L&&(null!==Y&&(clearInterval(Y),Y=null),z&&(e=z,z=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!v&&(m||g)){if("function"==typeof fetch&&!H.startsWith("file://"))return fetch(H,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+H+"\'";return e.arrayBuffer()})).catch((function(){return q()}));if(i)return new Promise((function(e,t){i(H,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return q()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){w("failed to asynchronously prepare wasm: "+e),B(e)}))}var o={a:oe};if(L++,t.monitorRunDependencies&&t.monitorRunDependencies(L),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||N()||H.startsWith("file://")||h||"function"!=typeof fetch?r(n):fetch(H,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.Q).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.R).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.S).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.T).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.U).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.V).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.W).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.X).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Y).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Z).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm._).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.$).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.aa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.ba).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.ca).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.da).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ea).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.fa).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ga).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ha).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ia).apply(null,arguments)};var ie=t._malloc=function(){return(ie=t._malloc=t.asm.ja).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ka).apply(null,arguments)};var se,ue=t.stackSave=function(){return(ue=t.stackSave=t.asm.ma).apply(null,arguments)},ce=t.stackRestore=function(){return(ce=t.stackRestore=t.asm.na).apply(null,arguments)},le=t.stackAlloc=function(){return(le=t.stackAlloc=t.asm.oa).apply(null,arguments)};function fe(){function e(){if(!se&&(se=!0,t.calledRun=!0,!R)){if(V(I),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();W.unshift(e)}V(W)}}if(!(0<L)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)j();V(U),0<L||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.pa).apply(null,arguments)},t.UTF8ToString=P,t.stringToUTF8=function(e,t,n){return k(e,A,t,n)},t.lengthBytesUTF8=D,t.stackSave=ue,t.stackRestore=ce,t.stackAlloc=le,z=function e(){se||fe(),se||(z=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return fe(),e.ready});e.exports=r},154:e=>{"use strict";e.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(259),t=n(263);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,t.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;(0,e.initOrt)(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=n.data.in,r=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:r})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:r}=n.data.in,a=(0,e.createSessionFinalize)(t,r);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=(0,e.createSession)(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in;(0,e.run)(t,r,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:z=>{"use strict";z.exports=function(u,g,S,w){var C=self||window;try{try{var b;try{b=new C.Blob([u])}catch{(b=new(C.BlobBuilder||C.WebKitBlobBuilder||C.MozBlobBuilder||C.MSBlobBuilder)).append(u),b=b.getBlob()}var v=C.URL||C.webkitURL,p=v.createObjectURL(b),m=new C[g](p,S);return v.revokeObjectURL(p),m}catch{return new C[g]("data:application/javascript,".concat(encodeURIComponent(u)),S)}}catch{if(!w)throw Error("Inline worker is not supported");return new C[g](w,S)}}},3474:(z,u,g)=>{var S,w=(S=(S=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(C){function b(){return Ye.buffer!=et&&Gt(Ye.buffer),ft}function v(){return Ye.buffer!=et&&Gt(Ye.buffer),Rt}function p(){return Ye.buffer!=et&&Gt(Ye.buffer),pt}function m(){return Ye.buffer!=et&&Gt(Ye.buffer),Ht}function f(){return Ye.buffer!=et&&Gt(Ye.buffer),Oe}var c,a,d;C=C||{},c||(c=void 0!==C?C:{}),c.ready=new Promise(function(se,Te){a=se,d=Te});var h,_,x,D,I,A,R=Object.assign({},c),P="./this.program",k=(se,Te)=>{throw Te},B="object"==typeof window,V="function"==typeof importScripts,j="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,X=c.ENVIRONMENT_IS_PTHREAD||!1,Q="";function Z(se){return c.locateFile?c.locateFile(se,Q):Q+se}if(j){let se;Q=V?g(908).dirname(Q)+"/":"//",A=()=>{I||(D=g(1384),I=g(908))},h=function(Te,Ie){return A(),Te=I.normalize(Te),D.readFileSync(Te,Ie?void 0:"utf8")},x=Te=>((Te=h(Te,!0)).buffer||(Te=new Uint8Array(Te)),Te),_=(Te,Ie,Ve)=>{A(),Te=I.normalize(Te),D.readFile(Te,function(It,Pt){It?Ve(It):Ie(Pt.buffer)})},1<process.argv.length&&(P=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Te){if(!(Te instanceof q))throw Te}),process.on("unhandledRejection",function(Te){throw Te}),k=(Te,Ie)=>{if(Fe)throw process.exitCode=Te,Ie;Ie instanceof q||ue("exiting due to exception: "+Ie),process.exit(Te)},c.inspect=function(){return"[Emscripten Module object]"};try{se=g(9925)}catch(Te){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Te}g.g.Worker=se.Worker}else(B||V)&&(V?Q=self.location.href:typeof document<"u"&&document.currentScript&&(Q=document.currentScript.src),S&&(Q=S),Q=0!==Q.indexOf("blob:")?Q.substr(0,Q.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j||(h=se=>{var Te=new XMLHttpRequest;return Te.open("GET",se,!1),Te.send(null),Te.responseText},V&&(x=se=>{var Te=new XMLHttpRequest;return Te.open("GET",se,!1),Te.responseType="arraybuffer",Te.send(null),new Uint8Array(Te.response)}),_=(se,Te,Ie)=>{var Ve=new XMLHttpRequest;Ve.open("GET",se,!0),Ve.responseType="arraybuffer",Ve.onload=()=>{200==Ve.status||0==Ve.status&&Ve.response?Te(Ve.response):Ie()},Ve.onerror=Ie,Ve.send(null)}));j&&typeof performance>"u"&&(g.g.performance=g(6953).performance);var de=console.log.bind(console),he=console.warn.bind(console);j&&(A(),de=se=>D.writeSync(1,se+"\n"),he=se=>D.writeSync(2,se+"\n"));var Pe,ie=c.print||de,ue=c.printErr||he;Object.assign(c,R),R=null,c.thisProgram&&(P=c.thisProgram),c.quit&&(k=c.quit),c.wasmBinary&&(Pe=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&Ee("no native wasm support detected");var Ye,dt,et,ft,Rt,pt,Ht,Oe,ge=!1,Je=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ht(se,Te,Ie){var Ve=(Te>>>=0)+Ie;for(Ie=Te;se[Ie]&&!(Ie>=Ve);)++Ie;if(16<Ie-Te&&se.buffer&&Je)return Je.decode(se.buffer instanceof SharedArrayBuffer?se.slice(Te,Ie):se.subarray(Te,Ie));for(Ve="";Te<Ie;){var It=se[Te++];if(128&It){var Pt=63&se[Te++];if(192==(224&It))Ve+=String.fromCharCode((31&It)<<6|Pt);else{var Mn=63&se[Te++];65536>(It=224==(240&It)?(15&It)<<12|Pt<<6|Mn:(7&It)<<18|Pt<<12|Mn<<6|63&se[Te++])?Ve+=String.fromCharCode(It):(It-=65536,Ve+=String.fromCharCode(55296|It>>10,56320|1023&It))}}else Ve+=String.fromCharCode(It)}return Ve}function $t(se,Te){return(se>>>=0)?ht(v(),se,Te):""}function Ut(se,Te,Ie,Ve){if(!(0<Ve))return 0;var It=Ie>>>=0;Ve=Ie+Ve-1;for(var Pt=0;Pt<se.length;++Pt){var Mn=se.charCodeAt(Pt);if(55296<=Mn&&57343>=Mn&&(Mn=65536+((1023&Mn)<<10)|1023&se.charCodeAt(++Pt)),127>=Mn){if(Ie>=Ve)break;Te[Ie++>>>0]=Mn}else{if(2047>=Mn){if(Ie+1>=Ve)break;Te[Ie++>>>0]=192|Mn>>6}else{if(65535>=Mn){if(Ie+2>=Ve)break;Te[Ie++>>>0]=224|Mn>>12}else{if(Ie+3>=Ve)break;Te[Ie++>>>0]=240|Mn>>18,Te[Ie++>>>0]=128|Mn>>12&63}Te[Ie++>>>0]=128|Mn>>6&63}Te[Ie++>>>0]=128|63&Mn}}return Te[Ie>>>0]=0,Ie-It}function gt(se){for(var Te=0,Ie=0;Ie<se.length;++Ie){var Ve=se.charCodeAt(Ie);127>=Ve?Te++:2047>=Ve?Te+=2:55296<=Ve&&57343>=Ve?(Te+=4,++Ie):Te+=3}return Te}function Gt(se){et=se,c.HEAP8=ft=new Int8Array(se),c.HEAP16=new Int16Array(se),c.HEAP32=pt=new Int32Array(se),c.HEAPU8=Rt=new Uint8Array(se),c.HEAPU16=new Uint16Array(se),c.HEAPU32=Ht=new Uint32Array(se),c.HEAPF32=new Float32Array(se),c.HEAPF64=Oe=new Float64Array(se)}X&&(et=c.buffer);var at=c.INITIAL_MEMORY||16777216;if(X)Ye=c.wasmMemory,et=c.buffer;else if(c.wasmMemory)Ye=c.wasmMemory;else if(!((Ye=new WebAssembly.Memory({initial:at/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw ue("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),j&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Ye&&(et=Ye.buffer),at=et.byteLength,Gt(et);var vn,Y=[],Se=[],F=[];function U(){var se=c.preRun.shift();Y.unshift(se)}var G,J=0,fe=null,be=null;function Ee(se){throw X?postMessage({cmd:"onAbort",arg:se}):c.onAbort&&c.onAbort(se),ue(se="Aborted("+se+")"),ge=!0,se=new WebAssembly.RuntimeError(se+". Build with -sASSERTIONS for more info."),d(se),se}function it(){return G.startsWith("data:application/octet-stream;base64,")}function nt(){var se=G;try{if(se==G&&Pe)return new Uint8Array(Pe);if(x)return x(se);throw"both async and sync fetching of the wasm failed"}catch(Te){Ee(Te)}}G="ort-wasm-threaded.wasm",it()||(G=Z(G));var Wt={};function q(se){this.name="ExitStatus",this.message="Program terminated with exit("+se+")",this.status=se}function _e(se){(se=Me.La[se])||Ee(),Me.Xa(se)}function ve(se){var Te=Me.lb();if(!Te)return 6;Me.Ra.push(Te),Me.La[se.Ka]=Te,Te.Ka=se.Ka;var Ie={cmd:"run",start_routine:se.pb,arg:se.ib,pthread_ptr:se.Ka};return Te.Qa=()=>{Ie.time=performance.now(),Te.postMessage(Ie,se.vb)},Te.loaded&&(Te.Qa(),delete Te.Qa),0}function we(se){if(X)return Ke(1,1,se);Fe||(Me.qb(),c.onExit&&c.onExit(se),ge=!0),k(se,new q(se))}function Le(se,Te){if(!Te&&X)throw xe(se),"unwind";we(se)}var Me={Oa:[],Ra:[],$a:[],La:{},Ua:function(){X&&Me.mb()},xb:function(){},mb:function(){Me.receiveObjectTransfer=Me.ob,Me.threadInitTLS=Me.Za,Me.setExitStatus=Me.Ya,Fe=!1},Ya:function(){},qb:function(){for(var se of Object.values(Me.La))Me.Xa(se);for(se of Me.Oa)se.terminate();Me.Oa=[]},Xa:function(se){var Te=se.Ka;delete Me.La[Te],Me.Oa.push(se),Me.Ra.splice(Me.Ra.indexOf(se),1),se.Ka=0,tr(Te)},ob:function(){},Za:function(){Me.$a.forEach(se=>se())},nb:function(se,Te){se.onmessage=Ie=>{var Ve=(Ie=Ie.data).cmd;if(se.Ka&&(Me.kb=se.Ka),Ie.targetThread&&Ie.targetThread!=Dr()){var It=Me.La[Ie.yb];It?It.postMessage(Ie,Ie.transferList):ue('Internal error! Worker sent a message "'+Ve+'" to target pthread '+Ie.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===Ve?Bi(Ie.queue):"spawnThread"===Ve?ve(Ie):"cleanupThread"===Ve?_e(Ie.thread):"killThread"===Ve?(Ve=Me.La[Ie=Ie.thread],delete Me.La[Ie],Ve.terminate(),tr(Ie),Me.Ra.splice(Me.Ra.indexOf(Ve),1),Ve.Ka=0):"cancelThread"===Ve?Me.La[Ie.thread].postMessage({cmd:"cancel"}):"loaded"===Ve?(se.loaded=!0,Te&&Te(se),se.Qa&&(se.Qa(),delete se.Qa)):"print"===Ve?ie("Thread "+Ie.threadId+": "+Ie.text):"printErr"===Ve?ue("Thread "+Ie.threadId+": "+Ie.text):"alert"===Ve?alert("Thread "+Ie.threadId+": "+Ie.text):"setimmediate"===Ie.target?se.postMessage(Ie):"onAbort"===Ve?c.onAbort&&c.onAbort(Ie.arg):Ve&&ue("worker sent an unknown command "+Ve);Me.kb=void 0},se.onerror=Ie=>{throw ue("worker sent an error! "+Ie.filename+":"+Ie.lineno+": "+Ie.message),Ie},j&&(se.on("message",function(Ie){se.onmessage({data:Ie})}),se.on("error",function(Ie){se.onerror(Ie)}),se.on("detachedExit",function(){})),se.postMessage({cmd:"load",urlOrBlob:c.mainScriptUrlOrBlob||S,wasmMemory:Ye,wasmModule:dt})},hb:function(){var se=Z("ort-wasm-threaded.worker.js");Me.Oa.push(new Worker(se))},lb:function(){return 0==Me.Oa.length&&(Me.hb(),Me.nb(Me.Oa[0])),Me.Oa.pop()}};function ne(se){for(;0<se.length;)se.shift()(c)}function xe(se){if(X)return Ke(2,0,se);try{Le(se)}catch(Te){Te instanceof q||"unwind"==Te||k(1,Te)}}c.PThread=Me,c.establishStackSpace=function(){var se=Dr(),Te=p()[se+44>>2>>>0];se=p()[se+48>>2>>>0],ui(Te,Te-se),pr(Te)};var ye,Ae,$e=[];function Qe(se){this.Pa=se-24,this.gb=function(Te){m()[this.Pa+4>>2>>>0]=Te},this.cb=function(Te){m()[this.Pa+8>>2>>>0]=Te},this.eb=function(){p()[this.Pa>>2>>>0]=0},this.bb=function(){b()[this.Pa+12>>0>>>0]=0},this.fb=function(){b()[this.Pa+13>>0>>>0]=0},this.Ua=function(Te,Ie){this.ab(),this.gb(Te),this.cb(Ie),this.eb(),this.bb(),this.fb()},this.ab=function(){m()[this.Pa+16>>2>>>0]=0}}function rt(se,Te,Ie,Ve){return X?Ke(3,1,se,Te,Ie,Ve):mn(se,Te,Ie,Ve)}function mn(se,Te,Ie,Ve){if(typeof SharedArrayBuffer>"u")return ue("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var It=[];return X&&0===It.length?rt(se,Te,Ie,Ve):(se={pb:Ie,Ka:se,ib:Ve,vb:It},X?(se.wb="spawnThread",postMessage(se,It),0):ve(se))}function Lt(se,Te,Ie){return X?Ke(4,1,se,Te,Ie):0}function Yn(se,Te){if(X)return Ke(5,1,se,Te)}function hn(se,Te){if(X)return Ke(6,1,se,Te)}function Yt(se,Te,Ie){if(X)return Ke(7,1,se,Te,Ie)}function ai(se,Te,Ie){return X?Ke(8,1,se,Te,Ie):0}function tt(se,Te){if(X)return Ke(9,1,se,Te)}function kn(se,Te,Ie){if(X)return Ke(10,1,se,Te,Ie)}function ar(se,Te,Ie,Ve){if(X)return Ke(11,1,se,Te,Ie,Ve)}function He(se,Te,Ie,Ve){if(X)return Ke(12,1,se,Te,Ie,Ve)}function ci(se,Te,Ie,Ve){if(X)return Ke(13,1,se,Te,Ie,Ve)}function Oi(se){if(X)return Ke(14,1,se)}function Mi(se,Te){if(X)return Ke(15,1,se,Te)}function fi(se,Te,Ie){if(X)return Ke(16,1,se,Te,Ie)}function Bi(se){Atomics.store(p(),se>>2,1),Dr()&&fr(se),Atomics.compareExchange(p(),se>>2,1,0)}function Vi(se){return m()[se>>>2]+4294967296*p()[se+4>>>2]}function re(se,Te,Ie,Ve,It,Pt){return X?Ke(17,1,se,Te,Ie,Ve,It,Pt):-52}function K(se,Te,Ie,Ve,It,Pt){if(X)return Ke(18,1,se,Te,Ie,Ve,It,Pt)}function ee(se){var Te=gt(se)+1,Ie=Vr(Te);return Ie&&Ut(se,b(),Ie,Te),Ie}function Re(se,Te,Ie){function Ve(De){return(De=De.toTimeString().match(/\(([A-Za-z ]+)\)$/))?De[1]:"GMT"}if(X)return Ke(19,1,se,Te,Ie);var It=(new Date).getFullYear(),Pt=new Date(It,0,1),Mn=new Date(It,6,1);It=Pt.getTimezoneOffset();var oe=Mn.getTimezoneOffset(),le=Math.max(It,oe);p()[se>>2>>>0]=60*le,p()[Te>>2>>>0]=+(It!=oe),se=Ve(Pt),Te=Ve(Mn),se=ee(se),Te=ee(Te),oe<It?(m()[Ie>>2>>>0]=se,m()[Ie+4>>2>>>0]=Te):(m()[Ie>>2>>>0]=Te,m()[Ie+4>>2>>>0]=se)}function Ke(se,Te){var It,Pt,Ie=arguments.length-2,Ve=arguments;return It=()=>{for(var It=gn(8*Ie),Pt=It>>3,Mn=0;Mn<Ie;Mn++){var oe=Ve[2+Mn];f()[Pt+Mn>>>0]=oe}return Kn(se,Ie,It,Te)},Pt=$n(),It=It(),pr(Pt),It}c.invokeEntryPoint=function(se,Te){var Ie=$e[se];Ie||(se>=$e.length&&($e.length=se+1),$e[se]=Ie=vn.get(se)),se=Ie(Te),Fe?Me.Ya(se):ri(se)},c.executeNotifiedProxyingQueue=Bi,Ae=j?()=>{var se=process.hrtime();return 1e3*se[0]+se[1]/1e6}:X?()=>performance.now()-c.__performance_now_clock_drift:()=>performance.now();var Tt,At=[],_t={};function lt(){if(!Tt){var se,Te={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:P||"./this.program"};for(se in _t)void 0===_t[se]?delete Te[se]:Te[se]=_t[se];var Ie=[];for(se in Te)Ie.push(se+"="+Te[se]);Tt=Ie}return Tt}function wt(se,Te){if(X)return Ke(20,1,se,Te);var Ie=0;return lt().forEach(function(Ve,It){var Pt=Te+Ie;for(It=m()[se+4*It>>2>>>0]=Pt,Pt=0;Pt<Ve.length;++Pt)b()[It++>>0>>>0]=Ve.charCodeAt(Pt);b()[It>>0>>>0]=0,Ie+=Ve.length+1}),0}function St(se,Te){if(X)return Ke(21,1,se,Te);var Ie=lt();m()[se>>2>>>0]=Ie.length;var Ve=0;return Ie.forEach(function(It){Ve+=It.length+1}),m()[Te>>2>>>0]=Ve,0}function Bt(se){return X?Ke(22,1,se):52}function on(se,Te,Ie,Ve){return X?Ke(23,1,se,Te,Ie,Ve):52}function cr(se,Te,Ie,Ve,It){return X?Ke(24,1,se,Te,Ie,Ve,It):70}var un=[null,[],[]];function Vt(se,Te,Ie,Ve){if(X)return Ke(25,1,se,Te,Ie,Ve);for(var It=0,Pt=0;Pt<Ie;Pt++){var Mn=m()[Te>>2>>>0],oe=m()[Te+4>>2>>>0];Te+=8;for(var le=0;le<oe;le++){var De=v()[Mn+le>>>0],Ue=un[se];0===De||10===De?((1===se?ie:ue)(ht(Ue,0)),Ue.length=0):Ue.push(De)}It+=oe}return m()[Ve>>2>>>0]=It,0}function zt(se){return se%4==0&&(se%100!=0||se%400==0)}var ir=[31,29,31,30,31,30,31,31,30,31,30,31],Vn=[31,28,31,30,31,30,31,31,30,31,30,31];function Xt(se,Te,Ie,Ve){function It(ze,fn,jn){for(ze="number"==typeof ze?ze.toString():ze||"";ze.length<fn;)ze=jn[0]+ze;return ze}function Pt(ze,fn){return It(ze,fn,"0")}function Mn(ze,fn){function jn(li){return 0>li?-1:0<li?1:0}var kr;return 0===(kr=jn(ze.getFullYear()-fn.getFullYear()))&&0===(kr=jn(ze.getMonth()-fn.getMonth()))&&(kr=jn(ze.getDate()-fn.getDate())),kr}function oe(ze){switch(ze.getDay()){case 0:return new Date(ze.getFullYear()-1,11,29);case 1:return ze;case 2:return new Date(ze.getFullYear(),0,3);case 3:return new Date(ze.getFullYear(),0,2);case 4:return new Date(ze.getFullYear(),0,1);case 5:return new Date(ze.getFullYear()-1,11,31);case 6:return new Date(ze.getFullYear()-1,11,30)}}function le(ze){var fn=ze.Ma;for(ze=new Date(new Date(ze.Na+1900,0,1).getTime());0<fn;){var jn=ze.getMonth(),kr=(zt(ze.getFullYear())?ir:Vn)[jn];if(!(fn>kr-ze.getDate())){ze.setDate(ze.getDate()+fn);break}fn-=kr-ze.getDate()+1,ze.setDate(1),11>jn?ze.setMonth(jn+1):(ze.setMonth(0),ze.setFullYear(ze.getFullYear()+1))}return jn=new Date(ze.getFullYear()+1,0,4),fn=oe(new Date(ze.getFullYear(),0,4)),jn=oe(jn),0>=Mn(fn,ze)?0>=Mn(jn,ze)?ze.getFullYear()+1:ze.getFullYear():ze.getFullYear()-1}var De=p()[Ve+40>>2>>>0];for(var Ue in Ve={tb:p()[Ve>>2>>>0],sb:p()[Ve+4>>2>>>0],Sa:p()[Ve+8>>2>>>0],Va:p()[Ve+12>>2>>>0],Ta:p()[Ve+16>>2>>>0],Na:p()[Ve+20>>2>>>0],Ja:p()[Ve+24>>2>>>0],Ma:p()[Ve+28>>2>>>0],zb:p()[Ve+32>>2>>>0],rb:p()[Ve+36>>2>>>0],ub:De?$t(De):""},Ie=$t(Ie),De={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Ie=Ie.replace(new RegExp(Ue,"g"),De[Ue]);var ze,fn,ot="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ct="January February March April May June July August September October November December".split(" ");for(Ue in De={"%a":function(ze){return ot[ze.Ja].substring(0,3)},"%A":function(ze){return ot[ze.Ja]},"%b":function(ze){return ct[ze.Ta].substring(0,3)},"%B":function(ze){return ct[ze.Ta]},"%C":function(ze){return Pt((ze.Na+1900)/100|0,2)},"%d":function(ze){return Pt(ze.Va,2)},"%e":function(ze){return It(ze.Va,2," ")},"%g":function(ze){return le(ze).toString().substring(2)},"%G":function(ze){return le(ze)},"%H":function(ze){return Pt(ze.Sa,2)},"%I":function(ze){return 0==(ze=ze.Sa)?ze=12:12<ze&&(ze-=12),Pt(ze,2)},"%j":function(ze){for(var fn=0,jn=0;jn<=ze.Ta-1;fn+=(zt(ze.Na+1900)?ir:Vn)[jn++]);return Pt(ze.Va+fn,3)},"%m":function(ze){return Pt(ze.Ta+1,2)},"%M":function(ze){return Pt(ze.sb,2)},"%n":function(){return"\n"},"%p":function(ze){return 0<=ze.Sa&&12>ze.Sa?"AM":"PM"},"%S":function(ze){return Pt(ze.tb,2)},"%t":function(){return"\t"},"%u":function(ze){return ze.Ja||7},"%U":function(ze){return Pt(Math.floor((ze.Ma+7-ze.Ja)/7),2)},"%V":function(ze){var fn=Math.floor((ze.Ma+7-(ze.Ja+6)%7)/7);if(2>=(ze.Ja+371-ze.Ma-2)%7&&fn++,fn)53==fn&&(4==(jn=(ze.Ja+371-ze.Ma)%7)||3==jn&&zt(ze.Na)||(fn=1));else{fn=52;var jn=(ze.Ja+7-ze.Ma-1)%7;(4==jn||5==jn&&zt(ze.Na%400-1))&&fn++}return Pt(fn,2)},"%w":function(ze){return ze.Ja},"%W":function(ze){return Pt(Math.floor((ze.Ma+7-(ze.Ja+6)%7)/7),2)},"%y":function(ze){return(ze.Na+1900).toString().substring(2)},"%Y":function(ze){return ze.Na+1900},"%z":function(ze){return(0<=(ze=ze.rb)?"+":"-")+("0000"+((ze=Math.abs(ze)/60)/60*100+ze%60)).slice(-4)},"%Z":function(ze){return ze.ub},"%%":function(){return"%"}},Ie=Ie.replace(/%%/g,"\0\0"),De)Ie.includes(Ue)&&(Ie=Ie.replace(new RegExp(Ue,"g"),De[Ue](Ve)));return Ut(ze=Ie=Ie.replace(/\0\0/g,"%"),fn=Array(gt(ze)+1),0,fn.length),(Ue=fn).length>Te?0:(function(ze,fn){b().set(ze,fn>>>0)}(Ue,se),Ue.length-1)}Me.Ua();var yn=[null,we,xe,rt,Lt,Yn,hn,Yt,ai,tt,kn,ar,He,ci,Oi,Mi,fi,re,K,Re,wt,St,Bt,on,cr,Vt],ni={b:function(se){return Vr(se+24)+24},c:function(se,Te,Ie){throw new Qe(se).Ua(Te,Ie),se},L:function(se){Hn(se,!V,1,!B),Me.Za()},l:function(se){X?postMessage({cmd:"cleanupThread",thread:se}):_e(se)},D:mn,i:Lt,R:Yn,z:hn,B:Yt,T:ai,P:tt,I:kn,O:ar,p:He,A:ci,x:Oi,Q:Mi,y:fi,r:function(){},j:function(){Ee("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){Ee("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(se,Te,Ie,Ve){if(se==Te)setTimeout(()=>Bi(Ve));else if(X)postMessage({targetThread:se,cmd:"processProxyingQueue",queue:Ve});else{if(!(se=Me.La[se]))return;se.postMessage({cmd:"processProxyingQueue",queue:Ve})}return 1},K:function(){return-1},W:function(se,Te){se=new Date(1e3*Vi(se)),p()[Te>>2>>>0]=se.getUTCSeconds(),p()[Te+4>>2>>>0]=se.getUTCMinutes(),p()[Te+8>>2>>>0]=se.getUTCHours(),p()[Te+12>>2>>>0]=se.getUTCDate(),p()[Te+16>>2>>>0]=se.getUTCMonth(),p()[Te+20>>2>>>0]=se.getUTCFullYear()-1900,p()[Te+24>>2>>>0]=se.getUTCDay(),se=(se.getTime()-Date.UTC(se.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,p()[Te+28>>2>>>0]=se},X:function(se,Te){se=new Date(1e3*Vi(se)),p()[Te>>2>>>0]=se.getSeconds(),p()[Te+4>>2>>>0]=se.getMinutes(),p()[Te+8>>2>>>0]=se.getHours(),p()[Te+12>>2>>>0]=se.getDate(),p()[Te+16>>2>>>0]=se.getMonth(),p()[Te+20>>2>>>0]=se.getFullYear()-1900,p()[Te+24>>2>>>0]=se.getDay();var Ie=new Date(se.getFullYear(),0,1),Ve=(se.getTime()-Ie.getTime())/864e5|0;p()[Te+28>>2>>>0]=Ve,p()[Te+36>>2>>>0]=-60*se.getTimezoneOffset(),Ve=new Date(se.getFullYear(),6,1).getTimezoneOffset(),se=0|(Ve!=(Ie=Ie.getTimezoneOffset())&&se.getTimezoneOffset()==Math.min(Ie,Ve)),p()[Te+32>>2>>>0]=se},Y:function(se){var Te=new Date(p()[se+20>>2>>>0]+1900,p()[se+16>>2>>>0],p()[se+12>>2>>>0],p()[se+8>>2>>>0],p()[se+4>>2>>>0],p()[se>>2>>>0],0),Ie=p()[se+32>>2>>>0],Ve=Te.getTimezoneOffset(),It=new Date(Te.getFullYear(),0,1),Pt=new Date(Te.getFullYear(),6,1).getTimezoneOffset(),Mn=It.getTimezoneOffset(),oe=Math.min(Mn,Pt);return 0>Ie?p()[se+32>>2>>>0]=+(Pt!=Mn&&oe==Ve):0<Ie!=(oe==Ve)&&(Pt=Math.max(Mn,Pt),Te.setTime(Te.getTime()+6e4*((0<Ie?oe:Pt)-Ve))),p()[se+24>>2>>>0]=Te.getDay(),Ie=(Te.getTime()-It.getTime())/864e5|0,p()[se+28>>2>>>0]=Ie,p()[se>>2>>>0]=Te.getSeconds(),p()[se+4>>2>>>0]=Te.getMinutes(),p()[se+8>>2>>>0]=Te.getHours(),p()[se+12>>2>>>0]=Te.getDate(),p()[se+16>>2>>>0]=Te.getMonth(),Te.getTime()/1e3|0},G:re,H:K,Z:function se(Te,Ie,Ve){se.jb||(se.jb=!0,Re(Te,Ie,Ve))},d:function(){Ee("")},m:function(){if(!j&&!V){var se="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";ye||(ye={}),ye[se]||(ye[se]=1,j&&(se="warning: "+se),ue(se))}},w:function(){return 4294901760},f:Ae,S:function(se,Te,Ie){v().copyWithin(se>>>0,Te>>>0,Te+Ie>>>0)},g:function(){return j?g(3993).cpus().length:navigator.hardwareConcurrency},J:function(se,Te,Ie){At.length=Te,Ie>>=3;for(var Ve=0;Ve<Te;Ve++)At[Ve]=f()[Ie+Ve>>>0];return(0>se?Wt[-se-1]:yn[se]).apply(null,At)},v:function(se){var Te=v().length;if((se>>>=0)<=Te||4294901760<se)return!1;for(var Ie=1;4>=Ie;Ie*=2){var Ve=Te*(1+.2/Ie);Ve=Math.min(Ve,se+100663296);var It=Math;Ve=Math.max(se,Ve),It=It.min.call(It,4294901760,Ve+(65536-Ve%65536)%65536);e:{try{Ye.grow(It-et.byteLength+65535>>>16),Gt(Ye.buffer);var Pt=1;break e}catch{}Pt=void 0}if(Pt)return!0}return!1},U:function(){throw"unwind"},M:wt,N:St,k:Le,h:Bt,o:on,t:cr,n:Vt,u:function se(Te,Ie){se.Wa||(se.Wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var It=new Uint8Array(1);return()=>(crypto.getRandomValues(It),It[0])}if(j)try{var Pt=g(760);return()=>Pt.randomBytes(1)[0]}catch{}return()=>Ee("randomDevice")}());for(var Ve=0;Ve<Ie;Ve++)b()[Te+Ve>>0>>>0]=se.Wa();return 0},a:Ye||c.wasmMemory,C:Xt,e:function(se,Te,Ie,Ve){return Xt(se,Te,Ie,Ve)}};(function(){function se(It,Pt){c.asm=It.exports,Me.$a.push(c.asm.wa),vn=c.asm.za,Se.unshift(c.asm._),dt=Pt,X||(J--,c.monitorRunDependencies&&c.monitorRunDependencies(J),0==J&&(null!==fe&&(clearInterval(fe),fe=null),be&&(It=be,be=null,It())))}function Te(It){se(It.instance,It.module)}function Ie(It){return function(){if(!Pe&&(B||V)){if("function"==typeof fetch&&!G.startsWith("file://"))return fetch(G,{credentials:"same-origin"}).then(function(Pt){if(!Pt.ok)throw"failed to load wasm binary file at '"+G+"'";return Pt.arrayBuffer()}).catch(function(){return nt()});if(_)return new Promise(function(Pt,Mn){_(G,function(oe){Pt(new Uint8Array(oe))},Mn)})}return Promise.resolve().then(function(){return nt()})}().then(function(Pt){return WebAssembly.instantiate(Pt,Ve)}).then(function(Pt){return Pt}).then(It,function(Pt){ue("failed to asynchronously prepare wasm: "+Pt),Ee(Pt)})}var Ve={a:ni};if(X||(J++,c.monitorRunDependencies&&c.monitorRunDependencies(J)),c.instantiateWasm)try{return c.instantiateWasm(Ve,se)}catch(It){return ue("Module.instantiateWasm callback failed with error: "+It),!1}(Pe||"function"!=typeof WebAssembly.instantiateStreaming||it()||G.startsWith("file://")||j||"function"!=typeof fetch?Ie(Te):fetch(G,{credentials:"same-origin"}).then(function(It){return WebAssembly.instantiateStreaming(It,Ve).then(Te,function(Pt){return ue("wasm streaming compile failed: "+Pt),ue("falling back to ArrayBuffer instantiation"),Ie(Te)})})).catch(d)})(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm._).apply(null,arguments)},c._OrtInit=function(){return(c._OrtInit=c.asm.$).apply(null,arguments)},c._OrtCreateSessionOptions=function(){return(c._OrtCreateSessionOptions=c.asm.aa).apply(null,arguments)},c._OrtAppendExecutionProvider=function(){return(c._OrtAppendExecutionProvider=c.asm.ba).apply(null,arguments)},c._OrtAddSessionConfigEntry=function(){return(c._OrtAddSessionConfigEntry=c.asm.ca).apply(null,arguments)},c._OrtReleaseSessionOptions=function(){return(c._OrtReleaseSessionOptions=c.asm.da).apply(null,arguments)},c._OrtCreateSession=function(){return(c._OrtCreateSession=c.asm.ea).apply(null,arguments)},c._OrtReleaseSession=function(){return(c._OrtReleaseSession=c.asm.fa).apply(null,arguments)},c._OrtGetInputCount=function(){return(c._OrtGetInputCount=c.asm.ga).apply(null,arguments)},c._OrtGetOutputCount=function(){return(c._OrtGetOutputCount=c.asm.ha).apply(null,arguments)},c._OrtGetInputName=function(){return(c._OrtGetInputName=c.asm.ia).apply(null,arguments)},c._OrtGetOutputName=function(){return(c._OrtGetOutputName=c.asm.ja).apply(null,arguments)},c._OrtFree=function(){return(c._OrtFree=c.asm.ka).apply(null,arguments)},c._OrtCreateTensor=function(){return(c._OrtCreateTensor=c.asm.la).apply(null,arguments)},c._OrtGetTensorData=function(){return(c._OrtGetTensorData=c.asm.ma).apply(null,arguments)},c._OrtReleaseTensor=function(){return(c._OrtReleaseTensor=c.asm.na).apply(null,arguments)},c._OrtCreateRunOptions=function(){return(c._OrtCreateRunOptions=c.asm.oa).apply(null,arguments)},c._OrtAddRunConfigEntry=function(){return(c._OrtAddRunConfigEntry=c.asm.pa).apply(null,arguments)},c._OrtReleaseRunOptions=function(){return(c._OrtReleaseRunOptions=c.asm.qa).apply(null,arguments)},c._OrtRun=function(){return(c._OrtRun=c.asm.ra).apply(null,arguments)},c._OrtEndProfiling=function(){return(c._OrtEndProfiling=c.asm.sa).apply(null,arguments)};var Dr=c._pthread_self=function(){return(Dr=c._pthread_self=c.asm.ta).apply(null,arguments)},Vr=c._malloc=function(){return(Vr=c._malloc=c.asm.ua).apply(null,arguments)};c._free=function(){return(c._free=c.asm.va).apply(null,arguments)},c.__emscripten_tls_init=function(){return(c.__emscripten_tls_init=c.asm.wa).apply(null,arguments)};var Hn=c.__emscripten_thread_init=function(){return(Hn=c.__emscripten_thread_init=c.asm.xa).apply(null,arguments)};c.__emscripten_thread_crashed=function(){return(c.__emscripten_thread_crashed=c.asm.ya).apply(null,arguments)};var Qt,Kn=c._emscripten_run_in_main_runtime_thread_js=function(){return(Kn=c._emscripten_run_in_main_runtime_thread_js=c.asm.Aa).apply(null,arguments)},fr=c.__emscripten_proxy_execute_task_queue=function(){return(fr=c.__emscripten_proxy_execute_task_queue=c.asm.Ba).apply(null,arguments)},tr=c.__emscripten_thread_free_data=function(){return(tr=c.__emscripten_thread_free_data=c.asm.Ca).apply(null,arguments)},ri=c.__emscripten_thread_exit=function(){return(ri=c.__emscripten_thread_exit=c.asm.Da).apply(null,arguments)},ui=c._emscripten_stack_set_limits=function(){return(ui=c._emscripten_stack_set_limits=c.asm.Ea).apply(null,arguments)},$n=c.stackSave=function(){return($n=c.stackSave=c.asm.Fa).apply(null,arguments)},pr=c.stackRestore=function(){return(pr=c.stackRestore=c.asm.Ga).apply(null,arguments)},gn=c.stackAlloc=function(){return(gn=c.stackAlloc=c.asm.Ha).apply(null,arguments)};function $r(){function se(){if(!Qt&&(Qt=!0,c.calledRun=!0,!ge)&&(X||ne(Se),a(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!X)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var Te=c.postRun.shift();F.unshift(Te)}ne(F)}}if(!(0<J))if(X)a(c),X||ne(Se),postMessage({cmd:"loaded"});else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)U();ne(Y),0<J||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),se()},1)):se())}}if(c.___cxa_is_pointer_type=function(){return(c.___cxa_is_pointer_type=c.asm.Ia).apply(null,arguments)},c.UTF8ToString=$t,c.stringToUTF8=function(se,Te,Ie){return Ut(se,v(),Te,Ie)},c.lengthBytesUTF8=gt,c.keepRuntimeAlive=function(){return Fe},c.wasmMemory=Ye,c.stackSave=$n,c.stackRestore=pr,c.stackAlloc=gn,c.ExitStatus=q,c.PThread=Me,be=function se(){Qt||$r(),Qt||(be=se)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return $r(),C.ready});z.exports=w},932:(z,u,g)=>{var S,w=(S=(S=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(C){var b,v,p;C=C||{},b||(b=void 0!==C?C:{}),b.ready=new Promise(function(ne,xe){v=ne,p=xe});var m,f,c,a,d,h,_=Object.assign({},b),x="./this.program",D=(ne,xe)=>{throw xe},I="object"==typeof window,A="function"==typeof importScripts,R="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,P="";R?(P=A?g(908).dirname(P)+"/":"//",h=()=>{d||(a=g(1384),d=g(908))},m=function(ne,xe){return h(),ne=d.normalize(ne),a.readFileSync(ne,xe?void 0:"utf8")},c=ne=>((ne=m(ne,!0)).buffer||(ne=new Uint8Array(ne)),ne),f=(ne,xe,ye)=>{h(),ne=d.normalize(ne),a.readFile(ne,function(Ae,$e){Ae?ye(Ae):xe($e.buffer)})},1<process.argv.length&&(x=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(ne){if(!(ne instanceof vn))throw ne}),process.on("unhandledRejection",function(ne){throw ne}),D=(ne,xe)=>{if(j)throw process.exitCode=ne,xe;xe instanceof vn||V("exiting due to exception: "+xe),process.exit(ne)},b.inspect=function(){return"[Emscripten Module object]"}):(I||A)&&(A?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),S&&(P=S),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",m=ne=>{var xe=new XMLHttpRequest;return xe.open("GET",ne,!1),xe.send(null),xe.responseText},A&&(c=ne=>{var xe=new XMLHttpRequest;return xe.open("GET",ne,!1),xe.responseType="arraybuffer",xe.send(null),new Uint8Array(xe.response)}),f=(ne,xe,ye)=>{var Ae=new XMLHttpRequest;Ae.open("GET",ne,!0),Ae.responseType="arraybuffer",Ae.onload=()=>{200==Ae.status||0==Ae.status&&Ae.response?xe(Ae.response):ye()},Ae.onerror=ye,Ae.send(null)});var k,B=b.print||console.log.bind(console),V=b.printErr||console.warn.bind(console);Object.assign(b,_),_=null,b.thisProgram&&(x=b.thisProgram),b.quit&&(D=b.quit),b.wasmBinary&&(k=b.wasmBinary);var j=b.noExitRuntime||!0;"object"!=typeof WebAssembly&&Ut("no native wasm support detected");var X,Q,Z,de,he,Pe,ie=!1,ue=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Fe(ne,xe,ye){var Ae=(xe>>>=0)+ye;for(ye=xe;ne[ye]&&!(ye>=Ae);)++ye;if(16<ye-xe&&ne.buffer&&ue)return ue.decode(ne.subarray(xe,ye));for(Ae="";xe<ye;){var $e=ne[xe++];if(128&$e){var Qe=63&ne[xe++];if(192==(224&$e))Ae+=String.fromCharCode((31&$e)<<6|Qe);else{var rt=63&ne[xe++];65536>($e=224==(240&$e)?(15&$e)<<12|Qe<<6|rt:(7&$e)<<18|Qe<<12|rt<<6|63&ne[xe++])?Ae+=String.fromCharCode($e):($e-=65536,Ae+=String.fromCharCode(55296|$e>>10,56320|1023&$e))}}else Ae+=String.fromCharCode($e)}return Ae}function Ye(ne,xe){return(ne>>>=0)?Fe(de,ne,xe):""}function dt(ne,xe,ye,Ae){if(!(0<Ae))return 0;var $e=ye>>>=0;Ae=ye+Ae-1;for(var Qe=0;Qe<ne.length;++Qe){var rt=ne.charCodeAt(Qe);if(55296<=rt&&57343>=rt&&(rt=65536+((1023&rt)<<10)|1023&ne.charCodeAt(++Qe)),127>=rt){if(ye>=Ae)break;xe[ye++>>>0]=rt}else{if(2047>=rt){if(ye+1>=Ae)break;xe[ye++>>>0]=192|rt>>6}else{if(65535>=rt){if(ye+2>=Ae)break;xe[ye++>>>0]=224|rt>>12}else{if(ye+3>=Ae)break;xe[ye++>>>0]=240|rt>>18,xe[ye++>>>0]=128|rt>>12&63}xe[ye++>>>0]=128|rt>>6&63}xe[ye++>>>0]=128|63&rt}}return xe[ye>>>0]=0,ye-$e}function et(ne){for(var xe=0,ye=0;ye<ne.length;++ye){var Ae=ne.charCodeAt(ye);127>=Ae?xe++:2047>=Ae?xe+=2:55296<=Ae&&57343>=Ae?(xe+=4,++ye):xe+=3}return xe}function ft(){var ne=X.buffer;Q=ne,b.HEAP8=Z=new Int8Array(ne),b.HEAP16=new Int16Array(ne),b.HEAP32=he=new Int32Array(ne),b.HEAPU8=de=new Uint8Array(ne),b.HEAPU16=new Uint16Array(ne),b.HEAPU32=Pe=new Uint32Array(ne),b.HEAPF32=new Float32Array(ne),b.HEAPF64=new Float64Array(ne)}var Rt=[],pt=[],Ht=[];function Oe(){var ne=b.preRun.shift();Rt.unshift(ne)}var ge,Je=0,ht=null,$t=null;function Ut(ne){throw b.onAbort&&b.onAbort(ne),V(ne="Aborted("+ne+")"),ie=!0,ne=new WebAssembly.RuntimeError(ne+". Build with -sASSERTIONS for more info."),p(ne),ne}function gt(){return ge.startsWith("data:application/octet-stream;base64,")}if(ge="ort-wasm.wasm",!gt()){var Gt=ge;ge=b.locateFile?b.locateFile(Gt,P):P+Gt}function at(){var ne=ge;try{if(ne==ge&&k)return new Uint8Array(k);if(c)return c(ne);throw"both async and sync fetching of the wasm failed"}catch(xe){Ut(xe)}}function vn(ne){this.name="ExitStatus",this.message="Program terminated with exit("+ne+")",this.status=ne}function Y(ne){for(;0<ne.length;)ne.shift()(b)}function Se(ne){this.sa=ne-24,this.Ia=function(xe){Pe[this.sa+4>>2>>>0]=xe},this.Ba=function(xe){Pe[this.sa+8>>2>>>0]=xe},this.Ga=function(){he[this.sa>>2>>>0]=0},this.Aa=function(){Z[this.sa+12>>0>>>0]=0},this.Ha=function(){Z[this.sa+13>>0>>>0]=0},this.ya=function(xe,ye){this.za(),this.Ia(xe),this.Ba(ye),this.Ga(),this.Aa(),this.Ha()},this.za=function(){Pe[this.sa+16>>2>>>0]=0}}function F(ne){var xe=et(ne)+1,ye=q(xe);return ye&&dt(ne,Z,ye,xe),ye}var U={};function G(){if(!J){var ne,xe={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(ne in U)void 0===U[ne]?delete xe[ne]:xe[ne]=U[ne];var ye=[];for(ne in xe)ye.push(ne+"="+xe[ne]);J=ye}return J}var J,fe=[null,[],[]];function be(ne){return ne%4==0&&(ne%100!=0||ne%400==0)}var Ee=[31,29,31,30,31,30,31,31,30,31,30,31],it=[31,28,31,30,31,30,31,31,30,31,30,31];function nt(ne,xe,ye,Ae){function $e(tt,kn,ar){for(tt="number"==typeof tt?tt.toString():tt||"";tt.length<kn;)tt=ar[0]+tt;return tt}function Qe(tt,kn){return $e(tt,kn,"0")}function rt(tt,kn){function ar(ci){return 0>ci?-1:0<ci?1:0}var He;return 0===(He=ar(tt.getFullYear()-kn.getFullYear()))&&0===(He=ar(tt.getMonth()-kn.getMonth()))&&(He=ar(tt.getDate()-kn.getDate())),He}function mn(tt){switch(tt.getDay()){case 0:return new Date(tt.getFullYear()-1,11,29);case 1:return tt;case 2:return new Date(tt.getFullYear(),0,3);case 3:return new Date(tt.getFullYear(),0,2);case 4:return new Date(tt.getFullYear(),0,1);case 5:return new Date(tt.getFullYear()-1,11,31);case 6:return new Date(tt.getFullYear()-1,11,30)}}function Lt(tt){var kn=tt.qa;for(tt=new Date(new Date(tt.ra+1900,0,1).getTime());0<kn;){var ar=tt.getMonth(),He=(be(tt.getFullYear())?Ee:it)[ar];if(!(kn>He-tt.getDate())){tt.setDate(tt.getDate()+kn);break}kn-=He-tt.getDate()+1,tt.setDate(1),11>ar?tt.setMonth(ar+1):(tt.setMonth(0),tt.setFullYear(tt.getFullYear()+1))}return ar=new Date(tt.getFullYear()+1,0,4),kn=mn(new Date(tt.getFullYear(),0,4)),ar=mn(ar),0>=rt(kn,tt)?0>=rt(ar,tt)?tt.getFullYear()+1:tt.getFullYear():tt.getFullYear()-1}var Yn=he[Ae+40>>2>>>0];for(var hn in Ae={Ea:he[Ae>>2>>>0],Da:he[Ae+4>>2>>>0],ta:he[Ae+8>>2>>>0],va:he[Ae+12>>2>>>0],ua:he[Ae+16>>2>>>0],ra:he[Ae+20>>2>>>0],la:he[Ae+24>>2>>>0],qa:he[Ae+28>>2>>>0],Ja:he[Ae+32>>2>>>0],Ca:he[Ae+36>>2>>>0],Fa:Yn?Ye(Yn):""},ye=Ye(ye),Yn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})ye=ye.replace(new RegExp(hn,"g"),Yn[hn]);var tt,kn,Yt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ai="January February March April May June July August September October November December".split(" ");for(hn in Yn={"%a":function(tt){return Yt[tt.la].substring(0,3)},"%A":function(tt){return Yt[tt.la]},"%b":function(tt){return ai[tt.ua].substring(0,3)},"%B":function(tt){return ai[tt.ua]},"%C":function(tt){return Qe((tt.ra+1900)/100|0,2)},"%d":function(tt){return Qe(tt.va,2)},"%e":function(tt){return $e(tt.va,2," ")},"%g":function(tt){return Lt(tt).toString().substring(2)},"%G":function(tt){return Lt(tt)},"%H":function(tt){return Qe(tt.ta,2)},"%I":function(tt){return 0==(tt=tt.ta)?tt=12:12<tt&&(tt-=12),Qe(tt,2)},"%j":function(tt){for(var kn=0,ar=0;ar<=tt.ua-1;kn+=(be(tt.ra+1900)?Ee:it)[ar++]);return Qe(tt.va+kn,3)},"%m":function(tt){return Qe(tt.ua+1,2)},"%M":function(tt){return Qe(tt.Da,2)},"%n":function(){return"\n"},"%p":function(tt){return 0<=tt.ta&&12>tt.ta?"AM":"PM"},"%S":function(tt){return Qe(tt.Ea,2)},"%t":function(){return"\t"},"%u":function(tt){return tt.la||7},"%U":function(tt){return Qe(Math.floor((tt.qa+7-tt.la)/7),2)},"%V":function(tt){var kn=Math.floor((tt.qa+7-(tt.la+6)%7)/7);if(2>=(tt.la+371-tt.qa-2)%7&&kn++,kn)53==kn&&(4==(ar=(tt.la+371-tt.qa)%7)||3==ar&&be(tt.ra)||(kn=1));else{kn=52;var ar=(tt.la+7-tt.qa-1)%7;(4==ar||5==ar&&be(tt.ra%400-1))&&kn++}return Qe(kn,2)},"%w":function(tt){return tt.la},"%W":function(tt){return Qe(Math.floor((tt.qa+7-(tt.la+6)%7)/7),2)},"%y":function(tt){return(tt.ra+1900).toString().substring(2)},"%Y":function(tt){return tt.ra+1900},"%z":function(tt){return(0<=(tt=tt.Ca)?"+":"-")+("0000"+((tt=Math.abs(tt)/60)/60*100+tt%60)).slice(-4)},"%Z":function(tt){return tt.Fa},"%%":function(){return"%"}},ye=ye.replace(/%%/g,"\0\0"),Yn)ye.includes(hn)&&(ye=ye.replace(new RegExp(hn,"g"),Yn[hn](Ae)));return dt(tt=ye=ye.replace(/\0\0/g,"%"),kn=Array(et(tt)+1),0,kn.length),(hn=kn).length>xe?0:(Z.set(hn,ne>>>0),hn.length-1)}var Wt={a:function(ne){return q(ne+24)+24},b:function(ne,xe,ye){throw new Se(ne).ya(xe,ye),ne},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){Ut("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){Ut("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(ne,xe){ne=new Date(1e3*(Pe[ne>>>2]+4294967296*he[ne+4>>>2])),he[xe>>2>>>0]=ne.getUTCSeconds(),he[xe+4>>2>>>0]=ne.getUTCMinutes(),he[xe+8>>2>>>0]=ne.getUTCHours(),he[xe+12>>2>>>0]=ne.getUTCDate(),he[xe+16>>2>>>0]=ne.getUTCMonth(),he[xe+20>>2>>>0]=ne.getUTCFullYear()-1900,he[xe+24>>2>>>0]=ne.getUTCDay(),he[xe+28>>2>>>0]=(ne.getTime()-Date.UTC(ne.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(ne,xe){ne=new Date(1e3*(Pe[ne>>>2]+4294967296*he[ne+4>>>2])),he[xe>>2>>>0]=ne.getSeconds(),he[xe+4>>2>>>0]=ne.getMinutes(),he[xe+8>>2>>>0]=ne.getHours(),he[xe+12>>2>>>0]=ne.getDate(),he[xe+16>>2>>>0]=ne.getMonth(),he[xe+20>>2>>>0]=ne.getFullYear()-1900,he[xe+24>>2>>>0]=ne.getDay();var ye=new Date(ne.getFullYear(),0,1);he[xe+28>>2>>>0]=(ne.getTime()-ye.getTime())/864e5|0,he[xe+36>>2>>>0]=-60*ne.getTimezoneOffset();var Ae=new Date(ne.getFullYear(),6,1).getTimezoneOffset();ye=ye.getTimezoneOffset(),he[xe+32>>2>>>0]=0|(Ae!=ye&&ne.getTimezoneOffset()==Math.min(ye,Ae))},O:function(ne){var xe=new Date(he[ne+20>>2>>>0]+1900,he[ne+16>>2>>>0],he[ne+12>>2>>>0],he[ne+8>>2>>>0],he[ne+4>>2>>>0],he[ne>>2>>>0],0),ye=he[ne+32>>2>>>0],Ae=xe.getTimezoneOffset(),$e=new Date(xe.getFullYear(),0,1),Qe=new Date(xe.getFullYear(),6,1).getTimezoneOffset(),rt=$e.getTimezoneOffset(),mn=Math.min(rt,Qe);return 0>ye?he[ne+32>>2>>>0]=+(Qe!=rt&&mn==Ae):0<ye!=(mn==Ae)&&(Qe=Math.max(rt,Qe),xe.setTime(xe.getTime()+6e4*((0<ye?mn:Qe)-Ae))),he[ne+24>>2>>>0]=xe.getDay(),he[ne+28>>2>>>0]=(xe.getTime()-$e.getTime())/864e5|0,he[ne>>2>>>0]=xe.getSeconds(),he[ne+4>>2>>>0]=xe.getMinutes(),he[ne+8>>2>>>0]=xe.getHours(),he[ne+12>>2>>>0]=xe.getDate(),he[ne+16>>2>>>0]=xe.getMonth(),xe.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function ne(xe,ye,Ae){ne.xa||(ne.xa=!0,function($e,Qe,rt){function mn(ai){return(ai=ai.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ai[1]:"GMT"}var Lt=(new Date).getFullYear(),Yn=new Date(Lt,0,1),hn=new Date(Lt,6,1);Lt=Yn.getTimezoneOffset();var Yt=hn.getTimezoneOffset();he[$e>>2>>>0]=60*Math.max(Lt,Yt),he[Qe>>2>>>0]=+(Lt!=Yt),$e=mn(Yn),Qe=mn(hn),$e=F($e),Qe=F(Qe),Yt<Lt?(Pe[rt>>2>>>0]=$e,Pe[rt+4>>2>>>0]=Qe):(Pe[rt>>2>>>0]=Qe,Pe[rt+4>>2>>>0]=$e)}(xe,ye,Ae))},d:function(){Ut("")},t:function(){return 4294901760},h:R?()=>{var ne=process.hrtime();return 1e3*ne[0]+ne[1]/1e6}:()=>performance.now(),J:function(ne,xe,ye){de.copyWithin(ne>>>0,xe>>>0,xe+ye>>>0)},f:function(ne){var xe=de.length;if(4294901760<(ne>>>=0))return!1;for(var ye=1;4>=ye;ye*=2){var Ae=xe*(1+.2/ye);Ae=Math.min(Ae,ne+100663296);var $e=Math;Ae=Math.max(ne,Ae),$e=$e.min.call($e,4294901760,Ae+(65536-Ae%65536)%65536);e:{try{X.grow($e-Q.byteLength+65535>>>16),ft();var Qe=1;break e}catch{}Qe=void 0}if(Qe)return!0}return!1},D:function(ne,xe){var ye=0;return G().forEach(function(Ae,$e){var Qe=xe+ye;for($e=Pe[ne+4*$e>>2>>>0]=Qe,Qe=0;Qe<Ae.length;++Qe)Z[$e++>>0>>>0]=Ae.charCodeAt(Qe);Z[$e>>0>>>0]=0,ye+=Ae.length+1}),0},E:function(ne,xe){var ye=G();Pe[ne>>2>>>0]=ye.length;var Ae=0;return ye.forEach(function($e){Ae+=$e.length+1}),Pe[xe>>2>>>0]=Ae,0},r:function(ne){j||(b.onExit&&b.onExit(ne),ie=!0),D(ne,new vn(ne))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(ne,xe,ye,Ae){for(var $e=0,Qe=0;Qe<ye;Qe++){var rt=Pe[xe>>2>>>0],mn=Pe[xe+4>>2>>>0];xe+=8;for(var Lt=0;Lt<mn;Lt++){var Yn=de[rt+Lt>>>0],hn=fe[ne];0===Yn||10===Yn?((1===ne?B:V)(Fe(hn,0)),hn.length=0):hn.push(Yn)}$e+=mn}return Pe[Ae>>2>>>0]=$e,0},s:function ne(xe,ye){ne.wa||(ne.wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var $e=new Uint8Array(1);return()=>(crypto.getRandomValues($e),$e[0])}if(R)try{var Qe=g(760);return()=>Qe.randomBytes(1)[0]}catch{}return()=>Ut("randomDevice")}());for(var Ae=0;Ae<ye;Ae++)Z[xe+Ae>>0>>>0]=ne.wa();return 0},A:nt,c:function(ne,xe,ye,Ae){return nt(ne,xe,ye,Ae)}};(function(){function ne($e){b.asm=$e.exports,X=b.asm.P,ft(),pt.unshift(b.asm.Q),Je--,b.monitorRunDependencies&&b.monitorRunDependencies(Je),0==Je&&(null!==ht&&(clearInterval(ht),ht=null),$t&&($e=$t,$t=null,$e()))}function xe($e){ne($e.instance)}function ye($e){return function(){if(!k&&(I||A)){if("function"==typeof fetch&&!ge.startsWith("file://"))return fetch(ge,{credentials:"same-origin"}).then(function(Qe){if(!Qe.ok)throw"failed to load wasm binary file at '"+ge+"'";return Qe.arrayBuffer()}).catch(function(){return at()});if(f)return new Promise(function(Qe,rt){f(ge,function(mn){Qe(new Uint8Array(mn))},rt)})}return Promise.resolve().then(function(){return at()})}().then(function(Qe){return WebAssembly.instantiate(Qe,Ae)}).then(function(Qe){return Qe}).then($e,function(Qe){V("failed to asynchronously prepare wasm: "+Qe),Ut(Qe)})}var Ae={a:Wt};if(Je++,b.monitorRunDependencies&&b.monitorRunDependencies(Je),b.instantiateWasm)try{return b.instantiateWasm(Ae,ne)}catch($e){return V("Module.instantiateWasm callback failed with error: "+$e),!1}(k||"function"!=typeof WebAssembly.instantiateStreaming||gt()||ge.startsWith("file://")||R||"function"!=typeof fetch?ye(xe):fetch(ge,{credentials:"same-origin"}).then(function($e){return WebAssembly.instantiateStreaming($e,Ae).then(xe,function(Qe){return V("wasm streaming compile failed: "+Qe),V("falling back to ArrayBuffer instantiation"),ye(xe)})})).catch(p)})(),b.___wasm_call_ctors=function(){return(b.___wasm_call_ctors=b.asm.Q).apply(null,arguments)},b._OrtInit=function(){return(b._OrtInit=b.asm.R).apply(null,arguments)},b._OrtCreateSessionOptions=function(){return(b._OrtCreateSessionOptions=b.asm.S).apply(null,arguments)},b._OrtAppendExecutionProvider=function(){return(b._OrtAppendExecutionProvider=b.asm.T).apply(null,arguments)},b._OrtAddSessionConfigEntry=function(){return(b._OrtAddSessionConfigEntry=b.asm.U).apply(null,arguments)},b._OrtReleaseSessionOptions=function(){return(b._OrtReleaseSessionOptions=b.asm.V).apply(null,arguments)},b._OrtCreateSession=function(){return(b._OrtCreateSession=b.asm.W).apply(null,arguments)},b._OrtReleaseSession=function(){return(b._OrtReleaseSession=b.asm.X).apply(null,arguments)},b._OrtGetInputCount=function(){return(b._OrtGetInputCount=b.asm.Y).apply(null,arguments)},b._OrtGetOutputCount=function(){return(b._OrtGetOutputCount=b.asm.Z).apply(null,arguments)},b._OrtGetInputName=function(){return(b._OrtGetInputName=b.asm._).apply(null,arguments)},b._OrtGetOutputName=function(){return(b._OrtGetOutputName=b.asm.$).apply(null,arguments)},b._OrtFree=function(){return(b._OrtFree=b.asm.aa).apply(null,arguments)},b._OrtCreateTensor=function(){return(b._OrtCreateTensor=b.asm.ba).apply(null,arguments)},b._OrtGetTensorData=function(){return(b._OrtGetTensorData=b.asm.ca).apply(null,arguments)},b._OrtReleaseTensor=function(){return(b._OrtReleaseTensor=b.asm.da).apply(null,arguments)},b._OrtCreateRunOptions=function(){return(b._OrtCreateRunOptions=b.asm.ea).apply(null,arguments)},b._OrtAddRunConfigEntry=function(){return(b._OrtAddRunConfigEntry=b.asm.fa).apply(null,arguments)},b._OrtReleaseRunOptions=function(){return(b._OrtReleaseRunOptions=b.asm.ga).apply(null,arguments)},b._OrtRun=function(){return(b._OrtRun=b.asm.ha).apply(null,arguments)},b._OrtEndProfiling=function(){return(b._OrtEndProfiling=b.asm.ia).apply(null,arguments)};var q=b._malloc=function(){return(q=b._malloc=b.asm.ja).apply(null,arguments)};b._free=function(){return(b._free=b.asm.ka).apply(null,arguments)};var _e,ve=b.stackSave=function(){return(ve=b.stackSave=b.asm.ma).apply(null,arguments)},we=b.stackRestore=function(){return(we=b.stackRestore=b.asm.na).apply(null,arguments)},Le=b.stackAlloc=function(){return(Le=b.stackAlloc=b.asm.oa).apply(null,arguments)};function Me(){function ne(){if(!_e&&(_e=!0,b.calledRun=!0,!ie)){if(Y(pt),v(b),b.onRuntimeInitialized&&b.onRuntimeInitialized(),b.postRun)for("function"==typeof b.postRun&&(b.postRun=[b.postRun]);b.postRun.length;){var xe=b.postRun.shift();Ht.unshift(xe)}Y(Ht)}}if(!(0<Je)){if(b.preRun)for("function"==typeof b.preRun&&(b.preRun=[b.preRun]);b.preRun.length;)Oe();Y(Rt),0<Je||(b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1),ne()},1)):ne())}}if(b.___cxa_is_pointer_type=function(){return(b.___cxa_is_pointer_type=b.asm.pa).apply(null,arguments)},b.UTF8ToString=Ye,b.stringToUTF8=function(ne,xe,ye){return dt(ne,de,xe,ye)},b.lengthBytesUTF8=et,b.stackSave=ve,b.stackRestore=we,b.stackAlloc=Le,$t=function ne(){_e||Me(),_e||($t=ne)},b.preInit)for("function"==typeof b.preInit&&(b.preInit=[b.preInit]);0<b.preInit.length;)b.preInit.pop()();return Me(),C.ready});z.exports=w},4537:z=>{"use strict";z.exports=function(u,g){for(var S=new Array(arguments.length-1),w=0,C=2,b=!0;C<arguments.length;)S[w++]=arguments[C++];return new Promise(function(v,p){S[w]=function(m){if(b)if(b=!1,m)p(m);else{for(var f=new Array(arguments.length-1),c=0;c<f.length;)f[c++]=arguments[c];v.apply(null,f)}};try{u.apply(g||null,S)}catch(m){b&&(b=!1,p(m))}})}},7419:(z,u)=>{"use strict";var g=u;g.length=function(v){var p=v.length;if(!p)return 0;for(var m=0;--p%4>1&&"="===v.charAt(p);)++m;return Math.ceil(3*v.length)/4-m};for(var S=new Array(64),w=new Array(123),C=0;C<64;)w[S[C]=C<26?C+65:C<52?C+71:C<62?C-4:C-59|43]=C++;g.encode=function(v,p,m){for(var f,c=null,a=[],d=0,h=0;p<m;){var _=v[p++];switch(h){case 0:a[d++]=S[_>>2],f=(3&_)<<4,h=1;break;case 1:a[d++]=S[f|_>>4],f=(15&_)<<2,h=2;break;case 2:a[d++]=S[f|_>>6],a[d++]=S[63&_],h=0}d>8191&&((c||(c=[])).push(String.fromCharCode.apply(String,a)),d=0)}return h&&(a[d++]=S[f],a[d++]=61,1===h&&(a[d++]=61)),c?(d&&c.push(String.fromCharCode.apply(String,a.slice(0,d))),c.join("")):String.fromCharCode.apply(String,a.slice(0,d))};var b="invalid encoding";g.decode=function(v,p,m){for(var f,c=m,a=0,d=0;d<v.length;){var h=v.charCodeAt(d++);if(61===h&&a>1)break;if(void 0===(h=w[h]))throw Error(b);switch(a){case 0:f=h,a=1;break;case 1:p[m++]=f<<2|(48&h)>>4,f=h,a=2;break;case 2:p[m++]=(15&f)<<4|(60&h)>>2,f=h,a=3;break;case 3:p[m++]=(3&f)<<6|h,a=0}}if(1===a)throw Error(b);return m-c},g.test=function(v){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(v)}},9211:z=>{"use strict";function u(){this._listeners={}}z.exports=u,u.prototype.on=function(g,S,w){return(this._listeners[g]||(this._listeners[g]=[])).push({fn:S,ctx:w||this}),this},u.prototype.off=function(g,S){if(void 0===g)this._listeners={};else if(void 0===S)this._listeners[g]=[];else for(var w=this._listeners[g],C=0;C<w.length;)w[C].fn===S?w.splice(C,1):++C;return this},u.prototype.emit=function(g){var S=this._listeners[g];if(S){for(var w=[],C=1;C<arguments.length;)w.push(arguments[C++]);for(C=0;C<S.length;)S[C].fn.apply(S[C++].ctx,w)}return this}},945:z=>{"use strict";function u(b){return typeof Float32Array<"u"?function(){var v=new Float32Array([-0]),p=new Uint8Array(v.buffer),m=128===p[3];function f(h,_,x){v[0]=h,_[x]=p[0],_[x+1]=p[1],_[x+2]=p[2],_[x+3]=p[3]}function c(h,_,x){v[0]=h,_[x]=p[3],_[x+1]=p[2],_[x+2]=p[1],_[x+3]=p[0]}function a(h,_){return p[0]=h[_],p[1]=h[_+1],p[2]=h[_+2],p[3]=h[_+3],v[0]}function d(h,_){return p[3]=h[_],p[2]=h[_+1],p[1]=h[_+2],p[0]=h[_+3],v[0]}b.writeFloatLE=m?f:c,b.writeFloatBE=m?c:f,b.readFloatLE=m?a:d,b.readFloatBE=m?d:a}():function(){function v(m,f,c,a){var d=f<0?1:0;if(d&&(f=-f),0===f)m(1/f>0?0:2147483648,c,a);else if(isNaN(f))m(2143289344,c,a);else if(f>34028234663852886e22)m((d<<31|2139095040)>>>0,c,a);else if(f<11754943508222875e-54)m((d<<31|Math.round(f/1401298464324817e-60))>>>0,c,a);else{var h=Math.floor(Math.log(f)/Math.LN2);m((d<<31|h+127<<23|8388607&Math.round(f*Math.pow(2,-h)*8388608))>>>0,c,a)}}function p(m,f,c){var a=m(f,c),d=2*(a>>31)+1,h=a>>>23&255,_=8388607&a;return 255===h?_?NaN:d*(1/0):0===h?1401298464324817e-60*d*_:d*Math.pow(2,h-150)*(_+8388608)}b.writeFloatLE=v.bind(null,g),b.writeFloatBE=v.bind(null,S),b.readFloatLE=p.bind(null,w),b.readFloatBE=p.bind(null,C)}(),typeof Float64Array<"u"?function(){var v=new Float64Array([-0]),p=new Uint8Array(v.buffer),m=128===p[7];function f(h,_,x){v[0]=h,_[x]=p[0],_[x+1]=p[1],_[x+2]=p[2],_[x+3]=p[3],_[x+4]=p[4],_[x+5]=p[5],_[x+6]=p[6],_[x+7]=p[7]}function c(h,_,x){v[0]=h,_[x]=p[7],_[x+1]=p[6],_[x+2]=p[5],_[x+3]=p[4],_[x+4]=p[3],_[x+5]=p[2],_[x+6]=p[1],_[x+7]=p[0]}function a(h,_){return p[0]=h[_],p[1]=h[_+1],p[2]=h[_+2],p[3]=h[_+3],p[4]=h[_+4],p[5]=h[_+5],p[6]=h[_+6],p[7]=h[_+7],v[0]}function d(h,_){return p[7]=h[_],p[6]=h[_+1],p[5]=h[_+2],p[4]=h[_+3],p[3]=h[_+4],p[2]=h[_+5],p[1]=h[_+6],p[0]=h[_+7],v[0]}b.writeDoubleLE=m?f:c,b.writeDoubleBE=m?c:f,b.readDoubleLE=m?a:d,b.readDoubleBE=m?d:a}():function(){function v(m,f,c,a,d,h){var _=a<0?1:0;if(_&&(a=-a),0===a)m(0,d,h+f),m(1/a>0?0:2147483648,d,h+c);else if(isNaN(a))m(0,d,h+f),m(2146959360,d,h+c);else if(a>17976931348623157e292)m(0,d,h+f),m((_<<31|2146435072)>>>0,d,h+c);else{var x;if(a<22250738585072014e-324)m((x=a/5e-324)>>>0,d,h+f),m((_<<31|x/4294967296)>>>0,d,h+c);else{var D=Math.floor(Math.log(a)/Math.LN2);1024===D&&(D=1023),m(4503599627370496*(x=a*Math.pow(2,-D))>>>0,d,h+f),m((_<<31|D+1023<<20|1048576*x&1048575)>>>0,d,h+c)}}}function p(m,f,c,a,d){var h=m(a,d+f),_=m(a,d+c),x=2*(_>>31)+1,D=_>>>20&2047,I=4294967296*(1048575&_)+h;return 2047===D?I?NaN:x*(1/0):0===D?5e-324*x*I:x*Math.pow(2,D-1075)*(I+4503599627370496)}b.writeDoubleLE=v.bind(null,g,0,4),b.writeDoubleBE=v.bind(null,S,4,0),b.readDoubleLE=p.bind(null,w,0,4),b.readDoubleBE=p.bind(null,C,4,0)}(),b}function g(b,v,p){v[p]=255&b,v[p+1]=b>>>8&255,v[p+2]=b>>>16&255,v[p+3]=b>>>24}function S(b,v,p){v[p]=b>>>24,v[p+1]=b>>>16&255,v[p+2]=b>>>8&255,v[p+3]=255&b}function w(b,v){return(b[v]|b[v+1]<<8|b[v+2]<<16|b[v+3]<<24)>>>0}function C(b,v){return(b[v]<<24|b[v+1]<<16|b[v+2]<<8|b[v+3])>>>0}z.exports=u(u)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(z){}return null}module.exports=inquire},6662:z=>{"use strict";z.exports=function(u,g,S){var w=S||8192,C=w>>>1,b=null,v=w;return function(p){if(p<1||p>C)return u(p);v+p>w&&(b=u(w),v=0);var m=g.call(b,v,v+=p);return 7&v&&(v=1+(7|v)),m}}},4997:(z,u)=>{"use strict";var g=u;g.length=function(S){for(var w=0,C=0,b=0;b<S.length;++b)(C=S.charCodeAt(b))<128?w+=1:C<2048?w+=2:55296==(64512&C)&&56320==(64512&S.charCodeAt(b+1))?(++b,w+=4):w+=3;return w},g.read=function(S,w,C){if(C-w<1)return"";for(var b,v=null,p=[],m=0;w<C;)(b=S[w++])<128?p[m++]=b:b>191&&b<224?p[m++]=(31&b)<<6|63&S[w++]:b>239&&b<365?(b=((7&b)<<18|(63&S[w++])<<12|(63&S[w++])<<6|63&S[w++])-65536,p[m++]=55296+(b>>10),p[m++]=56320+(1023&b)):p[m++]=(15&b)<<12|(63&S[w++])<<6|63&S[w++],m>8191&&((v||(v=[])).push(String.fromCharCode.apply(String,p)),m=0);return v?(m&&v.push(String.fromCharCode.apply(String,p.slice(0,m))),v.join("")):String.fromCharCode.apply(String,p.slice(0,m))},g.write=function(S,w,C){for(var b,v,p=C,m=0;m<S.length;++m)(b=S.charCodeAt(m))<128?w[C++]=b:b<2048?(w[C++]=b>>6|192,w[C++]=63&b|128):55296==(64512&b)&&56320==(64512&(v=S.charCodeAt(m+1)))?(++m,w[C++]=(b=65536+((1023&b)<<10)+(1023&v))>>18|240,w[C++]=b>>12&63|128,w[C++]=b>>6&63|128,w[C++]=63&b|128):(w[C++]=b>>12|224,w[C++]=b>>6&63|128,w[C++]=63&b|128);return C-p}},3442:(z,u)=>{"use strict";u.__esModule=!0;var g=function(){function S(w){if(!w)throw new TypeError("Invalid argument; `value` has no value.");this.value=S.EMPTY,w&&S.isGuid(w)&&(this.value=w)}return S.isGuid=function(w){var C=w.toString();return w&&(w instanceof S||S.validator.test(C))},S.create=function(){return new S([S.gen(2),S.gen(1),S.gen(1),S.gen(1),S.gen(3)].join("-"))},S.createEmpty=function(){return new S("emptyguid")},S.parse=function(w){return new S(w)},S.raw=function(){return[S.gen(2),S.gen(1),S.gen(1),S.gen(1),S.gen(3)].join("-")},S.gen=function(w){for(var C="",b=0;b<w;b++)C+=(65536*(1+Math.random())|0).toString(16).substring(1);return C},S.prototype.equals=function(w){return S.isGuid(w)&&this.value===w.toString()},S.prototype.isEmpty=function(){return this.value===S.EMPTY},S.prototype.toString=function(){return this.value},S.prototype.toJSON=function(){return{value:this.value}},S.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),S.EMPTY="00000000-0000-0000-0000-000000000000",S}();u.Guid=g},3720:z=>{z.exports=g;var u=null;try{u=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function g(j,X,Q){this.low=0|j,this.high=0|X,this.unsigned=!!Q}function S(j){return!0===(j&&j.__isLong__)}Object.defineProperty(g.prototype,"__isLong__",{value:!0}),g.isLong=S;var w={},C={};function b(j,X){var Q,Z,de;return X?(de=0<=(j>>>=0)&&j<256)&&(Z=C[j])?Z:(Q=p(j,(0|j)<0?-1:0,!0),de&&(C[j]=Q),Q):(de=-128<=(j|=0)&&j<128)&&(Z=w[j])?Z:(Q=p(j,j<0?-1:0,!1),de&&(w[j]=Q),Q)}function v(j,X){if(isNaN(j))return X?D:x;if(X){if(j<0)return D;if(j>=d)return k}else{if(j<=-h)return B;if(j+1>=h)return P}return j<0?v(-j,X).neg():p(j%a|0,j/a|0,X)}function p(j,X,Q){return new g(j,X,Q)}g.fromInt=b,g.fromNumber=v,g.fromBits=p;var m=Math.pow;function f(j,X,Q){if(0===j.length)throw Error("empty string");if("NaN"===j||"Infinity"===j||"+Infinity"===j||"-Infinity"===j)return x;if("number"==typeof X?(Q=X,X=!1):X=!!X,(Q=Q||10)<2||36<Q)throw RangeError("radix");var Z;if((Z=j.indexOf("-"))>0)throw Error("interior hyphen");if(0===Z)return f(j.substring(1),X,Q).neg();for(var de=v(m(Q,8)),he=x,Pe=0;Pe<j.length;Pe+=8){var ie=Math.min(8,j.length-Pe),ue=parseInt(j.substring(Pe,Pe+ie),Q);if(ie<8){var Fe=v(m(Q,ie));he=he.mul(Fe).add(v(ue))}else he=(he=he.mul(de)).add(v(ue))}return he.unsigned=X,he}function c(j,X){return"number"==typeof j?v(j,X):"string"==typeof j?f(j,X):p(j.low,j.high,"boolean"==typeof X?X:j.unsigned)}g.fromString=f,g.fromValue=c;var a=4294967296,d=a*a,h=d/2,_=b(1<<24),x=b(0);g.ZERO=x;var D=b(0,!0);g.UZERO=D;var I=b(1);g.ONE=I;var A=b(1,!0);g.UONE=A;var R=b(-1);g.NEG_ONE=R;var P=p(-1,2147483647,!1);g.MAX_VALUE=P;var k=p(-1,-1,!0);g.MAX_UNSIGNED_VALUE=k;var B=p(0,-2147483648,!1);g.MIN_VALUE=B;var V=g.prototype;V.toInt=function(){return this.unsigned?this.low>>>0:this.low},V.toNumber=function(){return this.unsigned?(this.high>>>0)*a+(this.low>>>0):this.high*a+(this.low>>>0)},V.toString=function(j){if((j=j||10)<2||36<j)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(B)){var X=v(j),Q=this.div(X),Z=Q.mul(X).sub(this);return Q.toString(j)+Z.toInt().toString(j)}return"-"+this.neg().toString(j)}for(var de=v(m(j,6),this.unsigned),he=this,Pe="";;){var ie=he.div(de),ue=(he.sub(ie.mul(de)).toInt()>>>0).toString(j);if((he=ie).isZero())return ue+Pe;for(;ue.length<6;)ue="0"+ue;Pe=""+ue+Pe}},V.getHighBits=function(){return this.high},V.getHighBitsUnsigned=function(){return this.high>>>0},V.getLowBits=function(){return this.low},V.getLowBitsUnsigned=function(){return this.low>>>0},V.getNumBitsAbs=function(){if(this.isNegative())return this.eq(B)?64:this.neg().getNumBitsAbs();for(var j=0!=this.high?this.high:this.low,X=31;X>0&&!(j&1<<X);X--);return 0!=this.high?X+33:X+1},V.isZero=function(){return 0===this.high&&0===this.low},V.eqz=V.isZero,V.isNegative=function(){return!this.unsigned&&this.high<0},V.isPositive=function(){return this.unsigned||this.high>=0},V.isOdd=function(){return 1==(1&this.low)},V.isEven=function(){return 0==(1&this.low)},V.equals=function(j){return S(j)||(j=c(j)),(this.unsigned===j.unsigned||this.high>>>31!=1||j.high>>>31!=1)&&this.high===j.high&&this.low===j.low},V.eq=V.equals,V.notEquals=function(j){return!this.eq(j)},V.neq=V.notEquals,V.ne=V.notEquals,V.lessThan=function(j){return this.comp(j)<0},V.lt=V.lessThan,V.lessThanOrEqual=function(j){return this.comp(j)<=0},V.lte=V.lessThanOrEqual,V.le=V.lessThanOrEqual,V.greaterThan=function(j){return this.comp(j)>0},V.gt=V.greaterThan,V.greaterThanOrEqual=function(j){return this.comp(j)>=0},V.gte=V.greaterThanOrEqual,V.ge=V.greaterThanOrEqual,V.compare=function(j){if(S(j)||(j=c(j)),this.eq(j))return 0;var X=this.isNegative(),Q=j.isNegative();return X&&!Q?-1:!X&&Q?1:this.unsigned?j.high>>>0>this.high>>>0||j.high===this.high&&j.low>>>0>this.low>>>0?-1:1:this.sub(j).isNegative()?-1:1},V.comp=V.compare,V.negate=function(){return!this.unsigned&&this.eq(B)?B:this.not().add(I)},V.neg=V.negate,V.add=function(j){S(j)||(j=c(j));var ue=0,Fe=0,Ye=0,dt=0;return Ye+=(dt+=(65535&this.low)+(65535&j.low))>>>16,Fe+=(Ye+=(this.low>>>16)+(j.low>>>16))>>>16,ue+=(Fe+=(65535&this.high)+(65535&j.high))>>>16,ue+=(this.high>>>16)+(j.high>>>16),p((Ye&=65535)<<16|(dt&=65535),(ue&=65535)<<16|(Fe&=65535),this.unsigned)},V.subtract=function(j){return S(j)||(j=c(j)),this.add(j.neg())},V.sub=V.subtract,V.multiply=function(j){if(this.isZero())return x;if(S(j)||(j=c(j)),u)return p(u.mul(this.low,this.high,j.low,j.high),u.get_high(),this.unsigned);if(j.isZero())return x;if(this.eq(B))return j.isOdd()?B:x;if(j.eq(B))return this.isOdd()?B:x;if(this.isNegative())return j.isNegative()?this.neg().mul(j.neg()):this.neg().mul(j).neg();if(j.isNegative())return this.mul(j.neg()).neg();if(this.lt(_)&&j.lt(_))return v(this.toNumber()*j.toNumber(),this.unsigned);var Q=65535&this.high,Z=this.low>>>16,de=65535&this.low,Pe=65535&j.high,ie=j.low>>>16,ue=65535&j.low,Fe=0,Ye=0,dt=0,et=0;return dt+=(et+=de*ue)>>>16,Ye+=(dt+=Z*ue)>>>16,dt&=65535,Ye+=(dt+=de*ie)>>>16,Fe+=(Ye+=Q*ue)>>>16,Ye&=65535,Fe+=(Ye+=Z*ie)>>>16,Ye&=65535,Fe+=(Ye+=de*Pe)>>>16,Fe+=(this.high>>>16)*ue+Q*ie+Z*Pe+de*(j.high>>>16),p((dt&=65535)<<16|(et&=65535),(Fe&=65535)<<16|(Ye&=65535),this.unsigned)},V.mul=V.multiply,V.divide=function(j){if(S(j)||(j=c(j)),j.isZero())throw Error("division by zero");var X,Q,Z;if(u)return this.unsigned||-2147483648!==this.high||-1!==j.low||-1!==j.high?p((this.unsigned?u.div_u:u.div_s)(this.low,this.high,j.low,j.high),u.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?D:x;if(this.unsigned){if(j.unsigned||(j=j.toUnsigned()),j.gt(this))return D;if(j.gt(this.shru(1)))return A;Z=D}else{if(this.eq(B))return j.eq(I)||j.eq(R)?B:j.eq(B)?I:(X=this.shr(1).div(j).shl(1)).eq(x)?j.isNegative()?I:R:(Q=this.sub(j.mul(X)),Z=X.add(Q.div(j)));if(j.eq(B))return this.unsigned?D:x;if(this.isNegative())return j.isNegative()?this.neg().div(j.neg()):this.neg().div(j).neg();if(j.isNegative())return this.div(j.neg()).neg();Z=x}for(Q=this;Q.gte(j);){X=Math.max(1,Math.floor(Q.toNumber()/j.toNumber()));for(var de=Math.ceil(Math.log(X)/Math.LN2),he=de<=48?1:m(2,de-48),Pe=v(X),ie=Pe.mul(j);ie.isNegative()||ie.gt(Q);)ie=(Pe=v(X-=he,this.unsigned)).mul(j);Pe.isZero()&&(Pe=I),Z=Z.add(Pe),Q=Q.sub(ie)}return Z},V.div=V.divide,V.modulo=function(j){return S(j)||(j=c(j)),u?p((this.unsigned?u.rem_u:u.rem_s)(this.low,this.high,j.low,j.high),u.get_high(),this.unsigned):this.sub(this.div(j).mul(j))},V.mod=V.modulo,V.rem=V.modulo,V.not=function(){return p(~this.low,~this.high,this.unsigned)},V.and=function(j){return S(j)||(j=c(j)),p(this.low&j.low,this.high&j.high,this.unsigned)},V.or=function(j){return S(j)||(j=c(j)),p(this.low|j.low,this.high|j.high,this.unsigned)},V.xor=function(j){return S(j)||(j=c(j)),p(this.low^j.low,this.high^j.high,this.unsigned)},V.shiftLeft=function(j){return S(j)&&(j=j.toInt()),0==(j&=63)?this:j<32?p(this.low<<j,this.high<<j|this.low>>>32-j,this.unsigned):p(0,this.low<<j-32,this.unsigned)},V.shl=V.shiftLeft,V.shiftRight=function(j){return S(j)&&(j=j.toInt()),0==(j&=63)?this:j<32?p(this.low>>>j|this.high<<32-j,this.high>>j,this.unsigned):p(this.high>>j-32,this.high>=0?0:-1,this.unsigned)},V.shr=V.shiftRight,V.shiftRightUnsigned=function(j){if(S(j)&&(j=j.toInt()),0==(j&=63))return this;var X=this.high;return j<32?p(this.low>>>j|X<<32-j,X>>>j,this.unsigned):p(32===j?X:X>>>j-32,0,this.unsigned)},V.shru=V.shiftRightUnsigned,V.shr_u=V.shiftRightUnsigned,V.toSigned=function(){return this.unsigned?p(this.low,this.high,!1):this},V.toUnsigned=function(){return this.unsigned?this:p(this.low,this.high,!0)},V.toBytes=function(j){return j?this.toBytesLE():this.toBytesBE()},V.toBytesLE=function(){var j=this.high,X=this.low;return[255&X,X>>>8&255,X>>>16&255,X>>>24,255&j,j>>>8&255,j>>>16&255,j>>>24]},V.toBytesBE=function(){var j=this.high,X=this.low;return[j>>>24,j>>>16&255,j>>>8&255,255&j,X>>>24,X>>>16&255,X>>>8&255,255&X]},g.fromBytes=function(j,X,Q){return Q?g.fromBytesLE(j,X):g.fromBytesBE(j,X)},g.fromBytesLE=function(j,X){return new g(j[0]|j[1]<<8|j[2]<<16|j[3]<<24,j[4]|j[5]<<8|j[6]<<16|j[7]<<24,X)},g.fromBytesBE=function(j,X){return new g(j[4]<<24|j[5]<<16|j[6]<<8|j[7],j[0]<<24|j[1]<<16|j[2]<<8|j[3],X)}},1446:(z,u,g)=>{"use strict";var S,w,C,b=g(2100),v=b.Reader,p=b.Writer,m=b.util,f=b.roots.default||(b.roots.default={});f.onnx=((C={}).Version=(S={},(w=Object.create(S))[S[0]="_START_VERSION"]=0,w[S[1]="IR_VERSION_2017_10_10"]=1,w[S[2]="IR_VERSION_2017_10_30"]=2,w[S[3]="IR_VERSION_2017_11_3"]=3,w[S[4]="IR_VERSION_2019_1_22"]=4,w[S[5]="IR_VERSION"]=5,w),C.AttributeProto=function(){function c(a){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],a)for(var d=Object.keys(a),h=0;h<d.length;++h)null!=a[d[h]]&&(this[d[h]]=a[d[h]])}return c.prototype.name="",c.prototype.refAttrName="",c.prototype.docString="",c.prototype.type=0,c.prototype.f=0,c.prototype.i=m.Long?m.Long.fromBits(0,0,!1):0,c.prototype.s=m.newBuffer([]),c.prototype.t=null,c.prototype.g=null,c.prototype.floats=m.emptyArray,c.prototype.ints=m.emptyArray,c.prototype.strings=m.emptyArray,c.prototype.tensors=m.emptyArray,c.prototype.graphs=m.emptyArray,c.create=function(a){return new c(a)},c.encode=function(a,d){if(d||(d=p.create()),null!=a.name&&a.hasOwnProperty("name")&&d.uint32(10).string(a.name),null!=a.f&&a.hasOwnProperty("f")&&d.uint32(21).float(a.f),null!=a.i&&a.hasOwnProperty("i")&&d.uint32(24).int64(a.i),null!=a.s&&a.hasOwnProperty("s")&&d.uint32(34).bytes(a.s),null!=a.t&&a.hasOwnProperty("t")&&f.onnx.TensorProto.encode(a.t,d.uint32(42).fork()).ldelim(),null!=a.g&&a.hasOwnProperty("g")&&f.onnx.GraphProto.encode(a.g,d.uint32(50).fork()).ldelim(),null!=a.floats&&a.floats.length){d.uint32(58).fork();for(var h=0;h<a.floats.length;++h)d.float(a.floats[h]);d.ldelim()}if(null!=a.ints&&a.ints.length){for(d.uint32(66).fork(),h=0;h<a.ints.length;++h)d.int64(a.ints[h]);d.ldelim()}if(null!=a.strings&&a.strings.length)for(h=0;h<a.strings.length;++h)d.uint32(74).bytes(a.strings[h]);if(null!=a.tensors&&a.tensors.length)for(h=0;h<a.tensors.length;++h)f.onnx.TensorProto.encode(a.tensors[h],d.uint32(82).fork()).ldelim();if(null!=a.graphs&&a.graphs.length)for(h=0;h<a.graphs.length;++h)f.onnx.GraphProto.encode(a.graphs[h],d.uint32(90).fork()).ldelim();return null!=a.docString&&a.hasOwnProperty("docString")&&d.uint32(106).string(a.docString),null!=a.type&&a.hasOwnProperty("type")&&d.uint32(160).int32(a.type),null!=a.refAttrName&&a.hasOwnProperty("refAttrName")&&d.uint32(170).string(a.refAttrName),d},c.encodeDelimited=function(a,d){return this.encode(a,d).ldelim()},c.decode=function(a,d){a instanceof v||(a=v.create(a));for(var h=void 0===d?a.len:a.pos+d,_=new f.onnx.AttributeProto;a.pos<h;){var x=a.uint32();switch(x>>>3){case 1:_.name=a.string();break;case 21:_.refAttrName=a.string();break;case 13:_.docString=a.string();break;case 20:_.type=a.int32();break;case 2:_.f=a.float();break;case 3:_.i=a.int64();break;case 4:_.s=a.bytes();break;case 5:_.t=f.onnx.TensorProto.decode(a,a.uint32());break;case 6:_.g=f.onnx.GraphProto.decode(a,a.uint32());break;case 7:if(_.floats&&_.floats.length||(_.floats=[]),2==(7&x))for(var D=a.uint32()+a.pos;a.pos<D;)_.floats.push(a.float());else _.floats.push(a.float());break;case 8:if(_.ints&&_.ints.length||(_.ints=[]),2==(7&x))for(D=a.uint32()+a.pos;a.pos<D;)_.ints.push(a.int64());else _.ints.push(a.int64());break;case 9:_.strings&&_.strings.length||(_.strings=[]),_.strings.push(a.bytes());break;case 10:_.tensors&&_.tensors.length||(_.tensors=[]),_.tensors.push(f.onnx.TensorProto.decode(a,a.uint32()));break;case 11:_.graphs&&_.graphs.length||(_.graphs=[]),_.graphs.push(f.onnx.GraphProto.decode(a,a.uint32()));break;default:a.skipType(7&x)}}return _},c.decodeDelimited=function(a){return a instanceof v||(a=new v(a)),this.decode(a,a.uint32())},c.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.name&&a.hasOwnProperty("name")&&!m.isString(a.name))return"name: string expected";if(null!=a.refAttrName&&a.hasOwnProperty("refAttrName")&&!m.isString(a.refAttrName))return"refAttrName: string expected";if(null!=a.docString&&a.hasOwnProperty("docString")&&!m.isString(a.docString))return"docString: string expected";if(null!=a.type&&a.hasOwnProperty("type"))switch(a.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=a.f&&a.hasOwnProperty("f")&&"number"!=typeof a.f)return"f: number expected";if(null!=a.i&&a.hasOwnProperty("i")&&!(m.isInteger(a.i)||a.i&&m.isInteger(a.i.low)&&m.isInteger(a.i.high)))return"i: integer|Long expected";if(null!=a.s&&a.hasOwnProperty("s")&&!(a.s&&"number"==typeof a.s.length||m.isString(a.s)))return"s: buffer expected";if(null!=a.t&&a.hasOwnProperty("t")&&(h=f.onnx.TensorProto.verify(a.t)))return"t."+h;if(null!=a.g&&a.hasOwnProperty("g")&&(h=f.onnx.GraphProto.verify(a.g)))return"g."+h;if(null!=a.floats&&a.hasOwnProperty("floats")){if(!Array.isArray(a.floats))return"floats: array expected";for(var d=0;d<a.floats.length;++d)if("number"!=typeof a.floats[d])return"floats: number[] expected"}if(null!=a.ints&&a.hasOwnProperty("ints")){if(!Array.isArray(a.ints))return"ints: array expected";for(d=0;d<a.ints.length;++d)if(!(m.isInteger(a.ints[d])||a.ints[d]&&m.isInteger(a.ints[d].low)&&m.isInteger(a.ints[d].high)))return"ints: integer|Long[] expected"}if(null!=a.strings&&a.hasOwnProperty("strings")){if(!Array.isArray(a.strings))return"strings: array expected";for(d=0;d<a.strings.length;++d)if(!(a.strings[d]&&"number"==typeof a.strings[d].length||m.isString(a.strings[d])))return"strings: buffer[] expected"}if(null!=a.tensors&&a.hasOwnProperty("tensors")){if(!Array.isArray(a.tensors))return"tensors: array expected";for(d=0;d<a.tensors.length;++d)if(h=f.onnx.TensorProto.verify(a.tensors[d]))return"tensors."+h}if(null!=a.graphs&&a.hasOwnProperty("graphs")){if(!Array.isArray(a.graphs))return"graphs: array expected";for(d=0;d<a.graphs.length;++d){var h;if(h=f.onnx.GraphProto.verify(a.graphs[d]))return"graphs."+h}}return null},c.fromObject=function(a){if(a instanceof f.onnx.AttributeProto)return a;var d=new f.onnx.AttributeProto;switch(null!=a.name&&(d.name=String(a.name)),null!=a.refAttrName&&(d.refAttrName=String(a.refAttrName)),null!=a.docString&&(d.docString=String(a.docString)),a.type){case"UNDEFINED":case 0:d.type=0;break;case"FLOAT":case 1:d.type=1;break;case"INT":case 2:d.type=2;break;case"STRING":case 3:d.type=3;break;case"TENSOR":case 4:d.type=4;break;case"GRAPH":case 5:d.type=5;break;case"FLOATS":case 6:d.type=6;break;case"INTS":case 7:d.type=7;break;case"STRINGS":case 8:d.type=8;break;case"TENSORS":case 9:d.type=9;break;case"GRAPHS":case 10:d.type=10}if(null!=a.f&&(d.f=Number(a.f)),null!=a.i&&(m.Long?(d.i=m.Long.fromValue(a.i)).unsigned=!1:"string"==typeof a.i?d.i=parseInt(a.i,10):"number"==typeof a.i?d.i=a.i:"object"==typeof a.i&&(d.i=new m.LongBits(a.i.low>>>0,a.i.high>>>0).toNumber())),null!=a.s&&("string"==typeof a.s?m.base64.decode(a.s,d.s=m.newBuffer(m.base64.length(a.s)),0):a.s.length&&(d.s=a.s)),null!=a.t){if("object"!=typeof a.t)throw TypeError(".onnx.AttributeProto.t: object expected");d.t=f.onnx.TensorProto.fromObject(a.t)}if(null!=a.g){if("object"!=typeof a.g)throw TypeError(".onnx.AttributeProto.g: object expected");d.g=f.onnx.GraphProto.fromObject(a.g)}if(a.floats){if(!Array.isArray(a.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");d.floats=[];for(var h=0;h<a.floats.length;++h)d.floats[h]=Number(a.floats[h])}if(a.ints){if(!Array.isArray(a.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(d.ints=[],h=0;h<a.ints.length;++h)m.Long?(d.ints[h]=m.Long.fromValue(a.ints[h])).unsigned=!1:"string"==typeof a.ints[h]?d.ints[h]=parseInt(a.ints[h],10):"number"==typeof a.ints[h]?d.ints[h]=a.ints[h]:"object"==typeof a.ints[h]&&(d.ints[h]=new m.LongBits(a.ints[h].low>>>0,a.ints[h].high>>>0).toNumber())}if(a.strings){if(!Array.isArray(a.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(d.strings=[],h=0;h<a.strings.length;++h)"string"==typeof a.strings[h]?m.base64.decode(a.strings[h],d.strings[h]=m.newBuffer(m.base64.length(a.strings[h])),0):a.strings[h].length&&(d.strings[h]=a.strings[h])}if(a.tensors){if(!Array.isArray(a.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(d.tensors=[],h=0;h<a.tensors.length;++h){if("object"!=typeof a.tensors[h])throw TypeError(".onnx.AttributeProto.tensors: object expected");d.tensors[h]=f.onnx.TensorProto.fromObject(a.tensors[h])}}if(a.graphs){if(!Array.isArray(a.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(d.graphs=[],h=0;h<a.graphs.length;++h){if("object"!=typeof a.graphs[h])throw TypeError(".onnx.AttributeProto.graphs: object expected");d.graphs[h]=f.onnx.GraphProto.fromObject(a.graphs[h])}}return d},c.toObject=function(a,d){d||(d={});var h={};if((d.arrays||d.defaults)&&(h.floats=[],h.ints=[],h.strings=[],h.tensors=[],h.graphs=[]),d.defaults){if(h.name="",h.f=0,m.Long){var _=new m.Long(0,0,!1);h.i=d.longs===String?_.toString():d.longs===Number?_.toNumber():_}else h.i=d.longs===String?"0":0;d.bytes===String?h.s="":(h.s=[],d.bytes!==Array&&(h.s=m.newBuffer(h.s))),h.t=null,h.g=null,h.docString="",h.type=d.enums===String?"UNDEFINED":0,h.refAttrName=""}if(null!=a.name&&a.hasOwnProperty("name")&&(h.name=a.name),null!=a.f&&a.hasOwnProperty("f")&&(h.f=d.json&&!isFinite(a.f)?String(a.f):a.f),null!=a.i&&a.hasOwnProperty("i")&&(h.i="number"==typeof a.i?d.longs===String?String(a.i):a.i:d.longs===String?m.Long.prototype.toString.call(a.i):d.longs===Number?new m.LongBits(a.i.low>>>0,a.i.high>>>0).toNumber():a.i),null!=a.s&&a.hasOwnProperty("s")&&(h.s=d.bytes===String?m.base64.encode(a.s,0,a.s.length):d.bytes===Array?Array.prototype.slice.call(a.s):a.s),null!=a.t&&a.hasOwnProperty("t")&&(h.t=f.onnx.TensorProto.toObject(a.t,d)),null!=a.g&&a.hasOwnProperty("g")&&(h.g=f.onnx.GraphProto.toObject(a.g,d)),a.floats&&a.floats.length){h.floats=[];for(var x=0;x<a.floats.length;++x)h.floats[x]=d.json&&!isFinite(a.floats[x])?String(a.floats[x]):a.floats[x]}if(a.ints&&a.ints.length)for(h.ints=[],x=0;x<a.ints.length;++x)h.ints[x]="number"==typeof a.ints[x]?d.longs===String?String(a.ints[x]):a.ints[x]:d.longs===String?m.Long.prototype.toString.call(a.ints[x]):d.longs===Number?new m.LongBits(a.ints[x].low>>>0,a.ints[x].high>>>0).toNumber():a.ints[x];if(a.strings&&a.strings.length)for(h.strings=[],x=0;x<a.strings.length;++x)h.strings[x]=d.bytes===String?m.base64.encode(a.strings[x],0,a.strings[x].length):d.bytes===Array?Array.prototype.slice.call(a.strings[x]):a.strings[x];if(a.tensors&&a.tensors.length)for(h.tensors=[],x=0;x<a.tensors.length;++x)h.tensors[x]=f.onnx.TensorProto.toObject(a.tensors[x],d);if(a.graphs&&a.graphs.length)for(h.graphs=[],x=0;x<a.graphs.length;++x)h.graphs[x]=f.onnx.GraphProto.toObject(a.graphs[x],d);return null!=a.docString&&a.hasOwnProperty("docString")&&(h.docString=a.docString),null!=a.type&&a.hasOwnProperty("type")&&(h.type=d.enums===String?f.onnx.AttributeProto.AttributeType[a.type]:a.type),null!=a.refAttrName&&a.hasOwnProperty("refAttrName")&&(h.refAttrName=a.refAttrName),h},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c.AttributeType=(a={},(d=Object.create(a))[a[0]="UNDEFINED"]=0,d[a[1]="FLOAT"]=1,d[a[2]="INT"]=2,d[a[3]="STRING"]=3,d[a[4]="TENSOR"]=4,d[a[5]="GRAPH"]=5,d[a[6]="FLOATS"]=6,d[a[7]="INTS"]=7,d[a[8]="STRINGS"]=8,d[a[9]="TENSORS"]=9,d[a[10]="GRAPHS"]=10,d),c;var a,d}(),C.ValueInfoProto=function(){function c(a){if(a)for(var d=Object.keys(a),h=0;h<d.length;++h)null!=a[d[h]]&&(this[d[h]]=a[d[h]])}return c.prototype.name="",c.prototype.type=null,c.prototype.docString="",c.create=function(a){return new c(a)},c.encode=function(a,d){return d||(d=p.create()),null!=a.name&&a.hasOwnProperty("name")&&d.uint32(10).string(a.name),null!=a.type&&a.hasOwnProperty("type")&&f.onnx.TypeProto.encode(a.type,d.uint32(18).fork()).ldelim(),null!=a.docString&&a.hasOwnProperty("docString")&&d.uint32(26).string(a.docString),d},c.encodeDelimited=function(a,d){return this.encode(a,d).ldelim()},c.decode=function(a,d){a instanceof v||(a=v.create(a));for(var h=void 0===d?a.len:a.pos+d,_=new f.onnx.ValueInfoProto;a.pos<h;){var x=a.uint32();switch(x>>>3){case 1:_.name=a.string();break;case 2:_.type=f.onnx.TypeProto.decode(a,a.uint32());break;case 3:_.docString=a.string();break;default:a.skipType(7&x)}}return _},c.decodeDelimited=function(a){return a instanceof v||(a=new v(a)),this.decode(a,a.uint32())},c.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.name&&a.hasOwnProperty("name")&&!m.isString(a.name))return"name: string expected";if(null!=a.type&&a.hasOwnProperty("type")){var d=f.onnx.TypeProto.verify(a.type);if(d)return"type."+d}return null!=a.docString&&a.hasOwnProperty("docString")&&!m.isString(a.docString)?"docString: string expected":null},c.fromObject=function(a){if(a instanceof f.onnx.ValueInfoProto)return a;var d=new f.onnx.ValueInfoProto;if(null!=a.name&&(d.name=String(a.name)),null!=a.type){if("object"!=typeof a.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");d.type=f.onnx.TypeProto.fromObject(a.type)}return null!=a.docString&&(d.docString=String(a.docString)),d},c.toObject=function(a,d){d||(d={});var h={};return d.defaults&&(h.name="",h.type=null,h.docString=""),null!=a.name&&a.hasOwnProperty("name")&&(h.name=a.name),null!=a.type&&a.hasOwnProperty("type")&&(h.type=f.onnx.TypeProto.toObject(a.type,d)),null!=a.docString&&a.hasOwnProperty("docString")&&(h.docString=a.docString),h},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c}(),C.NodeProto=function(){function c(a){if(this.input=[],this.output=[],this.attribute=[],a)for(var d=Object.keys(a),h=0;h<d.length;++h)null!=a[d[h]]&&(this[d[h]]=a[d[h]])}return c.prototype.input=m.emptyArray,c.prototype.output=m.emptyArray,c.prototype.name="",c.prototype.opType="",c.prototype.domain="",c.prototype.attribute=m.emptyArray,c.prototype.docString="",c.create=function(a){return new c(a)},c.encode=function(a,d){if(d||(d=p.create()),null!=a.input&&a.input.length)for(var h=0;h<a.input.length;++h)d.uint32(10).string(a.input[h]);if(null!=a.output&&a.output.length)for(h=0;h<a.output.length;++h)d.uint32(18).string(a.output[h]);if(null!=a.name&&a.hasOwnProperty("name")&&d.uint32(26).string(a.name),null!=a.opType&&a.hasOwnProperty("opType")&&d.uint32(34).string(a.opType),null!=a.attribute&&a.attribute.length)for(h=0;h<a.attribute.length;++h)f.onnx.AttributeProto.encode(a.attribute[h],d.uint32(42).fork()).ldelim();return null!=a.docString&&a.hasOwnProperty("docString")&&d.uint32(50).string(a.docString),null!=a.domain&&a.hasOwnProperty("domain")&&d.uint32(58).string(a.domain),d},c.encodeDelimited=function(a,d){return this.encode(a,d).ldelim()},c.decode=function(a,d){a instanceof v||(a=v.create(a));for(var h=void 0===d?a.len:a.pos+d,_=new f.onnx.NodeProto;a.pos<h;){var x=a.uint32();switch(x>>>3){case 1:_.input&&_.input.length||(_.input=[]),_.input.push(a.string());break;case 2:_.output&&_.output.length||(_.output=[]),_.output.push(a.string());break;case 3:_.name=a.string();break;case 4:_.opType=a.string();break;case 7:_.domain=a.string();break;case 5:_.attribute&&_.attribute.length||(_.attribute=[]),_.attribute.push(f.onnx.AttributeProto.decode(a,a.uint32()));break;case 6:_.docString=a.string();break;default:a.skipType(7&x)}}return _},c.decodeDelimited=function(a){return a instanceof v||(a=new v(a)),this.decode(a,a.uint32())},c.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.input&&a.hasOwnProperty("input")){if(!Array.isArray(a.input))return"input: array expected";for(var d=0;d<a.input.length;++d)if(!m.isString(a.input[d]))return"input: string[] expected"}if(null!=a.output&&a.hasOwnProperty("output")){if(!Array.isArray(a.output))return"output: array expected";for(d=0;d<a.output.length;++d)if(!m.isString(a.output[d]))return"output: string[] expected"}if(null!=a.name&&a.hasOwnProperty("name")&&!m.isString(a.name))return"name: string expected";if(null!=a.opType&&a.hasOwnProperty("opType")&&!m.isString(a.opType))return"opType: string expected";if(null!=a.domain&&a.hasOwnProperty("domain")&&!m.isString(a.domain))return"domain: string expected";if(null!=a.attribute&&a.hasOwnProperty("attribute")){if(!Array.isArray(a.attribute))return"attribute: array expected";for(d=0;d<a.attribute.length;++d){var h=f.onnx.AttributeProto.verify(a.attribute[d]);if(h)return"attribute."+h}}return null!=a.docString&&a.hasOwnProperty("docString")&&!m.isString(a.docString)?"docString: string expected":null},c.fromObject=function(a){if(a instanceof f.onnx.NodeProto)return a;var d=new f.onnx.NodeProto;if(a.input){if(!Array.isArray(a.input))throw TypeError(".onnx.NodeProto.input: array expected");d.input=[];for(var h=0;h<a.input.length;++h)d.input[h]=String(a.input[h])}if(a.output){if(!Array.isArray(a.output))throw TypeError(".onnx.NodeProto.output: array expected");for(d.output=[],h=0;h<a.output.length;++h)d.output[h]=String(a.output[h])}if(null!=a.name&&(d.name=String(a.name)),null!=a.opType&&(d.opType=String(a.opType)),null!=a.domain&&(d.domain=String(a.domain)),a.attribute){if(!Array.isArray(a.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(d.attribute=[],h=0;h<a.attribute.length;++h){if("object"!=typeof a.attribute[h])throw TypeError(".onnx.NodeProto.attribute: object expected");d.attribute[h]=f.onnx.AttributeProto.fromObject(a.attribute[h])}}return null!=a.docString&&(d.docString=String(a.docString)),d},c.toObject=function(a,d){d||(d={});var h={};if((d.arrays||d.defaults)&&(h.input=[],h.output=[],h.attribute=[]),d.defaults&&(h.name="",h.opType="",h.docString="",h.domain=""),a.input&&a.input.length){h.input=[];for(var _=0;_<a.input.length;++_)h.input[_]=a.input[_]}if(a.output&&a.output.length)for(h.output=[],_=0;_<a.output.length;++_)h.output[_]=a.output[_];if(null!=a.name&&a.hasOwnProperty("name")&&(h.name=a.name),null!=a.opType&&a.hasOwnProperty("opType")&&(h.opType=a.opType),a.attribute&&a.attribute.length)for(h.attribute=[],_=0;_<a.attribute.length;++_)h.attribute[_]=f.onnx.AttributeProto.toObject(a.attribute[_],d);return null!=a.docString&&a.hasOwnProperty("docString")&&(h.docString=a.docString),null!=a.domain&&a.hasOwnProperty("domain")&&(h.domain=a.domain),h},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c}(),C.ModelProto=function(){function c(a){if(this.opsetImport=[],this.metadataProps=[],a)for(var d=Object.keys(a),h=0;h<d.length;++h)null!=a[d[h]]&&(this[d[h]]=a[d[h]])}return c.prototype.irVersion=m.Long?m.Long.fromBits(0,0,!1):0,c.prototype.opsetImport=m.emptyArray,c.prototype.producerName="",c.prototype.producerVersion="",c.prototype.domain="",c.prototype.modelVersion=m.Long?m.Long.fromBits(0,0,!1):0,c.prototype.docString="",c.prototype.graph=null,c.prototype.metadataProps=m.emptyArray,c.create=function(a){return new c(a)},c.encode=function(a,d){if(d||(d=p.create()),null!=a.irVersion&&a.hasOwnProperty("irVersion")&&d.uint32(8).int64(a.irVersion),null!=a.producerName&&a.hasOwnProperty("producerName")&&d.uint32(18).string(a.producerName),null!=a.producerVersion&&a.hasOwnProperty("producerVersion")&&d.uint32(26).string(a.producerVersion),null!=a.domain&&a.hasOwnProperty("domain")&&d.uint32(34).string(a.domain),null!=a.modelVersion&&a.hasOwnProperty("modelVersion")&&d.uint32(40).int64(a.modelVersion),null!=a.docString&&a.hasOwnProperty("docString")&&d.uint32(50).string(a.docString),null!=a.graph&&a.hasOwnProperty("graph")&&f.onnx.GraphProto.encode(a.graph,d.uint32(58).fork()).ldelim(),null!=a.opsetImport&&a.opsetImport.length)for(var h=0;h<a.opsetImport.length;++h)f.onnx.OperatorSetIdProto.encode(a.opsetImport[h],d.uint32(66).fork()).ldelim();if(null!=a.metadataProps&&a.metadataProps.length)for(h=0;h<a.metadataProps.length;++h)f.onnx.StringStringEntryProto.encode(a.metadataProps[h],d.uint32(114).fork()).ldelim();return d},c.encodeDelimited=function(a,d){return this.encode(a,d).ldelim()},c.decode=function(a,d){a instanceof v||(a=v.create(a));for(var h=void 0===d?a.len:a.pos+d,_=new f.onnx.ModelProto;a.pos<h;){var x=a.uint32();switch(x>>>3){case 1:_.irVersion=a.int64();break;case 8:_.opsetImport&&_.opsetImport.length||(_.opsetImport=[]),_.opsetImport.push(f.onnx.OperatorSetIdProto.decode(a,a.uint32()));break;case 2:_.producerName=a.string();break;case 3:_.producerVersion=a.string();break;case 4:_.domain=a.string();break;case 5:_.modelVersion=a.int64();break;case 6:_.docString=a.string();break;case 7:_.graph=f.onnx.GraphProto.decode(a,a.uint32());break;case 14:_.metadataProps&&_.metadataProps.length||(_.metadataProps=[]),_.metadataProps.push(f.onnx.StringStringEntryProto.decode(a,a.uint32()));break;default:a.skipType(7&x)}}return _},c.decodeDelimited=function(a){return a instanceof v||(a=new v(a)),this.decode(a,a.uint32())},c.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.irVersion&&a.hasOwnProperty("irVersion")&&!(m.isInteger(a.irVersion)||a.irVersion&&m.isInteger(a.irVersion.low)&&m.isInteger(a.irVersion.high)))return"irVersion: integer|Long expected";if(null!=a.opsetImport&&a.hasOwnProperty("opsetImport")){if(!Array.isArray(a.opsetImport))return"opsetImport: array expected";for(var d=0;d<a.opsetImport.length;++d)if(h=f.onnx.OperatorSetIdProto.verify(a.opsetImport[d]))return"opsetImport."+h}if(null!=a.producerName&&a.hasOwnProperty("producerName")&&!m.isString(a.producerName))return"producerName: string expected";if(null!=a.producerVersion&&a.hasOwnProperty("producerVersion")&&!m.isString(a.producerVersion))return"producerVersion: string expected";if(null!=a.domain&&a.hasOwnProperty("domain")&&!m.isString(a.domain))return"domain: string expected";if(null!=a.modelVersion&&a.hasOwnProperty("modelVersion")&&!(m.isInteger(a.modelVersion)||a.modelVersion&&m.isInteger(a.modelVersion.low)&&m.isInteger(a.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=a.docString&&a.hasOwnProperty("docString")&&!m.isString(a.docString))return"docString: string expected";if(null!=a.graph&&a.hasOwnProperty("graph")&&(h=f.onnx.GraphProto.verify(a.graph)))return"graph."+h;if(null!=a.metadataProps&&a.hasOwnProperty("metadataProps")){if(!Array.isArray(a.metadataProps))return"metadataProps: array expected";for(d=0;d<a.metadataProps.length;++d){var h;if(h=f.onnx.StringStringEntryProto.verify(a.metadataProps[d]))return"metadataProps."+h}}return null},c.fromObject=function(a){if(a instanceof f.onnx.ModelProto)return a;var d=new f.onnx.ModelProto;if(null!=a.irVersion&&(m.Long?(d.irVersion=m.Long.fromValue(a.irVersion)).unsigned=!1:"string"==typeof a.irVersion?d.irVersion=parseInt(a.irVersion,10):"number"==typeof a.irVersion?d.irVersion=a.irVersion:"object"==typeof a.irVersion&&(d.irVersion=new m.LongBits(a.irVersion.low>>>0,a.irVersion.high>>>0).toNumber())),a.opsetImport){if(!Array.isArray(a.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");d.opsetImport=[];for(var h=0;h<a.opsetImport.length;++h){if("object"!=typeof a.opsetImport[h])throw TypeError(".onnx.ModelProto.opsetImport: object expected");d.opsetImport[h]=f.onnx.OperatorSetIdProto.fromObject(a.opsetImport[h])}}if(null!=a.producerName&&(d.producerName=String(a.producerName)),null!=a.producerVersion&&(d.producerVersion=String(a.producerVersion)),null!=a.domain&&(d.domain=String(a.domain)),null!=a.modelVersion&&(m.Long?(d.modelVersion=m.Long.fromValue(a.modelVersion)).unsigned=!1:"string"==typeof a.modelVersion?d.modelVersion=parseInt(a.modelVersion,10):"number"==typeof a.modelVersion?d.modelVersion=a.modelVersion:"object"==typeof a.modelVersion&&(d.modelVersion=new m.LongBits(a.modelVersion.low>>>0,a.modelVersion.high>>>0).toNumber())),null!=a.docString&&(d.docString=String(a.docString)),null!=a.graph){if("object"!=typeof a.graph)throw TypeError(".onnx.ModelProto.graph: object expected");d.graph=f.onnx.GraphProto.fromObject(a.graph)}if(a.metadataProps){if(!Array.isArray(a.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(d.metadataProps=[],h=0;h<a.metadataProps.length;++h){if("object"!=typeof a.metadataProps[h])throw TypeError(".onnx.ModelProto.metadataProps: object expected");d.metadataProps[h]=f.onnx.StringStringEntryProto.fromObject(a.metadataProps[h])}}return d},c.toObject=function(a,d){d||(d={});var h={};if((d.arrays||d.defaults)&&(h.opsetImport=[],h.metadataProps=[]),d.defaults){if(m.Long){var _=new m.Long(0,0,!1);h.irVersion=d.longs===String?_.toString():d.longs===Number?_.toNumber():_}else h.irVersion=d.longs===String?"0":0;h.producerName="",h.producerVersion="",h.domain="",m.Long?(_=new m.Long(0,0,!1),h.modelVersion=d.longs===String?_.toString():d.longs===Number?_.toNumber():_):h.modelVersion=d.longs===String?"0":0,h.docString="",h.graph=null}if(null!=a.irVersion&&a.hasOwnProperty("irVersion")&&(h.irVersion="number"==typeof a.irVersion?d.longs===String?String(a.irVersion):a.irVersion:d.longs===String?m.Long.prototype.toString.call(a.irVersion):d.longs===Number?new m.LongBits(a.irVersion.low>>>0,a.irVersion.high>>>0).toNumber():a.irVersion),null!=a.producerName&&a.hasOwnProperty("producerName")&&(h.producerName=a.producerName),null!=a.producerVersion&&a.hasOwnProperty("producerVersion")&&(h.producerVersion=a.producerVersion),null!=a.domain&&a.hasOwnProperty("domain")&&(h.domain=a.domain),null!=a.modelVersion&&a.hasOwnProperty("modelVersion")&&(h.modelVersion="number"==typeof a.modelVersion?d.longs===String?String(a.modelVersion):a.modelVersion:d.longs===String?m.Long.prototype.toString.call(a.modelVersion):d.longs===Number?new m.LongBits(a.modelVersion.low>>>0,a.modelVersion.high>>>0).toNumber():a.modelVersion),null!=a.docString&&a.hasOwnProperty("docString")&&(h.docString=a.docString),null!=a.graph&&a.hasOwnProperty("graph")&&(h.graph=f.onnx.GraphProto.toObject(a.graph,d)),a.opsetImport&&a.opsetImport.length){h.opsetImport=[];for(var x=0;x<a.opsetImport.length;++x)h.opsetImport[x]=f.onnx.OperatorSetIdProto.toObject(a.opsetImport[x],d)}if(a.metadataProps&&a.metadataProps.length)for(h.metadataProps=[],x=0;x<a.metadataProps.length;++x)h.metadataProps[x]=f.onnx.StringStringEntryProto.toObject(a.metadataProps[x],d);return h},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c}(),C.StringStringEntryProto=function(){function c(a){if(a)for(var d=Object.keys(a),h=0;h<d.length;++h)null!=a[d[h]]&&(this[d[h]]=a[d[h]])}return c.prototype.key="",c.prototype.value="",c.create=function(a){return new c(a)},c.encode=function(a,d){return d||(d=p.create()),null!=a.key&&a.hasOwnProperty("key")&&d.uint32(10).string(a.key),null!=a.value&&a.hasOwnProperty("value")&&d.uint32(18).string(a.value),d},c.encodeDelimited=function(a,d){return this.encode(a,d).ldelim()},c.decode=function(a,d){a instanceof v||(a=v.create(a));for(var h=void 0===d?a.len:a.pos+d,_=new f.onnx.StringStringEntryProto;a.pos<h;){var x=a.uint32();switch(x>>>3){case 1:_.key=a.string();break;case 2:_.value=a.string();break;default:a.skipType(7&x)}}return _},c.decodeDelimited=function(a){return a instanceof v||(a=new v(a)),this.decode(a,a.uint32())},c.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.key&&a.hasOwnProperty("key")&&!m.isString(a.key)?"key: string expected":null!=a.value&&a.hasOwnProperty("value")&&!m.isString(a.value)?"value: string expected":null},c.fromObject=function(a){if(a instanceof f.onnx.StringStringEntryProto)return a;var d=new f.onnx.StringStringEntryProto;return null!=a.key&&(d.key=String(a.key)),null!=a.value&&(d.value=String(a.value)),d},c.toObject=function(a,d){d||(d={});var h={};return d.defaults&&(h.key="",h.value=""),null!=a.key&&a.hasOwnProperty("key")&&(h.key=a.key),null!=a.value&&a.hasOwnProperty("value")&&(h.value=a.value),h},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c}(),C.TensorAnnotation=function(){function c(a){if(this.quantParameterTensorNames=[],a)for(var d=Object.keys(a),h=0;h<d.length;++h)null!=a[d[h]]&&(this[d[h]]=a[d[h]])}return c.prototype.tensorName="",c.prototype.quantParameterTensorNames=m.emptyArray,c.create=function(a){return new c(a)},c.encode=function(a,d){if(d||(d=p.create()),null!=a.tensorName&&a.hasOwnProperty("tensorName")&&d.uint32(10).string(a.tensorName),null!=a.quantParameterTensorNames&&a.quantParameterTensorNames.length)for(var h=0;h<a.quantParameterTensorNames.length;++h)f.onnx.StringStringEntryProto.encode(a.quantParameterTensorNames[h],d.uint32(18).fork()).ldelim();return d},c.encodeDelimited=function(a,d){return this.encode(a,d).ldelim()},c.decode=function(a,d){a instanceof v||(a=v.create(a));for(var h=void 0===d?a.len:a.pos+d,_=new f.onnx.TensorAnnotation;a.pos<h;){var x=a.uint32();switch(x>>>3){case 1:_.tensorName=a.string();break;case 2:_.quantParameterTensorNames&&_.quantParameterTensorNames.length||(_.quantParameterTensorNames=[]),_.quantParameterTensorNames.push(f.onnx.StringStringEntryProto.decode(a,a.uint32()));break;default:a.skipType(7&x)}}return _},c.decodeDelimited=function(a){return a instanceof v||(a=new v(a)),this.decode(a,a.uint32())},c.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.tensorName&&a.hasOwnProperty("tensorName")&&!m.isString(a.tensorName))return"tensorName: string expected";if(null!=a.quantParameterTensorNames&&a.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(a.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var d=0;d<a.quantParameterTensorNames.length;++d){var h=f.onnx.StringStringEntryProto.verify(a.quantParameterTensorNames[d]);if(h)return"quantParameterTensorNames."+h}}return null},c.fromObject=function(a){if(a instanceof f.onnx.TensorAnnotation)return a;var d=new f.onnx.TensorAnnotation;if(null!=a.tensorName&&(d.tensorName=String(a.tensorName)),a.quantParameterTensorNames){if(!Array.isArray(a.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");d.quantParameterTensorNames=[];for(var h=0;h<a.quantParameterTensorNames.length;++h){if("object"!=typeof a.quantParameterTensorNames[h])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");d.quantParameterTensorNames[h]=f.onnx.StringStringEntryProto.fromObject(a.quantParameterTensorNames[h])}}return d},c.toObject=function(a,d){d||(d={});var h={};if((d.arrays||d.defaults)&&(h.quantParameterTensorNames=[]),d.defaults&&(h.tensorName=""),null!=a.tensorName&&a.hasOwnProperty("tensorName")&&(h.tensorName=a.tensorName),a.quantParameterTensorNames&&a.quantParameterTensorNames.length){h.quantParameterTensorNames=[];for(var _=0;_<a.quantParameterTensorNames.length;++_)h.quantParameterTensorNames[_]=f.onnx.StringStringEntryProto.toObject(a.quantParameterTensorNames[_],d)}return h},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c}(),C.GraphProto=function(){function c(a){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],a)for(var d=Object.keys(a),h=0;h<d.length;++h)null!=a[d[h]]&&(this[d[h]]=a[d[h]])}return c.prototype.node=m.emptyArray,c.prototype.name="",c.prototype.initializer=m.emptyArray,c.prototype.docString="",c.prototype.input=m.emptyArray,c.prototype.output=m.emptyArray,c.prototype.valueInfo=m.emptyArray,c.prototype.quantizationAnnotation=m.emptyArray,c.create=function(a){return new c(a)},c.encode=function(a,d){if(d||(d=p.create()),null!=a.node&&a.node.length)for(var h=0;h<a.node.length;++h)f.onnx.NodeProto.encode(a.node[h],d.uint32(10).fork()).ldelim();if(null!=a.name&&a.hasOwnProperty("name")&&d.uint32(18).string(a.name),null!=a.initializer&&a.initializer.length)for(h=0;h<a.initializer.length;++h)f.onnx.TensorProto.encode(a.initializer[h],d.uint32(42).fork()).ldelim();if(null!=a.docString&&a.hasOwnProperty("docString")&&d.uint32(82).string(a.docString),null!=a.input&&a.input.length)for(h=0;h<a.input.length;++h)f.onnx.ValueInfoProto.encode(a.input[h],d.uint32(90).fork()).ldelim();if(null!=a.output&&a.output.length)for(h=0;h<a.output.length;++h)f.onnx.ValueInfoProto.encode(a.output[h],d.uint32(98).fork()).ldelim();if(null!=a.valueInfo&&a.valueInfo.length)for(h=0;h<a.valueInfo.length;++h)f.onnx.ValueInfoProto.encode(a.valueInfo[h],d.uint32(106).fork()).ldelim();if(null!=a.quantizationAnnotation&&a.quantizationAnnotation.length)for(h=0;h<a.quantizationAnnotation.length;++h)f.onnx.TensorAnnotation.encode(a.quantizationAnnotation[h],d.uint32(114).fork()).ldelim();return d},c.encodeDelimited=function(a,d){return this.encode(a,d).ldelim()},c.decode=function(a,d){a instanceof v||(a=v.create(a));for(var h=void 0===d?a.len:a.pos+d,_=new f.onnx.GraphProto;a.pos<h;){var x=a.uint32();switch(x>>>3){case 1:_.node&&_.node.length||(_.node=[]),_.node.push(f.onnx.NodeProto.decode(a,a.uint32()));break;case 2:_.name=a.string();break;case 5:_.initializer&&_.initializer.length||(_.initializer=[]),_.initializer.push(f.onnx.TensorProto.decode(a,a.uint32()));break;case 10:_.docString=a.string();break;case 11:_.input&&_.input.length||(_.input=[]),_.input.push(f.onnx.ValueInfoProto.decode(a,a.uint32()));break;case 12:_.output&&_.output.length||(_.output=[]),_.output.push(f.onnx.ValueInfoProto.decode(a,a.uint32()));break;case 13:_.valueInfo&&_.valueInfo.length||(_.valueInfo=[]),_.valueInfo.push(f.onnx.ValueInfoProto.decode(a,a.uint32()));break;case 14:_.quantizationAnnotation&&_.quantizationAnnotation.length||(_.quantizationAnnotation=[]),_.quantizationAnnotation.push(f.onnx.TensorAnnotation.decode(a,a.uint32()));break;default:a.skipType(7&x)}}return _},c.decodeDelimited=function(a){return a instanceof v||(a=new v(a)),this.decode(a,a.uint32())},c.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.node&&a.hasOwnProperty("node")){if(!Array.isArray(a.node))return"node: array expected";for(var d=0;d<a.node.length;++d)if(h=f.onnx.NodeProto.verify(a.node[d]))return"node."+h}if(null!=a.name&&a.hasOwnProperty("name")&&!m.isString(a.name))return"name: string expected";if(null!=a.initializer&&a.hasOwnProperty("initializer")){if(!Array.isArray(a.initializer))return"initializer: array expected";for(d=0;d<a.initializer.length;++d)if(h=f.onnx.TensorProto.verify(a.initializer[d]))return"initializer."+h}if(null!=a.docString&&a.hasOwnProperty("docString")&&!m.isString(a.docString))return"docString: string expected";if(null!=a.input&&a.hasOwnProperty("input")){if(!Array.isArray(a.input))return"input: array expected";for(d=0;d<a.input.length;++d)if(h=f.onnx.ValueInfoProto.verify(a.input[d]))return"input."+h}if(null!=a.output&&a.hasOwnProperty("output")){if(!Array.isArray(a.output))return"output: array expected";for(d=0;d<a.output.length;++d)if(h=f.onnx.ValueInfoProto.verify(a.output[d]))return"output."+h}if(null!=a.valueInfo&&a.hasOwnProperty("valueInfo")){if(!Array.isArray(a.valueInfo))return"valueInfo: array expected";for(d=0;d<a.valueInfo.length;++d)if(h=f.onnx.ValueInfoProto.verify(a.valueInfo[d]))return"valueInfo."+h}if(null!=a.quantizationAnnotation&&a.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(a.quantizationAnnotation))return"quantizationAnnotation: array expected";for(d=0;d<a.quantizationAnnotation.length;++d){var h;if(h=f.onnx.TensorAnnotation.verify(a.quantizationAnnotation[d]))return"quantizationAnnotation."+h}}return null},c.fromObject=function(a){if(a instanceof f.onnx.GraphProto)return a;var d=new f.onnx.GraphProto;if(a.node){if(!Array.isArray(a.node))throw TypeError(".onnx.GraphProto.node: array expected");d.node=[];for(var h=0;h<a.node.length;++h){if("object"!=typeof a.node[h])throw TypeError(".onnx.GraphProto.node: object expected");d.node[h]=f.onnx.NodeProto.fromObject(a.node[h])}}if(null!=a.name&&(d.name=String(a.name)),a.initializer){if(!Array.isArray(a.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(d.initializer=[],h=0;h<a.initializer.length;++h){if("object"!=typeof a.initializer[h])throw TypeError(".onnx.GraphProto.initializer: object expected");d.initializer[h]=f.onnx.TensorProto.fromObject(a.initializer[h])}}if(null!=a.docString&&(d.docString=String(a.docString)),a.input){if(!Array.isArray(a.input))throw TypeError(".onnx.GraphProto.input: array expected");for(d.input=[],h=0;h<a.input.length;++h){if("object"!=typeof a.input[h])throw TypeError(".onnx.GraphProto.input: object expected");d.input[h]=f.onnx.ValueInfoProto.fromObject(a.input[h])}}if(a.output){if(!Array.isArray(a.output))throw TypeError(".onnx.GraphProto.output: array expected");for(d.output=[],h=0;h<a.output.length;++h){if("object"!=typeof a.output[h])throw TypeError(".onnx.GraphProto.output: object expected");d.output[h]=f.onnx.ValueInfoProto.fromObject(a.output[h])}}if(a.valueInfo){if(!Array.isArray(a.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(d.valueInfo=[],h=0;h<a.valueInfo.length;++h){if("object"!=typeof a.valueInfo[h])throw TypeError(".onnx.GraphProto.valueInfo: object expected");d.valueInfo[h]=f.onnx.ValueInfoProto.fromObject(a.valueInfo[h])}}if(a.quantizationAnnotation){if(!Array.isArray(a.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(d.quantizationAnnotation=[],h=0;h<a.quantizationAnnotation.length;++h){if("object"!=typeof a.quantizationAnnotation[h])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");d.quantizationAnnotation[h]=f.onnx.TensorAnnotation.fromObject(a.quantizationAnnotation[h])}}return d},c.toObject=function(a,d){d||(d={});var h={};if((d.arrays||d.defaults)&&(h.node=[],h.initializer=[],h.input=[],h.output=[],h.valueInfo=[],h.quantizationAnnotation=[]),d.defaults&&(h.name="",h.docString=""),a.node&&a.node.length){h.node=[];for(var _=0;_<a.node.length;++_)h.node[_]=f.onnx.NodeProto.toObject(a.node[_],d)}if(null!=a.name&&a.hasOwnProperty("name")&&(h.name=a.name),a.initializer&&a.initializer.length)for(h.initializer=[],_=0;_<a.initializer.length;++_)h.initializer[_]=f.onnx.TensorProto.toObject(a.initializer[_],d);if(null!=a.docString&&a.hasOwnProperty("docString")&&(h.docString=a.docString),a.input&&a.input.length)for(h.input=[],_=0;_<a.input.length;++_)h.input[_]=f.onnx.ValueInfoProto.toObject(a.input[_],d);if(a.output&&a.output.length)for(h.output=[],_=0;_<a.output.length;++_)h.output[_]=f.onnx.ValueInfoProto.toObject(a.output[_],d);if(a.valueInfo&&a.valueInfo.length)for(h.valueInfo=[],_=0;_<a.valueInfo.length;++_)h.valueInfo[_]=f.onnx.ValueInfoProto.toObject(a.valueInfo[_],d);if(a.quantizationAnnotation&&a.quantizationAnnotation.length)for(h.quantizationAnnotation=[],_=0;_<a.quantizationAnnotation.length;++_)h.quantizationAnnotation[_]=f.onnx.TensorAnnotation.toObject(a.quantizationAnnotation[_],d);return h},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c}(),C.TensorProto=function(){function c(a){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],a)for(var d=Object.keys(a),h=0;h<d.length;++h)null!=a[d[h]]&&(this[d[h]]=a[d[h]])}return c.prototype.dims=m.emptyArray,c.prototype.dataType=0,c.prototype.segment=null,c.prototype.floatData=m.emptyArray,c.prototype.int32Data=m.emptyArray,c.prototype.stringData=m.emptyArray,c.prototype.int64Data=m.emptyArray,c.prototype.name="",c.prototype.docString="",c.prototype.rawData=m.newBuffer([]),c.prototype.externalData=m.emptyArray,c.prototype.dataLocation=0,c.prototype.doubleData=m.emptyArray,c.prototype.uint64Data=m.emptyArray,c.create=function(a){return new c(a)},c.encode=function(a,d){if(d||(d=p.create()),null!=a.dims&&a.dims.length){d.uint32(10).fork();for(var h=0;h<a.dims.length;++h)d.int64(a.dims[h]);d.ldelim()}if(null!=a.dataType&&a.hasOwnProperty("dataType")&&d.uint32(16).int32(a.dataType),null!=a.segment&&a.hasOwnProperty("segment")&&f.onnx.TensorProto.Segment.encode(a.segment,d.uint32(26).fork()).ldelim(),null!=a.floatData&&a.floatData.length){for(d.uint32(34).fork(),h=0;h<a.floatData.length;++h)d.float(a.floatData[h]);d.ldelim()}if(null!=a.int32Data&&a.int32Data.length){for(d.uint32(42).fork(),h=0;h<a.int32Data.length;++h)d.int32(a.int32Data[h]);d.ldelim()}if(null!=a.stringData&&a.stringData.length)for(h=0;h<a.stringData.length;++h)d.uint32(50).bytes(a.stringData[h]);if(null!=a.int64Data&&a.int64Data.length){for(d.uint32(58).fork(),h=0;h<a.int64Data.length;++h)d.int64(a.int64Data[h]);d.ldelim()}if(null!=a.name&&a.hasOwnProperty("name")&&d.uint32(66).string(a.name),null!=a.rawData&&a.hasOwnProperty("rawData")&&d.uint32(74).bytes(a.rawData),null!=a.doubleData&&a.doubleData.length){for(d.uint32(82).fork(),h=0;h<a.doubleData.length;++h)d.double(a.doubleData[h]);d.ldelim()}if(null!=a.uint64Data&&a.uint64Data.length){for(d.uint32(90).fork(),h=0;h<a.uint64Data.length;++h)d.uint64(a.uint64Data[h]);d.ldelim()}if(null!=a.docString&&a.hasOwnProperty("docString")&&d.uint32(98).string(a.docString),null!=a.externalData&&a.externalData.length)for(h=0;h<a.externalData.length;++h)f.onnx.StringStringEntryProto.encode(a.externalData[h],d.uint32(106).fork()).ldelim();return null!=a.dataLocation&&a.hasOwnProperty("dataLocation")&&d.uint32(112).int32(a.dataLocation),d},c.encodeDelimited=function(a,d){return this.encode(a,d).ldelim()},c.decode=function(a,d){a instanceof v||(a=v.create(a));for(var h=void 0===d?a.len:a.pos+d,_=new f.onnx.TensorProto;a.pos<h;){var x=a.uint32();switch(x>>>3){case 1:if(_.dims&&_.dims.length||(_.dims=[]),2==(7&x))for(var D=a.uint32()+a.pos;a.pos<D;)_.dims.push(a.int64());else _.dims.push(a.int64());break;case 2:_.dataType=a.int32();break;case 3:_.segment=f.onnx.TensorProto.Segment.decode(a,a.uint32());break;case 4:if(_.floatData&&_.floatData.length||(_.floatData=[]),2==(7&x))for(D=a.uint32()+a.pos;a.pos<D;)_.floatData.push(a.float());else _.floatData.push(a.float());break;case 5:if(_.int32Data&&_.int32Data.length||(_.int32Data=[]),2==(7&x))for(D=a.uint32()+a.pos;a.pos<D;)_.int32Data.push(a.int32());else _.int32Data.push(a.int32());break;case 6:_.stringData&&_.stringData.length||(_.stringData=[]),_.stringData.push(a.bytes());break;case 7:if(_.int64Data&&_.int64Data.length||(_.int64Data=[]),2==(7&x))for(D=a.uint32()+a.pos;a.pos<D;)_.int64Data.push(a.int64());else _.int64Data.push(a.int64());break;case 8:_.name=a.string();break;case 12:_.docString=a.string();break;case 9:_.rawData=a.bytes();break;case 13:_.externalData&&_.externalData.length||(_.externalData=[]),_.externalData.push(f.onnx.StringStringEntryProto.decode(a,a.uint32()));break;case 14:_.dataLocation=a.int32();break;case 10:if(_.doubleData&&_.doubleData.length||(_.doubleData=[]),2==(7&x))for(D=a.uint32()+a.pos;a.pos<D;)_.doubleData.push(a.double());else _.doubleData.push(a.double());break;case 11:if(_.uint64Data&&_.uint64Data.length||(_.uint64Data=[]),2==(7&x))for(D=a.uint32()+a.pos;a.pos<D;)_.uint64Data.push(a.uint64());else _.uint64Data.push(a.uint64());break;default:a.skipType(7&x)}}return _},c.decodeDelimited=function(a){return a instanceof v||(a=new v(a)),this.decode(a,a.uint32())},c.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dims&&a.hasOwnProperty("dims")){if(!Array.isArray(a.dims))return"dims: array expected";for(var d=0;d<a.dims.length;++d)if(!(m.isInteger(a.dims[d])||a.dims[d]&&m.isInteger(a.dims[d].low)&&m.isInteger(a.dims[d].high)))return"dims: integer|Long[] expected"}if(null!=a.dataType&&a.hasOwnProperty("dataType")&&!m.isInteger(a.dataType))return"dataType: integer expected";if(null!=a.segment&&a.hasOwnProperty("segment")&&(h=f.onnx.TensorProto.Segment.verify(a.segment)))return"segment."+h;if(null!=a.floatData&&a.hasOwnProperty("floatData")){if(!Array.isArray(a.floatData))return"floatData: array expected";for(d=0;d<a.floatData.length;++d)if("number"!=typeof a.floatData[d])return"floatData: number[] expected"}if(null!=a.int32Data&&a.hasOwnProperty("int32Data")){if(!Array.isArray(a.int32Data))return"int32Data: array expected";for(d=0;d<a.int32Data.length;++d)if(!m.isInteger(a.int32Data[d]))return"int32Data: integer[] expected"}if(null!=a.stringData&&a.hasOwnProperty("stringData")){if(!Array.isArray(a.stringData))return"stringData: array expected";for(d=0;d<a.stringData.length;++d)if(!(a.stringData[d]&&"number"==typeof a.stringData[d].length||m.isString(a.stringData[d])))return"stringData: buffer[] expected"}if(null!=a.int64Data&&a.hasOwnProperty("int64Data")){if(!Array.isArray(a.int64Data))return"int64Data: array expected";for(d=0;d<a.int64Data.length;++d)if(!(m.isInteger(a.int64Data[d])||a.int64Data[d]&&m.isInteger(a.int64Data[d].low)&&m.isInteger(a.int64Data[d].high)))return"int64Data: integer|Long[] expected"}if(null!=a.name&&a.hasOwnProperty("name")&&!m.isString(a.name))return"name: string expected";if(null!=a.docString&&a.hasOwnProperty("docString")&&!m.isString(a.docString))return"docString: string expected";if(null!=a.rawData&&a.hasOwnProperty("rawData")&&!(a.rawData&&"number"==typeof a.rawData.length||m.isString(a.rawData)))return"rawData: buffer expected";if(null!=a.externalData&&a.hasOwnProperty("externalData")){if(!Array.isArray(a.externalData))return"externalData: array expected";for(d=0;d<a.externalData.length;++d){var h;if(h=f.onnx.StringStringEntryProto.verify(a.externalData[d]))return"externalData."+h}}if(null!=a.dataLocation&&a.hasOwnProperty("dataLocation"))switch(a.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=a.doubleData&&a.hasOwnProperty("doubleData")){if(!Array.isArray(a.doubleData))return"doubleData: array expected";for(d=0;d<a.doubleData.length;++d)if("number"!=typeof a.doubleData[d])return"doubleData: number[] expected"}if(null!=a.uint64Data&&a.hasOwnProperty("uint64Data")){if(!Array.isArray(a.uint64Data))return"uint64Data: array expected";for(d=0;d<a.uint64Data.length;++d)if(!(m.isInteger(a.uint64Data[d])||a.uint64Data[d]&&m.isInteger(a.uint64Data[d].low)&&m.isInteger(a.uint64Data[d].high)))return"uint64Data: integer|Long[] expected"}return null},c.fromObject=function(a){if(a instanceof f.onnx.TensorProto)return a;var d=new f.onnx.TensorProto;if(a.dims){if(!Array.isArray(a.dims))throw TypeError(".onnx.TensorProto.dims: array expected");d.dims=[];for(var h=0;h<a.dims.length;++h)m.Long?(d.dims[h]=m.Long.fromValue(a.dims[h])).unsigned=!1:"string"==typeof a.dims[h]?d.dims[h]=parseInt(a.dims[h],10):"number"==typeof a.dims[h]?d.dims[h]=a.dims[h]:"object"==typeof a.dims[h]&&(d.dims[h]=new m.LongBits(a.dims[h].low>>>0,a.dims[h].high>>>0).toNumber())}if(null!=a.dataType&&(d.dataType=0|a.dataType),null!=a.segment){if("object"!=typeof a.segment)throw TypeError(".onnx.TensorProto.segment: object expected");d.segment=f.onnx.TensorProto.Segment.fromObject(a.segment)}if(a.floatData){if(!Array.isArray(a.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(d.floatData=[],h=0;h<a.floatData.length;++h)d.floatData[h]=Number(a.floatData[h])}if(a.int32Data){if(!Array.isArray(a.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(d.int32Data=[],h=0;h<a.int32Data.length;++h)d.int32Data[h]=0|a.int32Data[h]}if(a.stringData){if(!Array.isArray(a.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(d.stringData=[],h=0;h<a.stringData.length;++h)"string"==typeof a.stringData[h]?m.base64.decode(a.stringData[h],d.stringData[h]=m.newBuffer(m.base64.length(a.stringData[h])),0):a.stringData[h].length&&(d.stringData[h]=a.stringData[h])}if(a.int64Data){if(!Array.isArray(a.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(d.int64Data=[],h=0;h<a.int64Data.length;++h)m.Long?(d.int64Data[h]=m.Long.fromValue(a.int64Data[h])).unsigned=!1:"string"==typeof a.int64Data[h]?d.int64Data[h]=parseInt(a.int64Data[h],10):"number"==typeof a.int64Data[h]?d.int64Data[h]=a.int64Data[h]:"object"==typeof a.int64Data[h]&&(d.int64Data[h]=new m.LongBits(a.int64Data[h].low>>>0,a.int64Data[h].high>>>0).toNumber())}if(null!=a.name&&(d.name=String(a.name)),null!=a.docString&&(d.docString=String(a.docString)),null!=a.rawData&&("string"==typeof a.rawData?m.base64.decode(a.rawData,d.rawData=m.newBuffer(m.base64.length(a.rawData)),0):a.rawData.length&&(d.rawData=a.rawData)),a.externalData){if(!Array.isArray(a.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(d.externalData=[],h=0;h<a.externalData.length;++h){if("object"!=typeof a.externalData[h])throw TypeError(".onnx.TensorProto.externalData: object expected");d.externalData[h]=f.onnx.StringStringEntryProto.fromObject(a.externalData[h])}}switch(a.dataLocation){case"DEFAULT":case 0:d.dataLocation=0;break;case"EXTERNAL":case 1:d.dataLocation=1}if(a.doubleData){if(!Array.isArray(a.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(d.doubleData=[],h=0;h<a.doubleData.length;++h)d.doubleData[h]=Number(a.doubleData[h])}if(a.uint64Data){if(!Array.isArray(a.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(d.uint64Data=[],h=0;h<a.uint64Data.length;++h)m.Long?(d.uint64Data[h]=m.Long.fromValue(a.uint64Data[h])).unsigned=!0:"string"==typeof a.uint64Data[h]?d.uint64Data[h]=parseInt(a.uint64Data[h],10):"number"==typeof a.uint64Data[h]?d.uint64Data[h]=a.uint64Data[h]:"object"==typeof a.uint64Data[h]&&(d.uint64Data[h]=new m.LongBits(a.uint64Data[h].low>>>0,a.uint64Data[h].high>>>0).toNumber(!0))}return d},c.toObject=function(a,d){d||(d={});var h={};if((d.arrays||d.defaults)&&(h.dims=[],h.floatData=[],h.int32Data=[],h.stringData=[],h.int64Data=[],h.doubleData=[],h.uint64Data=[],h.externalData=[]),d.defaults&&(h.dataType=0,h.segment=null,h.name="",d.bytes===String?h.rawData="":(h.rawData=[],d.bytes!==Array&&(h.rawData=m.newBuffer(h.rawData))),h.docString="",h.dataLocation=d.enums===String?"DEFAULT":0),a.dims&&a.dims.length){h.dims=[];for(var _=0;_<a.dims.length;++_)h.dims[_]="number"==typeof a.dims[_]?d.longs===String?String(a.dims[_]):a.dims[_]:d.longs===String?m.Long.prototype.toString.call(a.dims[_]):d.longs===Number?new m.LongBits(a.dims[_].low>>>0,a.dims[_].high>>>0).toNumber():a.dims[_]}if(null!=a.dataType&&a.hasOwnProperty("dataType")&&(h.dataType=a.dataType),null!=a.segment&&a.hasOwnProperty("segment")&&(h.segment=f.onnx.TensorProto.Segment.toObject(a.segment,d)),a.floatData&&a.floatData.length)for(h.floatData=[],_=0;_<a.floatData.length;++_)h.floatData[_]=d.json&&!isFinite(a.floatData[_])?String(a.floatData[_]):a.floatData[_];if(a.int32Data&&a.int32Data.length)for(h.int32Data=[],_=0;_<a.int32Data.length;++_)h.int32Data[_]=a.int32Data[_];if(a.stringData&&a.stringData.length)for(h.stringData=[],_=0;_<a.stringData.length;++_)h.stringData[_]=d.bytes===String?m.base64.encode(a.stringData[_],0,a.stringData[_].length):d.bytes===Array?Array.prototype.slice.call(a.stringData[_]):a.stringData[_];if(a.int64Data&&a.int64Data.length)for(h.int64Data=[],_=0;_<a.int64Data.length;++_)h.int64Data[_]="number"==typeof a.int64Data[_]?d.longs===String?String(a.int64Data[_]):a.int64Data[_]:d.longs===String?m.Long.prototype.toString.call(a.int64Data[_]):d.longs===Number?new m.LongBits(a.int64Data[_].low>>>0,a.int64Data[_].high>>>0).toNumber():a.int64Data[_];if(null!=a.name&&a.hasOwnProperty("name")&&(h.name=a.name),null!=a.rawData&&a.hasOwnProperty("rawData")&&(h.rawData=d.bytes===String?m.base64.encode(a.rawData,0,a.rawData.length):d.bytes===Array?Array.prototype.slice.call(a.rawData):a.rawData),a.doubleData&&a.doubleData.length)for(h.doubleData=[],_=0;_<a.doubleData.length;++_)h.doubleData[_]=d.json&&!isFinite(a.doubleData[_])?String(a.doubleData[_]):a.doubleData[_];if(a.uint64Data&&a.uint64Data.length)for(h.uint64Data=[],_=0;_<a.uint64Data.length;++_)h.uint64Data[_]="number"==typeof a.uint64Data[_]?d.longs===String?String(a.uint64Data[_]):a.uint64Data[_]:d.longs===String?m.Long.prototype.toString.call(a.uint64Data[_]):d.longs===Number?new m.LongBits(a.uint64Data[_].low>>>0,a.uint64Data[_].high>>>0).toNumber(!0):a.uint64Data[_];if(null!=a.docString&&a.hasOwnProperty("docString")&&(h.docString=a.docString),a.externalData&&a.externalData.length)for(h.externalData=[],_=0;_<a.externalData.length;++_)h.externalData[_]=f.onnx.StringStringEntryProto.toObject(a.externalData[_],d);return null!=a.dataLocation&&a.hasOwnProperty("dataLocation")&&(h.dataLocation=d.enums===String?f.onnx.TensorProto.DataLocation[a.dataLocation]:a.dataLocation),h},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c.DataType=(a={},(d=Object.create(a))[a[0]="UNDEFINED"]=0,d[a[1]="FLOAT"]=1,d[a[2]="UINT8"]=2,d[a[3]="INT8"]=3,d[a[4]="UINT16"]=4,d[a[5]="INT16"]=5,d[a[6]="INT32"]=6,d[a[7]="INT64"]=7,d[a[8]="STRING"]=8,d[a[9]="BOOL"]=9,d[a[10]="FLOAT16"]=10,d[a[11]="DOUBLE"]=11,d[a[12]="UINT32"]=12,d[a[13]="UINT64"]=13,d[a[14]="COMPLEX64"]=14,d[a[15]="COMPLEX128"]=15,d[a[16]="BFLOAT16"]=16,d),c.Segment=function(){function a(d){if(d)for(var h=Object.keys(d),_=0;_<h.length;++_)null!=d[h[_]]&&(this[h[_]]=d[h[_]])}return a.prototype.begin=m.Long?m.Long.fromBits(0,0,!1):0,a.prototype.end=m.Long?m.Long.fromBits(0,0,!1):0,a.create=function(d){return new a(d)},a.encode=function(d,h){return h||(h=p.create()),null!=d.begin&&d.hasOwnProperty("begin")&&h.uint32(8).int64(d.begin),null!=d.end&&d.hasOwnProperty("end")&&h.uint32(16).int64(d.end),h},a.encodeDelimited=function(d,h){return this.encode(d,h).ldelim()},a.decode=function(d,h){d instanceof v||(d=v.create(d));for(var _=void 0===h?d.len:d.pos+h,x=new f.onnx.TensorProto.Segment;d.pos<_;){var D=d.uint32();switch(D>>>3){case 1:x.begin=d.int64();break;case 2:x.end=d.int64();break;default:d.skipType(7&D)}}return x},a.decodeDelimited=function(d){return d instanceof v||(d=new v(d)),this.decode(d,d.uint32())},a.verify=function(d){return"object"!=typeof d||null===d?"object expected":null!=d.begin&&d.hasOwnProperty("begin")&&!(m.isInteger(d.begin)||d.begin&&m.isInteger(d.begin.low)&&m.isInteger(d.begin.high))?"begin: integer|Long expected":null!=d.end&&d.hasOwnProperty("end")&&!(m.isInteger(d.end)||d.end&&m.isInteger(d.end.low)&&m.isInteger(d.end.high))?"end: integer|Long expected":null},a.fromObject=function(d){if(d instanceof f.onnx.TensorProto.Segment)return d;var h=new f.onnx.TensorProto.Segment;return null!=d.begin&&(m.Long?(h.begin=m.Long.fromValue(d.begin)).unsigned=!1:"string"==typeof d.begin?h.begin=parseInt(d.begin,10):"number"==typeof d.begin?h.begin=d.begin:"object"==typeof d.begin&&(h.begin=new m.LongBits(d.begin.low>>>0,d.begin.high>>>0).toNumber())),null!=d.end&&(m.Long?(h.end=m.Long.fromValue(d.end)).unsigned=!1:"string"==typeof d.end?h.end=parseInt(d.end,10):"number"==typeof d.end?h.end=d.end:"object"==typeof d.end&&(h.end=new m.LongBits(d.end.low>>>0,d.end.high>>>0).toNumber())),h},a.toObject=function(d,h){h||(h={});var _={};if(h.defaults){if(m.Long){var x=new m.Long(0,0,!1);_.begin=h.longs===String?x.toString():h.longs===Number?x.toNumber():x}else _.begin=h.longs===String?"0":0;m.Long?(x=new m.Long(0,0,!1),_.end=h.longs===String?x.toString():h.longs===Number?x.toNumber():x):_.end=h.longs===String?"0":0}return null!=d.begin&&d.hasOwnProperty("begin")&&(_.begin="number"==typeof d.begin?h.longs===String?String(d.begin):d.begin:h.longs===String?m.Long.prototype.toString.call(d.begin):h.longs===Number?new m.LongBits(d.begin.low>>>0,d.begin.high>>>0).toNumber():d.begin),null!=d.end&&d.hasOwnProperty("end")&&(_.end="number"==typeof d.end?h.longs===String?String(d.end):d.end:h.longs===String?m.Long.prototype.toString.call(d.end):h.longs===Number?new m.LongBits(d.end.low>>>0,d.end.high>>>0).toNumber():d.end),_},a.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},a}(),c.DataLocation=function(){var a={},d=Object.create(a);return d[a[0]="DEFAULT"]=0,d[a[1]="EXTERNAL"]=1,d}(),c;var a,d}(),C.TensorShapeProto=function(){function c(a){if(this.dim=[],a)for(var d=Object.keys(a),h=0;h<d.length;++h)null!=a[d[h]]&&(this[d[h]]=a[d[h]])}return c.prototype.dim=m.emptyArray,c.create=function(a){return new c(a)},c.encode=function(a,d){if(d||(d=p.create()),null!=a.dim&&a.dim.length)for(var h=0;h<a.dim.length;++h)f.onnx.TensorShapeProto.Dimension.encode(a.dim[h],d.uint32(10).fork()).ldelim();return d},c.encodeDelimited=function(a,d){return this.encode(a,d).ldelim()},c.decode=function(a,d){a instanceof v||(a=v.create(a));for(var h=void 0===d?a.len:a.pos+d,_=new f.onnx.TensorShapeProto;a.pos<h;){var x=a.uint32();x>>>3==1?(_.dim&&_.dim.length||(_.dim=[]),_.dim.push(f.onnx.TensorShapeProto.Dimension.decode(a,a.uint32()))):a.skipType(7&x)}return _},c.decodeDelimited=function(a){return a instanceof v||(a=new v(a)),this.decode(a,a.uint32())},c.verify=function(a){if("object"!=typeof a||null===a)return"object expected";if(null!=a.dim&&a.hasOwnProperty("dim")){if(!Array.isArray(a.dim))return"dim: array expected";for(var d=0;d<a.dim.length;++d){var h=f.onnx.TensorShapeProto.Dimension.verify(a.dim[d]);if(h)return"dim."+h}}return null},c.fromObject=function(a){if(a instanceof f.onnx.TensorShapeProto)return a;var d=new f.onnx.TensorShapeProto;if(a.dim){if(!Array.isArray(a.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");d.dim=[];for(var h=0;h<a.dim.length;++h){if("object"!=typeof a.dim[h])throw TypeError(".onnx.TensorShapeProto.dim: object expected");d.dim[h]=f.onnx.TensorShapeProto.Dimension.fromObject(a.dim[h])}}return d},c.toObject=function(a,d){d||(d={});var h={};if((d.arrays||d.defaults)&&(h.dim=[]),a.dim&&a.dim.length){h.dim=[];for(var _=0;_<a.dim.length;++_)h.dim[_]=f.onnx.TensorShapeProto.Dimension.toObject(a.dim[_],d)}return h},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c.Dimension=function(){function a(h){if(h)for(var _=Object.keys(h),x=0;x<_.length;++x)null!=h[_[x]]&&(this[_[x]]=h[_[x]])}var d;return a.prototype.dimValue=m.Long?m.Long.fromBits(0,0,!1):0,a.prototype.dimParam="",a.prototype.denotation="",Object.defineProperty(a.prototype,"value",{get:m.oneOfGetter(d=["dimValue","dimParam"]),set:m.oneOfSetter(d)}),a.create=function(h){return new a(h)},a.encode=function(h,_){return _||(_=p.create()),null!=h.dimValue&&h.hasOwnProperty("dimValue")&&_.uint32(8).int64(h.dimValue),null!=h.dimParam&&h.hasOwnProperty("dimParam")&&_.uint32(18).string(h.dimParam),null!=h.denotation&&h.hasOwnProperty("denotation")&&_.uint32(26).string(h.denotation),_},a.encodeDelimited=function(h,_){return this.encode(h,_).ldelim()},a.decode=function(h,_){h instanceof v||(h=v.create(h));for(var x=void 0===_?h.len:h.pos+_,D=new f.onnx.TensorShapeProto.Dimension;h.pos<x;){var I=h.uint32();switch(I>>>3){case 1:D.dimValue=h.int64();break;case 2:D.dimParam=h.string();break;case 3:D.denotation=h.string();break;default:h.skipType(7&I)}}return D},a.decodeDelimited=function(h){return h instanceof v||(h=new v(h)),this.decode(h,h.uint32())},a.verify=function(h){if("object"!=typeof h||null===h)return"object expected";var _={};if(null!=h.dimValue&&h.hasOwnProperty("dimValue")&&(_.value=1,!(m.isInteger(h.dimValue)||h.dimValue&&m.isInteger(h.dimValue.low)&&m.isInteger(h.dimValue.high))))return"dimValue: integer|Long expected";if(null!=h.dimParam&&h.hasOwnProperty("dimParam")){if(1===_.value)return"value: multiple values";if(_.value=1,!m.isString(h.dimParam))return"dimParam: string expected"}return null!=h.denotation&&h.hasOwnProperty("denotation")&&!m.isString(h.denotation)?"denotation: string expected":null},a.fromObject=function(h){if(h instanceof f.onnx.TensorShapeProto.Dimension)return h;var _=new f.onnx.TensorShapeProto.Dimension;return null!=h.dimValue&&(m.Long?(_.dimValue=m.Long.fromValue(h.dimValue)).unsigned=!1:"string"==typeof h.dimValue?_.dimValue=parseInt(h.dimValue,10):"number"==typeof h.dimValue?_.dimValue=h.dimValue:"object"==typeof h.dimValue&&(_.dimValue=new m.LongBits(h.dimValue.low>>>0,h.dimValue.high>>>0).toNumber())),null!=h.dimParam&&(_.dimParam=String(h.dimParam)),null!=h.denotation&&(_.denotation=String(h.denotation)),_},a.toObject=function(h,_){_||(_={});var x={};return _.defaults&&(x.denotation=""),null!=h.dimValue&&h.hasOwnProperty("dimValue")&&(x.dimValue="number"==typeof h.dimValue?_.longs===String?String(h.dimValue):h.dimValue:_.longs===String?m.Long.prototype.toString.call(h.dimValue):_.longs===Number?new m.LongBits(h.dimValue.low>>>0,h.dimValue.high>>>0).toNumber():h.dimValue,_.oneofs&&(x.value="dimValue")),null!=h.dimParam&&h.hasOwnProperty("dimParam")&&(x.dimParam=h.dimParam,_.oneofs&&(x.value="dimParam")),null!=h.denotation&&h.hasOwnProperty("denotation")&&(x.denotation=h.denotation),x},a.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},a}(),c}(),C.TypeProto=function(){function c(d){if(d)for(var h=Object.keys(d),_=0;_<h.length;++_)null!=d[h[_]]&&(this[h[_]]=d[h[_]])}var a;return c.prototype.tensorType=null,c.prototype.denotation="",Object.defineProperty(c.prototype,"value",{get:m.oneOfGetter(a=["tensorType"]),set:m.oneOfSetter(a)}),c.create=function(d){return new c(d)},c.encode=function(d,h){return h||(h=p.create()),null!=d.tensorType&&d.hasOwnProperty("tensorType")&&f.onnx.TypeProto.Tensor.encode(d.tensorType,h.uint32(10).fork()).ldelim(),null!=d.denotation&&d.hasOwnProperty("denotation")&&h.uint32(50).string(d.denotation),h},c.encodeDelimited=function(d,h){return this.encode(d,h).ldelim()},c.decode=function(d,h){d instanceof v||(d=v.create(d));for(var _=void 0===h?d.len:d.pos+h,x=new f.onnx.TypeProto;d.pos<_;){var D=d.uint32();switch(D>>>3){case 1:x.tensorType=f.onnx.TypeProto.Tensor.decode(d,d.uint32());break;case 6:x.denotation=d.string();break;default:d.skipType(7&D)}}return x},c.decodeDelimited=function(d){return d instanceof v||(d=new v(d)),this.decode(d,d.uint32())},c.verify=function(d){if("object"!=typeof d||null===d)return"object expected";if(null!=d.tensorType&&d.hasOwnProperty("tensorType")){var h=f.onnx.TypeProto.Tensor.verify(d.tensorType);if(h)return"tensorType."+h}return null!=d.denotation&&d.hasOwnProperty("denotation")&&!m.isString(d.denotation)?"denotation: string expected":null},c.fromObject=function(d){if(d instanceof f.onnx.TypeProto)return d;var h=new f.onnx.TypeProto;if(null!=d.tensorType){if("object"!=typeof d.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");h.tensorType=f.onnx.TypeProto.Tensor.fromObject(d.tensorType)}return null!=d.denotation&&(h.denotation=String(d.denotation)),h},c.toObject=function(d,h){h||(h={});var _={};return h.defaults&&(_.denotation=""),null!=d.tensorType&&d.hasOwnProperty("tensorType")&&(_.tensorType=f.onnx.TypeProto.Tensor.toObject(d.tensorType,h),h.oneofs&&(_.value="tensorType")),null!=d.denotation&&d.hasOwnProperty("denotation")&&(_.denotation=d.denotation),_},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c.Tensor=function(){function d(h){if(h)for(var _=Object.keys(h),x=0;x<_.length;++x)null!=h[_[x]]&&(this[_[x]]=h[_[x]])}return d.prototype.elemType=0,d.prototype.shape=null,d.create=function(h){return new d(h)},d.encode=function(h,_){return _||(_=p.create()),null!=h.elemType&&h.hasOwnProperty("elemType")&&_.uint32(8).int32(h.elemType),null!=h.shape&&h.hasOwnProperty("shape")&&f.onnx.TensorShapeProto.encode(h.shape,_.uint32(18).fork()).ldelim(),_},d.encodeDelimited=function(h,_){return this.encode(h,_).ldelim()},d.decode=function(h,_){h instanceof v||(h=v.create(h));for(var x=void 0===_?h.len:h.pos+_,D=new f.onnx.TypeProto.Tensor;h.pos<x;){var I=h.uint32();switch(I>>>3){case 1:D.elemType=h.int32();break;case 2:D.shape=f.onnx.TensorShapeProto.decode(h,h.uint32());break;default:h.skipType(7&I)}}return D},d.decodeDelimited=function(h){return h instanceof v||(h=new v(h)),this.decode(h,h.uint32())},d.verify=function(h){if("object"!=typeof h||null===h)return"object expected";if(null!=h.elemType&&h.hasOwnProperty("elemType")&&!m.isInteger(h.elemType))return"elemType: integer expected";if(null!=h.shape&&h.hasOwnProperty("shape")){var _=f.onnx.TensorShapeProto.verify(h.shape);if(_)return"shape."+_}return null},d.fromObject=function(h){if(h instanceof f.onnx.TypeProto.Tensor)return h;var _=new f.onnx.TypeProto.Tensor;if(null!=h.elemType&&(_.elemType=0|h.elemType),null!=h.shape){if("object"!=typeof h.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");_.shape=f.onnx.TensorShapeProto.fromObject(h.shape)}return _},d.toObject=function(h,_){_||(_={});var x={};return _.defaults&&(x.elemType=0,x.shape=null),null!=h.elemType&&h.hasOwnProperty("elemType")&&(x.elemType=h.elemType),null!=h.shape&&h.hasOwnProperty("shape")&&(x.shape=f.onnx.TensorShapeProto.toObject(h.shape,_)),x},d.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},d}(),c}(),C.OperatorSetIdProto=function(){function c(a){if(a)for(var d=Object.keys(a),h=0;h<d.length;++h)null!=a[d[h]]&&(this[d[h]]=a[d[h]])}return c.prototype.domain="",c.prototype.version=m.Long?m.Long.fromBits(0,0,!1):0,c.create=function(a){return new c(a)},c.encode=function(a,d){return d||(d=p.create()),null!=a.domain&&a.hasOwnProperty("domain")&&d.uint32(10).string(a.domain),null!=a.version&&a.hasOwnProperty("version")&&d.uint32(16).int64(a.version),d},c.encodeDelimited=function(a,d){return this.encode(a,d).ldelim()},c.decode=function(a,d){a instanceof v||(a=v.create(a));for(var h=void 0===d?a.len:a.pos+d,_=new f.onnx.OperatorSetIdProto;a.pos<h;){var x=a.uint32();switch(x>>>3){case 1:_.domain=a.string();break;case 2:_.version=a.int64();break;default:a.skipType(7&x)}}return _},c.decodeDelimited=function(a){return a instanceof v||(a=new v(a)),this.decode(a,a.uint32())},c.verify=function(a){return"object"!=typeof a||null===a?"object expected":null!=a.domain&&a.hasOwnProperty("domain")&&!m.isString(a.domain)?"domain: string expected":null!=a.version&&a.hasOwnProperty("version")&&!(m.isInteger(a.version)||a.version&&m.isInteger(a.version.low)&&m.isInteger(a.version.high))?"version: integer|Long expected":null},c.fromObject=function(a){if(a instanceof f.onnx.OperatorSetIdProto)return a;var d=new f.onnx.OperatorSetIdProto;return null!=a.domain&&(d.domain=String(a.domain)),null!=a.version&&(m.Long?(d.version=m.Long.fromValue(a.version)).unsigned=!1:"string"==typeof a.version?d.version=parseInt(a.version,10):"number"==typeof a.version?d.version=a.version:"object"==typeof a.version&&(d.version=new m.LongBits(a.version.low>>>0,a.version.high>>>0).toNumber())),d},c.toObject=function(a,d){d||(d={});var h={};if(d.defaults)if(h.domain="",m.Long){var _=new m.Long(0,0,!1);h.version=d.longs===String?_.toString():d.longs===Number?_.toNumber():_}else h.version=d.longs===String?"0":0;return null!=a.domain&&a.hasOwnProperty("domain")&&(h.domain=a.domain),null!=a.version&&a.hasOwnProperty("version")&&(h.version="number"==typeof a.version?d.longs===String?String(a.version):a.version:d.longs===String?m.Long.prototype.toString.call(a.version):d.longs===Number?new m.LongBits(a.version.low>>>0,a.version.high>>>0).toNumber():a.version),h},c.prototype.toJSON=function(){return this.constructor.toObject(this,b.util.toJSONOptions)},c}(),C),z.exports=f},2100:(z,u,g)=>{"use strict";z.exports=g(9482)},9482:(z,u,g)=>{"use strict";var S=u;function w(){S.util._configure(),S.Writer._configure(S.BufferWriter),S.Reader._configure(S.BufferReader)}S.build="minimal",S.Writer=g(1173),S.BufferWriter=g(3155),S.Reader=g(1408),S.BufferReader=g(593),S.util=g(9693),S.rpc=g(5994),S.roots=g(5054),S.configure=w,w()},1408:(z,u,g)=>{"use strict";z.exports=p;var S,w=g(9693),C=w.LongBits,b=w.utf8;function v(_,x){return RangeError("index out of range: "+_.pos+" + "+(x||1)+" > "+_.len)}function p(_){this.buf=_,this.pos=0,this.len=_.length}var m,f=typeof Uint8Array<"u"?function(_){if(_ instanceof Uint8Array||Array.isArray(_))return new p(_);throw Error("illegal buffer")}:function(_){if(Array.isArray(_))return new p(_);throw Error("illegal buffer")},c=function(){return w.Buffer?function(_){return(p.create=function(x){return w.Buffer.isBuffer(x)?new S(x):f(x)})(_)}:f};function a(){var _=new C(0,0),x=0;if(!(this.len-this.pos>4)){for(;x<3;++x){if(this.pos>=this.len)throw v(this);if(_.lo=(_.lo|(127&this.buf[this.pos])<<7*x)>>>0,this.buf[this.pos++]<128)return _}return _.lo=(_.lo|(127&this.buf[this.pos++])<<7*x)>>>0,_}for(;x<4;++x)if(_.lo=(_.lo|(127&this.buf[this.pos])<<7*x)>>>0,this.buf[this.pos++]<128)return _;if(_.lo=(_.lo|(127&this.buf[this.pos])<<28)>>>0,_.hi=(_.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return _;if(x=0,this.len-this.pos>4){for(;x<5;++x)if(_.hi=(_.hi|(127&this.buf[this.pos])<<7*x+3)>>>0,this.buf[this.pos++]<128)return _}else for(;x<5;++x){if(this.pos>=this.len)throw v(this);if(_.hi=(_.hi|(127&this.buf[this.pos])<<7*x+3)>>>0,this.buf[this.pos++]<128)return _}throw Error("invalid varint encoding")}function d(_,x){return(_[x-4]|_[x-3]<<8|_[x-2]<<16|_[x-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw v(this,8);return new C(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}p.create=c(),p.prototype._slice=w.Array.prototype.subarray||w.Array.prototype.slice,p.prototype.uint32=(m=4294967295,function(){if(m=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(m=(m|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(m=(m|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(m=(m|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(m=(m|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return m;if((this.pos+=5)>this.len)throw this.pos=this.len,v(this,10);return m}),p.prototype.int32=function(){return 0|this.uint32()},p.prototype.sint32=function(){var _=this.uint32();return _>>>1^-(1&_)|0},p.prototype.bool=function(){return 0!==this.uint32()},p.prototype.fixed32=function(){if(this.pos+4>this.len)throw v(this,4);return d(this.buf,this.pos+=4)},p.prototype.sfixed32=function(){if(this.pos+4>this.len)throw v(this,4);return 0|d(this.buf,this.pos+=4)},p.prototype.float=function(){if(this.pos+4>this.len)throw v(this,4);var _=w.float.readFloatLE(this.buf,this.pos);return this.pos+=4,_},p.prototype.double=function(){if(this.pos+8>this.len)throw v(this,4);var _=w.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,_},p.prototype.bytes=function(){var _=this.uint32(),x=this.pos,D=this.pos+_;if(D>this.len)throw v(this,_);return this.pos+=_,Array.isArray(this.buf)?this.buf.slice(x,D):x===D?new this.buf.constructor(0):this._slice.call(this.buf,x,D)},p.prototype.string=function(){var _=this.bytes();return b.read(_,0,_.length)},p.prototype.skip=function(_){if("number"==typeof _){if(this.pos+_>this.len)throw v(this,_);this.pos+=_}else do{if(this.pos>=this.len)throw v(this)}while(128&this.buf[this.pos++]);return this},p.prototype.skipType=function(_){switch(_){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(_=7&this.uint32());)this.skipType(_);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+_+" at offset "+this.pos)}return this},p._configure=function(_){S=_,p.create=c(),S._configure();var x=w.Long?"toLong":"toNumber";w.merge(p.prototype,{int64:function(){return a.call(this)[x](!1)},uint64:function(){return a.call(this)[x](!0)},sint64:function(){return a.call(this).zzDecode()[x](!1)},fixed64:function(){return h.call(this)[x](!0)},sfixed64:function(){return h.call(this)[x](!1)}})}},593:(z,u,g)=>{"use strict";z.exports=C;var S=g(1408);(C.prototype=Object.create(S.prototype)).constructor=C;var w=g(9693);function C(b){S.call(this,b)}C._configure=function(){w.Buffer&&(C.prototype._slice=w.Buffer.prototype.slice)},C.prototype.string=function(){var b=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+b,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+b,this.len))},C._configure()},5054:z=>{"use strict";z.exports={}},5994:(z,u,g)=>{"use strict";u.Service=g(7948)},7948:(z,u,g)=>{"use strict";z.exports=w;var S=g(9693);function w(C,b,v){if("function"!=typeof C)throw TypeError("rpcImpl must be a function");S.EventEmitter.call(this),this.rpcImpl=C,this.requestDelimited=!!b,this.responseDelimited=!!v}(w.prototype=Object.create(S.EventEmitter.prototype)).constructor=w,w.prototype.rpcCall=function C(b,v,p,m,f){if(!m)throw TypeError("request must be specified");var c=this;if(!f)return S.asPromise(C,c,b,v,p,m);if(c.rpcImpl)try{return c.rpcImpl(b,v[c.requestDelimited?"encodeDelimited":"encode"](m).finish(),function(a,d){if(a)return c.emit("error",a,b),f(a);if(null!==d){if(!(d instanceof p))try{d=p[c.responseDelimited?"decodeDelimited":"decode"](d)}catch(h){return c.emit("error",h,b),f(h)}return c.emit("data",d,b),f(null,d)}c.end(!0)})}catch(a){return c.emit("error",a,b),void setTimeout(function(){f(a)},0)}else setTimeout(function(){f(Error("already ended"))},0)},w.prototype.end=function(C){return this.rpcImpl&&(C||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(z,u,g)=>{"use strict";z.exports=w;var S=g(9693);function w(p,m){this.lo=p>>>0,this.hi=m>>>0}var C=w.zero=new w(0,0);C.toNumber=function(){return 0},C.zzEncode=C.zzDecode=function(){return this},C.length=function(){return 1};var b=w.zeroHash="\0\0\0\0\0\0\0\0";w.fromNumber=function(p){if(0===p)return C;var m=p<0;m&&(p=-p);var f=p>>>0,c=(p-f)/4294967296>>>0;return m&&(c=~c>>>0,f=~f>>>0,++f>4294967295&&(f=0,++c>4294967295&&(c=0))),new w(f,c)},w.from=function(p){if("number"==typeof p)return w.fromNumber(p);if(S.isString(p)){if(!S.Long)return w.fromNumber(parseInt(p,10));p=S.Long.fromString(p)}return p.low||p.high?new w(p.low>>>0,p.high>>>0):C},w.prototype.toNumber=function(p){if(!p&&this.hi>>>31){var m=1+~this.lo>>>0,f=~this.hi>>>0;return m||(f=f+1>>>0),-(m+4294967296*f)}return this.lo+4294967296*this.hi},w.prototype.toLong=function(p){return S.Long?new S.Long(0|this.lo,0|this.hi,!!p):{low:0|this.lo,high:0|this.hi,unsigned:!!p}};var v=String.prototype.charCodeAt;w.fromHash=function(p){return p===b?C:new w((v.call(p,0)|v.call(p,1)<<8|v.call(p,2)<<16|v.call(p,3)<<24)>>>0,(v.call(p,4)|v.call(p,5)<<8|v.call(p,6)<<16|v.call(p,7)<<24)>>>0)},w.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},w.prototype.zzEncode=function(){var p=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^p)>>>0,this.lo=(this.lo<<1^p)>>>0,this},w.prototype.zzDecode=function(){var p=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^p)>>>0,this.hi=(this.hi>>>1^p)>>>0,this},w.prototype.length=function(){var p=this.lo,m=(this.lo>>>28|this.hi<<4)>>>0,f=this.hi>>>24;return 0===f?0===m?p<16384?p<128?1:2:p<2097152?3:4:m<16384?m<128?5:6:m<2097152?7:8:f<128?9:10}},9693:function(z,u,g){"use strict";var S=u;function w(b,v,p){for(var m=Object.keys(v),f=0;f<m.length;++f)void 0!==b[m[f]]&&p||(b[m[f]]=v[m[f]]);return b}function C(b){function v(p,m){if(!(this instanceof v))return new v(p,m);Object.defineProperty(this,"message",{get:function(){return p}}),Error.captureStackTrace?Error.captureStackTrace(this,v):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),m&&w(this,m)}return(v.prototype=Object.create(Error.prototype)).constructor=v,Object.defineProperty(v.prototype,"name",{get:function(){return b}}),v.prototype.toString=function(){return this.name+": "+this.message},v}S.asPromise=g(4537),S.base64=g(7419),S.EventEmitter=g(9211),S.float=g(945),S.inquire=g(7199),S.utf8=g(4997),S.pool=g(6662),S.LongBits=g(1945),S.isNode=!!(void 0!==g.g&&g.g&&g.g.process&&g.g.process.versions&&g.g.process.versions.node),S.global=S.isNode&&g.g||typeof window<"u"&&window||typeof self<"u"&&self||this,S.emptyArray=Object.freeze?Object.freeze([]):[],S.emptyObject=Object.freeze?Object.freeze({}):{},S.isInteger=Number.isInteger||function(b){return"number"==typeof b&&isFinite(b)&&Math.floor(b)===b},S.isString=function(b){return"string"==typeof b||b instanceof String},S.isObject=function(b){return b&&"object"==typeof b},S.isset=S.isSet=function(b,v){var p=b[v];return!(null==p||!b.hasOwnProperty(v))&&("object"!=typeof p||(Array.isArray(p)?p.length:Object.keys(p).length)>0)},S.Buffer=function(){try{var b=S.inquire("buffer").Buffer;return b.prototype.utf8Write?b:null}catch{return null}}(),S._Buffer_from=null,S._Buffer_allocUnsafe=null,S.newBuffer=function(b){return"number"==typeof b?S.Buffer?S._Buffer_allocUnsafe(b):new S.Array(b):S.Buffer?S._Buffer_from(b):typeof Uint8Array>"u"?b:new Uint8Array(b)},S.Array=typeof Uint8Array<"u"?Uint8Array:Array,S.Long=S.global.dcodeIO&&S.global.dcodeIO.Long||S.global.Long||S.inquire("long"),S.key2Re=/^true|false|0|1$/,S.key32Re=/^-?(?:0|[1-9][0-9]*)$/,S.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,S.longToHash=function(b){return b?S.LongBits.from(b).toHash():S.LongBits.zeroHash},S.longFromHash=function(b,v){var p=S.LongBits.fromHash(b);return S.Long?S.Long.fromBits(p.lo,p.hi,v):p.toNumber(!!v)},S.merge=w,S.lcFirst=function(b){return b.charAt(0).toLowerCase()+b.substring(1)},S.newError=C,S.ProtocolError=C("ProtocolError"),S.oneOfGetter=function(b){for(var v={},p=0;p<b.length;++p)v[b[p]]=1;return function(){for(var m=Object.keys(this),f=m.length-1;f>-1;--f)if(1===v[m[f]]&&null!=this[m[f]])return m[f]}},S.oneOfSetter=function(b){return function(v){for(var p=0;p<b.length;++p)b[p]!==v&&delete this[b[p]]}},S.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},S._configure=function(){var b=S.Buffer;b?(S._Buffer_from=b.from!==Uint8Array.from&&b.from||function(v,p){return new b(v,p)},S._Buffer_allocUnsafe=b.allocUnsafe||function(v){return new b(v)}):S._Buffer_from=S._Buffer_allocUnsafe=null}},1173:(z,u,g)=>{"use strict";z.exports=c;var S,w=g(9693),C=w.LongBits,b=w.base64,v=w.utf8;function p(I,A,R){this.fn=I,this.len=A,this.next=void 0,this.val=R}function m(){}function f(I){this.head=I.head,this.tail=I.tail,this.len=I.len,this.next=I.states}function c(){this.len=0,this.head=new p(m,0,0),this.tail=this.head,this.states=null}var a=function(){return w.Buffer?function(){return(c.create=function(){return new S})()}:function(){return new c}};function d(I,A,R){A[R]=255&I}function h(I,A){this.len=I,this.next=void 0,this.val=A}function _(I,A,R){for(;I.hi;)A[R++]=127&I.lo|128,I.lo=(I.lo>>>7|I.hi<<25)>>>0,I.hi>>>=7;for(;I.lo>127;)A[R++]=127&I.lo|128,I.lo=I.lo>>>7;A[R++]=I.lo}function x(I,A,R){A[R]=255&I,A[R+1]=I>>>8&255,A[R+2]=I>>>16&255,A[R+3]=I>>>24}c.create=a(),c.alloc=function(I){return new w.Array(I)},w.Array!==Array&&(c.alloc=w.pool(c.alloc,w.Array.prototype.subarray)),c.prototype._push=function(I,A,R){return this.tail=this.tail.next=new p(I,A,R),this.len+=A,this},(h.prototype=Object.create(p.prototype)).fn=function(I,A,R){for(;I>127;)A[R++]=127&I|128,I>>>=7;A[R]=I},c.prototype.uint32=function(I){return this.len+=(this.tail=this.tail.next=new h((I>>>=0)<128?1:I<16384?2:I<2097152?3:I<268435456?4:5,I)).len,this},c.prototype.int32=function(I){return I<0?this._push(_,10,C.fromNumber(I)):this.uint32(I)},c.prototype.sint32=function(I){return this.uint32((I<<1^I>>31)>>>0)},c.prototype.int64=c.prototype.uint64=function(I){var A=C.from(I);return this._push(_,A.length(),A)},c.prototype.sint64=function(I){var A=C.from(I).zzEncode();return this._push(_,A.length(),A)},c.prototype.bool=function(I){return this._push(d,1,I?1:0)},c.prototype.sfixed32=c.prototype.fixed32=function(I){return this._push(x,4,I>>>0)},c.prototype.sfixed64=c.prototype.fixed64=function(I){var A=C.from(I);return this._push(x,4,A.lo)._push(x,4,A.hi)},c.prototype.float=function(I){return this._push(w.float.writeFloatLE,4,I)},c.prototype.double=function(I){return this._push(w.float.writeDoubleLE,8,I)};var D=w.Array.prototype.set?function(I,A,R){A.set(I,R)}:function(I,A,R){for(var P=0;P<I.length;++P)A[R+P]=I[P]};c.prototype.bytes=function(I){var A=I.length>>>0;if(!A)return this._push(d,1,0);if(w.isString(I)){var R=c.alloc(A=b.length(I));b.decode(I,R,0),I=R}return this.uint32(A)._push(D,A,I)},c.prototype.string=function(I){var A=v.length(I);return A?this.uint32(A)._push(v.write,A,I):this._push(d,1,0)},c.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new p(m,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new p(m,0,0),this.len=0),this},c.prototype.ldelim=function(){var I=this.head,A=this.tail,R=this.len;return this.reset().uint32(R),R&&(this.tail.next=I.next,this.tail=A,this.len+=R),this},c.prototype.finish=function(){for(var I=this.head.next,A=this.constructor.alloc(this.len),R=0;I;)I.fn(I.val,A,R),R+=I.len,I=I.next;return A},c._configure=function(I){S=I,c.create=a(),S._configure()}},3155:(z,u,g)=>{"use strict";z.exports=C;var S=g(1173);(C.prototype=Object.create(S.prototype)).constructor=C;var w=g(9693);function C(){S.call(this)}function b(v,p,m){v.length<40?w.utf8.write(v,p,m):p.utf8Write?p.utf8Write(v,m):p.write(v,m)}C._configure=function(){C.alloc=w._Buffer_allocUnsafe,C.writeBytesBuffer=w.Buffer&&w.Buffer.prototype instanceof Uint8Array&&"set"===w.Buffer.prototype.set.name?function(v,p,m){p.set(v,m)}:function(v,p,m){if(v.copy)v.copy(p,m,0,v.length);else for(var f=0;f<v.length;)p[m++]=v[f++]}},C.prototype.bytes=function(v){w.isString(v)&&(v=w._Buffer_from(v,"base64"));var p=v.length>>>0;return this.uint32(p),p&&this._push(C.writeBytesBuffer,p,v),this},C.prototype.string=function(v){var p=w.Buffer.byteLength(v);return this.uint32(p),p&&this._push(b,p,v),this},C._configure()},4154:z=>{"use strict";z.exports='"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\n'},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(z,u,g)=>{"use strict";g.r(u),g.d(u,{flatbuffers:()=>S});var S={SIZEOF_SHORT:2,SIZEOF_INT:4,FILE_IDENTIFIER_LENGTH:4,SIZE_PREFIX_LENGTH:4,Encoding:{UTF8_BYTES:1,UTF16_STRING:2}};S.int32=new Int32Array(2),S.float32=new Float32Array(S.int32.buffer),S.float64=new Float64Array(S.int32.buffer),S.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],S.Long=function(w,C){this.low=0|w,this.high=0|C},S.Long.create=function(w,C){return 0==w&&0==C?S.Long.ZERO:new S.Long(w,C)},S.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},S.Long.prototype.equals=function(w){return this.low==w.low&&this.high==w.high},S.Long.ZERO=new S.Long(0,0),S.Builder=function(w){if(w)C=w;else var C=1024;this.bb=S.ByteBuffer.allocate(C),this.space=C,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},S.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},S.Builder.prototype.forceDefaults=function(w){this.force_defaults=w},S.Builder.prototype.dataBuffer=function(){return this.bb},S.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},S.Builder.prototype.prep=function(w,C){w>this.minalign&&(this.minalign=w);for(var b=1+~(this.bb.capacity()-this.space+C)&w-1;this.space<b+w+C;){var v=this.bb.capacity();this.bb=S.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-v}this.pad(b)},S.Builder.prototype.pad=function(w){for(var C=0;C<w;C++)this.bb.writeInt8(--this.space,0)},S.Builder.prototype.writeInt8=function(w){this.bb.writeInt8(this.space-=1,w)},S.Builder.prototype.writeInt16=function(w){this.bb.writeInt16(this.space-=2,w)},S.Builder.prototype.writeInt32=function(w){this.bb.writeInt32(this.space-=4,w)},S.Builder.prototype.writeInt64=function(w){this.bb.writeInt64(this.space-=8,w)},S.Builder.prototype.writeFloat32=function(w){this.bb.writeFloat32(this.space-=4,w)},S.Builder.prototype.writeFloat64=function(w){this.bb.writeFloat64(this.space-=8,w)},S.Builder.prototype.addInt8=function(w){this.prep(1,0),this.writeInt8(w)},S.Builder.prototype.addInt16=function(w){this.prep(2,0),this.writeInt16(w)},S.Builder.prototype.addInt32=function(w){this.prep(4,0),this.writeInt32(w)},S.Builder.prototype.addInt64=function(w){this.prep(8,0),this.writeInt64(w)},S.Builder.prototype.addFloat32=function(w){this.prep(4,0),this.writeFloat32(w)},S.Builder.prototype.addFloat64=function(w){this.prep(8,0),this.writeFloat64(w)},S.Builder.prototype.addFieldInt8=function(w,C,b){(this.force_defaults||C!=b)&&(this.addInt8(C),this.slot(w))},S.Builder.prototype.addFieldInt16=function(w,C,b){(this.force_defaults||C!=b)&&(this.addInt16(C),this.slot(w))},S.Builder.prototype.addFieldInt32=function(w,C,b){(this.force_defaults||C!=b)&&(this.addInt32(C),this.slot(w))},S.Builder.prototype.addFieldInt64=function(w,C,b){!this.force_defaults&&C.equals(b)||(this.addInt64(C),this.slot(w))},S.Builder.prototype.addFieldFloat32=function(w,C,b){(this.force_defaults||C!=b)&&(this.addFloat32(C),this.slot(w))},S.Builder.prototype.addFieldFloat64=function(w,C,b){(this.force_defaults||C!=b)&&(this.addFloat64(C),this.slot(w))},S.Builder.prototype.addFieldOffset=function(w,C,b){(this.force_defaults||C!=b)&&(this.addOffset(C),this.slot(w))},S.Builder.prototype.addFieldStruct=function(w,C,b){C!=b&&(this.nested(C),this.slot(w))},S.Builder.prototype.nested=function(w){if(w!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},S.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},S.Builder.prototype.slot=function(w){this.vtable[w]=this.offset()},S.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},S.Builder.growByteBuffer=function(w){var C=w.capacity();if(3221225472&C)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var b=C<<1,v=S.ByteBuffer.allocate(b);return v.setPosition(b-C),v.bytes().set(w.bytes(),b-C),v},S.Builder.prototype.addOffset=function(w){this.prep(S.SIZEOF_INT,0),this.writeInt32(this.offset()-w+S.SIZEOF_INT)},S.Builder.prototype.startObject=function(w){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=w;for(var C=0;C<w;C++)this.vtable[C]=0;this.isNested=!0,this.object_start=this.offset()},S.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var w=this.offset(),C=this.vtable_in_use-1;C>=0&&0==this.vtable[C];C--);for(var b=C+1;C>=0;C--)this.addInt16(0!=this.vtable[C]?w-this.vtable[C]:0);this.addInt16(w-this.object_start);var v=(b+2)*S.SIZEOF_SHORT;this.addInt16(v);var p=0,m=this.space;e:for(C=0;C<this.vtables.length;C++){var f=this.bb.capacity()-this.vtables[C];if(v==this.bb.readInt16(f)){for(var c=S.SIZEOF_SHORT;c<v;c+=S.SIZEOF_SHORT)if(this.bb.readInt16(m+c)!=this.bb.readInt16(f+c))continue e;p=this.vtables[C];break}}return p?(this.space=this.bb.capacity()-w,this.bb.writeInt32(this.space,p-w)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-w,this.offset()-w)),this.isNested=!1,w},S.Builder.prototype.finish=function(w,C,b){var v=b?S.SIZE_PREFIX_LENGTH:0;if(C){var p=C;if(this.prep(this.minalign,S.SIZEOF_INT+S.FILE_IDENTIFIER_LENGTH+v),p.length!=S.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+S.FILE_IDENTIFIER_LENGTH);for(var m=S.FILE_IDENTIFIER_LENGTH-1;m>=0;m--)this.writeInt8(p.charCodeAt(m))}this.prep(this.minalign,S.SIZEOF_INT+v),this.addOffset(w),v&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},S.Builder.prototype.finishSizePrefixed=function(w,C){this.finish(w,C,!0)},S.Builder.prototype.requiredField=function(w,C){var b=this.bb.capacity()-w,v=b-this.bb.readInt32(b);if(0==this.bb.readInt16(v+C))throw new Error("FlatBuffers: field "+C+" must be set")},S.Builder.prototype.startVector=function(w,C,b){this.notNested(),this.vector_num_elems=C,this.prep(S.SIZEOF_INT,w*C),this.prep(b,w*C)},S.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},S.Builder.prototype.createString=function(w){if(w instanceof Uint8Array)var C=w;else{C=[];for(var b=0;b<w.length;){var v,p=w.charCodeAt(b++);(v=p<55296||p>=56320?p:(p<<10)+w.charCodeAt(b++)+-56613888)<128?C.push(v):(v<2048?C.push(v>>6&31|192):(v<65536?C.push(v>>12&15|224):C.push(v>>18&7|240,v>>12&63|128),C.push(v>>6&63|128)),C.push(63&v|128))}}this.addInt8(0),this.startVector(1,C.length,1),this.bb.setPosition(this.space-=C.length),b=0;for(var m=this.space,f=this.bb.bytes();b<C.length;b++)f[m++]=C[b];return this.endVector()},S.Builder.prototype.createLong=function(w,C){return S.Long.create(w,C)},S.ByteBuffer=function(w){this.bytes_=w,this.position_=0},S.ByteBuffer.allocate=function(w){return new S.ByteBuffer(new Uint8Array(w))},S.ByteBuffer.prototype.clear=function(){this.position_=0},S.ByteBuffer.prototype.bytes=function(){return this.bytes_},S.ByteBuffer.prototype.position=function(){return this.position_},S.ByteBuffer.prototype.setPosition=function(w){this.position_=w},S.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},S.ByteBuffer.prototype.readInt8=function(w){return this.readUint8(w)<<24>>24},S.ByteBuffer.prototype.readUint8=function(w){return this.bytes_[w]},S.ByteBuffer.prototype.readInt16=function(w){return this.readUint16(w)<<16>>16},S.ByteBuffer.prototype.readUint16=function(w){return this.bytes_[w]|this.bytes_[w+1]<<8},S.ByteBuffer.prototype.readInt32=function(w){return this.bytes_[w]|this.bytes_[w+1]<<8|this.bytes_[w+2]<<16|this.bytes_[w+3]<<24},S.ByteBuffer.prototype.readUint32=function(w){return this.readInt32(w)>>>0},S.ByteBuffer.prototype.readInt64=function(w){return new S.Long(this.readInt32(w),this.readInt32(w+4))},S.ByteBuffer.prototype.readUint64=function(w){return new S.Long(this.readUint32(w),this.readUint32(w+4))},S.ByteBuffer.prototype.readFloat32=function(w){return S.int32[0]=this.readInt32(w),S.float32[0]},S.ByteBuffer.prototype.readFloat64=function(w){return S.int32[S.isLittleEndian?0:1]=this.readInt32(w),S.int32[S.isLittleEndian?1:0]=this.readInt32(w+4),S.float64[0]},S.ByteBuffer.prototype.writeInt8=function(w,C){this.bytes_[w]=C},S.ByteBuffer.prototype.writeUint8=function(w,C){this.bytes_[w]=C},S.ByteBuffer.prototype.writeInt16=function(w,C){this.bytes_[w]=C,this.bytes_[w+1]=C>>8},S.ByteBuffer.prototype.writeUint16=function(w,C){this.bytes_[w]=C,this.bytes_[w+1]=C>>8},S.ByteBuffer.prototype.writeInt32=function(w,C){this.bytes_[w]=C,this.bytes_[w+1]=C>>8,this.bytes_[w+2]=C>>16,this.bytes_[w+3]=C>>24},S.ByteBuffer.prototype.writeUint32=function(w,C){this.bytes_[w]=C,this.bytes_[w+1]=C>>8,this.bytes_[w+2]=C>>16,this.bytes_[w+3]=C>>24},S.ByteBuffer.prototype.writeInt64=function(w,C){this.writeInt32(w,C.low),this.writeInt32(w+4,C.high)},S.ByteBuffer.prototype.writeUint64=function(w,C){this.writeUint32(w,C.low),this.writeUint32(w+4,C.high)},S.ByteBuffer.prototype.writeFloat32=function(w,C){S.float32[0]=C,this.writeInt32(w,S.int32[0])},S.ByteBuffer.prototype.writeFloat64=function(w,C){S.float64[0]=C,this.writeInt32(w,S.int32[S.isLittleEndian?0:1]),this.writeInt32(w+4,S.int32[S.isLittleEndian?1:0])},S.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+S.SIZEOF_INT+S.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var w="",C=0;C<S.FILE_IDENTIFIER_LENGTH;C++)w+=String.fromCharCode(this.readInt8(this.position_+S.SIZEOF_INT+C));return w},S.ByteBuffer.prototype.__offset=function(w,C){var b=w-this.readInt32(w);return C<this.readInt16(b)?this.readInt16(b+C):0},S.ByteBuffer.prototype.__union=function(w,C){return w.bb_pos=C+this.readInt32(C),w.bb=this,w},S.ByteBuffer.prototype.__string=function(w,C){w+=this.readInt32(w);var b=this.readInt32(w),v="",p=0;if(w+=S.SIZEOF_INT,C===S.Encoding.UTF8_BYTES)return this.bytes_.subarray(w,w+b);for(;p<b;){var m,f=this.readUint8(w+p++);if(f<192)m=f;else{var c=this.readUint8(w+p++);if(f<224)m=(31&f)<<6|63&c;else{var a=this.readUint8(w+p++);m=f<240?(15&f)<<12|(63&c)<<6|63&a:(7&f)<<18|(63&c)<<12|(63&a)<<6|63&this.readUint8(w+p++)}}m<65536?v+=String.fromCharCode(m):(m-=65536,v+=String.fromCharCode(55296+(m>>10),56320+(1023&m)))}return v},S.ByteBuffer.prototype.__indirect=function(w){return w+this.readInt32(w)},S.ByteBuffer.prototype.__vector=function(w){return w+this.readInt32(w)+S.SIZEOF_INT},S.ByteBuffer.prototype.__vector_len=function(w){return this.readInt32(w+this.readInt32(w))},S.ByteBuffer.prototype.__has_identifier=function(w){if(w.length!=S.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+S.FILE_IDENTIFIER_LENGTH);for(var C=0;C<S.FILE_IDENTIFIER_LENGTH;C++)if(w.charCodeAt(C)!=this.readInt8(this.position_+S.SIZEOF_INT+C))return!1;return!0},S.ByteBuffer.prototype.createLong=function(w,C){return S.Long.create(w,C)}}},__webpack_module_cache__={};function __nested_webpack_require_606622__(z){var u=__webpack_module_cache__[z];if(void 0!==u)return u.exports;var g=__webpack_module_cache__[z]={exports:{}};return __webpack_modules__[z].call(g.exports,g,g.exports,__nested_webpack_require_606622__),g.exports}__nested_webpack_require_606622__.n=z=>{var u=z&&z.__esModule?()=>z.default:()=>z;return __nested_webpack_require_606622__.d(u,{a:u}),u},__nested_webpack_require_606622__.d=(z,u)=>{for(var g in u)__nested_webpack_require_606622__.o(u,g)&&!__nested_webpack_require_606622__.o(z,g)&&Object.defineProperty(z,g,{enumerable:!0,get:u[g]})},__nested_webpack_require_606622__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),__nested_webpack_require_606622__.o=(z,u)=>Object.prototype.hasOwnProperty.call(z,u),__nested_webpack_require_606622__.r=z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})};var __nested_webpack_exports__=__nested_webpack_require_606622__(1057);return __nested_webpack_exports__})(),module.exports=t()},4155:z=>{var u,g,S=z.exports={};function w(){throw new Error("setTimeout has not been defined")}function C(){throw new Error("clearTimeout has not been defined")}function b(_){if(u===setTimeout)return setTimeout(_,0);if((u===w||!u)&&setTimeout)return u=setTimeout,setTimeout(_,0);try{return u(_,0)}catch{try{return u.call(null,_,0)}catch{return u.call(this,_,0)}}}!function(){try{u="function"==typeof setTimeout?setTimeout:w}catch{u=w}try{g="function"==typeof clearTimeout?clearTimeout:C}catch{g=C}}();var v,p=[],m=!1,f=-1;function c(){m&&v&&(m=!1,v.length?p=v.concat(p):f=-1,p.length&&a())}function a(){if(!m){var _=b(c);m=!0;for(var x=p.length;x;){for(v=p,p=[];++f<x;)v&&v[f].run();f=-1,x=p.length}v=null,m=!1,function(D){if(g===clearTimeout)return clearTimeout(D);if((g===C||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(D);try{return g(D)}catch{try{return g.call(null,D)}catch{return g.call(this,D)}}}(_)}}function d(_,x){this.fun=_,this.array=x}function h(){}S.nextTick=function(_){var x=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)x[D-1]=arguments[D];p.push(new d(_,x)),1!==p.length||m||b(a)},d.prototype.run=function(){this.fun.apply(null,this.array)},S.title="browser",S.browser=!0,S.env={},S.argv=[],S.version="",S.versions={},S.on=h,S.addListener=h,S.once=h,S.off=h,S.removeListener=h,S.removeAllListeners=h,S.emit=h,S.prependListener=h,S.prependOnceListener=h,S.listeners=function(_){return[]},S.binding=function(_){throw new Error("process.binding is not supported")},S.cwd=function(){return"/"},S.chdir=function(_){throw new Error("process.chdir is not supported")},S.umask=function(){return 0}},3399:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Collector=void 0;var S=g(6486),w=g(3701),b=function(){function v(){var f,c;(function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")})(this,v),c=void 0,(f="data")in this?Object.defineProperty(this,f,{value:c,enumerable:!0,configurable:!0,writable:!0}):this[f]=c,this.data=[]}var m;return(m=[{key:"get",value:function(f){return(0,w.findExistingMetric)(f,this.data)}},{key:"set",value:function(f,c){var a=(0,w.findExistingMetric)(c,this.data);return a?a.value=f:this.data.push({labels:c,value:f}),this}},{key:"collect",value:function(f){return(0,S.filter)(this.data,function(c){return(0,S.matches)(f)(c.labels)})}},{key:"resetAll",value:function(){var f=this;return(0,S.each)(this.data,function(c){f.reset(c.labels)}),this}}])&&function C(v,p){for(var m=0;m<p.length;m++){var f=p[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(v,f.key,f)}}(v.prototype,m),v}();u.Collector=b},4486:(z,u,g)=>{"use strict";function S(p){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function C(p){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(p)}function b(p,m){return(b=Object.setPrototypeOf||function(f,c){return f.__proto__=c,f})(p,m)}Object.defineProperty(u,"__esModule",{value:!0}),u.Counter=void 0;var v=function(p){function m(){return function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}(this,m),this,!(d=C(m).apply(this,arguments))||"object"!==S(d)&&"function"!=typeof d?function(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(this):d;var d}var c;return function(a,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),d&&b(a,d)}(m,p),(c=[{key:"inc",value:function(a){return this.add(1,a),this}},{key:"add",value:function(a,d){if(a<0)throw new Error("Expected increment amount to be greater than -1. Received: ".concat(a));var h=this.get(d);return this.set(h?h.value+a:a,d),this}},{key:"reset",value:function(a){this.set(0,a)}}])&&function w(p,m){for(var f=0;f<m.length;f++){var c=m[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}(m.prototype,c),m}(g(3399).Collector);u.Counter=v},1993:(z,u,g)=>{"use strict";function S(p){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function C(p){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(p)}function b(p,m){return(b=Object.setPrototypeOf||function(f,c){return f.__proto__=c,f})(p,m)}Object.defineProperty(u,"__esModule",{value:!0}),u.Gauge=void 0;var v=function(p){function m(){return function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}(this,m),this,!(d=C(m).apply(this,arguments))||"object"!==S(d)&&"function"!=typeof d?function(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(this):d;var d}var c;return function(a,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),d&&b(a,d)}(m,p),(c=[{key:"dec",value:function(a){var d=this.get(a);return this.set(d?d.value-1:0,a),this}},{key:"sub",value:function(a,d){var h=this.get(d);return this.set(h?h.value-a:0,d),this}}])&&function w(p,m){for(var f=0;f<m.length;f++){var c=m[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}(m.prototype,c),m}(g(4486).Counter);u.Gauge=v},8215:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Histogram=void 0;var S=g(6486);function w(c){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function b(c){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(c)}function v(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function p(c,a){return(p=Object.setPrototypeOf||function(d,h){return d.__proto__=h,d})(c,a)}function m(c){return{entries:(0,S.reduce)(c,function(a,d){return a[d.toString()]=0,a},{"+Inf":0}),sum:0,count:0,raw:[]}}var f=function(c){function a(){var _,x,D,I,P,A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}(this,a),this,_=!(P=b(a).call(this))||"object"!==w(P)&&"function"!=typeof P?v(this):P,I=void 0,(D="buckets")in(x=v(_))?Object.defineProperty(x,D,{value:I,enumerable:!0,configurable:!0,writable:!0}):x[D]=I,_.buckets=A.sort(function(R,P){return R>P?1:-1}),_.set(m(_.buckets)),_.observe=_.observe.bind(v(_)),_}var h;return function(_,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),x&&p(_,x)}(a,c),(h=[{key:"observe",value:function(_,x){var D=this.get(x);null==D&&(D=this.set(m(this.buckets),x).get(x)),D.value.raw.push(_),D.value.entries["+Inf"]+=1;var I=function(P,k){if(k<P[P.length-1])for(var B=0;B<P.length;B+=1)if(k<=P[B])return B}(this.buckets,_);if(null!=I)for(var A=I;A<this.buckets.length;A+=1){var R=D.value.entries[this.buckets[A].toString()];D.value.entries[this.buckets[A].toString()]=R+1}return D.value.sum=(0,S.sum)(D.value.raw),D.value.count+=1,this}},{key:"reset",value:function(_){this.set(m(this.buckets),_)}}])&&function C(c,a){for(var d=0;d<a.length;d++){var h=a[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}(a.prototype,h),a}(g(3399).Collector);u.Histogram=f},4427:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});var S={};u.default=void 0;var w=g(4961),C=g(5262);Object.keys(C).forEach(function(b){"default"!==b&&"__esModule"!==b&&(Object.prototype.hasOwnProperty.call(S,b)||Object.defineProperty(u,b,{enumerable:!0,get:function(){return C[b]}}))}),u.default=function(){return new w.Registry}},4961:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Registry=void 0;var S=g(6486),w=g(4486),C=g(1993),b=g(8215),v=g(3701),m=function(){function f(){var d,h;(function(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")})(this,f),h=void 0,(d="data")in this?Object.defineProperty(this,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):this[d]=h,this.data={counter:{},gauge:{},histogram:{}}}var a;return a=[{key:"validateInput",value:function(d,h,_,x){if(""===String(h))throw new Error("Metric name cannot be empty");if(-1===["counter","gauge","histogram"].indexOf(d))throw new Error("Unknown metric type ".concat(d));if("string"!=typeof _&&null!=_)throw new Error("help must be string or undefined/null");if((0,S.has)(this.data,"".concat(d,".").concat(h)))throw new Error("A metric with the name '".concat(h,"' already exists for type '").concat(d,"'"));if(!Array.isArray(x)&&null!=x)throw new Error("buckets must be array or undefined/null")}},{key:"create",value:function(d,h){var _,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",D=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return this.validateInput(d,h,x,D),"counter"===d?(_=new w.Counter,this.data.counter[h]={help:x,instance:_,type:d}):"gauge"===d?(_=new C.Gauge,this.data.gauge[h]={help:x,instance:_,type:d}):(_=new b.Histogram(D),this.data.histogram[h]={help:x,instance:_,type:d}),_}},{key:"metrics",value:function(){return(0,S.reduce)(this.data,function(d,h,_){return d+(0,S.reduce)(h,function(x,D,I){var A=D.instance.collect(),R=x;return D.help.length>0&&(R+="# HELP ".concat(I," ").concat(D.help,"\n")),(R+="# TYPE ".concat(I," ").concat(_,"\n"))+(0,S.reduce)(A,function(P,k){return P+("histogram"===_?(0,v.formatHistogramOrSummary)(I,k):(0,v.formatCounterOrGauge)(I,k))},"")},"")},"")}},{key:"reset",value:function(){return(0,S.each)(this.data,function(d){(0,S.each)(d,function(h){h.instance.resetAll()})}),this}},{key:"clear",value:function(){return this.data={counter:{},gauge:{},histogram:{}},this}},{key:"get",value:function(d,h){var _=(null!=d?[this.data[d]]:(0,S.valuesIn)(this.data)).find(function(x){return(0,S.has)(x,h)});return _?.[h].instance}}],a&&function p(f,c){for(var a=0;a<c.length;a++){var d=c[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}(f.prototype,a),f}();u.Registry=m},5262:()=>{},3701:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.formatHistogramOrSummary=function(w,C){var f,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"le",v="",p=0===(f=(0,S.map)(C.labels,function(c,a){return"".concat(a,'="').concat(c,'"')})).length?"":"".concat(f.join(","));return p.length>0?(v+="".concat(w,"_count{").concat(p,"} ").concat(C.value.count,"\n"),v+="".concat(w,"_sum{").concat(p,"} ").concat(C.value.sum,"\n")):(v+="".concat(w,"_count ").concat(C.value.count,"\n"),v+="".concat(w,"_sum ").concat(C.value.sum,"\n")),(0,S.reduce)(C.value.entries,function(m,f,c){return v+=p.length>0?"".concat(w,"_bucket{").concat(b,'="').concat(c,'",').concat(p,"} ").concat(f,"\n"):"".concat(w,"_bucket{").concat(b,'="').concat(c,'"} ').concat(f,"\n")},v)},u.findExistingMetric=function(w){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return w?(0,S.find)(C,function(b){return(0,S.isEqual)(b.labels,w)}):C[0]},u.formatCounterOrGauge=function(w,C){var b=" ".concat(C.value.toString());if(null==C.labels||0===Object.keys(C.labels).length)return"".concat(w).concat(b,"\n");var v=(0,S.map)(C.labels,function(p,m){return"".concat(m,'="').concat(p,'"')});return"".concat(w,"{").concat(v.join(","),"}").concat(b,"\n")};var S=g(6486)},4375:(z,u,g)=>{let S;z.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:g.g):w=>(S||(S=Promise.resolve())).then(w).catch(C=>setTimeout(()=>{throw C},0))},1798:(z,u,g)=>{"use strict";var S=g(4155),w=65536,C=g(9509).Buffer,b=g.g.crypto||g.g.msCrypto;z.exports=b&&b.getRandomValues?function(v,p){if(v>4294967295)throw new RangeError("requested too many random bytes");var m=C.allocUnsafe(v);if(v>0)if(v>w)for(var f=0;f<v;f+=w)b.getRandomValues(m.slice(f,f+w));else b.getRandomValues(m);return"function"==typeof p?S.nextTick(function(){p(null,m)}):m}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},4281:z=>{"use strict";var u={};function g(w,C,b){b||(b=Error);var v=function(p){var m,f;function c(a,d,h){return p.call(this,"string"==typeof C?C:C(a,d,h))||this}return f=p,(m=c).prototype=Object.create(f.prototype),m.prototype.constructor=m,m.__proto__=f,c}(b);v.prototype.name=b.name,v.prototype.code=w,u[w]=v}function S(w,C){if(Array.isArray(w)){var b=w.length;return w=w.map(function(v){return String(v)}),b>2?"one of ".concat(C," ").concat(w.slice(0,b-1).join(", "),", or ")+w[b-1]:2===b?"one of ".concat(C," ").concat(w[0]," or ").concat(w[1]):"of ".concat(C," ").concat(w[0])}return"of ".concat(C," ").concat(String(w))}g("ERR_INVALID_OPT_VALUE",function(w,C){return'The value "'+C+'" is invalid for option "'+w+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(w,C,b){var v,m,f,c,d,_;if("string"==typeof C&&"not "===C.substr(0,4)?(v="must not be",C=C.replace(/^not /,"")):v="must be",d=w,(void 0===_||_>d.length)&&(_=d.length)," argument"===d.substring(_-9,_))m="The ".concat(w," ").concat(v," ").concat(S(C,"type"));else{var a=("number"!=typeof c&&(c=0),c+1>(f=w).length||-1===f.indexOf(".",c)?"argument":"property");m='The "'.concat(w,'" ').concat(a," ").concat(v," ").concat(S(C,"type"))}return m+". Received type ".concat(typeof b)},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(w){return"The "+w+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(w){return"Cannot call "+w+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(w){return"Unknown encoding: "+w},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),z.exports.q=u},6753:(z,u,g)=>{"use strict";var S=g(4155),w=Object.keys||function(d){var h=[];for(var _ in d)h.push(_);return h};z.exports=f;var C=g(9481),b=g(4229);g(5717)(f,C);for(var v=w(b.prototype),p=0;p<v.length;p++){var m=v[p];f.prototype[m]||(f.prototype[m]=b.prototype[m])}function f(d){if(!(this instanceof f))return new f(d);C.call(this,d),b.call(this,d),this.allowHalfOpen=!0,d&&(!1===d.readable&&(this.readable=!1),!1===d.writable&&(this.writable=!1),!1===d.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||S.nextTick(a,this)}function a(d){d.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(d){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}})},2725:(z,u,g)=>{"use strict";z.exports=w;var S=g(4605);function w(C){if(!(this instanceof w))return new w(C);S.call(this,C)}g(5717)(w,S),w.prototype._transform=function(C,b,v){v(null,C)}},9481:(z,u,g)=>{"use strict";var S,w=g(4155);z.exports=j,j.ReadableState=V,g(7187);var C,b=function(Oe,ge){return Oe.listeners(ge).length},v=g(2503),p=g(8764).Buffer,m=g.g.Uint8Array||function(){},f=g(4616);C=f&&f.debuglog?f.debuglog("stream"):function(){};var c,a,d,h=g(7327),_=g(1195),x=g(2457).getHighWaterMark,D=g(4281).q,I=D.ERR_INVALID_ARG_TYPE,A=D.ERR_STREAM_PUSH_AFTER_EOF,R=D.ERR_METHOD_NOT_IMPLEMENTED,P=D.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;g(5717)(j,v);var k=_.errorOrDestroy,B=["error","close","destroy","pause","resume"];function V(Oe,ge,Je){S=S||g(6753),"boolean"!=typeof Je&&(Je=ge instanceof S),this.objectMode=!!(Oe=Oe||{}).objectMode,Je&&(this.objectMode=this.objectMode||!!Oe.readableObjectMode),this.highWaterMark=x(this,Oe,"readableHighWaterMark",Je),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==Oe.emitClose,this.autoDestroy=!!Oe.autoDestroy,this.destroyed=!1,this.defaultEncoding=Oe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Oe.encoding&&(c||(c=g(2553).s),this.decoder=new c(Oe.encoding),this.encoding=Oe.encoding)}function j(Oe){if(S=S||g(6753),!(this instanceof j))return new j(Oe);this._readableState=new V(Oe,this,this instanceof S),this.readable=!0,Oe&&("function"==typeof Oe.read&&(this._read=Oe.read),"function"==typeof Oe.destroy&&(this._destroy=Oe.destroy)),v.call(this)}function X(Oe,ge,Je,ht,$t){C("readableAddChunk",ge);var Ut,Gt,at,vn,Y,gt=Oe._readableState;if(null===ge)gt.reading=!1,function(Gt,at){if(C("onEofChunk"),!at.ended){if(at.decoder){var vn=at.decoder.end();vn&&vn.length&&(at.buffer.push(vn),at.length+=at.objectMode?1:vn.length)}at.ended=!0,at.sync?he(Gt):(at.needReadable=!1,at.emittedReadable||(at.emittedReadable=!0,Pe(Gt)))}}(Oe,gt);else if($t||(Gt=gt,p.isBuffer(Y=at=ge)||Y instanceof m||"string"==typeof at||void 0===at||Gt.objectMode||(vn=new I("chunk",["string","Buffer","Uint8Array"],at)),Ut=vn),Ut)k(Oe,Ut);else if(gt.objectMode||ge&&ge.length>0)if("string"==typeof ge||gt.objectMode||Object.getPrototypeOf(ge)===p.prototype||(ge=function(Gt){return p.from(Gt)}(ge)),ht)gt.endEmitted?k(Oe,new P):Q(Oe,gt,ge,!0);else if(gt.ended)k(Oe,new A);else{if(gt.destroyed)return!1;gt.reading=!1,gt.decoder&&!Je?(ge=gt.decoder.write(ge),gt.objectMode||0!==ge.length?Q(Oe,gt,ge,!1):ie(Oe,gt)):Q(Oe,gt,ge,!1)}else ht||(gt.reading=!1,ie(Oe,gt));return!gt.ended&&(gt.length<gt.highWaterMark||0===gt.length)}function Q(Oe,ge,Je,ht){ge.flowing&&0===ge.length&&!ge.sync?(ge.awaitDrain=0,Oe.emit("data",Je)):(ge.length+=ge.objectMode?1:Je.length,ht?ge.buffer.unshift(Je):ge.buffer.push(Je),ge.needReadable&&he(Oe)),ie(Oe,ge)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Oe){this._readableState&&(this._readableState.destroyed=Oe)}}),j.prototype.destroy=_.destroy,j.prototype._undestroy=_.undestroy,j.prototype._destroy=function(Oe,ge){ge(Oe)},j.prototype.push=function(Oe,ge){var Je,ht=this._readableState;return ht.objectMode?Je=!0:"string"==typeof Oe&&((ge=ge||ht.defaultEncoding)!==ht.encoding&&(Oe=p.from(Oe,ge),ge=""),Je=!0),X(this,Oe,ge,!1,Je)},j.prototype.unshift=function(Oe){return X(this,Oe,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(Oe){c||(c=g(2553).s);var ge=new c(Oe);this._readableState.decoder=ge,this._readableState.encoding=this._readableState.decoder.encoding;for(var Je=this._readableState.buffer.head,ht="";null!==Je;)ht+=ge.write(Je.data),Je=Je.next;return this._readableState.buffer.clear(),""!==ht&&this._readableState.buffer.push(ht),this._readableState.length=ht.length,this};var Z=1073741824;function de(Oe,ge){return Oe<=0||0===ge.length&&ge.ended?0:ge.objectMode?1:Oe!=Oe?ge.flowing&&ge.length?ge.buffer.head.data.length:ge.length:(Oe>ge.highWaterMark&&(ge.highWaterMark=((Je=Oe)>=Z?Je=Z:(Je--,Je|=Je>>>1,Je|=Je>>>2,Je|=Je>>>4,Je|=Je>>>8,Je|=Je>>>16,Je++),Je)),Oe<=ge.length?Oe:ge.ended?ge.length:(ge.needReadable=!0,0));var Je}function he(Oe){var ge=Oe._readableState;C("emitReadable",ge.needReadable,ge.emittedReadable),ge.needReadable=!1,ge.emittedReadable||(C("emitReadable",ge.flowing),ge.emittedReadable=!0,w.nextTick(Pe,Oe))}function Pe(Oe){var ge=Oe._readableState;C("emitReadable_",ge.destroyed,ge.length,ge.ended),ge.destroyed||!ge.length&&!ge.ended||(Oe.emit("readable"),ge.emittedReadable=!1),ge.needReadable=!ge.flowing&&!ge.ended&&ge.length<=ge.highWaterMark,et(Oe)}function ie(Oe,ge){ge.readingMore||(ge.readingMore=!0,w.nextTick(ue,Oe,ge))}function ue(Oe,ge){for(;!ge.reading&&!ge.ended&&(ge.length<ge.highWaterMark||ge.flowing&&0===ge.length);){var Je=ge.length;if(C("maybeReadMore read 0"),Oe.read(0),Je===ge.length)break}ge.readingMore=!1}function Fe(Oe){var ge=Oe._readableState;ge.readableListening=Oe.listenerCount("readable")>0,ge.resumeScheduled&&!ge.paused?ge.flowing=!0:Oe.listenerCount("data")>0&&Oe.resume()}function Ye(Oe){C("readable nexttick read 0"),Oe.read(0)}function dt(Oe,ge){C("resume",ge.reading),ge.reading||Oe.read(0),ge.resumeScheduled=!1,Oe.emit("resume"),et(Oe),ge.flowing&&!ge.reading&&Oe.read(0)}function et(Oe){var ge=Oe._readableState;for(C("flow",ge.flowing);ge.flowing&&null!==Oe.read(););}function ft(Oe,ge){return 0===ge.length?null:(ge.objectMode?Je=ge.buffer.shift():!Oe||Oe>=ge.length?(Je=ge.decoder?ge.buffer.join(""):1===ge.buffer.length?ge.buffer.first():ge.buffer.concat(ge.length),ge.buffer.clear()):Je=ge.buffer.consume(Oe,ge.decoder),Je);var Je}function Rt(Oe){var ge=Oe._readableState;C("endReadable",ge.endEmitted),ge.endEmitted||(ge.ended=!0,w.nextTick(pt,ge,Oe))}function pt(Oe,ge){if(C("endReadableNT",Oe.endEmitted,Oe.length),!Oe.endEmitted&&0===Oe.length&&(Oe.endEmitted=!0,ge.readable=!1,ge.emit("end"),Oe.autoDestroy)){var Je=ge._writableState;(!Je||Je.autoDestroy&&Je.finished)&&ge.destroy()}}function Ht(Oe,ge){for(var Je=0,ht=Oe.length;Je<ht;Je++)if(Oe[Je]===ge)return Je;return-1}j.prototype.read=function(Oe){C("read",Oe),Oe=parseInt(Oe,10);var ge=this._readableState,Je=Oe;if(0!==Oe&&(ge.emittedReadable=!1),0===Oe&&ge.needReadable&&((0!==ge.highWaterMark?ge.length>=ge.highWaterMark:ge.length>0)||ge.ended))return C("read: emitReadable",ge.length,ge.ended),0===ge.length&&ge.ended?Rt(this):he(this),null;if(0===(Oe=de(Oe,ge))&&ge.ended)return 0===ge.length&&Rt(this),null;var ht,$t=ge.needReadable;return C("need readable",$t),(0===ge.length||ge.length-Oe<ge.highWaterMark)&&C("length less than watermark",$t=!0),ge.ended||ge.reading?C("reading or ended",$t=!1):$t&&(C("do read"),ge.reading=!0,ge.sync=!0,0===ge.length&&(ge.needReadable=!0),this._read(ge.highWaterMark),ge.sync=!1,ge.reading||(Oe=de(Je,ge))),null===(ht=Oe>0?ft(Oe,ge):null)?(ge.needReadable=ge.length<=ge.highWaterMark,Oe=0):(ge.length-=Oe,ge.awaitDrain=0),0===ge.length&&(ge.ended||(ge.needReadable=!0),Je!==Oe&&ge.ended&&Rt(this)),null!==ht&&this.emit("data",ht),ht},j.prototype._read=function(Oe){k(this,new R("_read()"))},j.prototype.pipe=function(Oe,ge){var Je=this,ht=this._readableState;switch(ht.pipesCount){case 0:ht.pipes=Oe;break;case 1:ht.pipes=[ht.pipes,Oe];break;default:ht.pipes.push(Oe)}ht.pipesCount+=1,C("pipe count=%d opts=%j",ht.pipesCount,ge);var $t=ge&&!1===ge.end||Oe===w.stdout||Oe===w.stderr?F:Ut;function Ut(){C("onend"),Oe.end()}ht.endEmitted?w.nextTick($t):Je.once("end",$t),Oe.on("unpipe",function U(G,J){C("onunpipe"),G===Je&&J&&!1===J.hasUnpiped&&(J.hasUnpiped=!0,C("cleanup"),Oe.removeListener("close",Y),Oe.removeListener("finish",Se),Oe.removeListener("drain",gt),Oe.removeListener("error",vn),Oe.removeListener("unpipe",U),Je.removeListener("end",Ut),Je.removeListener("end",F),Je.removeListener("data",at),Gt=!0,!ht.awaitDrain||Oe._writableState&&!Oe._writableState.needDrain||gt())});var gt=function(U){return function(){var G=U._readableState;C("pipeOnDrain",G.awaitDrain),G.awaitDrain&&G.awaitDrain--,0===G.awaitDrain&&b(U,"data")&&(G.flowing=!0,et(U))}}(Je);Oe.on("drain",gt);var Gt=!1;function at(U){C("ondata");var G=Oe.write(U);C("dest.write",G),!1===G&&((1===ht.pipesCount&&ht.pipes===Oe||ht.pipesCount>1&&-1!==Ht(ht.pipes,Oe))&&!Gt&&(C("false write response, pause",ht.awaitDrain),ht.awaitDrain++),Je.pause())}function vn(U){C("onerror",U),F(),Oe.removeListener("error",vn),0===b(Oe,"error")&&k(Oe,U)}function Y(){Oe.removeListener("finish",Se),F()}function Se(){C("onfinish"),Oe.removeListener("close",Y),F()}function F(){C("unpipe"),Je.unpipe(Oe)}return Je.on("data",at),function(U,G,J){if("function"==typeof U.prependListener)return U.prependListener(G,J);U._events&&U._events[G]?Array.isArray(U._events[G])?U._events[G].unshift(J):U._events[G]=[J,U._events[G]]:U.on(G,J)}(Oe,"error",vn),Oe.once("close",Y),Oe.once("finish",Se),Oe.emit("pipe",Je),ht.flowing||(C("pipe resume"),Je.resume()),Oe},j.prototype.unpipe=function(Oe){var ge=this._readableState,Je={hasUnpiped:!1};if(0===ge.pipesCount)return this;if(1===ge.pipesCount)return Oe&&Oe!==ge.pipes||(Oe||(Oe=ge.pipes),ge.pipes=null,ge.pipesCount=0,ge.flowing=!1,Oe&&Oe.emit("unpipe",this,Je)),this;if(!Oe){var ht=ge.pipes,$t=ge.pipesCount;ge.pipes=null,ge.pipesCount=0,ge.flowing=!1;for(var Ut=0;Ut<$t;Ut++)ht[Ut].emit("unpipe",this,{hasUnpiped:!1});return this}var gt=Ht(ge.pipes,Oe);return-1===gt||(ge.pipes.splice(gt,1),ge.pipesCount-=1,1===ge.pipesCount&&(ge.pipes=ge.pipes[0]),Oe.emit("unpipe",this,Je)),this},j.prototype.addListener=j.prototype.on=function(Oe,ge){var Je=v.prototype.on.call(this,Oe,ge),ht=this._readableState;return"data"===Oe?(ht.readableListening=this.listenerCount("readable")>0,!1!==ht.flowing&&this.resume()):"readable"===Oe&&(ht.endEmitted||ht.readableListening||(ht.readableListening=ht.needReadable=!0,ht.flowing=!1,ht.emittedReadable=!1,C("on readable",ht.length,ht.reading),ht.length?he(this):ht.reading||w.nextTick(Ye,this))),Je},j.prototype.removeListener=function(Oe,ge){var Je=v.prototype.removeListener.call(this,Oe,ge);return"readable"===Oe&&w.nextTick(Fe,this),Je},j.prototype.removeAllListeners=function(Oe){var ge=v.prototype.removeAllListeners.apply(this,arguments);return"readable"!==Oe&&void 0!==Oe||w.nextTick(Fe,this),ge},j.prototype.resume=function(){var Je,Oe=this._readableState;return Oe.flowing||(C("resume"),Oe.flowing=!Oe.readableListening,this,(Je=Oe).resumeScheduled||(Je.resumeScheduled=!0,w.nextTick(dt,this,Je))),Oe.paused=!1,this},j.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(Oe){var ge=this,Je=this._readableState,ht=!1;for(var $t in Oe.on("end",function(){if(C("wrapped end"),Je.decoder&&!Je.ended){var gt=Je.decoder.end();gt&&gt.length&&ge.push(gt)}ge.push(null)}),Oe.on("data",function(gt){C("wrapped data"),Je.decoder&&(gt=Je.decoder.write(gt)),Je.objectMode&&null==gt||(Je.objectMode||gt&&gt.length)&&(ge.push(gt)||(ht=!0,Oe.pause()))}),Oe)void 0===this[$t]&&"function"==typeof Oe[$t]&&(this[$t]=function(gt){return function(){return Oe[gt].apply(Oe,arguments)}}($t));for(var Ut=0;Ut<B.length;Ut++)Oe.on(B[Ut],this.emit.bind(this,B[Ut]));return this._read=function(gt){C("wrapped _read",gt),ht&&(ht=!1,Oe.resume())},this},"function"==typeof Symbol&&(j.prototype[Symbol.asyncIterator]=function(){return void 0===a&&(a=g(5850)),a(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Oe){this._readableState&&(this._readableState.flowing=Oe)}}),j._fromList=ft,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(j.from=function(Oe,ge){return void 0===d&&(d=g(5167)),d(j,Oe,ge)})},4605:(z,u,g)=>{"use strict";z.exports=f;var S=g(4281).q,w=S.ERR_METHOD_NOT_IMPLEMENTED,C=S.ERR_MULTIPLE_CALLBACK,b=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,v=S.ERR_TRANSFORM_WITH_LENGTH_0,p=g(6753);function m(d,h){var _=this._transformState;_.transforming=!1;var x=_.writecb;if(null===x)return this.emit("error",new C);_.writechunk=null,_.writecb=null,null!=h&&this.push(h),x(d);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function f(d){if(!(this instanceof f))return new f(d);p.call(this,d),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&("function"==typeof d.transform&&(this._transform=d.transform),"function"==typeof d.flush&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;"function"!=typeof this._flush||this._readableState.destroyed?a(this,null,null):this._flush(function(h,_){a(d,h,_)})}function a(d,h,_){if(h)return d.emit("error",h);if(null!=_&&d.push(_),d._writableState.length)throw new v;if(d._transformState.transforming)throw new b;return d.push(null)}g(5717)(f,p),f.prototype.push=function(d,h){return this._transformState.needTransform=!1,p.prototype.push.call(this,d,h)},f.prototype._transform=function(d,h,_){_(new w("_transform()"))},f.prototype._write=function(d,h,_){var x=this._transformState;if(x.writecb=_,x.writechunk=d,x.writeencoding=h,!x.transforming){var D=this._readableState;(x.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},f.prototype._read=function(d){var h=this._transformState;null===h.writechunk||h.transforming?h.needTransform=!0:(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform))},f.prototype._destroy=function(d,h){p.prototype._destroy.call(this,d,function(_){h(_)})}},4229:(z,u,g)=>{"use strict";var S,w=g(4155);function C(ie){var ue=this;this.next=null,this.entry=null,this.finish=function(){!function(Fe,Ye,dt){var et=Fe.entry;for(Fe.entry=null;et;){var ft=et.callback;Ye.pendingcb--,ft(void 0),et=et.next}Ye.corkedRequestsFree.next=Fe}(ue,ie)}}z.exports=j,j.WritableState=V;var b,v={deprecate:g(4927)},p=g(2503),m=g(8764).Buffer,f=g.g.Uint8Array||function(){},c=g(1195),a=g(2457).getHighWaterMark,d=g(4281).q,h=d.ERR_INVALID_ARG_TYPE,_=d.ERR_METHOD_NOT_IMPLEMENTED,x=d.ERR_MULTIPLE_CALLBACK,D=d.ERR_STREAM_CANNOT_PIPE,I=d.ERR_STREAM_DESTROYED,A=d.ERR_STREAM_NULL_VALUES,R=d.ERR_STREAM_WRITE_AFTER_END,P=d.ERR_UNKNOWN_ENCODING,k=c.errorOrDestroy;function B(){}function V(ie,ue,Fe){S=S||g(6753),"boolean"!=typeof Fe&&(Fe=ue instanceof S),this.objectMode=!!(ie=ie||{}).objectMode,Fe&&(this.objectMode=this.objectMode||!!ie.writableObjectMode),this.highWaterMark=a(this,ie,"writableHighWaterMark",Fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ie.decodeStrings),this.defaultEncoding=ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(dt){!function(et,ft){var ge,Rt=et._writableState,pt=Rt.sync,Ht=Rt.writecb;if("function"!=typeof Ht)throw new x;if((ge=Rt).writing=!1,ge.writecb=null,ge.length-=ge.writelen,ge.writelen=0,ft)!function(ge,Je,ht,$t,Ut){--Je.pendingcb,ht?(w.nextTick(Ut,$t),w.nextTick(Pe,ge,Je),ge._writableState.errorEmitted=!0,k(ge,$t)):(Ut($t),ge._writableState.errorEmitted=!0,k(ge,$t),Pe(ge,Je))}(et,Rt,pt,ft,Ht);else{var Oe=de(Rt)||et.destroyed;Oe||Rt.corked||Rt.bufferProcessing||!Rt.bufferedRequest||Z(et,Rt),pt?w.nextTick(Q,et,Rt,Oe,Ht):Q(et,Rt,Oe,Ht)}}(ue,dt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==ie.emitClose,this.autoDestroy=!!ie.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new C(this)}function j(ie){var ue=this instanceof(S=S||g(6753));if(!ue&&!b.call(j,this))return new j(ie);this._writableState=new V(ie,this,ue),this.writable=!0,ie&&("function"==typeof ie.write&&(this._write=ie.write),"function"==typeof ie.writev&&(this._writev=ie.writev),"function"==typeof ie.destroy&&(this._destroy=ie.destroy),"function"==typeof ie.final&&(this._final=ie.final)),p.call(this)}function X(ie,ue,Fe,Ye,dt,et,ft){ue.writelen=Ye,ue.writecb=ft,ue.writing=!0,ue.sync=!0,ue.destroyed?ue.onwrite(new I("write")):Fe?ie._writev(dt,ue.onwrite):ie._write(dt,et,ue.onwrite),ue.sync=!1}function Q(ie,ue,Fe,Ye){var dt,et;Fe||(dt=ie,0===(et=ue).length&&et.needDrain&&(et.needDrain=!1,dt.emit("drain"))),ue.pendingcb--,Ye(),Pe(ie,ue)}function Z(ie,ue){ue.bufferProcessing=!0;var Fe=ue.bufferedRequest;if(ie._writev&&Fe&&Fe.next){var dt=new Array(ue.bufferedRequestCount),et=ue.corkedRequestsFree;et.entry=Fe;for(var ft=0,Rt=!0;Fe;)dt[ft]=Fe,Fe.isBuf||(Rt=!1),Fe=Fe.next,ft+=1;dt.allBuffers=Rt,X(ie,ue,!0,ue.length,dt,"",et.finish),ue.pendingcb++,ue.lastBufferedRequest=null,et.next?(ue.corkedRequestsFree=et.next,et.next=null):ue.corkedRequestsFree=new C(ue),ue.bufferedRequestCount=0}else{for(;Fe;){var pt=Fe.chunk;if(X(ie,ue,!1,ue.objectMode?1:pt.length,pt,Fe.encoding,Fe.callback),Fe=Fe.next,ue.bufferedRequestCount--,ue.writing)break}null===Fe&&(ue.lastBufferedRequest=null)}ue.bufferedRequest=Fe,ue.bufferProcessing=!1}function de(ie){return ie.ending&&0===ie.length&&null===ie.bufferedRequest&&!ie.finished&&!ie.writing}function he(ie,ue){ie._final(function(Fe){ue.pendingcb--,Fe&&k(ie,Fe),ue.prefinished=!0,ie.emit("prefinish"),Pe(ie,ue)})}function Pe(ie,ue){var dt,et,Fe=de(ue);if(Fe&&(dt=ie,(et=ue).prefinished||et.finalCalled||("function"!=typeof dt._final||et.destroyed?(et.prefinished=!0,dt.emit("prefinish")):(et.pendingcb++,et.finalCalled=!0,w.nextTick(he,dt,et))),0===ue.pendingcb&&(ue.finished=!0,ie.emit("finish"),ue.autoDestroy))){var Ye=ie._readableState;(!Ye||Ye.autoDestroy&&Ye.endEmitted)&&ie.destroy()}return Fe}g(5717)(j,p),V.prototype.getBuffer=function(){for(var ie=this.bufferedRequest,ue=[];ie;)ue.push(ie),ie=ie.next;return ue},function(){try{Object.defineProperty(V.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(ie){return!!b.call(this,ie)||this===j&&ie&&ie._writableState instanceof V}})):b=function(ie){return ie instanceof this},j.prototype.pipe=function(){k(this,new D)},j.prototype.write=function(ie,ue,Fe){var Ye,Rt,pt,Ht,dt=this._writableState,et=!1,ft=!dt.objectMode&&(m.isBuffer(Ye=ie)||Ye instanceof f);return ft&&!m.isBuffer(ie)&&(ie=m.from(ie)),"function"==typeof ue&&(Fe=ue,ue=null),ft?ue="buffer":ue||(ue=dt.defaultEncoding),"function"!=typeof Fe&&(Fe=B),dt.ending?(Rt=this,pt=Fe,Ht=new R,k(Rt,Ht),w.nextTick(pt,Ht)):(ft||function(Rt,pt,Ht,Oe){var ge;return null===Ht?ge=new A:"string"==typeof Ht||pt.objectMode||(ge=new h("chunk",["string","Buffer"],Ht)),!ge||(k(Rt,ge),w.nextTick(Oe,ge),!1)}(this,dt,ie,Fe))&&(dt.pendingcb++,et=function(Rt,pt,Ht,Oe,ge,Je){if(!Ht){var ht=(at=Oe,(Gt=pt).objectMode||!1===Gt.decodeStrings||"string"!=typeof at||(at=m.from(at,ge)),at);Oe!==ht&&(Ht=!0,ge="buffer",Oe=ht)}var Gt,at,$t=pt.objectMode?1:Oe.length;pt.length+=$t;var Ut=pt.length<pt.highWaterMark;if(Ut||(pt.needDrain=!0),pt.writing||pt.corked){var gt=pt.lastBufferedRequest;pt.lastBufferedRequest={chunk:Oe,encoding:ge,isBuf:Ht,callback:Je,next:null},gt?gt.next=pt.lastBufferedRequest:pt.bufferedRequest=pt.lastBufferedRequest,pt.bufferedRequestCount+=1}else X(Rt,pt,!1,$t,Oe,ge,Je);return Ut}(this,dt,ft,ie,ue,Fe)),et},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var ie=this._writableState;ie.corked&&(ie.corked--,ie.writing||ie.corked||ie.bufferProcessing||!ie.bufferedRequest||Z(this,ie))},j.prototype.setDefaultEncoding=function(ie){if("string"==typeof ie&&(ie=ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ie+"").toLowerCase())>-1))throw new P(ie);return this._writableState.defaultEncoding=ie,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function(ie,ue,Fe){Fe(new _("_write()"))},j.prototype._writev=null,j.prototype.end=function(ie,ue,Fe){var et,ft,Ye=this._writableState;return"function"==typeof ie?(Fe=ie,ie=null,ue=null):"function"==typeof ue&&(Fe=ue,ue=null),null!=ie&&this.write(ie,ue),Ye.corked&&(Ye.corked=1,this.uncork()),Ye.ending||(this,ft=Fe,(et=Ye).ending=!0,Pe(this,et),ft&&(et.finished?w.nextTick(ft):this.once("finish",ft)),et.ended=!0,this.writable=!1),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ie){this._writableState&&(this._writableState.destroyed=ie)}}),j.prototype.destroy=c.destroy,j.prototype._undestroy=c.undestroy,j.prototype._destroy=function(ie,ue){ue(ie)}},5850:(z,u,g)=>{"use strict";var S,w=g(4155);function C(A,R,P){return R in A?Object.defineProperty(A,R,{value:P,enumerable:!0,configurable:!0,writable:!0}):A[R]=P,A}var b=g(8610),v=Symbol("lastResolve"),p=Symbol("lastReject"),m=Symbol("error"),f=Symbol("ended"),c=Symbol("lastPromise"),a=Symbol("handlePromise"),d=Symbol("stream");function h(A,R){return{value:A,done:R}}function _(A){var R=A[v];if(null!==R){var P=A[d].read();null!==P&&(A[c]=null,A[v]=null,A[p]=null,R(h(P,!1)))}}function x(A){w.nextTick(_,A)}var D=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((C(S={get stream(){return this[d]},next:function(){var A=this,R=this[m];if(null!==R)return Promise.reject(R);if(this[f])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise(function(V,j){w.nextTick(function(){A[m]?j(A[m]):V(h(void 0,!0))})});var P,k=this[c];if(k)P=new Promise(function(V,j){return function(X,Q){V.then(function(){j[f]?X(h(void 0,!0)):j[a](X,Q)},Q)}}(k,this));else{var B=this[d].read();if(null!==B)return Promise.resolve(h(B,!1));P=new Promise(this[a])}return this[c]=P,P}},Symbol.asyncIterator,function(){return this}),C(S,"return",function(){var A=this;return new Promise(function(R,P){A[d].destroy(null,function(k){k?P(k):R(h(void 0,!0))})})}),S),D);z.exports=function(A){var R,P=Object.create(I,(C(R={},d,{value:A,writable:!0}),C(R,v,{value:null,writable:!0}),C(R,p,{value:null,writable:!0}),C(R,m,{value:null,writable:!0}),C(R,f,{value:A._readableState.endEmitted,writable:!0}),C(R,a,{value:function(k,B){var V=P[d].read();V?(P[c]=null,P[v]=null,P[p]=null,k(h(V,!1))):(P[v]=k,P[p]=B)},writable:!0}),R));return P[c]=null,b(A,function(k){if(k&&"ERR_STREAM_PREMATURE_CLOSE"!==k.code){var B=P[p];return null!==B&&(P[c]=null,P[v]=null,P[p]=null,B(k)),void(P[m]=k)}var V=P[v];null!==V&&(P[c]=null,P[v]=null,P[p]=null,V(h(void 0,!0))),P[f]=!0}),A.on("readable",x.bind(null,P)),P}},7327:(z,u,g)=>{"use strict";function S(m,f){var c=Object.keys(m);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(m);f&&(a=a.filter(function(d){return Object.getOwnPropertyDescriptor(m,d).enumerable})),c.push.apply(c,a)}return c}function w(m,f,c){return f in m?Object.defineProperty(m,f,{value:c,enumerable:!0,configurable:!0,writable:!0}):m[f]=c,m}var b=g(8764).Buffer,v=g(2361).inspect,p=v&&v.custom||"inspect";z.exports=function(){function m(){(function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var c;return c=[{key:"push",value:function(a){var d={data:a,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}},{key:"unshift",value:function(a){var d={data:a,next:this.head};0===this.length&&(this.tail=d),this.head=d,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(0===this.length)return"";for(var d=this.head,h=""+d.data;d=d.next;)h+=a+d.data;return h}},{key:"concat",value:function(a){if(0===this.length)return b.alloc(0);for(var x=b.allocUnsafe(a>>>0),D=this.head,I=0;D;)b.prototype.copy.call(D.data,x,I),I+=D.data.length,D=D.next;return x}},{key:"consume",value:function(a,d){var h;return a<this.head.data.length?(h=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):h=a===this.head.data.length?this.shift():d?this._getString(a):this._getBuffer(a),h}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var d=this.head,h=1,_=d.data;for(a-=_.length;d=d.next;){var x=d.data,D=a>x.length?x.length:a;if(_+=D===x.length?x:x.slice(0,a),0==(a-=D)){D===x.length?(++h,this.head=d.next?d.next:this.tail=null):(this.head=d,d.data=x.slice(D));break}++h}return this.length-=h,_}},{key:"_getBuffer",value:function(a){var d=b.allocUnsafe(a),h=this.head,_=1;for(h.data.copy(d),a-=h.data.length;h=h.next;){var x=h.data,D=a>x.length?x.length:a;if(x.copy(d,d.length-a,0,D),0==(a-=D)){D===x.length?(++_,this.head=h.next?h.next:this.tail=null):(this.head=h,h.data=x.slice(D));break}++_}return this.length-=_,d}},{key:p,value:function(a,d){return v(this,function(h){for(var _=1;_<arguments.length;_++){var x=null!=arguments[_]?arguments[_]:{};_%2?S(Object(x),!0).forEach(function(D){w(h,D,x[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(x)):S(Object(x)).forEach(function(D){Object.defineProperty(h,D,Object.getOwnPropertyDescriptor(x,D))})}return h}({},d,{depth:0,customInspect:!1}))}}],c&&function C(m,f){for(var c=0;c<f.length;c++){var a=f[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(m,a.key,a)}}(m.prototype,c),m}()},1195:(z,u,g)=>{"use strict";var S=g(4155);function w(v,p){b(v,p),C(v)}function C(v){v._writableState&&!v._writableState.emitClose||v._readableState&&!v._readableState.emitClose||v.emit("close")}function b(v,p){v.emit("error",p)}z.exports={destroy:function(v,p){var m=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(p?p(v):v&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.nextTick(b,this,v)):S.nextTick(b,this,v)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(v||null,function(a){!p&&a?m._writableState?m._writableState.errorEmitted?S.nextTick(C,m):(m._writableState.errorEmitted=!0,S.nextTick(w,m,a)):S.nextTick(w,m,a):p?(S.nextTick(C,m),p(a)):S.nextTick(C,m)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(v,p){var m=v._readableState,f=v._writableState;m&&m.autoDestroy||f&&f.autoDestroy?v.destroy(p):v.emit("error",p)}}},8610:(z,u,g)=>{"use strict";var S=g(4281).q.ERR_STREAM_PREMATURE_CLOSE;function w(){}z.exports=function C(b,v,p){if("function"==typeof v)return C(b,null,v);v||(v={}),p=function(A){var R=!1;return function(){if(!R){R=!0;for(var P=arguments.length,k=new Array(P),B=0;B<P;B++)k[B]=arguments[B];A.apply(this,k)}}}(p||w);var A,m=v.readable||!1!==v.readable&&b.readable,f=v.writable||!1!==v.writable&&b.writable,c=function(){b.writable||d()},a=b._writableState&&b._writableState.finished,d=function(){f=!1,a=!0,m||p.call(b)},h=b._readableState&&b._readableState.endEmitted,_=function(){m=!1,h=!0,f||p.call(b)},x=function(A){p.call(b,A)},D=function(){var A;return m&&!h?(b._readableState&&b._readableState.ended||(A=new S),p.call(b,A)):f&&!a?(b._writableState&&b._writableState.ended||(A=new S),p.call(b,A)):void 0},I=function(){b.req.on("finish",d)};return(A=b).setHeader&&"function"==typeof A.abort?(b.on("complete",d),b.on("abort",D),b.req?I():b.on("request",I)):f&&!b._writableState&&(b.on("end",c),b.on("close",c)),b.on("end",_),b.on("finish",d),!1!==v.error&&b.on("error",x),b.on("close",D),function(){b.removeListener("complete",d),b.removeListener("abort",D),b.removeListener("request",I),b.req&&b.req.removeListener("finish",d),b.removeListener("end",c),b.removeListener("close",c),b.removeListener("finish",d),b.removeListener("end",_),b.removeListener("error",x),b.removeListener("close",D)}}},5167:z=>{z.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(z,u,g)=>{"use strict";var S,w=g(4281).q,C=w.ERR_MISSING_ARGS,b=w.ERR_STREAM_DESTROYED;function v(f){if(f)throw f}function p(f){f()}function m(f,c){return f.pipe(c)}z.exports=function(){for(var f=arguments.length,c=new Array(f),a=0;a<f;a++)c[a]=arguments[a];var d,x,h=(x=c).length?"function"!=typeof x[x.length-1]?v:x.pop():v;if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new C("streams");var _=c.map(function(x,D){var I=D<c.length-1;return function(A,R,P,k){k=function(j){var X=!1;return function(){X||(X=!0,j.apply(void 0,arguments))}}(k);var B=!1;A.on("close",function(){B=!0}),void 0===S&&(S=g(8610)),S(A,{readable:R,writable:P},function(j){if(j)return k(j);B=!0,k()});var V=!1;return function(j){if(!B&&!V)return V=!0,(X=A).setHeader&&"function"==typeof X.abort?A.abort():"function"==typeof A.destroy?A.destroy():void k(j||new b("pipe"));var X}}(x,I,D>0,function(A){d||(d=A),A&&_.forEach(p),I||(_.forEach(p),h(d))})});return c.reduce(m)}},2457:(z,u,g)=>{"use strict";var S=g(4281).q.ERR_INVALID_OPT_VALUE;z.exports={getHighWaterMark:function(w,C,b,v){var m,p=null!=(m=C).highWaterMark?m.highWaterMark:v?m[b]:null;if(null!=p){if(!isFinite(p)||Math.floor(p)!==p||p<0)throw new S(v?b:"highWaterMark",p);return Math.floor(p)}return w.objectMode?16:16384}}},2503:(z,u,g)=>{z.exports=g(7187).EventEmitter},8473:(z,u,g)=>{(u=z.exports=g(9481)).Stream=u,u.Readable=u,u.Writable=g(4229),u.Duplex=g(6753),u.Transform=g(4605),u.PassThrough=g(2725),u.finished=g(8610),u.pipeline=g(9946)},8778:function(z){z.exports=(()=>{"use strict";var g={d:(C,b)=>{for(var v in b)g.o(b,v)&&!g.o(C,v)&&Object.defineProperty(C,v,{enumerable:!0,get:b[v]})},o:(C,b)=>Object.prototype.hasOwnProperty.call(C,b),r:C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})}},S={};g.r(S),g.d(S,{RingBuffer:()=>w});class w{static fromArray(b,v=0){const p=new w(v);return p.fromArray(b,0===v),p}constructor(b){if(this.buffer=[],this.pos=0,b<0)throw new RangeError("Invalid size.");this.size=b}getSize(){return this.size}getPos(){return this.pos}getBufferLength(){return this.buffer.length}add(...b){b.forEach(v=>{this.buffer[this.pos]=v,this.pos=(this.pos+1)%this.size})}get(b){if(b<0&&(b+=this.buffer.length),!(b<0||b>this.buffer.length))return this.buffer.length<this.size?this.buffer[b]:this.buffer[(this.pos+b)%this.size]}getFirst(){return this.get(0)}getLast(){return this.get(-1)}getFirstN(b){return 0===b?[]:b<0?this.getLastN(-b):this.toArray().slice(0,b)}getLastN(b){return 0===b?[]:b<0?this.getFirstN(-b):this.toArray().slice(-b)}remove(b,v=1){if(b<0&&(b+=this.buffer.length),b<0||b>this.buffer.length)return[];const p=this.toArray(),m=p.splice(b,v);return this.fromArray(p),m}removeFirst(){return this.remove(0)[0]}removeLast(){return this.remove(-1)[0]}toArray(){return this.buffer.slice(this.pos).concat(this.buffer.slice(0,this.pos))}fromArray(b,v=!1){if(!Array.isArray(b))throw new TypeError("Input value is not an array.");v&&this.resize(b.length),0!==this.size&&(this.buffer=b.slice(-this.size),this.pos=this.buffer.length%this.size)}clear(){this.buffer=[],this.pos=0}resize(b){if(b<0)throw new RangeError("The size does not allow negative values.");if(0===b)this.clear();else if(b!==this.size){const v=this.toArray();this.fromArray(v.slice(-b)),this.pos=this.buffer.length%b}this.size=b}isFull(){return this.buffer.length===this.size}isEmpty(){return 0===this.buffer.length}}return S})()},2872:function(z,u,g){"use strict";var S=this&&this.__createBinding||(Object.create?function(mr,Qi,zr,Po){void 0===Po&&(Po=zr),Object.defineProperty(mr,Po,{enumerable:!0,get:function(){return Qi[zr]}})}:function(mr,Qi,zr,Po){void 0===Po&&(Po=zr),mr[Po]=Qi[zr]}),w=this&&this.__exportStar||function(mr,Qi){for(var zr in mr)"default"===zr||Object.prototype.hasOwnProperty.call(Qi,zr)||S(Qi,mr,zr)};Object.defineProperty(u,"__esModule",{value:!0}),u.interval=u.iif=u.generate=u.fromEventPattern=u.fromEvent=u.from=u.forkJoin=u.empty=u.defer=u.connectable=u.concat=u.combineLatest=u.bindNodeCallback=u.bindCallback=u.UnsubscriptionError=u.TimeoutError=u.SequenceError=u.ObjectUnsubscribedError=u.NotFoundError=u.EmptyError=u.ArgumentOutOfRangeError=u.firstValueFrom=u.lastValueFrom=u.isObservable=u.identity=u.noop=u.pipe=u.NotificationKind=u.Notification=u.Subscriber=u.Subscription=u.Scheduler=u.VirtualAction=u.VirtualTimeScheduler=u.animationFrameScheduler=u.animationFrame=u.queueScheduler=u.queue=u.asyncScheduler=u.async=u.asapScheduler=u.asap=u.AsyncSubject=u.ReplaySubject=u.BehaviorSubject=u.Subject=u.animationFrames=u.observable=u.ConnectableObservable=u.Observable=void 0,u.filter=u.expand=u.exhaustMap=u.exhaustAll=u.exhaust=u.every=u.endWith=u.elementAt=u.distinctUntilKeyChanged=u.distinctUntilChanged=u.distinct=u.dematerialize=u.delayWhen=u.delay=u.defaultIfEmpty=u.debounceTime=u.debounce=u.count=u.connect=u.concatWith=u.concatMapTo=u.concatMap=u.concatAll=u.combineLatestWith=u.combineLatestAll=u.combineAll=u.catchError=u.bufferWhen=u.bufferToggle=u.bufferTime=u.bufferCount=u.buffer=u.auditTime=u.audit=u.config=u.NEVER=u.EMPTY=u.scheduled=u.zip=u.using=u.timer=u.throwError=u.range=u.race=u.partition=u.pairs=u.onErrorResumeNext=u.of=u.never=u.merge=void 0,u.switchMap=u.switchAll=u.subscribeOn=u.startWith=u.skipWhile=u.skipUntil=u.skipLast=u.skip=u.single=u.shareReplay=u.share=u.sequenceEqual=u.scan=u.sampleTime=u.sample=u.refCount=u.retryWhen=u.retry=u.repeatWhen=u.repeat=u.reduce=u.raceWith=u.publishReplay=u.publishLast=u.publishBehavior=u.publish=u.pluck=u.pairwise=u.onErrorResumeNextWith=u.observeOn=u.multicast=u.min=u.mergeWith=u.mergeScan=u.mergeMapTo=u.mergeMap=u.flatMap=u.mergeAll=u.max=u.materialize=u.mapTo=u.map=u.last=u.isEmpty=u.ignoreElements=u.groupBy=u.first=u.findIndex=u.find=u.finalize=void 0,u.zipWith=u.zipAll=u.withLatestFrom=u.windowWhen=u.windowToggle=u.windowTime=u.windowCount=u.window=u.toArray=u.timestamp=u.timeoutWith=u.timeout=u.timeInterval=u.throwIfEmpty=u.throttleTime=u.throttle=u.tap=u.takeWhile=u.takeUntil=u.takeLast=u.take=u.switchScan=u.switchMapTo=void 0;var C=g(2419);Object.defineProperty(u,"Observable",{enumerable:!0,get:function(){return C.Observable}});var b=g(9518);Object.defineProperty(u,"ConnectableObservable",{enumerable:!0,get:function(){return b.ConnectableObservable}});var v=g(2801);Object.defineProperty(u,"observable",{enumerable:!0,get:function(){return v.observable}});var p=g(9106);Object.defineProperty(u,"animationFrames",{enumerable:!0,get:function(){return p.animationFrames}});var m=g(3032);Object.defineProperty(u,"Subject",{enumerable:!0,get:function(){return m.Subject}});var f=g(5240);Object.defineProperty(u,"BehaviorSubject",{enumerable:!0,get:function(){return f.BehaviorSubject}});var c=g(3274);Object.defineProperty(u,"ReplaySubject",{enumerable:!0,get:function(){return c.ReplaySubject}});var a=g(280);Object.defineProperty(u,"AsyncSubject",{enumerable:!0,get:function(){return a.AsyncSubject}});var d=g(580);Object.defineProperty(u,"asap",{enumerable:!0,get:function(){return d.asap}}),Object.defineProperty(u,"asapScheduler",{enumerable:!0,get:function(){return d.asapScheduler}});var h=g(2445);Object.defineProperty(u,"async",{enumerable:!0,get:function(){return h.async}}),Object.defineProperty(u,"asyncScheduler",{enumerable:!0,get:function(){return h.asyncScheduler}});var _=g(8615);Object.defineProperty(u,"queue",{enumerable:!0,get:function(){return _.queue}}),Object.defineProperty(u,"queueScheduler",{enumerable:!0,get:function(){return _.queueScheduler}});var x=g(3660);Object.defineProperty(u,"animationFrame",{enumerable:!0,get:function(){return x.animationFrame}}),Object.defineProperty(u,"animationFrameScheduler",{enumerable:!0,get:function(){return x.animationFrameScheduler}});var D=g(4123);Object.defineProperty(u,"VirtualTimeScheduler",{enumerable:!0,get:function(){return D.VirtualTimeScheduler}}),Object.defineProperty(u,"VirtualAction",{enumerable:!0,get:function(){return D.VirtualAction}});var I=g(218);Object.defineProperty(u,"Scheduler",{enumerable:!0,get:function(){return I.Scheduler}});var A=g(3865);Object.defineProperty(u,"Subscription",{enumerable:!0,get:function(){return A.Subscription}});var R=g(5125);Object.defineProperty(u,"Subscriber",{enumerable:!0,get:function(){return R.Subscriber}});var P=g(3104);Object.defineProperty(u,"Notification",{enumerable:!0,get:function(){return P.Notification}}),Object.defineProperty(u,"NotificationKind",{enumerable:!0,get:function(){return P.NotificationKind}});var k=g(9985);Object.defineProperty(u,"pipe",{enumerable:!0,get:function(){return k.pipe}});var B=g(2576);Object.defineProperty(u,"noop",{enumerable:!0,get:function(){return B.noop}});var V=g(4781);Object.defineProperty(u,"identity",{enumerable:!0,get:function(){return V.identity}});var j=g(8386);Object.defineProperty(u,"isObservable",{enumerable:!0,get:function(){return j.isObservable}});var X=g(9309);Object.defineProperty(u,"lastValueFrom",{enumerable:!0,get:function(){return X.lastValueFrom}});var Q=g(8182);Object.defineProperty(u,"firstValueFrom",{enumerable:!0,get:function(){return Q.firstValueFrom}});var Z=g(2351);Object.defineProperty(u,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return Z.ArgumentOutOfRangeError}});var de=g(9474);Object.defineProperty(u,"EmptyError",{enumerable:!0,get:function(){return de.EmptyError}});var he=g(8598);Object.defineProperty(u,"NotFoundError",{enumerable:!0,get:function(){return he.NotFoundError}});var Pe=g(2642);Object.defineProperty(u,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return Pe.ObjectUnsubscribedError}});var ie=g(6156);Object.defineProperty(u,"SequenceError",{enumerable:!0,get:function(){return ie.SequenceError}});var ue=g(4173);Object.defineProperty(u,"TimeoutError",{enumerable:!0,get:function(){return ue.TimeoutError}});var Fe=g(4805);Object.defineProperty(u,"UnsubscriptionError",{enumerable:!0,get:function(){return Fe.UnsubscriptionError}});var Ye=g(3050);Object.defineProperty(u,"bindCallback",{enumerable:!0,get:function(){return Ye.bindCallback}});var dt=g(8130);Object.defineProperty(u,"bindNodeCallback",{enumerable:!0,get:function(){return dt.bindNodeCallback}});var et=g(9258);Object.defineProperty(u,"combineLatest",{enumerable:!0,get:function(){return et.combineLatest}});var ft=g(2239);Object.defineProperty(u,"concat",{enumerable:!0,get:function(){return ft.concat}});var Rt=g(2873);Object.defineProperty(u,"connectable",{enumerable:!0,get:function(){return Rt.connectable}});var pt=g(7885);Object.defineProperty(u,"defer",{enumerable:!0,get:function(){return pt.defer}});var Ht=g(6332);Object.defineProperty(u,"empty",{enumerable:!0,get:function(){return Ht.empty}});var Oe=g(7245);Object.defineProperty(u,"forkJoin",{enumerable:!0,get:function(){return Oe.forkJoin}});var ge=g(5432);Object.defineProperty(u,"from",{enumerable:!0,get:function(){return ge.from}});var Je=g(3267);Object.defineProperty(u,"fromEvent",{enumerable:!0,get:function(){return Je.fromEvent}});var ht=g(470);Object.defineProperty(u,"fromEventPattern",{enumerable:!0,get:function(){return ht.fromEventPattern}});var $t=g(4303);Object.defineProperty(u,"generate",{enumerable:!0,get:function(){return $t.generate}});var Ut=g(1757);Object.defineProperty(u,"iif",{enumerable:!0,get:function(){return Ut.iif}});var gt=g(8990);Object.defineProperty(u,"interval",{enumerable:!0,get:function(){return gt.interval}});var Gt=g(1846);Object.defineProperty(u,"merge",{enumerable:!0,get:function(){return Gt.merge}});var at=g(1339);Object.defineProperty(u,"never",{enumerable:!0,get:function(){return at.never}});var vn=g(5726);Object.defineProperty(u,"of",{enumerable:!0,get:function(){return vn.of}});var Y=g(724);Object.defineProperty(u,"onErrorResumeNext",{enumerable:!0,get:function(){return Y.onErrorResumeNext}});var Se=g(4380);Object.defineProperty(u,"pairs",{enumerable:!0,get:function(){return Se.pairs}});var F=g(7273);Object.defineProperty(u,"partition",{enumerable:!0,get:function(){return F.partition}});var U=g(5182);Object.defineProperty(u,"race",{enumerable:!0,get:function(){return U.race}});var G=g(322);Object.defineProperty(u,"range",{enumerable:!0,get:function(){return G.range}});var J=g(2098);Object.defineProperty(u,"throwError",{enumerable:!0,get:function(){return J.throwError}});var fe=g(7513);Object.defineProperty(u,"timer",{enumerable:!0,get:function(){return fe.timer}});var be=g(2962);Object.defineProperty(u,"using",{enumerable:!0,get:function(){return be.using}});var Ee=g(7654);Object.defineProperty(u,"zip",{enumerable:!0,get:function(){return Ee.zip}});var it=g(5207);Object.defineProperty(u,"scheduled",{enumerable:!0,get:function(){return it.scheduled}});var nt=g(6332);Object.defineProperty(u,"EMPTY",{enumerable:!0,get:function(){return nt.EMPTY}});var Wt=g(1339);Object.defineProperty(u,"NEVER",{enumerable:!0,get:function(){return Wt.NEVER}}),w(g(8433),u);var q=g(3280);Object.defineProperty(u,"config",{enumerable:!0,get:function(){return q.config}});var _e=g(6474);Object.defineProperty(u,"audit",{enumerable:!0,get:function(){return _e.audit}});var ve=g(5382);Object.defineProperty(u,"auditTime",{enumerable:!0,get:function(){return ve.auditTime}});var we=g(9715);Object.defineProperty(u,"buffer",{enumerable:!0,get:function(){return we.buffer}});var Le=g(3814);Object.defineProperty(u,"bufferCount",{enumerable:!0,get:function(){return Le.bufferCount}});var Me=g(7211);Object.defineProperty(u,"bufferTime",{enumerable:!0,get:function(){return Me.bufferTime}});var ne=g(4943);Object.defineProperty(u,"bufferToggle",{enumerable:!0,get:function(){return ne.bufferToggle}});var xe=g(1240);Object.defineProperty(u,"bufferWhen",{enumerable:!0,get:function(){return xe.bufferWhen}});var ye=g(9548);Object.defineProperty(u,"catchError",{enumerable:!0,get:function(){return ye.catchError}});var Ae=g(2128);Object.defineProperty(u,"combineAll",{enumerable:!0,get:function(){return Ae.combineAll}});var $e=g(3240);Object.defineProperty(u,"combineLatestAll",{enumerable:!0,get:function(){return $e.combineLatestAll}});var Qe=g(5024);Object.defineProperty(u,"combineLatestWith",{enumerable:!0,get:function(){return Qe.combineLatestWith}});var rt=g(4413);Object.defineProperty(u,"concatAll",{enumerable:!0,get:function(){return rt.concatAll}});var mn=g(7498);Object.defineProperty(u,"concatMap",{enumerable:!0,get:function(){return mn.concatMap}});var Lt=g(6109);Object.defineProperty(u,"concatMapTo",{enumerable:!0,get:function(){return Lt.concatMapTo}});var Yn=g(9664);Object.defineProperty(u,"concatWith",{enumerable:!0,get:function(){return Yn.concatWith}});var hn=g(1995);Object.defineProperty(u,"connect",{enumerable:!0,get:function(){return hn.connect}});var Yt=g(993);Object.defineProperty(u,"count",{enumerable:!0,get:function(){return Yt.count}});var ai=g(496);Object.defineProperty(u,"debounce",{enumerable:!0,get:function(){return ai.debounce}});var tt=g(1385);Object.defineProperty(u,"debounceTime",{enumerable:!0,get:function(){return tt.debounceTime}});var kn=g(1658);Object.defineProperty(u,"defaultIfEmpty",{enumerable:!0,get:function(){return kn.defaultIfEmpty}});var ar=g(5841);Object.defineProperty(u,"delay",{enumerable:!0,get:function(){return ar.delay}});var He=g(8798);Object.defineProperty(u,"delayWhen",{enumerable:!0,get:function(){return He.delayWhen}});var ci=g(1080);Object.defineProperty(u,"dematerialize",{enumerable:!0,get:function(){return ci.dematerialize}});var Oi=g(3054);Object.defineProperty(u,"distinct",{enumerable:!0,get:function(){return Oi.distinct}});var Mi=g(8737);Object.defineProperty(u,"distinctUntilChanged",{enumerable:!0,get:function(){return Mi.distinctUntilChanged}});var fi=g(7957);Object.defineProperty(u,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return fi.distinctUntilKeyChanged}});var Bi=g(8633);Object.defineProperty(u,"elementAt",{enumerable:!0,get:function(){return Bi.elementAt}});var Vi=g(911);Object.defineProperty(u,"endWith",{enumerable:!0,get:function(){return Vi.endWith}});var re=g(2096);Object.defineProperty(u,"every",{enumerable:!0,get:function(){return re.every}});var K=g(67);Object.defineProperty(u,"exhaust",{enumerable:!0,get:function(){return K.exhaust}});var ee=g(5337);Object.defineProperty(u,"exhaustAll",{enumerable:!0,get:function(){return ee.exhaustAll}});var Re=g(5635);Object.defineProperty(u,"exhaustMap",{enumerable:!0,get:function(){return Re.exhaustMap}});var Ke=g(9745);Object.defineProperty(u,"expand",{enumerable:!0,get:function(){return Ke.expand}});var Tt=g(9154);Object.defineProperty(u,"filter",{enumerable:!0,get:function(){return Tt.filter}});var At=g(9283);Object.defineProperty(u,"finalize",{enumerable:!0,get:function(){return At.finalize}});var _t=g(7119);Object.defineProperty(u,"find",{enumerable:!0,get:function(){return _t.find}});var lt=g(4706);Object.defineProperty(u,"findIndex",{enumerable:!0,get:function(){return lt.findIndex}});var wt=g(9219);Object.defineProperty(u,"first",{enumerable:!0,get:function(){return wt.first}});var St=g(9749);Object.defineProperty(u,"groupBy",{enumerable:!0,get:function(){return St.groupBy}});var Bt=g(9438);Object.defineProperty(u,"ignoreElements",{enumerable:!0,get:function(){return Bt.ignoreElements}});var on=g(8515);Object.defineProperty(u,"isEmpty",{enumerable:!0,get:function(){return on.isEmpty}});var cr=g(2435);Object.defineProperty(u,"last",{enumerable:!0,get:function(){return cr.last}});var un=g(7291);Object.defineProperty(u,"map",{enumerable:!0,get:function(){return un.map}});var Vt=g(8313);Object.defineProperty(u,"mapTo",{enumerable:!0,get:function(){return Vt.mapTo}});var zt=g(3209);Object.defineProperty(u,"materialize",{enumerable:!0,get:function(){return zt.materialize}});var ir=g(2620);Object.defineProperty(u,"max",{enumerable:!0,get:function(){return ir.max}});var Vn=g(3783);Object.defineProperty(u,"mergeAll",{enumerable:!0,get:function(){return Vn.mergeAll}});var Xt=g(1788);Object.defineProperty(u,"flatMap",{enumerable:!0,get:function(){return Xt.flatMap}});var yn=g(9475);Object.defineProperty(u,"mergeMap",{enumerable:!0,get:function(){return yn.mergeMap}});var ni=g(1211);Object.defineProperty(u,"mergeMapTo",{enumerable:!0,get:function(){return ni.mergeMapTo}});var Dr=g(7267);Object.defineProperty(u,"mergeScan",{enumerable:!0,get:function(){return Dr.mergeScan}});var Vr=g(9303);Object.defineProperty(u,"mergeWith",{enumerable:!0,get:function(){return Vr.mergeWith}});var Hn=g(9714);Object.defineProperty(u,"min",{enumerable:!0,get:function(){return Hn.min}});var Qt=g(3848);Object.defineProperty(u,"multicast",{enumerable:!0,get:function(){return Qt.multicast}});var Kn=g(1184);Object.defineProperty(u,"observeOn",{enumerable:!0,get:function(){return Kn.observeOn}});var fr=g(7582);Object.defineProperty(u,"onErrorResumeNextWith",{enumerable:!0,get:function(){return fr.onErrorResumeNextWith}});var tr=g(2731);Object.defineProperty(u,"pairwise",{enumerable:!0,get:function(){return tr.pairwise}});var ri=g(4691);Object.defineProperty(u,"pluck",{enumerable:!0,get:function(){return ri.pluck}});var ui=g(4474);Object.defineProperty(u,"publish",{enumerable:!0,get:function(){return ui.publish}});var $n=g(52);Object.defineProperty(u,"publishBehavior",{enumerable:!0,get:function(){return $n.publishBehavior}});var pr=g(2110);Object.defineProperty(u,"publishLast",{enumerable:!0,get:function(){return pr.publishLast}});var gn=g(9864);Object.defineProperty(u,"publishReplay",{enumerable:!0,get:function(){return gn.publishReplay}});var $r=g(179);Object.defineProperty(u,"raceWith",{enumerable:!0,get:function(){return $r.raceWith}});var se=g(122);Object.defineProperty(u,"reduce",{enumerable:!0,get:function(){return se.reduce}});var Te=g(5313);Object.defineProperty(u,"repeat",{enumerable:!0,get:function(){return Te.repeat}});var Ie=g(4068);Object.defineProperty(u,"repeatWhen",{enumerable:!0,get:function(){return Ie.repeatWhen}});var Ve=g(64);Object.defineProperty(u,"retry",{enumerable:!0,get:function(){return Ve.retry}});var It=g(1188);Object.defineProperty(u,"retryWhen",{enumerable:!0,get:function(){return It.retryWhen}});var Pt=g(8739);Object.defineProperty(u,"refCount",{enumerable:!0,get:function(){return Pt.refCount}});var Mn=g(4193);Object.defineProperty(u,"sample",{enumerable:!0,get:function(){return Mn.sample}});var oe=g(6170);Object.defineProperty(u,"sampleTime",{enumerable:!0,get:function(){return oe.sampleTime}});var le=g(5876);Object.defineProperty(u,"scan",{enumerable:!0,get:function(){return le.scan}});var De=g(1791);Object.defineProperty(u,"sequenceEqual",{enumerable:!0,get:function(){return De.sequenceEqual}});var Ue=g(5137);Object.defineProperty(u,"share",{enumerable:!0,get:function(){return Ue.share}});var ot=g(1348);Object.defineProperty(u,"shareReplay",{enumerable:!0,get:function(){return ot.shareReplay}});var ct=g(8242);Object.defineProperty(u,"single",{enumerable:!0,get:function(){return ct.single}});var ze=g(3169);Object.defineProperty(u,"skip",{enumerable:!0,get:function(){return ze.skip}});var fn=g(2454);Object.defineProperty(u,"skipLast",{enumerable:!0,get:function(){return fn.skipLast}});var jn=g(6931);Object.defineProperty(u,"skipUntil",{enumerable:!0,get:function(){return jn.skipUntil}});var kr=g(7913);Object.defineProperty(u,"skipWhile",{enumerable:!0,get:function(){return kr.skipWhile}});var li=g(9234);Object.defineProperty(u,"startWith",{enumerable:!0,get:function(){return li.startWith}});var qa=g(276);Object.defineProperty(u,"subscribeOn",{enumerable:!0,get:function(){return qa.subscribeOn}});var $s=g(9253);Object.defineProperty(u,"switchAll",{enumerable:!0,get:function(){return $s.switchAll}});var Oh=g(8518);Object.defineProperty(u,"switchMap",{enumerable:!0,get:function(){return Oh.switchMap}});var bu=g(1173);Object.defineProperty(u,"switchMapTo",{enumerable:!0,get:function(){return bu.switchMapTo}});var Il=g(3855);Object.defineProperty(u,"switchScan",{enumerable:!0,get:function(){return Il.switchScan}});var vu=g(4783);Object.defineProperty(u,"take",{enumerable:!0,get:function(){return vu.take}});var uo=g(1980);Object.defineProperty(u,"takeLast",{enumerable:!0,get:function(){return uo.takeLast}});var Al=g(9845);Object.defineProperty(u,"takeUntil",{enumerable:!0,get:function(){return Al.takeUntil}});var Cc=g(6060);Object.defineProperty(u,"takeWhile",{enumerable:!0,get:function(){return Cc.takeWhile}});var yu=g(1138);Object.defineProperty(u,"tap",{enumerable:!0,get:function(){return yu.tap}});var Pl=g(7306);Object.defineProperty(u,"throttle",{enumerable:!0,get:function(){return Pl.throttle}});var lo=g(8968);Object.defineProperty(u,"throttleTime",{enumerable:!0,get:function(){return lo.throttleTime}});var _u=g(1779);Object.defineProperty(u,"throwIfEmpty",{enumerable:!0,get:function(){return _u.throwIfEmpty}});var da=g(8005);Object.defineProperty(u,"timeInterval",{enumerable:!0,get:function(){return da.timeInterval}});var Rl=g(4173);Object.defineProperty(u,"timeout",{enumerable:!0,get:function(){return Rl.timeout}});var kl=g(7223);Object.defineProperty(u,"timeoutWith",{enumerable:!0,get:function(){return kl.timeoutWith}});var Mh=g(8975);Object.defineProperty(u,"timestamp",{enumerable:!0,get:function(){return Mh.timestamp}});var Or=g(2);Object.defineProperty(u,"toArray",{enumerable:!0,get:function(){return Or.toArray}});var Ih=g(2826);Object.defineProperty(u,"window",{enumerable:!0,get:function(){return Ih.window}});var ha=g(7526);Object.defineProperty(u,"windowCount",{enumerable:!0,get:function(){return ha.windowCount}});var _r=g(8294);Object.defineProperty(u,"windowTime",{enumerable:!0,get:function(){return _r.windowTime}});var wu=g(1883);Object.defineProperty(u,"windowToggle",{enumerable:!0,get:function(){return wu.windowToggle}});var Jt=g(4309);Object.defineProperty(u,"windowWhen",{enumerable:!0,get:function(){return Jt.windowWhen}});var pi=g(3041);Object.defineProperty(u,"withLatestFrom",{enumerable:!0,get:function(){return pi.withLatestFrom}});var Xn=g(8593);Object.defineProperty(u,"zipAll",{enumerable:!0,get:function(){return Xn.zipAll}});var Ur=g(8096);Object.defineProperty(u,"zipWith",{enumerable:!0,get:function(){return Ur.zipWith}})},280:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(b,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(p[f]=m[f])})(b,v)},function(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function p(){this.constructor=b}S(b,v),b.prototype=null===v?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(u,"__esModule",{value:!0}),u.AsyncSubject=void 0;var C=function(b){function v(){var p=null!==b&&b.apply(this,arguments)||this;return p._value=null,p._hasValue=!1,p._isComplete=!1,p}return w(v,b),v.prototype._checkFinalizedStatuses=function(p){var m=this,c=m._hasValue,a=m._value,h=m.isStopped,_=m._isComplete;m.hasError?p.error(m.thrownError):(h||_)&&(c&&p.next(a),p.complete())},v.prototype.next=function(p){this.isStopped||(this._value=p,this._hasValue=!0)},v.prototype.complete=function(){var p=this,m=p._hasValue,f=p._value;p._isComplete||(this._isComplete=!0,m&&b.prototype.next.call(this,f),b.prototype.complete.call(this))},v}(g(3032).Subject);u.AsyncSubject=C},5240:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(b,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(p[f]=m[f])})(b,v)},function(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function p(){this.constructor=b}S(b,v),b.prototype=null===v?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(u,"__esModule",{value:!0}),u.BehaviorSubject=void 0;var C=function(b){function v(p){var m=b.call(this)||this;return m._value=p,m}return w(v,b),Object.defineProperty(v.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),v.prototype._subscribe=function(p){var m=b.prototype._subscribe.call(this,p);return!m.closed&&p.next(this._value),m},v.prototype.getValue=function(){var p=this,c=p._value;if(p.hasError)throw p.thrownError;return this._throwIfClosed(),c},v.prototype.next=function(p){b.prototype.next.call(this,this._value=p)},v}(g(3032).Subject);u.BehaviorSubject=C},3104:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.observeNotification=u.Notification=u.NotificationKind=void 0;var S,w=g(6332),C=g(5726),b=g(2098),v=g(3005);(S=u.NotificationKind||(u.NotificationKind={})).NEXT="N",S.ERROR="E",S.COMPLETE="C";var p=function(){function f(c,a,d){this.kind=c,this.value=a,this.error=d,this.hasValue="N"===c}return f.prototype.observe=function(c){return m(this,c)},f.prototype.do=function(c,a,d){var h=this,_=h.kind,x=h.value,D=h.error;return"N"===_?c?.(x):"E"===_?a?.(D):d?.()},f.prototype.accept=function(c,a,d){var h;return v.isFunction(null===(h=c)||void 0===h?void 0:h.next)?this.observe(c):this.do(c,a,d)},f.prototype.toObservable=function(){var c=this,a=c.kind,h=c.error,_="N"===a?C.of(c.value):"E"===a?b.throwError(function(){return h}):"C"===a?w.EMPTY:0;if(!_)throw new TypeError("Unexpected notification kind "+a);return _},f.createNext=function(c){return new f("N",c)},f.createError=function(c){return new f("E",void 0,c)},f.createComplete=function(){return f.completeNotification},f.completeNotification=new f("C"),f}();function m(f,c){var a,d,h,x=f.kind,D=f.value,I=f.error;if("string"!=typeof x)throw new TypeError('Invalid notification, missing "kind"');"N"===x?null===(a=c.next)||void 0===a||a.call(c,D):"E"===x?null===(d=c.error)||void 0===d||d.call(c,I):null===(h=c.complete)||void 0===h||h.call(c)}u.Notification=p,u.observeNotification=m},7286:(z,u)=>{"use strict";function g(S,w,C){return{kind:S,value:w,error:C}}Object.defineProperty(u,"__esModule",{value:!0}),u.createNotification=u.nextNotification=u.errorNotification=u.COMPLETE_NOTIFICATION=void 0,u.COMPLETE_NOTIFICATION=g("C",void 0,void 0),u.errorNotification=function(S){return g("E",void 0,S)},u.nextNotification=function(S){return g("N",S,void 0)},u.createNotification=g},2419:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Observable=void 0;var S=g(5125),w=g(3865),C=g(2801),b=g(9985),v=g(3280),p=g(3005),m=g(6110),f=function(){function a(d){d&&(this._subscribe=d)}return a.prototype.lift=function(d){var h=new a;return h.source=this,h.operator=d,h},a.prototype.subscribe=function(d,h,_){var x,A,D=this,I=(x=d)&&x instanceof S.Subscriber||(A=x)&&p.isFunction(A.next)&&p.isFunction(A.error)&&p.isFunction(A.complete)&&w.isSubscription(x)?d:new S.SafeSubscriber(d,h,_);return m.errorContext(function(){var R=D.operator,P=D.source;I.add(R?R.call(I,P):P?D._subscribe(I):D._trySubscribe(I))}),I},a.prototype._trySubscribe=function(d){try{return this._subscribe(d)}catch(h){d.error(h)}},a.prototype.forEach=function(d,h){var _=this;return new(h=c(h))(function(x,D){var I=new S.SafeSubscriber({next:function(A){try{d(A)}catch(R){D(R),I.unsubscribe()}},error:D,complete:x});_.subscribe(I)})},a.prototype._subscribe=function(d){var h;return null===(h=this.source)||void 0===h?void 0:h.subscribe(d)},a.prototype[C.observable]=function(){return this},a.prototype.pipe=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return b.pipeFromArray(d)(this)},a.prototype.toPromise=function(d){var h=this;return new(d=c(d))(function(_,x){var D;h.subscribe(function(I){return D=I},function(I){return x(I)},function(){return _(D)})})},a.create=function(d){return new a(d)},a}();function c(a){var d;return null!==(d=a??v.config.Promise)&&void 0!==d?d:Promise}u.Observable=f},3274:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(p,m){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(f[a]=c[a])})(p,m)},function(p,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function f(){this.constructor=p}S(p,m),p.prototype=null===m?Object.create(m):(f.prototype=m.prototype,new f)});Object.defineProperty(u,"__esModule",{value:!0}),u.ReplaySubject=void 0;var C=g(3032),b=g(7950),v=function(p){function m(f,c,a){void 0===f&&(f=1/0),void 0===c&&(c=1/0),void 0===a&&(a=b.dateTimestampProvider);var d=p.call(this)||this;return d._bufferSize=f,d._windowTime=c,d._timestampProvider=a,d._buffer=[],d._infiniteTimeWindow=!0,d._infiniteTimeWindow=c===1/0,d._bufferSize=Math.max(1,f),d._windowTime=Math.max(1,c),d}return w(m,p),m.prototype.next=function(f){var c=this,d=c._buffer,h=c._infiniteTimeWindow,_=c._timestampProvider,x=c._windowTime;c.isStopped||(d.push(f),!h&&d.push(_.now()+x)),this._trimBuffer(),p.prototype.next.call(this,f)},m.prototype._subscribe=function(f){this._throwIfClosed(),this._trimBuffer();for(var c=this._innerSubscribe(f),a=this._infiniteTimeWindow,d=this._buffer.slice(),h=0;h<d.length&&!f.closed;h+=a?1:2)f.next(d[h]);return this._checkFinalizedStatuses(f),c},m.prototype._trimBuffer=function(){var f=this,c=f._bufferSize,a=f._timestampProvider,d=f._buffer,h=f._infiniteTimeWindow,_=(h?1:2)*c;if(c<1/0&&_<d.length&&d.splice(0,d.length-_),!h){for(var x=a.now(),D=0,I=1;I<d.length&&d[I]<=x;I+=2)D=I;D&&d.splice(0,D+1)}},m}(C.Subject);u.ReplaySubject=v},218:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Scheduler=void 0;var S=g(7950),w=function(){function C(b,v){void 0===v&&(v=C.now),this.schedulerActionCtor=b,this.now=v}return C.prototype.schedule=function(b,v,p){return void 0===v&&(v=0),new this.schedulerActionCtor(this,b).schedule(p,v)},C.now=S.dateTimestampProvider.now,C}();u.Scheduler=w},3032:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(d,h){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,x){_.__proto__=x}||function(_,x){for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&(_[D]=x[D])})(d,h)},function(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=d}S(d,h),d.prototype=null===h?Object.create(h):(_.prototype=h.prototype,new _)}),C=this&&this.__values||function(d){var h="function"==typeof Symbol&&Symbol.iterator,_=h&&d[h],x=0;if(_)return _.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&x>=d.length&&(d=void 0),{value:d&&d[x++],done:!d}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.AnonymousSubject=u.Subject=void 0;var b=g(2419),v=g(3865),p=g(2642),m=g(6967),f=g(6110),c=function(d){function h(){var _=d.call(this)||this;return _.closed=!1,_.currentObservers=null,_.observers=[],_.isStopped=!1,_.hasError=!1,_.thrownError=null,_}return w(h,d),h.prototype.lift=function(_){var x=new a(this,this);return x.operator=_,x},h.prototype._throwIfClosed=function(){if(this.closed)throw new p.ObjectUnsubscribedError},h.prototype.next=function(_){var x=this;f.errorContext(function(){var D,I;if(x._throwIfClosed(),!x.isStopped){x.currentObservers||(x.currentObservers=Array.from(x.observers));try{for(var A=C(x.currentObservers),R=A.next();!R.done;R=A.next())R.value.next(_)}catch(P){D={error:P}}finally{try{R&&!R.done&&(I=A.return)&&I.call(A)}finally{if(D)throw D.error}}}})},h.prototype.error=function(_){var x=this;f.errorContext(function(){if(x._throwIfClosed(),!x.isStopped){x.hasError=x.isStopped=!0,x.thrownError=_;for(var D=x.observers;D.length;)D.shift().error(_)}})},h.prototype.complete=function(){var _=this;f.errorContext(function(){if(_._throwIfClosed(),!_.isStopped){_.isStopped=!0;for(var x=_.observers;x.length;)x.shift().complete()}})},h.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(h.prototype,"observed",{get:function(){var _;return(null===(_=this.observers)||void 0===_?void 0:_.length)>0},enumerable:!1,configurable:!0}),h.prototype._trySubscribe=function(_){return this._throwIfClosed(),d.prototype._trySubscribe.call(this,_)},h.prototype._subscribe=function(_){return this._throwIfClosed(),this._checkFinalizedStatuses(_),this._innerSubscribe(_)},h.prototype._innerSubscribe=function(_){var x=this,D=this,R=D.observers;return D.hasError||D.isStopped?v.EMPTY_SUBSCRIPTION:(this.currentObservers=null,R.push(_),new v.Subscription(function(){x.currentObservers=null,m.arrRemove(R,_)}))},h.prototype._checkFinalizedStatuses=function(_){var x=this,A=x.isStopped;x.hasError?_.error(x.thrownError):A&&_.complete()},h.prototype.asObservable=function(){var _=new b.Observable;return _.source=this,_},h.create=function(_,x){return new a(_,x)},h}(b.Observable);u.Subject=c;var a=function(d){function h(_,x){var D=d.call(this)||this;return D.destination=_,D.source=x,D}return w(h,d),h.prototype.next=function(_){var x,D;null===(D=null===(x=this.destination)||void 0===x?void 0:x.next)||void 0===D||D.call(x,_)},h.prototype.error=function(_){var x,D;null===(D=null===(x=this.destination)||void 0===x?void 0:x.error)||void 0===D||D.call(x,_)},h.prototype.complete=function(){var _,x;null===(x=null===(_=this.destination)||void 0===_?void 0:_.complete)||void 0===x||x.call(_)},h.prototype._subscribe=function(_){var x,D;return null!==(D=null===(x=this.source)||void 0===x?void 0:x.subscribe(_))&&void 0!==D?D:v.EMPTY_SUBSCRIPTION},h}(c);u.AnonymousSubject=a},5125:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(R,P){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,B){k.__proto__=B}||function(k,B){for(var V in B)Object.prototype.hasOwnProperty.call(B,V)&&(k[V]=B[V])})(R,P)},function(R,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function k(){this.constructor=R}S(R,P),R.prototype=null===P?Object.create(P):(k.prototype=P.prototype,new k)});Object.defineProperty(u,"__esModule",{value:!0}),u.EMPTY_OBSERVER=u.SafeSubscriber=u.Subscriber=void 0;var C=g(3005),b=g(3865),v=g(3280),p=g(7968),m=g(2576),f=g(7286),c=g(4590),a=g(6110),d=function(R){function P(k){var B=R.call(this)||this;return B.isStopped=!1,k?(B.destination=k,b.isSubscription(k)&&k.add(B)):B.destination=u.EMPTY_OBSERVER,B}return w(P,R),P.create=function(k,B,V){return new D(k,B,V)},P.prototype.next=function(k){this.isStopped?A(f.nextNotification(k),this):this._next(k)},P.prototype.error=function(k){this.isStopped?A(f.errorNotification(k),this):(this.isStopped=!0,this._error(k))},P.prototype.complete=function(){this.isStopped?A(f.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},P.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,R.prototype.unsubscribe.call(this),this.destination=null)},P.prototype._next=function(k){this.destination.next(k)},P.prototype._error=function(k){try{this.destination.error(k)}finally{this.unsubscribe()}},P.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},P}(b.Subscription);u.Subscriber=d;var h=Function.prototype.bind;function _(R,P){return h.call(R,P)}var x=function(){function R(P){this.partialObserver=P}return R.prototype.next=function(P){var k=this.partialObserver;if(k.next)try{k.next(P)}catch(B){I(B)}},R.prototype.error=function(P){var k=this.partialObserver;if(k.error)try{k.error(P)}catch(B){I(B)}else I(P)},R.prototype.complete=function(){var P=this.partialObserver;if(P.complete)try{P.complete()}catch(k){I(k)}},R}(),D=function(R){function P(k,B,V){var j,X,Q=R.call(this)||this;return C.isFunction(k)||!k?j={next:k??void 0,error:B??void 0,complete:V??void 0}:Q&&v.config.useDeprecatedNextContext?((X=Object.create(k)).unsubscribe=function(){return Q.unsubscribe()},j={next:k.next&&_(k.next,X),error:k.error&&_(k.error,X),complete:k.complete&&_(k.complete,X)}):j=k,Q.destination=new x(j),Q}return w(P,R),P}(d);function I(R){v.config.useDeprecatedSynchronousErrorHandling?a.captureError(R):p.reportUnhandledError(R)}function A(R,P){var k=v.config.onStoppedNotification;k&&c.timeoutProvider.setTimeout(function(){return k(R,P)})}u.SafeSubscriber=D,u.EMPTY_OBSERVER={closed:!0,next:m.noop,error:function(R){throw R},complete:m.noop}},3865:function(z,u,g){"use strict";var S=this&&this.__values||function(c){var a="function"==typeof Symbol&&Symbol.iterator,d=a&&c[a],h=0;if(d)return d.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},w=this&&this.__read||function(c,a){var d="function"==typeof Symbol&&c[Symbol.iterator];if(!d)return c;var h,_,x=d.call(c),D=[];try{for(;(void 0===a||a-- >0)&&!(h=x.next()).done;)D.push(h.value)}catch(I){_={error:I}}finally{try{h&&!h.done&&(d=x.return)&&d.call(x)}finally{if(_)throw _.error}}return D},C=this&&this.__spreadArray||function(c,a){for(var d=0,h=a.length,_=c.length;d<h;d++,_++)c[_]=a[d];return c};Object.defineProperty(u,"__esModule",{value:!0}),u.isSubscription=u.EMPTY_SUBSCRIPTION=u.Subscription=void 0;var b=g(3005),v=g(4805),p=g(6967),m=function(){function c(d){this.initialTeardown=d,this.closed=!1,this._parentage=null,this._finalizers=null}var a;return c.prototype.unsubscribe=function(){var d,h,_,x,D;if(!this.closed){this.closed=!0;var I=this._parentage;if(I)if(this._parentage=null,Array.isArray(I))try{for(var A=S(I),R=A.next();!R.done;R=A.next())R.value.remove(this)}catch(X){d={error:X}}finally{try{R&&!R.done&&(h=A.return)&&h.call(A)}finally{if(d)throw d.error}}else I.remove(this);var P=this.initialTeardown;if(b.isFunction(P))try{P()}catch(X){D=X instanceof v.UnsubscriptionError?X.errors:[X]}var k=this._finalizers;if(k){this._finalizers=null;try{for(var B=S(k),V=B.next();!V.done;V=B.next()){var j=V.value;try{f(j)}catch(X){D=D??[],X instanceof v.UnsubscriptionError?D=C(C([],w(D)),w(X.errors)):D.push(X)}}}catch(X){_={error:X}}finally{try{V&&!V.done&&(x=B.return)&&x.call(B)}finally{if(_)throw _.error}}}if(D)throw new v.UnsubscriptionError(D)}},c.prototype.add=function(d){var h;if(d&&d!==this)if(this.closed)f(d);else{if(d instanceof c){if(d.closed||d._hasParent(this))return;d._addParent(this)}(this._finalizers=null!==(h=this._finalizers)&&void 0!==h?h:[]).push(d)}},c.prototype._hasParent=function(d){var h=this._parentage;return h===d||Array.isArray(h)&&h.includes(d)},c.prototype._addParent=function(d){var h=this._parentage;this._parentage=Array.isArray(h)?(h.push(d),h):h?[h,d]:d},c.prototype._removeParent=function(d){var h=this._parentage;h===d?this._parentage=null:Array.isArray(h)&&p.arrRemove(h,d)},c.prototype.remove=function(d){var h=this._finalizers;h&&p.arrRemove(h,d),d instanceof c&&d._removeParent(this)},c.EMPTY=((a=new c).closed=!0,a),c}();function f(c){b.isFunction(c)?c():c.unsubscribe()}u.Subscription=m,u.EMPTY_SUBSCRIPTION=m.EMPTY,u.isSubscription=function(c){return c instanceof m||c&&"closed"in c&&b.isFunction(c.remove)&&b.isFunction(c.add)&&b.isFunction(c.unsubscribe)}},3280:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.config=void 0,u.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8182:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.firstValueFrom=void 0;var S=g(9474),w=g(5125);u.firstValueFrom=function(C,b){var v="object"==typeof b;return new Promise(function(p,m){var f=new w.SafeSubscriber({next:function(c){p(c),f.unsubscribe()},error:m,complete:function(){v?p(b.defaultValue):m(new S.EmptyError)}});C.subscribe(f)})}},9309:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.lastValueFrom=void 0;var S=g(9474);u.lastValueFrom=function(w,C){var b="object"==typeof C;return new Promise(function(v,p){var m,f=!1;w.subscribe({next:function(c){m=c,f=!0},error:p,complete:function(){f?v(m):b?v(C.defaultValue):p(new S.EmptyError)}})})}},9518:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(c,a){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(d[_]=h[_])})(c,a)},function(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function d(){this.constructor=c}S(c,a),c.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)});Object.defineProperty(u,"__esModule",{value:!0}),u.ConnectableObservable=void 0;var C=g(2419),b=g(3865),v=g(8739),p=g(4990),m=g(4935),f=function(c){function a(d,h){var _=c.call(this)||this;return _.source=d,_.subjectFactory=h,_._subject=null,_._refCount=0,_._connection=null,m.hasLift(d)&&(_.lift=d.lift),_}return w(a,c),a.prototype._subscribe=function(d){return this.getSubject().subscribe(d)},a.prototype.getSubject=function(){var d=this._subject;return d&&!d.isStopped||(this._subject=this.subjectFactory()),this._subject},a.prototype._teardown=function(){this._refCount=0;var d=this._connection;this._subject=this._connection=null,d?.unsubscribe()},a.prototype.connect=function(){var d=this,h=this._connection;if(!h){h=this._connection=new b.Subscription;var _=this.getSubject();h.add(this.source.subscribe(p.createOperatorSubscriber(_,void 0,function(){d._teardown(),_.complete()},function(x){d._teardown(),_.error(x)},function(){return d._teardown()}))),h.closed&&(this._connection=null,h=b.Subscription.EMPTY)}return h},a.prototype.refCount=function(){return v.refCount()(this)},a}(C.Observable);u.ConnectableObservable=f},3050:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.bindCallback=void 0;var S=g(9592);u.bindCallback=function(w,C,b){return S.bindCallbackInternals(!1,w,C,b)}},9592:function(z,u,g){"use strict";var S=this&&this.__read||function(c,a){var d="function"==typeof Symbol&&c[Symbol.iterator];if(!d)return c;var h,_,x=d.call(c),D=[];try{for(;(void 0===a||a-- >0)&&!(h=x.next()).done;)D.push(h.value)}catch(I){_={error:I}}finally{try{h&&!h.done&&(d=x.return)&&d.call(x)}finally{if(_)throw _.error}}return D},w=this&&this.__spreadArray||function(c,a){for(var d=0,h=a.length,_=c.length;d<h;d++,_++)c[_]=a[d];return c};Object.defineProperty(u,"__esModule",{value:!0}),u.bindCallbackInternals=void 0;var C=g(9016),b=g(2419),v=g(276),p=g(1914),m=g(1184),f=g(280);u.bindCallbackInternals=function c(a,d,h,_){if(h){if(!C.isScheduler(h))return function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];return c(a,d,_).apply(this,x).pipe(p.mapOneOrManyArgs(h))};_=h}return _?function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];return c(a,d).apply(this,x).pipe(v.subscribeOn(_),m.observeOn(_))}:function(){for(var x=this,D=[],I=0;I<arguments.length;I++)D[I]=arguments[I];var A=new f.AsyncSubject,R=!0;return new b.Observable(function(P){var k=A.subscribe(P);if(R){R=!1;var B=!1,V=!1;d.apply(x,w(w([],S(D)),[function(){for(var j=[],X=0;X<arguments.length;X++)j[X]=arguments[X];if(a){var Q=j.shift();if(null!=Q)return void A.error(Q)}A.next(1<j.length?j:j[0]),V=!0,B&&A.complete()}])),V&&A.complete(),B=!0}return k})}}},8130:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.bindNodeCallback=void 0;var S=g(9592);u.bindNodeCallback=function(w,C,b){return S.bindCallbackInternals(!0,w,C,b)}},9258:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.combineLatestInit=u.combineLatest=void 0;var S=g(2419),w=g(1203),C=g(5432),b=g(4781),v=g(1914),p=g(2433),m=g(641),f=g(4990),c=g(7738);function a(h,_,x){return void 0===x&&(x=b.identity),function(D){d(_,function(){for(var I=h.length,A=new Array(I),R=I,P=I,k=function(V){d(_,function(){var j=C.from(h[V],_),X=!1;j.subscribe(f.createOperatorSubscriber(D,function(Q){A[V]=Q,X||(X=!0,P--),P||D.next(x(A.slice()))},function(){--R||D.complete()}))},D)},B=0;B<I;B++)k(B)},D)}}function d(h,_,x){h?c.executeSchedule(x,h,_):_()}u.combineLatest=function(){for(var h=[],_=0;_<arguments.length;_++)h[_]=arguments[_];var x=p.popScheduler(h),D=p.popResultSelector(h),I=w.argsArgArrayOrObject(h),A=I.args,R=I.keys;if(0===A.length)return C.from([],x);var P=new S.Observable(a(A,x,R?function(k){return m.createObject(R,k)}:b.identity));return D?P.pipe(v.mapOneOrManyArgs(D)):P},u.combineLatestInit=a},2239:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.concat=void 0;var S=g(4413),w=g(2433),C=g(5432);u.concat=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];return S.concatAll()(C.from(b,w.popScheduler(b)))}},2873:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.connectable=void 0;var S=g(3032),w=g(2419),C=g(7885),b={connector:function(){return new S.Subject},resetOnDisconnect:!0};u.connectable=function(v,p){void 0===p&&(p=b);var m=null,f=p.connector,c=p.resetOnDisconnect,a=void 0===c||c,d=f(),h=new w.Observable(function(_){return d.subscribe(_)});return h.connect=function(){return m&&!m.closed||(m=C.defer(function(){return v}).subscribe(d),a&&m.add(function(){return d=f()})),m},h}},7885:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.defer=void 0;var S=g(2419),w=g(7103);u.defer=function(C){return new S.Observable(function(b){w.innerFrom(C()).subscribe(b)})}},9106:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.animationFrames=void 0;var S=g(2419),w=g(6813),C=g(505);function b(p){return new S.Observable(function(m){var f=p||w.performanceTimestampProvider,c=f.now(),a=0,d=function(){m.closed||(a=C.animationFrameProvider.requestAnimationFrame(function(h){a=0;var _=f.now();m.next({timestamp:p?_:h,elapsed:_-c}),d()}))};return d(),function(){a&&C.animationFrameProvider.cancelAnimationFrame(a)}})}u.animationFrames=function(p){return p?b(p):v};var v=b()},6332:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.empty=u.EMPTY=void 0;var S=g(2419);u.EMPTY=new S.Observable(function(w){return w.complete()}),u.empty=function(w){return w?(C=w,new S.Observable(function(b){return C.schedule(function(){return b.complete()})})):u.EMPTY;var C}},7245:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.forkJoin=void 0;var S=g(2419),w=g(1203),C=g(7103),b=g(2433),v=g(4990),p=g(1914),m=g(641);u.forkJoin=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];var a=b.popResultSelector(f),d=w.argsArgArrayOrObject(f),h=d.args,_=d.keys,x=new S.Observable(function(D){var I=h.length;if(I)for(var A=new Array(I),R=I,P=I,k=function(V){var j=!1;C.innerFrom(h[V]).subscribe(v.createOperatorSubscriber(D,function(X){j||(j=!0,P--),A[V]=X},function(){return R--},void 0,function(){R&&j||(P||D.next(_?m.createObject(_,A):A),D.complete())}))},B=0;B<I;B++)k(B);else D.complete()});return a?x.pipe(p.mapOneOrManyArgs(a)):x}},5432:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.from=void 0;var S=g(5207),w=g(7103);u.from=function(C,b){return b?S.scheduled(C,b):w.innerFrom(C)}},3267:function(z,u,g){"use strict";var S=this&&this.__read||function(h,_){var x="function"==typeof Symbol&&h[Symbol.iterator];if(!x)return h;var D,I,A=x.call(h),R=[];try{for(;(void 0===_||_-- >0)&&!(D=A.next()).done;)R.push(D.value)}catch(P){I={error:P}}finally{try{D&&!D.done&&(x=A.return)&&x.call(A)}finally{if(I)throw I.error}}return R};Object.defineProperty(u,"__esModule",{value:!0}),u.fromEvent=void 0;var w=g(7103),C=g(2419),b=g(9475),v=g(3909),p=g(3005),m=g(1914),f=["addListener","removeListener"],c=["addEventListener","removeEventListener"],a=["on","off"];function d(h,_){return function(x){return function(D){return h[x](_,D)}}}u.fromEvent=function h(_,x,D,I){if(p.isFunction(D)&&(I=D,D=void 0),I)return h(_,x,D).pipe(m.mapOneOrManyArgs(I));var k,A=S(p.isFunction((k=_).addEventListener)&&p.isFunction(k.removeEventListener)?c.map(function(k){return function(B){return _[k](x,B,D)}}):function(k){return p.isFunction(k.addListener)&&p.isFunction(k.removeListener)}(_)?f.map(d(_,x)):function(k){return p.isFunction(k.on)&&p.isFunction(k.off)}(_)?a.map(d(_,x)):[],2),R=A[0],P=A[1];if(!R&&v.isArrayLike(_))return b.mergeMap(function(k){return h(k,x,D)})(w.innerFrom(_));if(!R)throw new TypeError("Invalid event target");return new C.Observable(function(k){var B=function(){for(var V=[],j=0;j<arguments.length;j++)V[j]=arguments[j];return k.next(1<V.length?V:V[0])};return R(B),function(){return P(B)}})}},470:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.fromEventPattern=void 0;var S=g(2419),w=g(3005),C=g(1914);u.fromEventPattern=function b(v,p,m){return m?b(v,p).pipe(C.mapOneOrManyArgs(m)):new S.Observable(function(f){var c=function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];return f.next(1===d.length?d[0]:d)},a=v(c);return w.isFunction(p)?function(){return p(c,a)}:void 0})}},851:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.fromSubscribable=void 0;var S=g(2419);u.fromSubscribable=function(w){return new S.Observable(function(C){return w.subscribe(C)})}},4303:function(z,u,g){"use strict";var S=this&&this.__generator||function(p,m){var f,c,a,d,h={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return d={next:_(0),throw:_(1),return:_(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function _(x){return function(D){return function(I){if(f)throw new TypeError("Generator is already executing.");for(;h;)try{if(f=1,c&&(a=2&I[0]?c.return:I[0]?c.throw||((a=c.return)&&a.call(c),0):c.next)&&!(a=a.call(c,I[1])).done)return a;switch(c=0,a&&(I=[2&I[0],a.value]),I[0]){case 0:case 1:a=I;break;case 4:return h.label++,{value:I[1],done:!1};case 5:h.label++,c=I[1],I=[0];continue;case 7:I=h.ops.pop(),h.trys.pop();continue;default:if(!((a=(a=h.trys).length>0&&a[a.length-1])||6!==I[0]&&2!==I[0])){h=0;continue}if(3===I[0]&&(!a||I[1]>a[0]&&I[1]<a[3])){h.label=I[1];break}if(6===I[0]&&h.label<a[1]){h.label=a[1],a=I;break}if(a&&h.label<a[2]){h.label=a[2],h.ops.push(I);break}a[2]&&h.ops.pop(),h.trys.pop();continue}I=m.call(p,h)}catch(A){I=[6,A],c=0}finally{f=a=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([x,D])}}};Object.defineProperty(u,"__esModule",{value:!0}),u.generate=void 0;var w=g(4781),C=g(9016),b=g(7885),v=g(1297);u.generate=function(p,m,f,c,a){var d,h,_,x;function D(){var I;return S(this,function(A){switch(A.label){case 0:I=x,A.label=1;case 1:return m&&!m(I)?[3,4]:[4,_(I)];case 2:A.sent(),A.label=3;case 3:return I=f(I),[3,1];case 4:return[2]}})}return 1===arguments.length?(x=(d=p).initialState,m=d.condition,f=d.iterate,_=void 0===(h=d.resultSelector)?w.identity:h,a=d.scheduler):(x=p,!c||C.isScheduler(c)?(_=w.identity,a=c):_=c),b.defer(a?function(){return v.scheduleIterable(D(),a)}:D)}},1757:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.iif=void 0;var S=g(7885);u.iif=function(w,C,b){return S.defer(function(){return w()?C:b})}},7103:function(z,u,g){"use strict";var S=this&&this.__awaiter||function(V,j,X,Q){return new(X||(X=Promise))(function(Z,de){function he(ue){try{ie(Q.next(ue))}catch(Fe){de(Fe)}}function Pe(ue){try{ie(Q.throw(ue))}catch(Fe){de(Fe)}}function ie(ue){var Fe;ue.done?Z(ue.value):(Fe=ue.value,Fe instanceof X?Fe:new X(function(Ye){Ye(Fe)})).then(he,Pe)}ie((Q=Q.apply(V,j||[])).next())})},w=this&&this.__generator||function(V,j){var X,Q,Z,de,he={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return de={next:Pe(0),throw:Pe(1),return:Pe(2)},"function"==typeof Symbol&&(de[Symbol.iterator]=function(){return this}),de;function Pe(ie){return function(ue){return function(Fe){if(X)throw new TypeError("Generator is already executing.");for(;he;)try{if(X=1,Q&&(Z=2&Fe[0]?Q.return:Fe[0]?Q.throw||((Z=Q.return)&&Z.call(Q),0):Q.next)&&!(Z=Z.call(Q,Fe[1])).done)return Z;switch(Q=0,Z&&(Fe=[2&Fe[0],Z.value]),Fe[0]){case 0:case 1:Z=Fe;break;case 4:return he.label++,{value:Fe[1],done:!1};case 5:he.label++,Q=Fe[1],Fe=[0];continue;case 7:Fe=he.ops.pop(),he.trys.pop();continue;default:if(!((Z=(Z=he.trys).length>0&&Z[Z.length-1])||6!==Fe[0]&&2!==Fe[0])){he=0;continue}if(3===Fe[0]&&(!Z||Fe[1]>Z[0]&&Fe[1]<Z[3])){he.label=Fe[1];break}if(6===Fe[0]&&he.label<Z[1]){he.label=Z[1],Z=Fe;break}if(Z&&he.label<Z[2]){he.label=Z[2],he.ops.push(Fe);break}Z[2]&&he.ops.pop(),he.trys.pop();continue}Fe=j.call(V,he)}catch(Ye){Fe=[6,Ye],Q=0}finally{X=Z=0}if(5&Fe[0])throw Fe[1];return{value:Fe[0]?Fe[1]:void 0,done:!0}}([ie,ue])}}},C=this&&this.__asyncValues||function(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j,X=V[Symbol.asyncIterator];return X?X.call(V):(V="function"==typeof b?b(V):V[Symbol.iterator](),j={},Q("next"),Q("throw"),Q("return"),j[Symbol.asyncIterator]=function(){return this},j);function Q(Z){j[Z]=V[Z]&&function(de){return new Promise(function(he,Pe){var ie,ue,Fe;ie=he,ue=Pe,Fe=(de=V[Z](de)).done,Promise.resolve(de.value).then(function(dt){ie({value:dt,done:Fe})},ue)})}}},b=this&&this.__values||function(V){var j="function"==typeof Symbol&&Symbol.iterator,X=j&&V[j],Q=0;if(X)return X.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&Q>=V.length&&(V=void 0),{value:V&&V[Q++],done:!V}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.fromReadableStreamLike=u.fromAsyncIterable=u.fromIterable=u.fromPromise=u.fromArrayLike=u.fromInteropObservable=u.innerFrom=void 0;var v=g(3909),p=g(6018),m=g(2419),f=g(9500),c=g(9595),a=g(9906),d=g(2743),h=g(7823),_=g(3005),x=g(7968),D=g(2801);function I(V){return new m.Observable(function(j){var X=V[D.observable]();if(_.isFunction(X.subscribe))return X.subscribe(j);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function A(V){return new m.Observable(function(j){for(var X=0;X<V.length&&!j.closed;X++)j.next(V[X]);j.complete()})}function R(V){return new m.Observable(function(j){V.then(function(X){j.closed||(j.next(X),j.complete())},function(X){return j.error(X)}).then(null,x.reportUnhandledError)})}function P(V){return new m.Observable(function(j){var X,Q;try{for(var Z=b(V),de=Z.next();!de.done;de=Z.next())if(j.next(de.value),j.closed)return}catch(Pe){X={error:Pe}}finally{try{de&&!de.done&&(Q=Z.return)&&Q.call(Z)}finally{if(X)throw X.error}}j.complete()})}function k(V){return new m.Observable(function(j){(function(X,Q){var Z,de,he,Pe;return S(this,void 0,void 0,function(){var ue;return w(this,function(Fe){switch(Fe.label){case 0:Fe.trys.push([0,5,6,11]),Z=C(X),Fe.label=1;case 1:return[4,Z.next()];case 2:if((de=Fe.sent()).done)return[3,4];if(Q.next(de.value),Q.closed)return[2];Fe.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return ue=Fe.sent(),he={error:ue},[3,11];case 6:return Fe.trys.push([6,,9,10]),de&&!de.done&&(Pe=Z.return)?[4,Pe.call(Z)]:[3,8];case 7:Fe.sent(),Fe.label=8;case 8:return[3,10];case 9:if(he)throw he.error;return[7];case 10:return[7];case 11:return Q.complete(),[2]}})})})(V,j).catch(function(X){return j.error(X)})})}function B(V){return k(h.readableStreamLikeToAsyncGenerator(V))}u.innerFrom=function(V){if(V instanceof m.Observable)return V;if(null!=V){if(f.isInteropObservable(V))return I(V);if(v.isArrayLike(V))return A(V);if(p.isPromise(V))return R(V);if(c.isAsyncIterable(V))return k(V);if(d.isIterable(V))return P(V);if(h.isReadableStreamLike(V))return B(V)}throw a.createInvalidObservableTypeError(V)},u.fromInteropObservable=I,u.fromArrayLike=A,u.fromPromise=R,u.fromIterable=P,u.fromAsyncIterable=k,u.fromReadableStreamLike=B},8990:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.interval=void 0;var S=g(2445),w=g(7513);u.interval=function(C,b){return void 0===C&&(C=0),void 0===b&&(b=S.asyncScheduler),C<0&&(C=0),w.timer(C,C,b)}},1846:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.merge=void 0;var S=g(3783),w=g(7103),C=g(6332),b=g(2433),v=g(5432);u.merge=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var f=b.popScheduler(p),c=b.popNumber(p,1/0),a=p;return a.length?1===a.length?w.innerFrom(a[0]):S.mergeAll(c)(v.from(a,f)):C.EMPTY}},1339:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.never=u.NEVER=void 0;var S=g(2419),w=g(2576);u.NEVER=new S.Observable(w.noop),u.never=function(){return u.NEVER}},5726:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.of=void 0;var S=g(2433),w=g(5432);u.of=function(){for(var C=[],b=0;b<arguments.length;b++)C[b]=arguments[b];var v=S.popScheduler(C);return w.from(C,v)}},724:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.onErrorResumeNext=void 0;var S=g(2419),w=g(5498),C=g(4990),b=g(2576),v=g(7103);u.onErrorResumeNext=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var f=w.argsOrArgArray(p);return new S.Observable(function(c){var a=0,d=function(){if(a<f.length){var h=void 0;try{h=v.innerFrom(f[a++])}catch{return void d()}var _=new C.OperatorSubscriber(c,void 0,b.noop,b.noop);h.subscribe(_),_.add(d)}else c.complete()};d()})}},4380:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pairs=void 0;var S=g(5432);u.pairs=function(w,C){return S.from(Object.entries(w),C)}},7273:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.partition=void 0;var S=g(8634),w=g(9154),C=g(7103);u.partition=function(b,v,p){return[w.filter(v,p)(C.innerFrom(b)),w.filter(S.not(v,p))(C.innerFrom(b))]}},5182:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.raceInit=u.race=void 0;var S=g(2419),w=g(7103),C=g(5498),b=g(4990);function v(p){return function(m){for(var f=[],c=function(d){f.push(w.innerFrom(p[d]).subscribe(b.createOperatorSubscriber(m,function(h){if(f){for(var _=0;_<f.length;_++)_!==d&&f[_].unsubscribe();f=null}m.next(h)})))},a=0;f&&!m.closed&&a<p.length;a++)c(a)}}u.race=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];return 1===(p=C.argsOrArgArray(p)).length?w.innerFrom(p[0]):new S.Observable(v(p))},u.raceInit=v},322:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.range=void 0;var S=g(2419),w=g(6332);u.range=function(C,b,v){if(null==b&&(b=C,C=0),b<=0)return w.EMPTY;var p=b+C;return new S.Observable(v?function(m){var f=C;return v.schedule(function(){f<p?(m.next(f++),this.schedule()):m.complete()})}:function(m){for(var f=C;f<p&&!m.closed;)m.next(f++);m.complete()})}},2098:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.throwError=void 0;var S=g(2419),w=g(3005);u.throwError=function(C,b){var v=w.isFunction(C)?C:function(){return C},p=function(m){return m.error(v())};return new S.Observable(b?function(m){return b.schedule(p,0,m)}:p)}},7513:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.timer=void 0;var S=g(2419),w=g(2445),C=g(9016),b=g(1677);u.timer=function(v,p,m){void 0===v&&(v=0),void 0===m&&(m=w.async);var f=-1;return null!=p&&(C.isScheduler(p)?m=p:f=p),new S.Observable(function(c){var a=b.isValidDate(v)?+v-m.now():v;a<0&&(a=0);var d=0;return m.schedule(function(){c.closed||(c.next(d++),0<=f?this.schedule(void 0,f):c.complete())},a)})}},2962:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.using=void 0;var S=g(2419),w=g(7103),C=g(6332);u.using=function(b,v){return new S.Observable(function(p){var m=b(),f=v(m);return(f?w.innerFrom(f):C.EMPTY).subscribe(p),function(){m&&m.unsubscribe()}})}},7654:function(z,u,g){"use strict";var S=this&&this.__read||function(c,a){var d="function"==typeof Symbol&&c[Symbol.iterator];if(!d)return c;var h,_,x=d.call(c),D=[];try{for(;(void 0===a||a-- >0)&&!(h=x.next()).done;)D.push(h.value)}catch(I){_={error:I}}finally{try{h&&!h.done&&(d=x.return)&&d.call(x)}finally{if(_)throw _.error}}return D},w=this&&this.__spreadArray||function(c,a){for(var d=0,h=a.length,_=c.length;d<h;d++,_++)c[_]=a[d];return c};Object.defineProperty(u,"__esModule",{value:!0}),u.zip=void 0;var C=g(2419),b=g(7103),v=g(5498),p=g(6332),m=g(4990),f=g(2433);u.zip=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];var d=f.popResultSelector(c),h=v.argsOrArgArray(c);return h.length?new C.Observable(function(_){var x=h.map(function(){return[]}),D=h.map(function(){return!1});_.add(function(){x=D=null});for(var I=function(R){b.innerFrom(h[R]).subscribe(m.createOperatorSubscriber(_,function(P){if(x[R].push(P),x.every(function(B){return B.length})){var k=x.map(function(B){return B.shift()});_.next(d?d.apply(void 0,w([],S(k))):k),x.some(function(B,V){return!B.length&&D[V]})&&_.complete()}},function(){D[R]=!0,!x[R].length&&_.complete()}))},A=0;!_.closed&&A<h.length;A++)I(A);return function(){x=D=null}}):p.EMPTY}},4990:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(v,p){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(m[c]=f[c])})(v,p)},function(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=v}S(v,p),v.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)});Object.defineProperty(u,"__esModule",{value:!0}),u.OperatorSubscriber=u.createOperatorSubscriber=void 0;var C=g(5125);u.createOperatorSubscriber=function(v,p,m,f,c){return new b(v,p,m,f,c)};var b=function(v){function p(m,f,c,a,d,h){var _=v.call(this,m)||this;return _.onFinalize=d,_.shouldUnsubscribe=h,_._next=f?function(x){try{f(x)}catch(D){m.error(D)}}:v.prototype._next,_._error=a?function(x){try{a(x)}catch(D){m.error(D)}finally{this.unsubscribe()}}:v.prototype._error,_._complete=c?function(){try{c()}catch(x){m.error(x)}finally{this.unsubscribe()}}:v.prototype._complete,_}return w(p,v),p.prototype.unsubscribe=function(){var m;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var f=this.closed;v.prototype.unsubscribe.call(this),!f&&(null===(m=this.onFinalize)||void 0===m||m.call(this))}},p}(C.Subscriber);u.OperatorSubscriber=b},6474:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.audit=void 0;var S=g(4935),w=g(7103),C=g(4990);u.audit=function(b){return S.operate(function(v,p){var m=!1,f=null,c=null,a=!1,d=function(){if(c?.unsubscribe(),c=null,m){m=!1;var _=f;f=null,p.next(_)}a&&p.complete()},h=function(){c=null,a&&p.complete()};v.subscribe(C.createOperatorSubscriber(p,function(_){m=!0,f=_,c||w.innerFrom(b(_)).subscribe(c=C.createOperatorSubscriber(p,d,h))},function(){a=!0,(!m||!c||c.closed)&&p.complete()}))})}},5382:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.auditTime=void 0;var S=g(2445),w=g(6474),C=g(7513);u.auditTime=function(b,v){return void 0===v&&(v=S.asyncScheduler),w.audit(function(){return C.timer(b,v)})}},9715:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.buffer=void 0;var S=g(4935),w=g(2576),C=g(4990),b=g(7103);u.buffer=function(v){return S.operate(function(p,m){var f=[];return p.subscribe(C.createOperatorSubscriber(m,function(c){return f.push(c)},function(){m.next(f),m.complete()})),b.innerFrom(v).subscribe(C.createOperatorSubscriber(m,function(){var c=f;f=[],m.next(c)},w.noop)),function(){f=null}})}},3814:function(z,u,g){"use strict";var S=this&&this.__values||function(v){var p="function"==typeof Symbol&&Symbol.iterator,m=p&&v[p],f=0;if(m)return m.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&f>=v.length&&(v=void 0),{value:v&&v[f++],done:!v}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.bufferCount=void 0;var w=g(4935),C=g(4990),b=g(6967);u.bufferCount=function(v,p){return void 0===p&&(p=null),p=p??v,w.operate(function(m,f){var c=[],a=0;m.subscribe(C.createOperatorSubscriber(f,function(d){var h,_,x,D,I=null;a++%p==0&&c.push([]);try{for(var A=S(c),R=A.next();!R.done;R=A.next())(B=R.value).push(d),v<=B.length&&(I=I??[]).push(B)}catch(V){h={error:V}}finally{try{R&&!R.done&&(_=A.return)&&_.call(A)}finally{if(h)throw h.error}}if(I)try{for(var P=S(I),k=P.next();!k.done;k=P.next()){var B=k.value;b.arrRemove(c,B),f.next(B)}}catch(V){x={error:V}}finally{try{k&&!k.done&&(D=P.return)&&D.call(P)}finally{if(x)throw x.error}}},function(){var d,h;try{for(var _=S(c),x=_.next();!x.done;x=_.next())f.next(x.value)}catch(I){d={error:I}}finally{try{x&&!x.done&&(h=_.return)&&h.call(_)}finally{if(d)throw d.error}}f.complete()},void 0,function(){c=null}))})}},7211:function(z,u,g){"use strict";var S=this&&this.__values||function(c){var a="function"==typeof Symbol&&Symbol.iterator,d=a&&c[a],h=0;if(d)return d.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.bufferTime=void 0;var w=g(3865),C=g(4935),b=g(4990),v=g(6967),p=g(2445),m=g(2433),f=g(7738);u.bufferTime=function(c){for(var a,d,h=[],_=1;_<arguments.length;_++)h[_-1]=arguments[_];var x=null!==(a=m.popScheduler(h))&&void 0!==a?a:p.asyncScheduler,D=null!==(d=h[0])&&void 0!==d?d:null,I=h[1]||1/0;return C.operate(function(A,R){var P=[],k=!1,B=function(X){var Q=X.buffer;X.subs.unsubscribe(),v.arrRemove(P,X),R.next(Q),k&&V()},V=function(){if(P){var X=new w.Subscription;R.add(X);var Q={buffer:[],subs:X};P.push(Q),f.executeSchedule(X,x,function(){return B(Q)},c)}};null!==D&&D>=0?f.executeSchedule(R,x,V,D,!0):k=!0,V();var j=b.createOperatorSubscriber(R,function(X){var Q,Z,de=P.slice();try{for(var he=S(de),Pe=he.next();!Pe.done;Pe=he.next()){var ie=Pe.value,ue=ie.buffer;ue.push(X),I<=ue.length&&B(ie)}}catch(Fe){Q={error:Fe}}finally{try{Pe&&!Pe.done&&(Z=he.return)&&Z.call(he)}finally{if(Q)throw Q.error}}},function(){for(;P?.length;)R.next(P.shift().buffer);j?.unsubscribe(),R.complete(),R.unsubscribe()},void 0,function(){return P=null});A.subscribe(j)})}},4943:function(z,u,g){"use strict";var S=this&&this.__values||function(f){var c="function"==typeof Symbol&&Symbol.iterator,a=c&&f[c],d=0;if(a)return a.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&d>=f.length&&(f=void 0),{value:f&&f[d++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.bufferToggle=void 0;var w=g(3865),C=g(4935),b=g(7103),v=g(4990),p=g(2576),m=g(6967);u.bufferToggle=function(f,c){return C.operate(function(a,d){var h=[];b.innerFrom(f).subscribe(v.createOperatorSubscriber(d,function(_){var x=[];h.push(x);var D=new w.Subscription;D.add(b.innerFrom(c(_)).subscribe(v.createOperatorSubscriber(d,function(){m.arrRemove(h,x),d.next(x),D.unsubscribe()},p.noop)))},p.noop)),a.subscribe(v.createOperatorSubscriber(d,function(_){var x,D;try{for(var I=S(h),A=I.next();!A.done;A=I.next())A.value.push(_)}catch(R){x={error:R}}finally{try{A&&!A.done&&(D=I.return)&&D.call(I)}finally{if(x)throw x.error}}},function(){for(;h.length>0;)d.next(h.shift());d.complete()}))})}},1240:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.bufferWhen=void 0;var S=g(4935),w=g(2576),C=g(4990),b=g(7103);u.bufferWhen=function(v){return S.operate(function(p,m){var f=null,c=null,a=function(){c?.unsubscribe();var d=f;f=[],d&&m.next(d),b.innerFrom(v()).subscribe(c=C.createOperatorSubscriber(m,a,w.noop))};a(),p.subscribe(C.createOperatorSubscriber(m,function(d){return f?.push(d)},function(){f&&m.next(f),m.complete()},void 0,function(){return f=c=null}))})}},9548:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.catchError=void 0;var S=g(7103),w=g(4990),C=g(4935);u.catchError=function b(v){return C.operate(function(p,m){var f,c=null,a=!1;c=p.subscribe(w.createOperatorSubscriber(m,void 0,void 0,function(d){f=S.innerFrom(v(d,b(v)(p))),c?(c.unsubscribe(),c=null,f.subscribe(m)):a=!0})),a&&(c.unsubscribe(),c=null,f.subscribe(m))})}},2128:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.combineAll=void 0;var S=g(3240);u.combineAll=S.combineLatestAll},6318:function(z,u,g){"use strict";var S=this&&this.__read||function(c,a){var d="function"==typeof Symbol&&c[Symbol.iterator];if(!d)return c;var h,_,x=d.call(c),D=[];try{for(;(void 0===a||a-- >0)&&!(h=x.next()).done;)D.push(h.value)}catch(I){_={error:I}}finally{try{h&&!h.done&&(d=x.return)&&d.call(x)}finally{if(_)throw _.error}}return D},w=this&&this.__spreadArray||function(c,a){for(var d=0,h=a.length,_=c.length;d<h;d++,_++)c[_]=a[d];return c};Object.defineProperty(u,"__esModule",{value:!0}),u.combineLatest=void 0;var C=g(9258),b=g(4935),v=g(5498),p=g(1914),m=g(9985),f=g(2433);u.combineLatest=function c(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];var h=f.popResultSelector(a);return h?m.pipe(c.apply(void 0,w([],S(a))),p.mapOneOrManyArgs(h)):b.operate(function(_,x){C.combineLatestInit(w([_],S(v.argsOrArgArray(a))))(x)})}},3240:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.combineLatestAll=void 0;var S=g(9258),w=g(2069);u.combineLatestAll=function(C){return w.joinAllInternals(S.combineLatest,C)}},5024:function(z,u,g){"use strict";var S=this&&this.__read||function(b,v){var p="function"==typeof Symbol&&b[Symbol.iterator];if(!p)return b;var m,f,c=p.call(b),a=[];try{for(;(void 0===v||v-- >0)&&!(m=c.next()).done;)a.push(m.value)}catch(d){f={error:d}}finally{try{m&&!m.done&&(p=c.return)&&p.call(c)}finally{if(f)throw f.error}}return a},w=this&&this.__spreadArray||function(b,v){for(var p=0,m=v.length,f=b.length;p<m;p++,f++)b[f]=v[p];return b};Object.defineProperty(u,"__esModule",{value:!0}),u.combineLatestWith=void 0;var C=g(6318);u.combineLatestWith=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];return C.combineLatest.apply(void 0,w([],S(b)))}},4919:function(z,u,g){"use strict";var S=this&&this.__read||function(m,f){var c="function"==typeof Symbol&&m[Symbol.iterator];if(!c)return m;var a,d,h=c.call(m),_=[];try{for(;(void 0===f||f-- >0)&&!(a=h.next()).done;)_.push(a.value)}catch(x){d={error:x}}finally{try{a&&!a.done&&(c=h.return)&&c.call(h)}finally{if(d)throw d.error}}return _},w=this&&this.__spreadArray||function(m,f){for(var c=0,a=f.length,d=m.length;c<a;c++,d++)m[d]=f[c];return m};Object.defineProperty(u,"__esModule",{value:!0}),u.concat=void 0;var C=g(4935),b=g(4413),v=g(2433),p=g(5432);u.concat=function(){for(var m=[],f=0;f<arguments.length;f++)m[f]=arguments[f];var c=v.popScheduler(m);return C.operate(function(a,d){b.concatAll()(p.from(w([a],S(m)),c)).subscribe(d)})}},4413:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.concatAll=void 0;var S=g(3783);u.concatAll=function(){return S.mergeAll(1)}},7498:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.concatMap=void 0;var S=g(9475),w=g(3005);u.concatMap=function(C,b){return w.isFunction(b)?S.mergeMap(C,b,1):S.mergeMap(C,1)}},6109:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.concatMapTo=void 0;var S=g(7498),w=g(3005);u.concatMapTo=function(C,b){return w.isFunction(b)?S.concatMap(function(){return C},b):S.concatMap(function(){return C})}},9664:function(z,u,g){"use strict";var S=this&&this.__read||function(b,v){var p="function"==typeof Symbol&&b[Symbol.iterator];if(!p)return b;var m,f,c=p.call(b),a=[];try{for(;(void 0===v||v-- >0)&&!(m=c.next()).done;)a.push(m.value)}catch(d){f={error:d}}finally{try{m&&!m.done&&(p=c.return)&&p.call(c)}finally{if(f)throw f.error}}return a},w=this&&this.__spreadArray||function(b,v){for(var p=0,m=v.length,f=b.length;p<m;p++,f++)b[f]=v[p];return b};Object.defineProperty(u,"__esModule",{value:!0}),u.concatWith=void 0;var C=g(4919);u.concatWith=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];return C.concat.apply(void 0,w([],S(b)))}},1995:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.connect=void 0;var S=g(3032),w=g(7103),C=g(4935),b=g(851),v={connector:function(){return new S.Subject}};u.connect=function(p,m){void 0===m&&(m=v);var f=m.connector;return C.operate(function(c,a){var d=f();w.innerFrom(p(b.fromSubscribable(d))).subscribe(a),a.add(c.subscribe(d))})}},993:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.count=void 0;var S=g(122);u.count=function(w){return S.reduce(function(C,b,v){return!w||w(b,v)?C+1:C},0)}},496:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.debounce=void 0;var S=g(4935),w=g(2576),C=g(4990),b=g(7103);u.debounce=function(v){return S.operate(function(p,m){var f=!1,c=null,a=null,d=function(){if(a?.unsubscribe(),a=null,f){f=!1;var h=c;c=null,m.next(h)}};p.subscribe(C.createOperatorSubscriber(m,function(h){a?.unsubscribe(),f=!0,c=h,a=C.createOperatorSubscriber(m,d,w.noop),b.innerFrom(v(h)).subscribe(a)},function(){d(),m.complete()},void 0,function(){c=a=null}))})}},1385:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.debounceTime=void 0;var S=g(2445),w=g(4935),C=g(4990);u.debounceTime=function(b,v){return void 0===v&&(v=S.asyncScheduler),w.operate(function(p,m){var f=null,c=null,a=null,d=function(){if(f){f.unsubscribe(),f=null;var _=c;c=null,m.next(_)}};function h(){var _=a+b,x=v.now();if(x<_)return f=this.schedule(void 0,_-x),void m.add(f);d()}p.subscribe(C.createOperatorSubscriber(m,function(_){c=_,a=v.now(),f||(f=v.schedule(h,b),m.add(f))},function(){d(),m.complete()},void 0,function(){c=f=null}))})}},1658:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.defaultIfEmpty=void 0;var S=g(4935),w=g(4990);u.defaultIfEmpty=function(C){return S.operate(function(b,v){var p=!1;b.subscribe(w.createOperatorSubscriber(v,function(m){p=!0,v.next(m)},function(){p||v.next(C),v.complete()}))})}},5841:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.delay=void 0;var S=g(2445),w=g(8798),C=g(7513);u.delay=function(b,v){void 0===v&&(v=S.asyncScheduler);var p=C.timer(b,v);return w.delayWhen(function(){return p})}},8798:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.delayWhen=void 0;var S=g(2239),w=g(4783),C=g(9438),b=g(8313),v=g(9475),p=g(7103);u.delayWhen=function m(f,c){return c?function(a){return S.concat(c.pipe(w.take(1),C.ignoreElements()),a.pipe(m(f)))}:v.mergeMap(function(a,d){return p.innerFrom(f(a,d)).pipe(w.take(1),b.mapTo(a))})}},1080:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.dematerialize=void 0;var S=g(3104),w=g(4935),C=g(4990);u.dematerialize=function(){return w.operate(function(b,v){b.subscribe(C.createOperatorSubscriber(v,function(p){return S.observeNotification(p,v)}))})}},3054:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.distinct=void 0;var S=g(4935),w=g(4990),C=g(2576),b=g(7103);u.distinct=function(v,p){return S.operate(function(m,f){var c=new Set;m.subscribe(w.createOperatorSubscriber(f,function(a){var d=v?v(a):a;c.has(d)||(c.add(d),f.next(a))})),p&&b.innerFrom(p).subscribe(w.createOperatorSubscriber(f,function(){return c.clear()},C.noop))})}},8737:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.distinctUntilChanged=void 0;var S=g(4781),w=g(4935),C=g(4990);function b(v,p){return v===p}u.distinctUntilChanged=function(v,p){return void 0===p&&(p=S.identity),v=v??b,w.operate(function(m,f){var c,a=!0;m.subscribe(C.createOperatorSubscriber(f,function(d){var h=p(d);!a&&v(c,h)||(a=!1,c=h,f.next(d))}))})}},7957:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.distinctUntilKeyChanged=void 0;var S=g(8737);u.distinctUntilKeyChanged=function(w,C){return S.distinctUntilChanged(function(b,v){return C?C(b[w],v[w]):b[w]===v[w]})}},8633:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.elementAt=void 0;var S=g(2351),w=g(9154),C=g(1779),b=g(1658),v=g(4783);u.elementAt=function(p,m){if(p<0)throw new S.ArgumentOutOfRangeError;var f=arguments.length>=2;return function(c){return c.pipe(w.filter(function(a,d){return d===p}),v.take(1),f?b.defaultIfEmpty(m):C.throwIfEmpty(function(){return new S.ArgumentOutOfRangeError}))}}},911:function(z,u,g){"use strict";var S=this&&this.__read||function(v,p){var m="function"==typeof Symbol&&v[Symbol.iterator];if(!m)return v;var f,c,a=m.call(v),d=[];try{for(;(void 0===p||p-- >0)&&!(f=a.next()).done;)d.push(f.value)}catch(h){c={error:h}}finally{try{f&&!f.done&&(m=a.return)&&m.call(a)}finally{if(c)throw c.error}}return d},w=this&&this.__spreadArray||function(v,p){for(var m=0,f=p.length,c=v.length;m<f;m++,c++)v[c]=p[m];return v};Object.defineProperty(u,"__esModule",{value:!0}),u.endWith=void 0;var C=g(2239),b=g(5726);u.endWith=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];return function(m){return C.concat(m,b.of.apply(void 0,w([],S(v))))}}},2096:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.every=void 0;var S=g(4935),w=g(4990);u.every=function(C,b){return S.operate(function(v,p){var m=0;v.subscribe(w.createOperatorSubscriber(p,function(f){C.call(b,f,m++,v)||(p.next(!1),p.complete())},function(){p.next(!0),p.complete()}))})}},67:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.exhaust=void 0;var S=g(5337);u.exhaust=S.exhaustAll},5337:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.exhaustAll=void 0;var S=g(5635),w=g(4781);u.exhaustAll=function(){return S.exhaustMap(w.identity)}},5635:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.exhaustMap=void 0;var S=g(7291),w=g(7103),C=g(4935),b=g(4990);u.exhaustMap=function v(p,m){return m?function(f){return f.pipe(v(function(c,a){return w.innerFrom(p(c,a)).pipe(S.map(function(d,h){return m(c,d,a,h)}))}))}:C.operate(function(f,c){var a=0,d=null,h=!1;f.subscribe(b.createOperatorSubscriber(c,function(_){d||(d=b.createOperatorSubscriber(c,void 0,function(){d=null,h&&c.complete()}),w.innerFrom(p(_,a++)).subscribe(d))},function(){h=!0,!d&&c.complete()}))})}},9745:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.expand=void 0;var S=g(4935),w=g(7788);u.expand=function(C,b,v){return void 0===b&&(b=1/0),b=(b||0)<1?1/0:b,S.operate(function(p,m){return w.mergeInternals(p,m,C,b,void 0,!0,v)})}},9154:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.filter=void 0;var S=g(4935),w=g(4990);u.filter=function(C,b){return S.operate(function(v,p){var m=0;v.subscribe(w.createOperatorSubscriber(p,function(f){return C.call(b,f,m++)&&p.next(f)}))})}},9283:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.finalize=void 0;var S=g(4935);u.finalize=function(w){return S.operate(function(C,b){try{C.subscribe(b)}finally{b.add(w)}})}},7119:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createFind=u.find=void 0;var S=g(4935),w=g(4990);function C(b,v,p){var m="index"===p;return function(f,c){var a=0;f.subscribe(w.createOperatorSubscriber(c,function(d){var h=a++;b.call(v,d,h,f)&&(c.next(m?h:d),c.complete())},function(){c.next(m?-1:void 0),c.complete()}))}}u.find=function(b,v){return S.operate(C(b,v,"value"))},u.createFind=C},4706:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.findIndex=void 0;var S=g(4935),w=g(7119);u.findIndex=function(C,b){return S.operate(w.createFind(C,b,"index"))}},9219:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.first=void 0;var S=g(9474),w=g(9154),C=g(4783),b=g(1658),v=g(1779),p=g(4781);u.first=function(m,f){var c=arguments.length>=2;return function(a){return a.pipe(m?w.filter(function(d,h){return m(d,h,a)}):p.identity,C.take(1),c?b.defaultIfEmpty(f):v.throwIfEmpty(function(){return new S.EmptyError}))}}},1788:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.flatMap=void 0;var S=g(9475);u.flatMap=S.mergeMap},9749:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.groupBy=void 0;var S=g(2419),w=g(7103),C=g(3032),b=g(4935),v=g(4990);u.groupBy=function(p,m,f,c){return b.operate(function(a,d){var h;m&&"function"!=typeof m?(f=m.duration,h=m.element,c=m.connector):h=m;var _=new Map,x=function(P){_.forEach(P),P(d)},D=function(P){return x(function(k){return k.error(P)})},I=0,A=!1,R=new v.OperatorSubscriber(d,function(P){try{var k=p(P),B=_.get(k);if(!B){_.set(k,B=c?c():new C.Subject);var V=(X=k,Q=B,(Z=new S.Observable(function(de){I++;var he=Q.subscribe(de);return function(){he.unsubscribe(),0==--I&&A&&R.unsubscribe()}})).key=X,Z);if(d.next(V),f){var j=v.createOperatorSubscriber(B,function(){B.complete(),j?.unsubscribe()},void 0,void 0,function(){return _.delete(k)});R.add(w.innerFrom(f(V)).subscribe(j))}}B.next(h?h(P):P)}catch(de){D(de)}var X,Q,Z},function(){return x(function(P){return P.complete()})},D,function(){return _.clear()},function(){return A=!0,0===I});a.subscribe(R)})}},9438:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ignoreElements=void 0;var S=g(4935),w=g(4990),C=g(2576);u.ignoreElements=function(){return S.operate(function(b,v){b.subscribe(w.createOperatorSubscriber(v,C.noop))})}},8515:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isEmpty=void 0;var S=g(4935),w=g(4990);u.isEmpty=function(){return S.operate(function(C,b){C.subscribe(w.createOperatorSubscriber(b,function(){b.next(!1),b.complete()},function(){b.next(!0),b.complete()}))})}},2069:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.joinAllInternals=void 0;var S=g(4781),w=g(1914),C=g(9985),b=g(9475),v=g(2);u.joinAllInternals=function(p,m){return C.pipe(v.toArray(),b.mergeMap(function(f){return p(f)}),m?w.mapOneOrManyArgs(m):S.identity)}},2435:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.last=void 0;var S=g(9474),w=g(9154),C=g(1980),b=g(1779),v=g(1658),p=g(4781);u.last=function(m,f){var c=arguments.length>=2;return function(a){return a.pipe(m?w.filter(function(d,h){return m(d,h,a)}):p.identity,C.takeLast(1),c?v.defaultIfEmpty(f):b.throwIfEmpty(function(){return new S.EmptyError}))}}},7291:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.map=void 0;var S=g(4935),w=g(4990);u.map=function(C,b){return S.operate(function(v,p){var m=0;v.subscribe(w.createOperatorSubscriber(p,function(f){p.next(C.call(b,f,m++))}))})}},8313:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mapTo=void 0;var S=g(7291);u.mapTo=function(w){return S.map(function(){return w})}},3209:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.materialize=void 0;var S=g(3104),w=g(4935),C=g(4990);u.materialize=function(){return w.operate(function(b,v){b.subscribe(C.createOperatorSubscriber(v,function(p){v.next(S.Notification.createNext(p))},function(){v.next(S.Notification.createComplete()),v.complete()},function(p){v.next(S.Notification.createError(p)),v.complete()}))})}},2620:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.max=void 0;var S=g(122),w=g(3005);u.max=function(C){return S.reduce(w.isFunction(C)?function(b,v){return C(b,v)>0?b:v}:function(b,v){return b>v?b:v})}},9821:function(z,u,g){"use strict";var S=this&&this.__read||function(f,c){var a="function"==typeof Symbol&&f[Symbol.iterator];if(!a)return f;var d,h,_=a.call(f),x=[];try{for(;(void 0===c||c-- >0)&&!(d=_.next()).done;)x.push(d.value)}catch(D){h={error:D}}finally{try{d&&!d.done&&(a=_.return)&&a.call(_)}finally{if(h)throw h.error}}return x},w=this&&this.__spreadArray||function(f,c){for(var a=0,d=c.length,h=f.length;a<d;a++,h++)f[h]=c[a];return f};Object.defineProperty(u,"__esModule",{value:!0}),u.merge=void 0;var C=g(4935),b=g(5498),v=g(3783),p=g(2433),m=g(5432);u.merge=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];var a=p.popScheduler(f),d=p.popNumber(f,1/0);return f=b.argsOrArgArray(f),C.operate(function(h,_){v.mergeAll(d)(m.from(w([h],S(f)),a)).subscribe(_)})}},3783:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeAll=void 0;var S=g(9475),w=g(4781);u.mergeAll=function(C){return void 0===C&&(C=1/0),S.mergeMap(w.identity,C)}},7788:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeInternals=void 0;var S=g(7103),w=g(7738),C=g(4990);u.mergeInternals=function(b,v,p,m,f,c,a,d){var h=[],_=0,x=0,D=!1,I=function(){!D||h.length||_||v.complete()},A=function(P){return _<m?R(P):h.push(P)},R=function(P){c&&v.next(P),_++;var k=!1;S.innerFrom(p(P,x++)).subscribe(C.createOperatorSubscriber(v,function(B){f?.(B),c?A(B):v.next(B)},function(){k=!0},void 0,function(){if(k)try{_--;for(var B=function(){var V=h.shift();a?w.executeSchedule(v,a,function(){return R(V)}):R(V)};h.length&&_<m;)B();I()}catch(V){v.error(V)}}))};return b.subscribe(C.createOperatorSubscriber(v,A,function(){D=!0,I()})),function(){d?.()}}},9475:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeMap=void 0;var S=g(7291),w=g(7103),C=g(4935),b=g(7788),v=g(3005);u.mergeMap=function p(m,f,c){return void 0===c&&(c=1/0),v.isFunction(f)?p(function(a,d){return S.map(function(h,_){return f(a,h,d,_)})(w.innerFrom(m(a,d)))},c):("number"==typeof f&&(c=f),C.operate(function(a,d){return b.mergeInternals(a,d,m,c)}))}},1211:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeMapTo=void 0;var S=g(9475),w=g(3005);u.mergeMapTo=function(C,b,v){return void 0===v&&(v=1/0),w.isFunction(b)?S.mergeMap(function(){return C},b,v):("number"==typeof b&&(v=b),S.mergeMap(function(){return C},v))}},7267:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeScan=void 0;var S=g(4935),w=g(7788);u.mergeScan=function(C,b,v){return void 0===v&&(v=1/0),S.operate(function(p,m){var f=b;return w.mergeInternals(p,m,function(c,a){return C(f,c,a)},v,function(c){f=c},!1,void 0,function(){return f=null})})}},9303:function(z,u,g){"use strict";var S=this&&this.__read||function(b,v){var p="function"==typeof Symbol&&b[Symbol.iterator];if(!p)return b;var m,f,c=p.call(b),a=[];try{for(;(void 0===v||v-- >0)&&!(m=c.next()).done;)a.push(m.value)}catch(d){f={error:d}}finally{try{m&&!m.done&&(p=c.return)&&p.call(c)}finally{if(f)throw f.error}}return a},w=this&&this.__spreadArray||function(b,v){for(var p=0,m=v.length,f=b.length;p<m;p++,f++)b[f]=v[p];return b};Object.defineProperty(u,"__esModule",{value:!0}),u.mergeWith=void 0;var C=g(9821);u.mergeWith=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];return C.merge.apply(void 0,w([],S(b)))}},9714:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.min=void 0;var S=g(122),w=g(3005);u.min=function(C){return S.reduce(w.isFunction(C)?function(b,v){return C(b,v)<0?b:v}:function(b,v){return b<v?b:v})}},3848:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.multicast=void 0;var S=g(9518),w=g(3005),C=g(1995);u.multicast=function(b,v){var p=w.isFunction(b)?b:function(){return b};return w.isFunction(v)?C.connect(v,{connector:p}):function(m){return new S.ConnectableObservable(m,p)}}},1184:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.observeOn=void 0;var S=g(7738),w=g(4935),C=g(4990);u.observeOn=function(b,v){return void 0===v&&(v=0),w.operate(function(p,m){p.subscribe(C.createOperatorSubscriber(m,function(f){return S.executeSchedule(m,b,function(){return m.next(f)},v)},function(){return S.executeSchedule(m,b,function(){return m.complete()},v)},function(f){return S.executeSchedule(m,b,function(){return m.error(f)},v)}))})}},7582:function(z,u,g){"use strict";var S=this&&this.__read||function(p,m){var f="function"==typeof Symbol&&p[Symbol.iterator];if(!f)return p;var c,a,d=f.call(p),h=[];try{for(;(void 0===m||m-- >0)&&!(c=d.next()).done;)h.push(c.value)}catch(_){a={error:_}}finally{try{c&&!c.done&&(f=d.return)&&f.call(d)}finally{if(a)throw a.error}}return h},w=this&&this.__spreadArray||function(p,m){for(var f=0,c=m.length,a=p.length;f<c;f++,a++)p[a]=m[f];return p};Object.defineProperty(u,"__esModule",{value:!0}),u.onErrorResumeNext=u.onErrorResumeNextWith=void 0;var C=g(5498),b=g(724);function v(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var f=C.argsOrArgArray(p);return function(c){return b.onErrorResumeNext.apply(void 0,w([c],S(f)))}}u.onErrorResumeNextWith=v,u.onErrorResumeNext=v},2731:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pairwise=void 0;var S=g(4935),w=g(4990);u.pairwise=function(){return S.operate(function(C,b){var v,p=!1;C.subscribe(w.createOperatorSubscriber(b,function(m){var f=v;v=m,p&&b.next([f,m]),p=!0}))})}},5649:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.partition=void 0;var S=g(8634),w=g(9154);u.partition=function(C,b){return function(v){return[w.filter(C,b)(v),w.filter(S.not(C,b))(v)]}}},4691:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pluck=void 0;var S=g(7291);u.pluck=function(){for(var w=[],C=0;C<arguments.length;C++)w[C]=arguments[C];var b=w.length;if(0===b)throw new Error("list of properties cannot be empty.");return S.map(function(v){for(var p=v,m=0;m<b;m++){var f=p?.[w[m]];if(void 0===f)return;p=f}return p})}},4474:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.publish=void 0;var S=g(3032),w=g(3848),C=g(1995);u.publish=function(b){return b?function(v){return C.connect(b)(v)}:function(v){return w.multicast(new S.Subject)(v)}}},52:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.publishBehavior=void 0;var S=g(5240),w=g(9518);u.publishBehavior=function(C){return function(b){var v=new S.BehaviorSubject(C);return new w.ConnectableObservable(b,function(){return v})}}},2110:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.publishLast=void 0;var S=g(280),w=g(9518);u.publishLast=function(){return function(C){var b=new S.AsyncSubject;return new w.ConnectableObservable(C,function(){return b})}}},9864:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.publishReplay=void 0;var S=g(3274),w=g(3848),C=g(3005);u.publishReplay=function(b,v,p,m){p&&!C.isFunction(p)&&(m=p);var f=C.isFunction(p)?p:void 0;return function(c){return w.multicast(new S.ReplaySubject(b,v,m),f)(c)}}},9764:function(z,u,g){"use strict";var S=this&&this.__read||function(v,p){var m="function"==typeof Symbol&&v[Symbol.iterator];if(!m)return v;var f,c,a=m.call(v),d=[];try{for(;(void 0===p||p-- >0)&&!(f=a.next()).done;)d.push(f.value)}catch(h){c={error:h}}finally{try{f&&!f.done&&(m=a.return)&&m.call(a)}finally{if(c)throw c.error}}return d},w=this&&this.__spreadArray||function(v,p){for(var m=0,f=p.length,c=v.length;m<f;m++,c++)v[c]=p[m];return v};Object.defineProperty(u,"__esModule",{value:!0}),u.race=void 0;var C=g(5498),b=g(179);u.race=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];return b.raceWith.apply(void 0,w([],S(C.argsOrArgArray(v))))}},179:function(z,u,g){"use strict";var S=this&&this.__read||function(p,m){var f="function"==typeof Symbol&&p[Symbol.iterator];if(!f)return p;var c,a,d=f.call(p),h=[];try{for(;(void 0===m||m-- >0)&&!(c=d.next()).done;)h.push(c.value)}catch(_){a={error:_}}finally{try{c&&!c.done&&(f=d.return)&&f.call(d)}finally{if(a)throw a.error}}return h},w=this&&this.__spreadArray||function(p,m){for(var f=0,c=m.length,a=p.length;f<c;f++,a++)p[a]=m[f];return p};Object.defineProperty(u,"__esModule",{value:!0}),u.raceWith=void 0;var C=g(5182),b=g(4935),v=g(4781);u.raceWith=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];return p.length?b.operate(function(f,c){C.raceInit(w([f],S(p)))(c)}):v.identity}},122:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.reduce=void 0;var S=g(8345),w=g(4935);u.reduce=function(C,b){return w.operate(S.scanInternals(C,b,arguments.length>=2,!1,!0))}},8739:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.refCount=void 0;var S=g(4935),w=g(4990);u.refCount=function(){return S.operate(function(C,b){var v=null;C._refCount++;var p=w.createOperatorSubscriber(b,void 0,void 0,void 0,function(){if(!C||C._refCount<=0||0<--C._refCount)v=null;else{var m=C._connection,f=v;v=null,!m||f&&m!==f||m.unsubscribe(),b.unsubscribe()}});C.subscribe(p),p.closed||(v=C.connect())})}},5313:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.repeat=void 0;var S=g(6332),w=g(4935),C=g(4990),b=g(7103),v=g(7513);u.repeat=function(p){var m,f,c=1/0;return null!=p&&("object"==typeof p?(c=void 0===(m=p.count)?1/0:m,f=p.delay):c=p),c<=0?function(){return S.EMPTY}:w.operate(function(a,d){var h,_=0,x=function(){if(h?.unsubscribe(),h=null,null!=f){var I="number"==typeof f?v.timer(f):b.innerFrom(f(_)),A=C.createOperatorSubscriber(d,function(){A.unsubscribe(),D()});I.subscribe(A)}else D()},D=function(){var I=!1;h=a.subscribe(C.createOperatorSubscriber(d,void 0,function(){++_<c?h?x():I=!0:d.complete()})),I&&x()};D()})}},4068:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.repeatWhen=void 0;var S=g(7103),w=g(3032),C=g(4935),b=g(4990);u.repeatWhen=function(v){return C.operate(function(p,m){var f,c,a=!1,d=!1,h=!1,_=function(){return h&&d&&(m.complete(),!0)},x=function(){h=!1,f=p.subscribe(b.createOperatorSubscriber(m,void 0,function(){h=!0,!_()&&(c||(c=new w.Subject,S.innerFrom(v(c)).subscribe(b.createOperatorSubscriber(m,function(){f?x():a=!0},function(){d=!0,_()}))),c).next()})),a&&(f.unsubscribe(),f=null,a=!1,x())};x()})}},64:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.retry=void 0;var S=g(4935),w=g(4990),C=g(4781),b=g(7513),v=g(7103);u.retry=function(p){var m;void 0===p&&(p=1/0);var f=(m=p&&"object"==typeof p?p:{count:p}).count,c=void 0===f?1/0:f,a=m.delay,d=m.resetOnSuccess,h=void 0!==d&&d;return c<=0?C.identity:S.operate(function(_,x){var D,I=0,A=function(){var R=!1;D=_.subscribe(w.createOperatorSubscriber(x,function(P){h&&(I=0),x.next(P)},void 0,function(P){if(I++<c){var k=function(){D?(D.unsubscribe(),D=null,A()):R=!0};if(null!=a){var B="number"==typeof a?b.timer(a):v.innerFrom(a(P,I)),V=w.createOperatorSubscriber(x,function(){V.unsubscribe(),k()},function(){x.complete()});B.subscribe(V)}else k()}else x.error(P)})),R&&(D.unsubscribe(),D=null,A())};A()})}},1188:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.retryWhen=void 0;var S=g(7103),w=g(3032),C=g(4935),b=g(4990);u.retryWhen=function(v){return C.operate(function(p,m){var f,c,a=!1,d=function(){f=p.subscribe(b.createOperatorSubscriber(m,void 0,void 0,function(h){c||(c=new w.Subject,S.innerFrom(v(c)).subscribe(b.createOperatorSubscriber(m,function(){return f?d():a=!0}))),c&&c.next(h)})),a&&(f.unsubscribe(),f=null,a=!1,d())};d()})}},4193:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sample=void 0;var S=g(7103),w=g(4935),C=g(2576),b=g(4990);u.sample=function(v){return w.operate(function(p,m){var f=!1,c=null;p.subscribe(b.createOperatorSubscriber(m,function(a){f=!0,c=a})),S.innerFrom(v).subscribe(b.createOperatorSubscriber(m,function(){if(f){f=!1;var a=c;c=null,m.next(a)}},C.noop))})}},6170:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sampleTime=void 0;var S=g(2445),w=g(4193),C=g(8990);u.sampleTime=function(b,v){return void 0===v&&(v=S.asyncScheduler),w.sample(C.interval(b,v))}},5876:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scan=void 0;var S=g(4935),w=g(8345);u.scan=function(C,b){return S.operate(w.scanInternals(C,b,arguments.length>=2,!0))}},8345:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scanInternals=void 0;var S=g(4990);u.scanInternals=function(w,C,b,v,p){return function(m,f){var c=b,a=C,d=0;m.subscribe(S.createOperatorSubscriber(f,function(h){var _=d++;a=c?w(a,h,_):(c=!0,h),v&&f.next(a)},p&&function(){c&&f.next(a),f.complete()}))}}},1791:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.sequenceEqual=void 0;var S=g(4935),w=g(4990),C=g(7103);u.sequenceEqual=function(b,v){return void 0===v&&(v=function(p,m){return p===m}),S.operate(function(p,m){var f={buffer:[],complete:!1},c={buffer:[],complete:!1},a=function(h){m.next(h),m.complete()},d=function(h,_){var x=w.createOperatorSubscriber(m,function(D){var I=_.buffer;0===I.length?_.complete?a(!1):h.buffer.push(D):!v(D,I.shift())&&a(!1)},function(){h.complete=!0,_.complete&&a(0===_.buffer.length),x?.unsubscribe()});return x};p.subscribe(d(f,c)),C.innerFrom(b).subscribe(d(c,f))})}},5137:function(z,u,g){"use strict";var S=this&&this.__read||function(f,c){var a="function"==typeof Symbol&&f[Symbol.iterator];if(!a)return f;var d,h,_=a.call(f),x=[];try{for(;(void 0===c||c-- >0)&&!(d=_.next()).done;)x.push(d.value)}catch(D){h={error:D}}finally{try{d&&!d.done&&(a=_.return)&&a.call(_)}finally{if(h)throw h.error}}return x},w=this&&this.__spreadArray||function(f,c){for(var a=0,d=c.length,h=f.length;a<d;a++,h++)f[h]=c[a];return f};Object.defineProperty(u,"__esModule",{value:!0}),u.share=void 0;var C=g(7103),b=g(3032),v=g(5125),p=g(4935);function m(f,c){for(var a=[],d=2;d<arguments.length;d++)a[d-2]=arguments[d];if(!0!==c){if(!1!==c){var h=new v.SafeSubscriber({next:function(){h.unsubscribe(),f()}});return C.innerFrom(c.apply(void 0,w([],S(a)))).subscribe(h)}}else f()}u.share=function(f){void 0===f&&(f={});var c=f.connector,a=void 0===c?function(){return new b.Subject}:c,d=f.resetOnError,h=void 0===d||d,_=f.resetOnComplete,x=void 0===_||_,D=f.resetOnRefCountZero,I=void 0===D||D;return function(A){var R,P,k,B=0,V=!1,j=!1,X=function(){P?.unsubscribe(),P=void 0},Q=function(){X(),R=k=void 0,V=j=!1},Z=function(){var de=R;Q(),de?.unsubscribe()};return p.operate(function(de,he){B++,j||V||X();var Pe=k=k??a();he.add(function(){0!=--B||j||V||(P=m(Z,I))}),Pe.subscribe(he),!R&&B>0&&(R=new v.SafeSubscriber({next:function(ie){return Pe.next(ie)},error:function(ie){j=!0,X(),P=m(Q,h,ie),Pe.error(ie)},complete:function(){V=!0,X(),P=m(Q,x),Pe.complete()}}),C.innerFrom(de).subscribe(R))})(A)}}},1348:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.shareReplay=void 0;var S=g(3274),w=g(5137);u.shareReplay=function(C,b,v){var p,m,f,c,a=!1;return C&&"object"==typeof C?(c=void 0===(p=C.bufferSize)?1/0:p,b=void 0===(m=C.windowTime)?1/0:m,a=void 0!==(f=C.refCount)&&f,v=C.scheduler):c=C??1/0,w.share({connector:function(){return new S.ReplaySubject(c,b,v)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}},8242:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.single=void 0;var S=g(9474),w=g(6156),C=g(8598),b=g(4935),v=g(4990);u.single=function(p){return b.operate(function(m,f){var c,a=!1,d=!1,h=0;m.subscribe(v.createOperatorSubscriber(f,function(_){d=!0,p&&!p(_,h++,m)||(a&&f.error(new w.SequenceError("Too many matching values")),a=!0,c=_)},function(){a?(f.next(c),f.complete()):f.error(d?new C.NotFoundError("No matching values"):new S.EmptyError)}))})}},3169:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.skip=void 0;var S=g(9154);u.skip=function(w){return S.filter(function(C,b){return w<=b})}},2454:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.skipLast=void 0;var S=g(4781),w=g(4935),C=g(4990);u.skipLast=function(b){return b<=0?S.identity:w.operate(function(v,p){var m=new Array(b),f=0;return v.subscribe(C.createOperatorSubscriber(p,function(c){var a=f++;if(a<b)m[a]=c;else{var d=a%b,h=m[d];m[d]=c,p.next(h)}})),function(){m=null}})}},6931:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.skipUntil=void 0;var S=g(4935),w=g(4990),C=g(7103),b=g(2576);u.skipUntil=function(v){return S.operate(function(p,m){var f=!1,c=w.createOperatorSubscriber(m,function(){c?.unsubscribe(),f=!0},b.noop);C.innerFrom(v).subscribe(c),p.subscribe(w.createOperatorSubscriber(m,function(a){return f&&m.next(a)}))})}},7913:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.skipWhile=void 0;var S=g(4935),w=g(4990);u.skipWhile=function(C){return S.operate(function(b,v){var p=!1,m=0;b.subscribe(w.createOperatorSubscriber(v,function(f){return(p||(p=!C(f,m++)))&&v.next(f)}))})}},9234:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.startWith=void 0;var S=g(2239),w=g(2433),C=g(4935);u.startWith=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];var p=w.popScheduler(b);return C.operate(function(m,f){(p?S.concat(b,m,p):S.concat(b,m)).subscribe(f)})}},276:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.subscribeOn=void 0;var S=g(4935);u.subscribeOn=function(w,C){return void 0===C&&(C=0),S.operate(function(b,v){v.add(w.schedule(function(){return b.subscribe(v)},C))})}},9253:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.switchAll=void 0;var S=g(8518),w=g(4781);u.switchAll=function(){return S.switchMap(w.identity)}},8518:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.switchMap=void 0;var S=g(7103),w=g(4935),C=g(4990);u.switchMap=function(b,v){return w.operate(function(p,m){var f=null,c=0,a=!1,d=function(){return a&&!f&&m.complete()};p.subscribe(C.createOperatorSubscriber(m,function(h){f?.unsubscribe();var _=0,x=c++;S.innerFrom(b(h,x)).subscribe(f=C.createOperatorSubscriber(m,function(D){return m.next(v?v(h,D,x,_++):D)},function(){f=null,d()}))},function(){a=!0,d()}))})}},1173:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.switchMapTo=void 0;var S=g(8518),w=g(3005);u.switchMapTo=function(C,b){return w.isFunction(b)?S.switchMap(function(){return C},b):S.switchMap(function(){return C})}},3855:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.switchScan=void 0;var S=g(8518),w=g(4935);u.switchScan=function(C,b){return w.operate(function(v,p){var m=b;return S.switchMap(function(f,c){return C(m,f,c)},function(f,c){return m=c,c})(v).subscribe(p),function(){m=null}})}},4783:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.take=void 0;var S=g(6332),w=g(4935),C=g(4990);u.take=function(b){return b<=0?function(){return S.EMPTY}:w.operate(function(v,p){var m=0;v.subscribe(C.createOperatorSubscriber(p,function(f){++m<=b&&(p.next(f),b<=m&&p.complete())}))})}},1980:function(z,u,g){"use strict";var S=this&&this.__values||function(v){var p="function"==typeof Symbol&&Symbol.iterator,m=p&&v[p],f=0;if(m)return m.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&f>=v.length&&(v=void 0),{value:v&&v[f++],done:!v}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.takeLast=void 0;var w=g(6332),C=g(4935),b=g(4990);u.takeLast=function(v){return v<=0?function(){return w.EMPTY}:C.operate(function(p,m){var f=[];p.subscribe(b.createOperatorSubscriber(m,function(c){f.push(c),v<f.length&&f.shift()},function(){var c,a;try{for(var d=S(f),h=d.next();!h.done;h=d.next())m.next(h.value)}catch(x){c={error:x}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(c)throw c.error}}m.complete()},void 0,function(){f=null}))})}},9845:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.takeUntil=void 0;var S=g(4935),w=g(4990),C=g(7103),b=g(2576);u.takeUntil=function(v){return S.operate(function(p,m){C.innerFrom(v).subscribe(w.createOperatorSubscriber(m,function(){return m.complete()},b.noop)),!m.closed&&p.subscribe(m)})}},6060:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.takeWhile=void 0;var S=g(4935),w=g(4990);u.takeWhile=function(C,b){return void 0===b&&(b=!1),S.operate(function(v,p){var m=0;v.subscribe(w.createOperatorSubscriber(p,function(f){var c=C(f,m++);(c||b)&&p.next(f),!c&&p.complete()}))})}},1138:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.tap=void 0;var S=g(3005),w=g(4935),C=g(4990),b=g(4781);u.tap=function(v,p,m){var f=S.isFunction(v)||p||m?{next:v,error:p,complete:m}:v;return f?w.operate(function(c,a){var d;null===(d=f.subscribe)||void 0===d||d.call(f);var h=!0;c.subscribe(C.createOperatorSubscriber(a,function(_){var x;null===(x=f.next)||void 0===x||x.call(f,_),a.next(_)},function(){var _;h=!1,null===(_=f.complete)||void 0===_||_.call(f),a.complete()},function(_){var x;h=!1,null===(x=f.error)||void 0===x||x.call(f,_),a.error(_)},function(){var _,x;h&&(null===(_=f.unsubscribe)||void 0===_||_.call(f)),null===(x=f.finalize)||void 0===x||x.call(f)}))}):b.identity}},7306:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.throttle=void 0;var S=g(4935),w=g(4990),C=g(7103);u.throttle=function(b,v){return S.operate(function(p,m){var f=v??{},c=f.leading,a=void 0===c||c,d=f.trailing,h=void 0!==d&&d,_=!1,x=null,D=null,I=!1,A=function(){D?.unsubscribe(),D=null,h&&(k(),I&&m.complete())},R=function(){D=null,I&&m.complete()},P=function(B){return D=C.innerFrom(b(B)).subscribe(w.createOperatorSubscriber(m,A,R))},k=function(){if(_){_=!1;var B=x;x=null,m.next(B),!I&&P(B)}};p.subscribe(w.createOperatorSubscriber(m,function(B){_=!0,x=B,(!D||D.closed)&&(a?k():P(B))},function(){I=!0,(!(h&&_&&D)||D.closed)&&m.complete()}))})}},8968:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.throttleTime=void 0;var S=g(2445),w=g(7306),C=g(7513);u.throttleTime=function(b,v,p){void 0===v&&(v=S.asyncScheduler);var m=C.timer(b,v);return w.throttle(function(){return m},p)}},1779:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.throwIfEmpty=void 0;var S=g(9474),w=g(4935),C=g(4990);function b(){return new S.EmptyError}u.throwIfEmpty=function(v){return void 0===v&&(v=b),w.operate(function(p,m){var f=!1;p.subscribe(C.createOperatorSubscriber(m,function(c){f=!0,m.next(c)},function(){return f?m.complete():m.error(v())}))})}},8005:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TimeInterval=u.timeInterval=void 0;var S=g(2445),w=g(4935),C=g(4990);u.timeInterval=function(v){return void 0===v&&(v=S.asyncScheduler),w.operate(function(p,m){var f=v.now();p.subscribe(C.createOperatorSubscriber(m,function(c){var a=v.now(),d=a-f;f=a,m.next(new b(c,d))}))})};var b=function(v,p){this.value=v,this.interval=p};u.TimeInterval=b},4173:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.timeout=u.TimeoutError=void 0;var S=g(2445),w=g(1677),C=g(4935),b=g(7103),v=g(7029),p=g(4990),m=g(7738);function f(c){throw new u.TimeoutError(c)}u.TimeoutError=v.createErrorClass(function(c){return function(a){void 0===a&&(a=null),c(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=a}}),u.timeout=function(c,a){var d=w.isValidDate(c)?{first:c}:"number"==typeof c?{each:c}:c,h=d.first,_=d.each,x=d.with,D=void 0===x?f:x,I=d.scheduler,A=void 0===I?a??S.asyncScheduler:I,R=d.meta,P=void 0===R?null:R;if(null==h&&null==_)throw new TypeError("No timeout provided.");return C.operate(function(k,B){var V,j,X=null,Q=0,Z=function(de){j=m.executeSchedule(B,A,function(){try{V.unsubscribe(),b.innerFrom(D({meta:P,lastValue:X,seen:Q})).subscribe(B)}catch(he){B.error(he)}},de)};V=k.subscribe(p.createOperatorSubscriber(B,function(de){j?.unsubscribe(),Q++,B.next(X=de),_>0&&Z(_)},void 0,void 0,function(){j?.closed||null==j||j.unsubscribe(),X=null})),!Q&&Z(null!=h?"number"==typeof h?h:+h-A.now():_)})}},7223:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.timeoutWith=void 0;var S=g(2445),w=g(1677),C=g(4173);u.timeoutWith=function(b,v,p){var m,f,c;if(p=p??S.async,w.isValidDate(b)?m=b:"number"==typeof b&&(f=b),!v)throw new TypeError("No observable provided to switch to");if(c=function(){return v},null==m&&null==f)throw new TypeError("No timeout provided.");return C.timeout({first:m,each:f,scheduler:p,with:c})}},8975:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.timestamp=void 0;var S=g(7950),w=g(7291);u.timestamp=function(C){return void 0===C&&(C=S.dateTimestampProvider),w.map(function(b){return{value:b,timestamp:C.now()}})}},2:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.toArray=void 0;var S=g(122),w=g(4935),C=function(b,v){return b.push(v),b};u.toArray=function(){return w.operate(function(b,v){S.reduce(C,[])(b).subscribe(v)})}},2826:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.window=void 0;var S=g(3032),w=g(4935),C=g(4990),b=g(2576),v=g(7103);u.window=function(p){return w.operate(function(m,f){var c=new S.Subject;f.next(c.asObservable());var a=function(d){c.error(d),f.error(d)};return m.subscribe(C.createOperatorSubscriber(f,function(d){return c?.next(d)},function(){c.complete(),f.complete()},a)),v.innerFrom(p).subscribe(C.createOperatorSubscriber(f,function(){c.complete(),f.next(c=new S.Subject)},b.noop,a)),function(){c?.unsubscribe(),c=null}})}},7526:function(z,u,g){"use strict";var S=this&&this.__values||function(v){var p="function"==typeof Symbol&&Symbol.iterator,m=p&&v[p],f=0;if(m)return m.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&f>=v.length&&(v=void 0),{value:v&&v[f++],done:!v}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.windowCount=void 0;var w=g(3032),C=g(4935),b=g(4990);u.windowCount=function(v,p){void 0===p&&(p=0);var m=p>0?p:v;return C.operate(function(f,c){var a=[new w.Subject],d=0;c.next(a[0].asObservable()),f.subscribe(b.createOperatorSubscriber(c,function(h){var _,x;try{for(var D=S(a),I=D.next();!I.done;I=D.next())I.value.next(h)}catch(P){_={error:P}}finally{try{I&&!I.done&&(x=D.return)&&x.call(D)}finally{if(_)throw _.error}}var A=d-v+1;if(A>=0&&A%m==0&&a.shift().complete(),++d%m==0){var R=new w.Subject;a.push(R),c.next(R.asObservable())}},function(){for(;a.length>0;)a.shift().complete();c.complete()},function(h){for(;a.length>0;)a.shift().error(h);c.error(h)},function(){a=null}))})}},8294:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.windowTime=void 0;var S=g(3032),w=g(2445),C=g(3865),b=g(4935),v=g(4990),p=g(6967),m=g(2433),f=g(7738);u.windowTime=function(c){for(var a,d,h=[],_=1;_<arguments.length;_++)h[_-1]=arguments[_];var x=null!==(a=m.popScheduler(h))&&void 0!==a?a:w.asyncScheduler,D=null!==(d=h[0])&&void 0!==d?d:null,I=h[1]||1/0;return b.operate(function(A,R){var P=[],k=!1,B=function(Q){var de=Q.subs;Q.window.complete(),de.unsubscribe(),p.arrRemove(P,Q),k&&V()},V=function(){if(P){var Q=new C.Subscription;R.add(Q);var Z=new S.Subject,de={window:Z,subs:Q,seen:0};P.push(de),R.next(Z.asObservable()),f.executeSchedule(Q,x,function(){return B(de)},c)}};null!==D&&D>=0?f.executeSchedule(R,x,V,D,!0):k=!0,V();var j=function(Q){return P.slice().forEach(Q)},X=function(Q){j(function(Z){return Q(Z.window)}),Q(R),R.unsubscribe()};return A.subscribe(v.createOperatorSubscriber(R,function(Q){j(function(Z){Z.window.next(Q),I<=++Z.seen&&B(Z)})},function(){return X(function(Q){return Q.complete()})},function(Q){return X(function(Z){return Z.error(Q)})})),function(){P=null}})}},1883:function(z,u,g){"use strict";var S=this&&this.__values||function(c){var a="function"==typeof Symbol&&Symbol.iterator,d=a&&c[a],h=0;if(d)return d.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(u,"__esModule",{value:!0}),u.windowToggle=void 0;var w=g(3032),C=g(3865),b=g(4935),v=g(7103),p=g(4990),m=g(2576),f=g(6967);u.windowToggle=function(c,a){return b.operate(function(d,h){var _=[],x=function(D){for(;0<_.length;)_.shift().error(D);h.error(D)};v.innerFrom(c).subscribe(p.createOperatorSubscriber(h,function(D){var I=new w.Subject;_.push(I);var A,R=new C.Subscription;try{A=v.innerFrom(a(D))}catch(P){return void x(P)}h.next(I.asObservable()),R.add(A.subscribe(p.createOperatorSubscriber(h,function(){f.arrRemove(_,I),I.complete(),R.unsubscribe()},m.noop,x)))},m.noop)),d.subscribe(p.createOperatorSubscriber(h,function(D){var I,A,R=_.slice();try{for(var P=S(R),k=P.next();!k.done;k=P.next())k.value.next(D)}catch(B){I={error:B}}finally{try{k&&!k.done&&(A=P.return)&&A.call(P)}finally{if(I)throw I.error}}},function(){for(;0<_.length;)_.shift().complete();h.complete()},x,function(){for(;0<_.length;)_.shift().unsubscribe()}))})}},4309:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.windowWhen=void 0;var S=g(3032),w=g(4935),C=g(4990),b=g(7103);u.windowWhen=function(v){return w.operate(function(p,m){var f,c,a=function(h){f.error(h),m.error(h)},d=function(){var h;c?.unsubscribe(),f?.complete(),f=new S.Subject,m.next(f.asObservable());try{h=b.innerFrom(v())}catch(_){return void a(_)}h.subscribe(c=C.createOperatorSubscriber(m,d,d,a))};d(),p.subscribe(C.createOperatorSubscriber(m,function(h){return f.next(h)},function(){f.complete(),m.complete()},a,function(){c?.unsubscribe(),f=null}))})}},3041:function(z,u,g){"use strict";var S=this&&this.__read||function(c,a){var d="function"==typeof Symbol&&c[Symbol.iterator];if(!d)return c;var h,_,x=d.call(c),D=[];try{for(;(void 0===a||a-- >0)&&!(h=x.next()).done;)D.push(h.value)}catch(I){_={error:I}}finally{try{h&&!h.done&&(d=x.return)&&d.call(x)}finally{if(_)throw _.error}}return D},w=this&&this.__spreadArray||function(c,a){for(var d=0,h=a.length,_=c.length;d<h;d++,_++)c[_]=a[d];return c};Object.defineProperty(u,"__esModule",{value:!0}),u.withLatestFrom=void 0;var C=g(4935),b=g(4990),v=g(7103),p=g(4781),m=g(2576),f=g(2433);u.withLatestFrom=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];var d=f.popResultSelector(c);return C.operate(function(h,_){for(var x=c.length,D=new Array(x),I=c.map(function(){return!1}),A=!1,R=function(k){v.innerFrom(c[k]).subscribe(b.createOperatorSubscriber(_,function(B){D[k]=B,A||I[k]||(I[k]=!0,(A=I.every(p.identity))&&(I=null))},m.noop))},P=0;P<x;P++)R(P);h.subscribe(b.createOperatorSubscriber(_,function(k){if(A){var B=w([k],S(D));_.next(d?d.apply(void 0,w([],S(B))):B)}}))})}},4400:function(z,u,g){"use strict";var S=this&&this.__read||function(v,p){var m="function"==typeof Symbol&&v[Symbol.iterator];if(!m)return v;var f,c,a=m.call(v),d=[];try{for(;(void 0===p||p-- >0)&&!(f=a.next()).done;)d.push(f.value)}catch(h){c={error:h}}finally{try{f&&!f.done&&(m=a.return)&&m.call(a)}finally{if(c)throw c.error}}return d},w=this&&this.__spreadArray||function(v,p){for(var m=0,f=p.length,c=v.length;m<f;m++,c++)v[c]=p[m];return v};Object.defineProperty(u,"__esModule",{value:!0}),u.zip=void 0;var C=g(7654),b=g(4935);u.zip=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];return b.operate(function(m,f){C.zip.apply(void 0,w([m],S(v))).subscribe(f)})}},8593:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.zipAll=void 0;var S=g(7654),w=g(2069);u.zipAll=function(C){return w.joinAllInternals(S.zip,C)}},8096:function(z,u,g){"use strict";var S=this&&this.__read||function(b,v){var p="function"==typeof Symbol&&b[Symbol.iterator];if(!p)return b;var m,f,c=p.call(b),a=[];try{for(;(void 0===v||v-- >0)&&!(m=c.next()).done;)a.push(m.value)}catch(d){f={error:d}}finally{try{m&&!m.done&&(p=c.return)&&p.call(c)}finally{if(f)throw f.error}}return a},w=this&&this.__spreadArray||function(b,v){for(var p=0,m=v.length,f=b.length;p<m;p++,f++)b[f]=v[p];return b};Object.defineProperty(u,"__esModule",{value:!0}),u.zipWith=void 0;var C=g(4400);u.zipWith=function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];return C.zip.apply(void 0,w([],S(b)))}},7631:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduleArray=void 0;var S=g(2419);u.scheduleArray=function(w,C){return new S.Observable(function(b){var v=0;return C.schedule(function(){v===w.length?b.complete():(b.next(w[v++]),b.closed||this.schedule())})})}},8489:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduleAsyncIterable=void 0;var S=g(2419),w=g(7738);u.scheduleAsyncIterable=function(C,b){if(!C)throw new Error("Iterable cannot be null");return new S.Observable(function(v){w.executeSchedule(v,b,function(){var p=C[Symbol.asyncIterator]();w.executeSchedule(v,b,function(){p.next().then(function(m){m.done?v.complete():v.next(m.value)})},0,!0)})})}},1297:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduleIterable=void 0;var S=g(2419),w=g(3725),C=g(3005),b=g(7738);u.scheduleIterable=function(v,p){return new S.Observable(function(m){var f;return b.executeSchedule(m,p,function(){f=v[w.iterator](),b.executeSchedule(m,p,function(){var c,a,d;try{a=(c=f.next()).value,d=c.done}catch(h){return void m.error(h)}d?m.complete():m.next(a)},0,!0)}),function(){return C.isFunction(f?.return)&&f.return()}})}},4001:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduleObservable=void 0;var S=g(7103),w=g(1184),C=g(276);u.scheduleObservable=function(b,v){return S.innerFrom(b).pipe(C.subscribeOn(v),w.observeOn(v))}},5143:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.schedulePromise=void 0;var S=g(7103),w=g(1184),C=g(276);u.schedulePromise=function(b,v){return S.innerFrom(b).pipe(C.subscribeOn(v),w.observeOn(v))}},3676:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduleReadableStreamLike=void 0;var S=g(8489),w=g(7823);u.scheduleReadableStreamLike=function(C,b){return S.scheduleAsyncIterable(w.readableStreamLikeToAsyncGenerator(C),b)}},5207:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.scheduled=void 0;var S=g(4001),w=g(5143),C=g(7631),b=g(1297),v=g(8489),p=g(9500),m=g(6018),f=g(3909),c=g(2743),a=g(9595),d=g(9906),h=g(7823),_=g(3676);u.scheduled=function(x,D){if(null!=x){if(p.isInteropObservable(x))return S.scheduleObservable(x,D);if(f.isArrayLike(x))return C.scheduleArray(x,D);if(m.isPromise(x))return w.schedulePromise(x,D);if(a.isAsyncIterable(x))return v.scheduleAsyncIterable(x,D);if(c.isIterable(x))return b.scheduleIterable(x,D);if(h.isReadableStreamLike(x))return _.scheduleReadableStreamLike(x,D)}throw d.createInvalidObservableTypeError(x)}},1986:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(b,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(p[f]=m[f])})(b,v)},function(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function p(){this.constructor=b}S(b,v),b.prototype=null===v?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(u,"__esModule",{value:!0}),u.Action=void 0;var C=function(b){function v(p,m){return b.call(this)||this}return w(v,b),v.prototype.schedule=function(p,m){return void 0===m&&(m=0),this},v}(g(3865).Subscription);u.Action=C},7574:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(p,m){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(f[a]=c[a])})(p,m)},function(p,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function f(){this.constructor=p}S(p,m),p.prototype=null===m?Object.create(m):(f.prototype=m.prototype,new f)});Object.defineProperty(u,"__esModule",{value:!0}),u.AnimationFrameAction=void 0;var C=g(9702),b=g(505),v=function(p){function m(f,c){var a=p.call(this,f,c)||this;return a.scheduler=f,a.work=c,a}return w(m,p),m.prototype.requestAsyncId=function(f,c,a){return void 0===a&&(a=0),null!==a&&a>0?p.prototype.requestAsyncId.call(this,f,c,a):(f.actions.push(this),f._scheduled||(f._scheduled=b.animationFrameProvider.requestAnimationFrame(function(){return f.flush(void 0)})))},m.prototype.recycleAsyncId=function(f,c,a){var d;if(void 0===a&&(a=0),null!=a?a>0:this.delay>0)return p.prototype.recycleAsyncId.call(this,f,c,a);var h=f.actions;null!=c&&(null===(d=h[h.length-1])||void 0===d?void 0:d.id)!==c&&(b.animationFrameProvider.cancelAnimationFrame(c),f._scheduled=void 0)},m}(C.AsyncAction);u.AnimationFrameAction=v},2934:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(b,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(p[f]=m[f])})(b,v)},function(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function p(){this.constructor=b}S(b,v),b.prototype=null===v?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(u,"__esModule",{value:!0}),u.AnimationFrameScheduler=void 0;var C=function(b){function v(){return null!==b&&b.apply(this,arguments)||this}return w(v,b),v.prototype.flush=function(p){this._active=!0;var m=this._scheduled;this._scheduled=void 0;var f,c=this.actions;p=p||c.shift();do{if(f=p.execute(p.state,p.delay))break}while((p=c[0])&&p.id===m&&c.shift());if(this._active=!1,f){for(;(p=c[0])&&p.id===m&&c.shift();)p.unsubscribe();throw f}},v}(g(3643).AsyncScheduler);u.AnimationFrameScheduler=C},2189:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(p,m){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(f[a]=c[a])})(p,m)},function(p,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function f(){this.constructor=p}S(p,m),p.prototype=null===m?Object.create(m):(f.prototype=m.prototype,new f)});Object.defineProperty(u,"__esModule",{value:!0}),u.AsapAction=void 0;var C=g(9702),b=g(8908),v=function(p){function m(f,c){var a=p.call(this,f,c)||this;return a.scheduler=f,a.work=c,a}return w(m,p),m.prototype.requestAsyncId=function(f,c,a){return void 0===a&&(a=0),null!==a&&a>0?p.prototype.requestAsyncId.call(this,f,c,a):(f.actions.push(this),f._scheduled||(f._scheduled=b.immediateProvider.setImmediate(f.flush.bind(f,void 0))))},m.prototype.recycleAsyncId=function(f,c,a){var d;if(void 0===a&&(a=0),null!=a?a>0:this.delay>0)return p.prototype.recycleAsyncId.call(this,f,c,a);var h=f.actions;null!=c&&(null===(d=h[h.length-1])||void 0===d?void 0:d.id)!==c&&(b.immediateProvider.clearImmediate(c),f._scheduled===c&&(f._scheduled=void 0))},m}(C.AsyncAction);u.AsapAction=v},5523:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(b,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(p[f]=m[f])})(b,v)},function(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function p(){this.constructor=b}S(b,v),b.prototype=null===v?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(u,"__esModule",{value:!0}),u.AsapScheduler=void 0;var C=function(b){function v(){return null!==b&&b.apply(this,arguments)||this}return w(v,b),v.prototype.flush=function(p){this._active=!0;var m=this._scheduled;this._scheduled=void 0;var f,c=this.actions;p=p||c.shift();do{if(f=p.execute(p.state,p.delay))break}while((p=c[0])&&p.id===m&&c.shift());if(this._active=!1,f){for(;(p=c[0])&&p.id===m&&c.shift();)p.unsubscribe();throw f}},v}(g(3643).AsyncScheduler);u.AsapScheduler=C},9702:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(m,f){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d])})(m,f)},function(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=m}S(m,f),m.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)});Object.defineProperty(u,"__esModule",{value:!0}),u.AsyncAction=void 0;var C=g(1986),b=g(8203),v=g(6967),p=function(m){function f(c,a){var d=m.call(this,c,a)||this;return d.scheduler=c,d.work=a,d.pending=!1,d}return w(f,m),f.prototype.schedule=function(c,a){var d;if(void 0===a&&(a=0),this.closed)return this;this.state=c;var h=this.id,_=this.scheduler;return null!=h&&(this.id=this.recycleAsyncId(_,h,a)),this.pending=!0,this.delay=a,this.id=null!==(d=this.id)&&void 0!==d?d:this.requestAsyncId(_,this.id,a),this},f.prototype.requestAsyncId=function(c,a,d){return void 0===d&&(d=0),b.intervalProvider.setInterval(c.flush.bind(c,this),d)},f.prototype.recycleAsyncId=function(c,a,d){if(void 0===d&&(d=0),null!=d&&this.delay===d&&!1===this.pending)return a;null!=a&&b.intervalProvider.clearInterval(a)},f.prototype.execute=function(c,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var d=this._execute(c,a);if(d)return d;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},f.prototype._execute=function(c,a){var d,h=!1;try{this.work(c)}catch(_){h=!0,d=_||new Error("Scheduled action threw falsy error")}if(h)return this.unsubscribe(),d},f.prototype.unsubscribe=function(){if(!this.closed){var c=this.id,a=this.scheduler,d=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,v.arrRemove(d,this),null!=c&&(this.id=this.recycleAsyncId(a,c,null)),this.delay=null,m.prototype.unsubscribe.call(this)}},f}(C.Action);u.AsyncAction=p},3643:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(v,p){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(m[c]=f[c])})(v,p)},function(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=v}S(v,p),v.prototype=null===p?Object.create(p):(m.prototype=p.prototype,new m)});Object.defineProperty(u,"__esModule",{value:!0}),u.AsyncScheduler=void 0;var C=g(218),b=function(v){function p(m,f){void 0===f&&(f=C.Scheduler.now);var c=v.call(this,m,f)||this;return c.actions=[],c._active=!1,c}return w(p,v),p.prototype.flush=function(m){var f=this.actions;if(this._active)f.push(m);else{var c;this._active=!0;do{if(c=m.execute(m.state,m.delay))break}while(m=f.shift());if(this._active=!1,c){for(;m=f.shift();)m.unsubscribe();throw c}}},p}(C.Scheduler);u.AsyncScheduler=b},6201:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(b,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(p[f]=m[f])})(b,v)},function(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function p(){this.constructor=b}S(b,v),b.prototype=null===v?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(u,"__esModule",{value:!0}),u.QueueAction=void 0;var C=function(b){function v(p,m){var f=b.call(this,p,m)||this;return f.scheduler=p,f.work=m,f}return w(v,b),v.prototype.schedule=function(p,m){return void 0===m&&(m=0),m>0?b.prototype.schedule.call(this,p,m):(this.delay=m,this.state=p,this.scheduler.flush(this),this)},v.prototype.execute=function(p,m){return m>0||this.closed?b.prototype.execute.call(this,p,m):this._execute(p,m)},v.prototype.requestAsyncId=function(p,m,f){return void 0===f&&(f=0),null!=f&&f>0||null==f&&this.delay>0?b.prototype.requestAsyncId.call(this,p,m,f):(p.flush(this),0)},v}(g(9702).AsyncAction);u.QueueAction=C},5860:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(b,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(p[f]=m[f])})(b,v)},function(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function p(){this.constructor=b}S(b,v),b.prototype=null===v?Object.create(v):(p.prototype=v.prototype,new p)});Object.defineProperty(u,"__esModule",{value:!0}),u.QueueScheduler=void 0;var C=function(b){function v(){return null!==b&&b.apply(this,arguments)||this}return w(v,b),v}(g(3643).AsyncScheduler);u.QueueScheduler=C},4123:function(z,u,g){"use strict";var S,w=this&&this.__extends||(S=function(m,f){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d])})(m,f)},function(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function c(){this.constructor=m}S(m,f),m.prototype=null===f?Object.create(f):(c.prototype=f.prototype,new c)});Object.defineProperty(u,"__esModule",{value:!0}),u.VirtualAction=u.VirtualTimeScheduler=void 0;var C=g(9702),b=g(3865),v=function(m){function f(c,a){void 0===c&&(c=p),void 0===a&&(a=1/0);var d=m.call(this,c,function(){return d.frame})||this;return d.maxFrames=a,d.frame=0,d.index=-1,d}return w(f,m),f.prototype.flush=function(){for(var c,a,d=this.actions,h=this.maxFrames;(a=d[0])&&a.delay<=h&&(d.shift(),this.frame=a.delay,!(c=a.execute(a.state,a.delay))););if(c){for(;a=d.shift();)a.unsubscribe();throw c}},f.frameTimeFactor=10,f}(g(3643).AsyncScheduler);u.VirtualTimeScheduler=v;var p=function(m){function f(c,a,d){void 0===d&&(d=c.index+=1);var h=m.call(this,c,a)||this;return h.scheduler=c,h.work=a,h.index=d,h.active=!0,h.index=c.index=d,h}return w(f,m),f.prototype.schedule=function(c,a){if(void 0===a&&(a=0),Number.isFinite(a)){if(!this.id)return m.prototype.schedule.call(this,c,a);this.active=!1;var d=new f(this.scheduler,this.work);return this.add(d),d.schedule(c,a)}return b.Subscription.EMPTY},f.prototype.requestAsyncId=function(c,a,d){void 0===d&&(d=0),this.delay=c.frame+d;var h=c.actions;return h.push(this),h.sort(f.sortActions),1},f.prototype.recycleAsyncId=function(c,a,d){void 0===d&&(d=0)},f.prototype._execute=function(c,a){if(!0===this.active)return m.prototype._execute.call(this,c,a)},f.sortActions=function(c,a){return c.delay===a.delay?c.index===a.index?0:c.index>a.index?1:-1:c.delay>a.delay?1:-1},f}(C.AsyncAction);u.VirtualAction=p},3660:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.animationFrame=u.animationFrameScheduler=void 0;var S=g(7574),w=g(2934);u.animationFrameScheduler=new w.AnimationFrameScheduler(S.AnimationFrameAction),u.animationFrame=u.animationFrameScheduler},505:function(z,u,g){"use strict";var S=this&&this.__read||function(b,v){var p="function"==typeof Symbol&&b[Symbol.iterator];if(!p)return b;var m,f,c=p.call(b),a=[];try{for(;(void 0===v||v-- >0)&&!(m=c.next()).done;)a.push(m.value)}catch(d){f={error:d}}finally{try{m&&!m.done&&(p=c.return)&&p.call(c)}finally{if(f)throw f.error}}return a},w=this&&this.__spreadArray||function(b,v){for(var p=0,m=v.length,f=b.length;p<m;p++,f++)b[f]=v[p];return b};Object.defineProperty(u,"__esModule",{value:!0}),u.animationFrameProvider=void 0;var C=g(3865);u.animationFrameProvider={schedule:function(b){var v=requestAnimationFrame,p=cancelAnimationFrame,m=u.animationFrameProvider.delegate;m&&(v=m.requestAnimationFrame,p=m.cancelAnimationFrame);var f=v(function(c){p=void 0,b(c)});return new C.Subscription(function(){return p?.(f)})},requestAnimationFrame:function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];var p=u.animationFrameProvider.delegate;return(p?.requestAnimationFrame||requestAnimationFrame).apply(void 0,w([],S(b)))},cancelAnimationFrame:function(){for(var b=[],v=0;v<arguments.length;v++)b[v]=arguments[v];var p=u.animationFrameProvider.delegate;return(p?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,w([],S(b)))},delegate:void 0}},580:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.asap=u.asapScheduler=void 0;var S=g(2189),w=g(5523);u.asapScheduler=new w.AsapScheduler(S.AsapAction),u.asap=u.asapScheduler},2445:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.async=u.asyncScheduler=void 0;var S=g(9702),w=g(3643);u.asyncScheduler=new w.AsyncScheduler(S.AsyncAction),u.async=u.asyncScheduler},7950:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.dateTimestampProvider=void 0,u.dateTimestampProvider={now:function(){return(u.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},8908:function(z,u,g){"use strict";var S=this&&this.__read||function(p,m){var f="function"==typeof Symbol&&p[Symbol.iterator];if(!f)return p;var c,a,d=f.call(p),h=[];try{for(;(void 0===m||m-- >0)&&!(c=d.next()).done;)h.push(c.value)}catch(_){a={error:_}}finally{try{c&&!c.done&&(f=d.return)&&f.call(d)}finally{if(a)throw a.error}}return h},w=this&&this.__spreadArray||function(p,m){for(var f=0,c=m.length,a=p.length;f<c;f++,a++)p[a]=m[f];return p};Object.defineProperty(u,"__esModule",{value:!0}),u.immediateProvider=void 0;var C=g(7629),b=C.Immediate.setImmediate,v=C.Immediate.clearImmediate;u.immediateProvider={setImmediate:function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var f=u.immediateProvider.delegate;return(f?.setImmediate||b).apply(void 0,w([],S(p)))},clearImmediate:function(p){var m=u.immediateProvider.delegate;return(m?.clearImmediate||v)(p)},delegate:void 0}},8203:function(z,u){"use strict";var g=this&&this.__read||function(w,C){var b="function"==typeof Symbol&&w[Symbol.iterator];if(!b)return w;var v,p,m=b.call(w),f=[];try{for(;(void 0===C||C-- >0)&&!(v=m.next()).done;)f.push(v.value)}catch(c){p={error:c}}finally{try{v&&!v.done&&(b=m.return)&&b.call(m)}finally{if(p)throw p.error}}return f},S=this&&this.__spreadArray||function(w,C){for(var b=0,v=C.length,p=w.length;b<v;b++,p++)w[p]=C[b];return w};Object.defineProperty(u,"__esModule",{value:!0}),u.intervalProvider=void 0,u.intervalProvider={setInterval:function(w,C){for(var b=[],v=2;v<arguments.length;v++)b[v-2]=arguments[v];var p=u.intervalProvider.delegate;return p?.setInterval?p.setInterval.apply(p,S([w,C],g(b))):setInterval.apply(void 0,S([w,C],g(b)))},clearInterval:function(w){var C=u.intervalProvider.delegate;return(C?.clearInterval||clearInterval)(w)},delegate:void 0}},6813:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.performanceTimestampProvider=void 0,u.performanceTimestampProvider={now:function(){return(u.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},8615:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.queue=u.queueScheduler=void 0;var S=g(6201),w=g(5860);u.queueScheduler=new w.QueueScheduler(S.QueueAction),u.queue=u.queueScheduler},4590:function(z,u){"use strict";var g=this&&this.__read||function(w,C){var b="function"==typeof Symbol&&w[Symbol.iterator];if(!b)return w;var v,p,m=b.call(w),f=[];try{for(;(void 0===C||C-- >0)&&!(v=m.next()).done;)f.push(v.value)}catch(c){p={error:c}}finally{try{v&&!v.done&&(b=m.return)&&b.call(m)}finally{if(p)throw p.error}}return f},S=this&&this.__spreadArray||function(w,C){for(var b=0,v=C.length,p=w.length;b<v;b++,p++)w[p]=C[b];return w};Object.defineProperty(u,"__esModule",{value:!0}),u.timeoutProvider=void 0,u.timeoutProvider={setTimeout:function(w,C){for(var b=[],v=2;v<arguments.length;v++)b[v-2]=arguments[v];var p=u.timeoutProvider.delegate;return p?.setTimeout?p.setTimeout.apply(p,S([w,C],g(b))):setTimeout.apply(void 0,S([w,C],g(b)))},clearTimeout:function(w){var C=u.timeoutProvider.delegate;return(C?.clearTimeout||clearTimeout)(w)},delegate:void 0}},3725:(z,u)=>{"use strict";function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(u,"__esModule",{value:!0}),u.iterator=u.getSymbolIterator=void 0,u.getSymbolIterator=g,u.iterator=g()},2801:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.observable=void 0,u.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},8433:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0})},2351:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ArgumentOutOfRangeError=void 0;var S=g(7029);u.ArgumentOutOfRangeError=S.createErrorClass(function(w){return function(){w(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},9474:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EmptyError=void 0;var S=g(7029);u.EmptyError=S.createErrorClass(function(w){return function(){w(this),this.name="EmptyError",this.message="no elements in sequence"}})},7629:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TestTools=u.Immediate=void 0;var g,S=1,w={};function C(b){return b in w&&(delete w[b],!0)}u.Immediate={setImmediate:function(b){var v=S++;return w[v]=!0,g||(g=Promise.resolve()),g.then(function(){return C(v)&&b()}),v},clearImmediate:function(b){C(b)}},u.TestTools={pending:function(){return Object.keys(w).length}}},8598:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.NotFoundError=void 0;var S=g(7029);u.NotFoundError=S.createErrorClass(function(w){return function(C){w(this),this.name="NotFoundError",this.message=C}})},2642:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ObjectUnsubscribedError=void 0;var S=g(7029);u.ObjectUnsubscribedError=S.createErrorClass(function(w){return function(){w(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},6156:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.SequenceError=void 0;var S=g(7029);u.SequenceError=S.createErrorClass(function(w){return function(C){w(this),this.name="SequenceError",this.message=C}})},4805:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.UnsubscriptionError=void 0;var S=g(7029);u.UnsubscriptionError=S.createErrorClass(function(w){return function(C){w(this),this.message=C?C.length+" errors occurred during unsubscription:\n"+C.map(function(b,v){return v+1+") "+b.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=C}})},2433:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.popNumber=u.popScheduler=u.popResultSelector=void 0;var S=g(3005),w=g(9016);function C(b){return b[b.length-1]}u.popResultSelector=function(b){return S.isFunction(C(b))?b.pop():void 0},u.popScheduler=function(b){return w.isScheduler(C(b))?b.pop():void 0},u.popNumber=function(b,v){return"number"==typeof C(b)?b.pop():v}},1203:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.argsArgArrayOrObject=void 0;var g=Array.isArray,S=Object.getPrototypeOf,w=Object.prototype,C=Object.keys;u.argsArgArrayOrObject=function(b){if(1===b.length){var v=b[0];if(g(v))return{args:v,keys:null};if((m=v)&&"object"==typeof m&&S(m)===w){var p=C(v);return{args:p.map(function(f){return v[f]}),keys:p}}}var m;return{args:b,keys:null}}},5498:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.argsOrArgArray=void 0;var g=Array.isArray;u.argsOrArgArray=function(S){return 1===S.length&&g(S[0])?S[0]:S}},6967:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.arrRemove=void 0,u.arrRemove=function(g,S){if(g){var w=g.indexOf(S);0<=w&&g.splice(w,1)}}},7029:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createErrorClass=void 0,u.createErrorClass=function(g){var S=g(function(w){Error.call(w),w.stack=(new Error).stack});return S.prototype=Object.create(Error.prototype),S.prototype.constructor=S,S}},641:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createObject=void 0,u.createObject=function(g,S){return g.reduce(function(w,C,b){return w[C]=S[b],w},{})}},6110:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.captureError=u.errorContext=void 0;var S=g(3280),w=null;u.errorContext=function(C){if(S.config.useDeprecatedSynchronousErrorHandling){var b=!w;if(b&&(w={errorThrown:!1,error:null}),C(),b){var v=w;if(w=null,v.errorThrown)throw v.error}}else C()},u.captureError=function(C){S.config.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=C)}},7738:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.executeSchedule=void 0,u.executeSchedule=function(g,S,w,C,b){void 0===C&&(C=0),void 0===b&&(b=!1);var v=S.schedule(function(){w(),b?g.add(this.schedule(null,C)):this.unsubscribe()},C);if(g.add(v),!b)return v}},4781:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.identity=void 0,u.identity=function(g){return g}},3909:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isArrayLike=void 0,u.isArrayLike=function(g){return g&&"number"==typeof g.length&&"function"!=typeof g}},9595:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isAsyncIterable=void 0;var S=g(3005);u.isAsyncIterable=function(w){return Symbol.asyncIterator&&S.isFunction(w?.[Symbol.asyncIterator])}},1677:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isValidDate=void 0,u.isValidDate=function(g){return g instanceof Date&&!isNaN(g)}},3005:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isFunction=void 0,u.isFunction=function(g){return"function"==typeof g}},9500:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isInteropObservable=void 0;var S=g(2801),w=g(3005);u.isInteropObservable=function(C){return w.isFunction(C[S.observable])}},2743:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isIterable=void 0;var S=g(3725),w=g(3005);u.isIterable=function(C){return w.isFunction(C?.[S.iterator])}},8386:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isObservable=void 0;var S=g(2419),w=g(3005);u.isObservable=function(C){return!!C&&(C instanceof S.Observable||w.isFunction(C.lift)&&w.isFunction(C.subscribe))}},6018:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isPromise=void 0;var S=g(3005);u.isPromise=function(w){return S.isFunction(w?.then)}},7823:function(z,u,g){"use strict";var S=this&&this.__generator||function(v,p){var m,f,c,a,d={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function h(_){return function(x){return function(D){if(m)throw new TypeError("Generator is already executing.");for(;d;)try{if(m=1,f&&(c=2&D[0]?f.return:D[0]?f.throw||((c=f.return)&&c.call(f),0):f.next)&&!(c=c.call(f,D[1])).done)return c;switch(f=0,c&&(D=[2&D[0],c.value]),D[0]){case 0:case 1:c=D;break;case 4:return d.label++,{value:D[1],done:!1};case 5:d.label++,f=D[1],D=[0];continue;case 7:D=d.ops.pop(),d.trys.pop();continue;default:if(!((c=(c=d.trys).length>0&&c[c.length-1])||6!==D[0]&&2!==D[0])){d=0;continue}if(3===D[0]&&(!c||D[1]>c[0]&&D[1]<c[3])){d.label=D[1];break}if(6===D[0]&&d.label<c[1]){d.label=c[1],c=D;break}if(c&&d.label<c[2]){d.label=c[2],d.ops.push(D);break}c[2]&&d.ops.pop(),d.trys.pop();continue}D=p.call(v,d)}catch(I){D=[6,I],f=0}finally{m=c=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([_,x])}}},w=this&&this.__await||function(v){return this instanceof w?(this.v=v,this):new w(v)},C=this&&this.__asyncGenerator||function(v,p,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f,c=m.apply(v,p||[]),a=[];return f={},d("next"),d("throw"),d("return"),f[Symbol.asyncIterator]=function(){return this},f;function d(I){c[I]&&(f[I]=function(A){return new Promise(function(R,P){a.push([I,A,R,P])>1||h(I,A)})})}function h(I,A){try{(R=c[I](A)).value instanceof w?Promise.resolve(R.value.v).then(_,x):D(a[0][2],R)}catch(P){D(a[0][3],P)}var R}function _(I){h("next",I)}function x(I){h("throw",I)}function D(I,A){I(A),a.shift(),a.length&&h(a[0][0],a[0][1])}};Object.defineProperty(u,"__esModule",{value:!0}),u.isReadableStreamLike=u.readableStreamLikeToAsyncGenerator=void 0;var b=g(3005);u.readableStreamLikeToAsyncGenerator=function(v){return C(this,arguments,function(){var p,m,f;return S(this,function(c){switch(c.label){case 0:p=v.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,w(p.read())];case 3:return m=c.sent(),f=m.value,m.done?[4,w(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,w(f)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return p.releaseLock(),[7];case 10:return[2]}})})},u.isReadableStreamLike=function(v){return b.isFunction(v?.getReader)}},9016:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.isScheduler=void 0;var S=g(3005);u.isScheduler=function(w){return w&&S.isFunction(w.schedule)}},4935:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.operate=u.hasLift=void 0;var S=g(3005);function w(C){return S.isFunction(C?.lift)}u.hasLift=w,u.operate=function(C){return function(b){if(w(b))return b.lift(function(v){try{return C(v,this)}catch(p){this.error(p)}});throw new TypeError("Unable to lift unknown Observable type")}}},1914:function(z,u,g){"use strict";var S=this&&this.__read||function(v,p){var m="function"==typeof Symbol&&v[Symbol.iterator];if(!m)return v;var f,c,a=m.call(v),d=[];try{for(;(void 0===p||p-- >0)&&!(f=a.next()).done;)d.push(f.value)}catch(h){c={error:h}}finally{try{f&&!f.done&&(m=a.return)&&m.call(a)}finally{if(c)throw c.error}}return d},w=this&&this.__spreadArray||function(v,p){for(var m=0,f=p.length,c=v.length;m<f;m++,c++)v[c]=p[m];return v};Object.defineProperty(u,"__esModule",{value:!0}),u.mapOneOrManyArgs=void 0;var C=g(7291),b=Array.isArray;u.mapOneOrManyArgs=function(v){return C.map(function(p){return m=v,b(f=p)?m.apply(void 0,w([],S(f))):m(f);var m,f})}},2576:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.noop=void 0,u.noop=function(){}},8634:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.not=void 0,u.not=function(g,S){return function(w,C){return!g.call(S,w,C)}}},9985:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.pipeFromArray=u.pipe=void 0;var S=g(4781);function w(C){return 0===C.length?S.identity:1===C.length?C[0]:function(b){return C.reduce(function(v,p){return p(v)},b)}}u.pipe=function(){for(var C=[],b=0;b<arguments.length;b++)C[b]=arguments[b];return w(C)},u.pipeFromArray=w},7968:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.reportUnhandledError=void 0;var S=g(3280),w=g(4590);u.reportUnhandledError=function(C){w.timeoutProvider.setTimeout(function(){var b=S.config.onUnhandledError;if(!b)throw C;b(C)})}},9906:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.createInvalidObservableTypeError=void 0,u.createInvalidObservableTypeError=function(g){return new TypeError("You provided "+(null!==g&&"object"==typeof g?"an invalid object":"'"+g+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},4857:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.mergeAll=u.merge=u.max=u.materialize=u.mapTo=u.map=u.last=u.isEmpty=u.ignoreElements=u.groupBy=u.first=u.findIndex=u.find=u.finalize=u.filter=u.expand=u.exhaustMap=u.exhaustAll=u.exhaust=u.every=u.endWith=u.elementAt=u.distinctUntilKeyChanged=u.distinctUntilChanged=u.distinct=u.dematerialize=u.delayWhen=u.delay=u.defaultIfEmpty=u.debounceTime=u.debounce=u.count=u.connect=u.concatWith=u.concatMapTo=u.concatMap=u.concatAll=u.concat=u.combineLatestWith=u.combineLatest=u.combineLatestAll=u.combineAll=u.catchError=u.bufferWhen=u.bufferToggle=u.bufferTime=u.bufferCount=u.buffer=u.auditTime=u.audit=void 0,u.timeInterval=u.throwIfEmpty=u.throttleTime=u.throttle=u.tap=u.takeWhile=u.takeUntil=u.takeLast=u.take=u.switchScan=u.switchMapTo=u.switchMap=u.switchAll=u.subscribeOn=u.startWith=u.skipWhile=u.skipUntil=u.skipLast=u.skip=u.single=u.shareReplay=u.share=u.sequenceEqual=u.scan=u.sampleTime=u.sample=u.refCount=u.retryWhen=u.retry=u.repeatWhen=u.repeat=u.reduce=u.raceWith=u.race=u.publishReplay=u.publishLast=u.publishBehavior=u.publish=u.pluck=u.partition=u.pairwise=u.onErrorResumeNext=u.observeOn=u.multicast=u.min=u.mergeWith=u.mergeScan=u.mergeMapTo=u.mergeMap=u.flatMap=void 0,u.zipWith=u.zipAll=u.zip=u.withLatestFrom=u.windowWhen=u.windowToggle=u.windowTime=u.windowCount=u.window=u.toArray=u.timestamp=u.timeoutWith=u.timeout=void 0;var S=g(6474);Object.defineProperty(u,"audit",{enumerable:!0,get:function(){return S.audit}});var w=g(5382);Object.defineProperty(u,"auditTime",{enumerable:!0,get:function(){return w.auditTime}});var C=g(9715);Object.defineProperty(u,"buffer",{enumerable:!0,get:function(){return C.buffer}});var b=g(3814);Object.defineProperty(u,"bufferCount",{enumerable:!0,get:function(){return b.bufferCount}});var v=g(7211);Object.defineProperty(u,"bufferTime",{enumerable:!0,get:function(){return v.bufferTime}});var p=g(4943);Object.defineProperty(u,"bufferToggle",{enumerable:!0,get:function(){return p.bufferToggle}});var m=g(1240);Object.defineProperty(u,"bufferWhen",{enumerable:!0,get:function(){return m.bufferWhen}});var f=g(9548);Object.defineProperty(u,"catchError",{enumerable:!0,get:function(){return f.catchError}});var c=g(2128);Object.defineProperty(u,"combineAll",{enumerable:!0,get:function(){return c.combineAll}});var a=g(3240);Object.defineProperty(u,"combineLatestAll",{enumerable:!0,get:function(){return a.combineLatestAll}});var d=g(6318);Object.defineProperty(u,"combineLatest",{enumerable:!0,get:function(){return d.combineLatest}});var h=g(5024);Object.defineProperty(u,"combineLatestWith",{enumerable:!0,get:function(){return h.combineLatestWith}});var _=g(4919);Object.defineProperty(u,"concat",{enumerable:!0,get:function(){return _.concat}});var x=g(4413);Object.defineProperty(u,"concatAll",{enumerable:!0,get:function(){return x.concatAll}});var D=g(7498);Object.defineProperty(u,"concatMap",{enumerable:!0,get:function(){return D.concatMap}});var I=g(6109);Object.defineProperty(u,"concatMapTo",{enumerable:!0,get:function(){return I.concatMapTo}});var A=g(9664);Object.defineProperty(u,"concatWith",{enumerable:!0,get:function(){return A.concatWith}});var R=g(1995);Object.defineProperty(u,"connect",{enumerable:!0,get:function(){return R.connect}});var P=g(993);Object.defineProperty(u,"count",{enumerable:!0,get:function(){return P.count}});var k=g(496);Object.defineProperty(u,"debounce",{enumerable:!0,get:function(){return k.debounce}});var B=g(1385);Object.defineProperty(u,"debounceTime",{enumerable:!0,get:function(){return B.debounceTime}});var V=g(1658);Object.defineProperty(u,"defaultIfEmpty",{enumerable:!0,get:function(){return V.defaultIfEmpty}});var j=g(5841);Object.defineProperty(u,"delay",{enumerable:!0,get:function(){return j.delay}});var X=g(8798);Object.defineProperty(u,"delayWhen",{enumerable:!0,get:function(){return X.delayWhen}});var Q=g(1080);Object.defineProperty(u,"dematerialize",{enumerable:!0,get:function(){return Q.dematerialize}});var Z=g(3054);Object.defineProperty(u,"distinct",{enumerable:!0,get:function(){return Z.distinct}});var de=g(8737);Object.defineProperty(u,"distinctUntilChanged",{enumerable:!0,get:function(){return de.distinctUntilChanged}});var he=g(7957);Object.defineProperty(u,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return he.distinctUntilKeyChanged}});var Pe=g(8633);Object.defineProperty(u,"elementAt",{enumerable:!0,get:function(){return Pe.elementAt}});var ie=g(911);Object.defineProperty(u,"endWith",{enumerable:!0,get:function(){return ie.endWith}});var ue=g(2096);Object.defineProperty(u,"every",{enumerable:!0,get:function(){return ue.every}});var Fe=g(67);Object.defineProperty(u,"exhaust",{enumerable:!0,get:function(){return Fe.exhaust}});var Ye=g(5337);Object.defineProperty(u,"exhaustAll",{enumerable:!0,get:function(){return Ye.exhaustAll}});var dt=g(5635);Object.defineProperty(u,"exhaustMap",{enumerable:!0,get:function(){return dt.exhaustMap}});var et=g(9745);Object.defineProperty(u,"expand",{enumerable:!0,get:function(){return et.expand}});var ft=g(9154);Object.defineProperty(u,"filter",{enumerable:!0,get:function(){return ft.filter}});var Rt=g(9283);Object.defineProperty(u,"finalize",{enumerable:!0,get:function(){return Rt.finalize}});var pt=g(7119);Object.defineProperty(u,"find",{enumerable:!0,get:function(){return pt.find}});var Ht=g(4706);Object.defineProperty(u,"findIndex",{enumerable:!0,get:function(){return Ht.findIndex}});var Oe=g(9219);Object.defineProperty(u,"first",{enumerable:!0,get:function(){return Oe.first}});var ge=g(9749);Object.defineProperty(u,"groupBy",{enumerable:!0,get:function(){return ge.groupBy}});var Je=g(9438);Object.defineProperty(u,"ignoreElements",{enumerable:!0,get:function(){return Je.ignoreElements}});var ht=g(8515);Object.defineProperty(u,"isEmpty",{enumerable:!0,get:function(){return ht.isEmpty}});var $t=g(2435);Object.defineProperty(u,"last",{enumerable:!0,get:function(){return $t.last}});var Ut=g(7291);Object.defineProperty(u,"map",{enumerable:!0,get:function(){return Ut.map}});var gt=g(8313);Object.defineProperty(u,"mapTo",{enumerable:!0,get:function(){return gt.mapTo}});var Gt=g(3209);Object.defineProperty(u,"materialize",{enumerable:!0,get:function(){return Gt.materialize}});var at=g(2620);Object.defineProperty(u,"max",{enumerable:!0,get:function(){return at.max}});var vn=g(9821);Object.defineProperty(u,"merge",{enumerable:!0,get:function(){return vn.merge}});var Y=g(3783);Object.defineProperty(u,"mergeAll",{enumerable:!0,get:function(){return Y.mergeAll}});var Se=g(1788);Object.defineProperty(u,"flatMap",{enumerable:!0,get:function(){return Se.flatMap}});var F=g(9475);Object.defineProperty(u,"mergeMap",{enumerable:!0,get:function(){return F.mergeMap}});var U=g(1211);Object.defineProperty(u,"mergeMapTo",{enumerable:!0,get:function(){return U.mergeMapTo}});var G=g(7267);Object.defineProperty(u,"mergeScan",{enumerable:!0,get:function(){return G.mergeScan}});var J=g(9303);Object.defineProperty(u,"mergeWith",{enumerable:!0,get:function(){return J.mergeWith}});var fe=g(9714);Object.defineProperty(u,"min",{enumerable:!0,get:function(){return fe.min}});var be=g(3848);Object.defineProperty(u,"multicast",{enumerable:!0,get:function(){return be.multicast}});var Ee=g(1184);Object.defineProperty(u,"observeOn",{enumerable:!0,get:function(){return Ee.observeOn}});var it=g(7582);Object.defineProperty(u,"onErrorResumeNext",{enumerable:!0,get:function(){return it.onErrorResumeNext}});var nt=g(2731);Object.defineProperty(u,"pairwise",{enumerable:!0,get:function(){return nt.pairwise}});var Wt=g(5649);Object.defineProperty(u,"partition",{enumerable:!0,get:function(){return Wt.partition}});var q=g(4691);Object.defineProperty(u,"pluck",{enumerable:!0,get:function(){return q.pluck}});var _e=g(4474);Object.defineProperty(u,"publish",{enumerable:!0,get:function(){return _e.publish}});var ve=g(52);Object.defineProperty(u,"publishBehavior",{enumerable:!0,get:function(){return ve.publishBehavior}});var we=g(2110);Object.defineProperty(u,"publishLast",{enumerable:!0,get:function(){return we.publishLast}});var Le=g(9864);Object.defineProperty(u,"publishReplay",{enumerable:!0,get:function(){return Le.publishReplay}});var Me=g(9764);Object.defineProperty(u,"race",{enumerable:!0,get:function(){return Me.race}});var ne=g(179);Object.defineProperty(u,"raceWith",{enumerable:!0,get:function(){return ne.raceWith}});var xe=g(122);Object.defineProperty(u,"reduce",{enumerable:!0,get:function(){return xe.reduce}});var ye=g(5313);Object.defineProperty(u,"repeat",{enumerable:!0,get:function(){return ye.repeat}});var Ae=g(4068);Object.defineProperty(u,"repeatWhen",{enumerable:!0,get:function(){return Ae.repeatWhen}});var $e=g(64);Object.defineProperty(u,"retry",{enumerable:!0,get:function(){return $e.retry}});var Qe=g(1188);Object.defineProperty(u,"retryWhen",{enumerable:!0,get:function(){return Qe.retryWhen}});var rt=g(8739);Object.defineProperty(u,"refCount",{enumerable:!0,get:function(){return rt.refCount}});var mn=g(4193);Object.defineProperty(u,"sample",{enumerable:!0,get:function(){return mn.sample}});var Lt=g(6170);Object.defineProperty(u,"sampleTime",{enumerable:!0,get:function(){return Lt.sampleTime}});var Yn=g(5876);Object.defineProperty(u,"scan",{enumerable:!0,get:function(){return Yn.scan}});var hn=g(1791);Object.defineProperty(u,"sequenceEqual",{enumerable:!0,get:function(){return hn.sequenceEqual}});var Yt=g(5137);Object.defineProperty(u,"share",{enumerable:!0,get:function(){return Yt.share}});var ai=g(1348);Object.defineProperty(u,"shareReplay",{enumerable:!0,get:function(){return ai.shareReplay}});var tt=g(8242);Object.defineProperty(u,"single",{enumerable:!0,get:function(){return tt.single}});var kn=g(3169);Object.defineProperty(u,"skip",{enumerable:!0,get:function(){return kn.skip}});var ar=g(2454);Object.defineProperty(u,"skipLast",{enumerable:!0,get:function(){return ar.skipLast}});var He=g(6931);Object.defineProperty(u,"skipUntil",{enumerable:!0,get:function(){return He.skipUntil}});var ci=g(7913);Object.defineProperty(u,"skipWhile",{enumerable:!0,get:function(){return ci.skipWhile}});var Oi=g(9234);Object.defineProperty(u,"startWith",{enumerable:!0,get:function(){return Oi.startWith}});var Mi=g(276);Object.defineProperty(u,"subscribeOn",{enumerable:!0,get:function(){return Mi.subscribeOn}});var fi=g(9253);Object.defineProperty(u,"switchAll",{enumerable:!0,get:function(){return fi.switchAll}});var Bi=g(8518);Object.defineProperty(u,"switchMap",{enumerable:!0,get:function(){return Bi.switchMap}});var Vi=g(1173);Object.defineProperty(u,"switchMapTo",{enumerable:!0,get:function(){return Vi.switchMapTo}});var re=g(3855);Object.defineProperty(u,"switchScan",{enumerable:!0,get:function(){return re.switchScan}});var K=g(4783);Object.defineProperty(u,"take",{enumerable:!0,get:function(){return K.take}});var ee=g(1980);Object.defineProperty(u,"takeLast",{enumerable:!0,get:function(){return ee.takeLast}});var Re=g(9845);Object.defineProperty(u,"takeUntil",{enumerable:!0,get:function(){return Re.takeUntil}});var Ke=g(6060);Object.defineProperty(u,"takeWhile",{enumerable:!0,get:function(){return Ke.takeWhile}});var Tt=g(1138);Object.defineProperty(u,"tap",{enumerable:!0,get:function(){return Tt.tap}});var At=g(7306);Object.defineProperty(u,"throttle",{enumerable:!0,get:function(){return At.throttle}});var _t=g(8968);Object.defineProperty(u,"throttleTime",{enumerable:!0,get:function(){return _t.throttleTime}});var lt=g(1779);Object.defineProperty(u,"throwIfEmpty",{enumerable:!0,get:function(){return lt.throwIfEmpty}});var wt=g(8005);Object.defineProperty(u,"timeInterval",{enumerable:!0,get:function(){return wt.timeInterval}});var St=g(4173);Object.defineProperty(u,"timeout",{enumerable:!0,get:function(){return St.timeout}});var Bt=g(7223);Object.defineProperty(u,"timeoutWith",{enumerable:!0,get:function(){return Bt.timeoutWith}});var on=g(8975);Object.defineProperty(u,"timestamp",{enumerable:!0,get:function(){return on.timestamp}});var cr=g(2);Object.defineProperty(u,"toArray",{enumerable:!0,get:function(){return cr.toArray}});var un=g(2826);Object.defineProperty(u,"window",{enumerable:!0,get:function(){return un.window}});var Vt=g(7526);Object.defineProperty(u,"windowCount",{enumerable:!0,get:function(){return Vt.windowCount}});var zt=g(8294);Object.defineProperty(u,"windowTime",{enumerable:!0,get:function(){return zt.windowTime}});var ir=g(1883);Object.defineProperty(u,"windowToggle",{enumerable:!0,get:function(){return ir.windowToggle}});var Vn=g(4309);Object.defineProperty(u,"windowWhen",{enumerable:!0,get:function(){return Vn.windowWhen}});var Xt=g(3041);Object.defineProperty(u,"withLatestFrom",{enumerable:!0,get:function(){return Xt.withLatestFrom}});var yn=g(4400);Object.defineProperty(u,"zip",{enumerable:!0,get:function(){return yn.zip}});var ni=g(8593);Object.defineProperty(u,"zipAll",{enumerable:!0,get:function(){return ni.zipAll}});var Dr=g(8096);Object.defineProperty(u,"zipWith",{enumerable:!0,get:function(){return Dr.zipWith}})},9509:(z,u,g)=>{var S=g(8764),w=S.Buffer;function C(v,p){for(var m in v)p[m]=v[m]}function b(v,p,m){return w(v,p,m)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?z.exports=S:(C(S,u),u.Buffer=b),b.prototype=Object.create(w.prototype),C(w,b),b.from=function(v,p,m){if("number"==typeof v)throw new TypeError("Argument must not be a number");return w(v,p,m)},b.alloc=function(v,p,m){if("number"!=typeof v)throw new TypeError("Argument must be a number");var f=w(v);return void 0!==p?"string"==typeof m?f.fill(p,m):f.fill(p):f.fill(0),f},b.allocUnsafe=function(v){if("number"!=typeof v)throw new TypeError("Argument must be a number");return w(v)},b.allocUnsafeSlow=function(v){if("number"!=typeof v)throw new TypeError("Argument must be a number");return S.SlowBuffer(v)}},7539:z=>{"use strict";const u={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};u.localCName=u.generateIdentifier(),u.splitLines=function(g){return g.trim().split("\n").map(S=>S.trim())},u.splitSections=function(g){return g.split("\nm=").map((S,w)=>(w>0?"m="+S:S).trim()+"\r\n")},u.getDescription=function(g){const S=u.splitSections(g);return S&&S[0]},u.getMediaSections=function(g){const S=u.splitSections(g);return S.shift(),S},u.matchPrefix=function(g,S){return u.splitLines(g).filter(w=>0===w.indexOf(S))},u.parseCandidate=function(g){let S;S=0===g.indexOf("a=candidate:")?g.substring(12).split(" "):g.substring(10).split(" ");const w={foundation:S[0],component:{1:"rtp",2:"rtcp"}[S[1]]||S[1],protocol:S[2].toLowerCase(),priority:parseInt(S[3],10),ip:S[4],address:S[4],port:parseInt(S[5],10),type:S[7]};for(let C=8;C<S.length;C+=2)switch(S[C]){case"raddr":w.relatedAddress=S[C+1];break;case"rport":w.relatedPort=parseInt(S[C+1],10);break;case"tcptype":w.tcpType=S[C+1];break;case"ufrag":w.ufrag=S[C+1],w.usernameFragment=S[C+1];break;default:void 0===w[S[C]]&&(w[S[C]]=S[C+1])}return w},u.writeCandidate=function(g){const S=[];S.push(g.foundation);const w=g.component;S.push("rtp"===w?1:"rtcp"===w?2:w),S.push(g.protocol.toUpperCase()),S.push(g.priority),S.push(g.address||g.ip),S.push(g.port);const C=g.type;return S.push("typ"),S.push(C),"host"!==C&&g.relatedAddress&&g.relatedPort&&(S.push("raddr"),S.push(g.relatedAddress),S.push("rport"),S.push(g.relatedPort)),g.tcpType&&"tcp"===g.protocol.toLowerCase()&&(S.push("tcptype"),S.push(g.tcpType)),(g.usernameFragment||g.ufrag)&&(S.push("ufrag"),S.push(g.usernameFragment||g.ufrag)),"candidate:"+S.join(" ")},u.parseIceOptions=function(g){return g.substring(14).split(" ")},u.parseRtpMap=function(g){let S=g.substring(9).split(" ");const w={payloadType:parseInt(S.shift(),10)};return S=S[0].split("/"),w.name=S[0],w.clockRate=parseInt(S[1],10),w.channels=3===S.length?parseInt(S[2],10):1,w.numChannels=w.channels,w},u.writeRtpMap=function(g){let S=g.payloadType;void 0!==g.preferredPayloadType&&(S=g.preferredPayloadType);const w=g.channels||g.numChannels||1;return"a=rtpmap:"+S+" "+g.name+"/"+g.clockRate+(1!==w?"/"+w:"")+"\r\n"},u.parseExtmap=function(g){const S=g.substring(9).split(" ");return{id:parseInt(S[0],10),direction:S[0].indexOf("/")>0?S[0].split("/")[1]:"sendrecv",uri:S[1],attributes:S.slice(2).join(" ")}},u.writeExtmap=function(g){return"a=extmap:"+(g.id||g.preferredId)+(g.direction&&"sendrecv"!==g.direction?"/"+g.direction:"")+" "+g.uri+(g.attributes?" "+g.attributes:"")+"\r\n"},u.parseFmtp=function(g){const S={};let w;const C=g.substring(g.indexOf(" ")+1).split(";");for(let b=0;b<C.length;b++)w=C[b].trim().split("="),S[w[0].trim()]=w[1];return S},u.writeFmtp=function(g){let S="",w=g.payloadType;if(void 0!==g.preferredPayloadType&&(w=g.preferredPayloadType),g.parameters&&Object.keys(g.parameters).length){const C=[];Object.keys(g.parameters).forEach(b=>{C.push(void 0!==g.parameters[b]?b+"="+g.parameters[b]:b)}),S+="a=fmtp:"+w+" "+C.join(";")+"\r\n"}return S},u.parseRtcpFb=function(g){const S=g.substring(g.indexOf(" ")+1).split(" ");return{type:S.shift(),parameter:S.join(" ")}},u.writeRtcpFb=function(g){let S="",w=g.payloadType;return void 0!==g.preferredPayloadType&&(w=g.preferredPayloadType),g.rtcpFeedback&&g.rtcpFeedback.length&&g.rtcpFeedback.forEach(C=>{S+="a=rtcp-fb:"+w+" "+C.type+(C.parameter&&C.parameter.length?" "+C.parameter:"")+"\r\n"}),S},u.parseSsrcMedia=function(g){const S=g.indexOf(" "),w={ssrc:parseInt(g.substring(7,S),10)},C=g.indexOf(":",S);return C>-1?(w.attribute=g.substring(S+1,C),w.value=g.substring(C+1)):w.attribute=g.substring(S+1),w},u.parseSsrcGroup=function(g){const S=g.substring(13).split(" ");return{semantics:S.shift(),ssrcs:S.map(w=>parseInt(w,10))}},u.getMid=function(g){const S=u.matchPrefix(g,"a=mid:")[0];if(S)return S.substring(6)},u.parseFingerprint=function(g){const S=g.substring(14).split(" ");return{algorithm:S[0].toLowerCase(),value:S[1].toUpperCase()}},u.getDtlsParameters=function(g,S){return{role:"auto",fingerprints:u.matchPrefix(g+S,"a=fingerprint:").map(u.parseFingerprint)}},u.writeDtlsParameters=function(g,S){let w="a=setup:"+S+"\r\n";return g.fingerprints.forEach(C=>{w+="a=fingerprint:"+C.algorithm+" "+C.value+"\r\n"}),w},u.parseCryptoLine=function(g){const S=g.substring(9).split(" ");return{tag:parseInt(S[0],10),cryptoSuite:S[1],keyParams:S[2],sessionParams:S.slice(3)}},u.writeCryptoLine=function(g){return"a=crypto:"+g.tag+" "+g.cryptoSuite+" "+("object"==typeof g.keyParams?u.writeCryptoKeyParams(g.keyParams):g.keyParams)+(g.sessionParams?" "+g.sessionParams.join(" "):"")+"\r\n"},u.parseCryptoKeyParams=function(g){if(0!==g.indexOf("inline:"))return null;const S=g.substring(7).split("|");return{keyMethod:"inline",keySalt:S[0],lifeTime:S[1],mkiValue:S[2]?S[2].split(":")[0]:void 0,mkiLength:S[2]?S[2].split(":")[1]:void 0}},u.writeCryptoKeyParams=function(g){return g.keyMethod+":"+g.keySalt+(g.lifeTime?"|"+g.lifeTime:"")+(g.mkiValue&&g.mkiLength?"|"+g.mkiValue+":"+g.mkiLength:"")},u.getCryptoParameters=function(g,S){return u.matchPrefix(g+S,"a=crypto:").map(u.parseCryptoLine)},u.getIceParameters=function(g,S){const w=u.matchPrefix(g+S,"a=ice-ufrag:")[0],C=u.matchPrefix(g+S,"a=ice-pwd:")[0];return w&&C?{usernameFragment:w.substring(12),password:C.substring(10)}:null},u.writeIceParameters=function(g){let S="a=ice-ufrag:"+g.usernameFragment+"\r\na=ice-pwd:"+g.password+"\r\n";return g.iceLite&&(S+="a=ice-lite\r\n"),S},u.parseRtpParameters=function(g){const S={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},w=u.splitLines(g)[0].split(" ");S.profile=w[2];for(let b=3;b<w.length;b++){const v=w[b],p=u.matchPrefix(g,"a=rtpmap:"+v+" ")[0];if(p){const m=u.parseRtpMap(p),f=u.matchPrefix(g,"a=fmtp:"+v+" ");switch(m.parameters=f.length?u.parseFmtp(f[0]):{},m.rtcpFeedback=u.matchPrefix(g,"a=rtcp-fb:"+v+" ").map(u.parseRtcpFb),S.codecs.push(m),m.name.toUpperCase()){case"RED":case"ULPFEC":S.fecMechanisms.push(m.name.toUpperCase())}}}u.matchPrefix(g,"a=extmap:").forEach(b=>{S.headerExtensions.push(u.parseExtmap(b))});const C=u.matchPrefix(g,"a=rtcp-fb:* ").map(u.parseRtcpFb);return S.codecs.forEach(b=>{C.forEach(v=>{b.rtcpFeedback.find(p=>p.type===v.type&&p.parameter===v.parameter)||b.rtcpFeedback.push(v)})}),S},u.writeRtpDescription=function(g,S){let w="";w+="m="+g+" ",w+=S.codecs.length>0?"9":"0",w+=" "+(S.profile||"UDP/TLS/RTP/SAVPF")+" ",w+=S.codecs.map(b=>void 0!==b.preferredPayloadType?b.preferredPayloadType:b.payloadType).join(" ")+"\r\n",w+="c=IN IP4 0.0.0.0\r\n",w+="a=rtcp:9 IN IP4 0.0.0.0\r\n",S.codecs.forEach(b=>{w+=u.writeRtpMap(b),w+=u.writeFmtp(b),w+=u.writeRtcpFb(b)});let C=0;return S.codecs.forEach(b=>{b.maxptime>C&&(C=b.maxptime)}),C>0&&(w+="a=maxptime:"+C+"\r\n"),S.headerExtensions&&S.headerExtensions.forEach(b=>{w+=u.writeExtmap(b)}),w},u.parseRtpEncodingParameters=function(g){const S=[],w=u.parseRtpParameters(g),C=-1!==w.fecMechanisms.indexOf("RED"),b=-1!==w.fecMechanisms.indexOf("ULPFEC"),v=u.matchPrefix(g,"a=ssrc:").map(a=>u.parseSsrcMedia(a)).filter(a=>"cname"===a.attribute),p=v.length>0&&v[0].ssrc;let m;const f=u.matchPrefix(g,"a=ssrc-group:FID").map(a=>a.substring(17).split(" ").map(d=>parseInt(d,10)));f.length>0&&f[0].length>1&&f[0][0]===p&&(m=f[0][1]),w.codecs.forEach(a=>{if("RTX"===a.name.toUpperCase()&&a.parameters.apt){let d={ssrc:p,codecPayloadType:parseInt(a.parameters.apt,10)};p&&m&&(d.rtx={ssrc:m}),S.push(d),C&&(d=JSON.parse(JSON.stringify(d)),d.fec={ssrc:p,mechanism:b?"red+ulpfec":"red"},S.push(d))}}),0===S.length&&p&&S.push({ssrc:p});let c=u.matchPrefix(g,"b=");return c.length&&(c=0===c[0].indexOf("b=TIAS:")?parseInt(c[0].substring(7),10):0===c[0].indexOf("b=AS:")?1e3*parseInt(c[0].substring(5),10)*.95-16e3:void 0,S.forEach(a=>{a.maxBitrate=c})),S},u.parseRtcpParameters=function(g){const S={},w=u.matchPrefix(g,"a=ssrc:").map(v=>u.parseSsrcMedia(v)).filter(v=>"cname"===v.attribute)[0];w&&(S.cname=w.value,S.ssrc=w.ssrc);const C=u.matchPrefix(g,"a=rtcp-rsize");S.reducedSize=C.length>0,S.compound=0===C.length;const b=u.matchPrefix(g,"a=rtcp-mux");return S.mux=b.length>0,S},u.writeRtcpParameters=function(g){let S="";return g.reducedSize&&(S+="a=rtcp-rsize\r\n"),g.mux&&(S+="a=rtcp-mux\r\n"),void 0!==g.ssrc&&g.cname&&(S+="a=ssrc:"+g.ssrc+" cname:"+g.cname+"\r\n"),S},u.parseMsid=function(g){let S;const w=u.matchPrefix(g,"a=msid:");if(1===w.length)return S=w[0].substring(7).split(" "),{stream:S[0],track:S[1]};const C=u.matchPrefix(g,"a=ssrc:").map(b=>u.parseSsrcMedia(b)).filter(b=>"msid"===b.attribute);return C.length>0?(S=C[0].value.split(" "),{stream:S[0],track:S[1]}):void 0},u.parseSctpDescription=function(g){const S=u.parseMLine(g),w=u.matchPrefix(g,"a=max-message-size:");let C;w.length>0&&(C=parseInt(w[0].substring(19),10)),isNaN(C)&&(C=65536);const b=u.matchPrefix(g,"a=sctp-port:");if(b.length>0)return{port:parseInt(b[0].substring(12),10),protocol:S.fmt,maxMessageSize:C};const v=u.matchPrefix(g,"a=sctpmap:");if(v.length>0){const p=v[0].substring(10).split(" ");return{port:parseInt(p[0],10),protocol:p[1],maxMessageSize:C}}},u.writeSctpDescription=function(g,S){let w=[];return w="DTLS/SCTP"!==g.protocol?["m="+g.kind+" 9 "+g.protocol+" "+S.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+S.port+"\r\n"]:["m="+g.kind+" 9 "+g.protocol+" "+S.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+S.port+" "+S.protocol+" 65535\r\n"],void 0!==S.maxMessageSize&&w.push("a=max-message-size:"+S.maxMessageSize+"\r\n"),w.join("")},u.generateSessionId=function(){return Math.random().toString().substr(2,22)},u.writeSessionBoilerplate=function(g,S,w){let C;const b=void 0!==S?S:2;return C=g||u.generateSessionId(),"v=0\r\no="+(w||"thisisadapterortc")+" "+C+" "+b+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},u.getDirection=function(g,S){const w=u.splitLines(g);for(let C=0;C<w.length;C++)switch(w[C]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return w[C].substring(2)}return S?u.getDirection(S):"sendrecv"},u.getKind=function(g){return u.splitLines(g)[0].split(" ")[0].substring(2)},u.isRejected=function(g){return"0"===g.split(" ",2)[1]},u.parseMLine=function(g){const S=u.splitLines(g)[0].substring(2).split(" ");return{kind:S[0],port:parseInt(S[1],10),protocol:S[2],fmt:S.slice(3).join(" ")}},u.parseOLine=function(g){const S=u.matchPrefix(g,"o=")[0].substring(2).split(" ");return{username:S[0],sessionId:S[1],sessionVersion:parseInt(S[2],10),netType:S[3],addressType:S[4],address:S[5]}},u.isValidSDP=function(g){if("string"!=typeof g||0===g.length)return!1;const S=u.splitLines(g);for(let w=0;w<S.length;w++)if(S[w].length<2||"="!==S[w].charAt(1))return!1;return!0},z.exports=u},8853:(z,u,g)=>{const S=g(1227)("simple-peer"),w=g(5177),C=g(1798),b=g(8473),v=g(4375),p=g(2114),{Buffer:m}=g(8764),f=65536;function c(d){return d.replace(/a=ice-options:trickle\s\n/g,"")}class a extends b.Duplex{constructor(h){if(super(h=Object.assign({allowHalfOpen:!1},h)),this._id=C(4).toString("hex").slice(0,7),this._debug("new peer %o",h),this.channelName=h.initiator?h.channelName||C(20).toString("hex"):null,this.initiator=h.initiator||!1,this.channelConfig=h.channelConfig||a.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},a.config,h.config),this.offerOptions=h.offerOptions||{},this.answerOptions=h.answerOptions||{},this.sdpTransform=h.sdpTransform||(_=>_),this.streams=h.streams||(h.stream?[h.stream]:[]),this.trickle=void 0===h.trickle||h.trickle,this.allowHalfTrickle=void 0!==h.allowHalfTrickle&&h.allowHalfTrickle,this.iceCompleteTimeout=h.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=h.wrtc&&"object"==typeof h.wrtc?h.wrtc:w(),!this._wrtc)throw p(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(_){return void this.destroy(p(_,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=_=>{this._onIceCandidate(_)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch(_=>{this.destroy(p(_,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=_=>{this._setupData(_)},this.streams&&this.streams.forEach(_=>{this.addStream(_)}),this._pc.ontrack=_=>{this._onTrack(_)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(h){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof h)try{h=JSON.parse(h)}catch{h={}}this._debug("signal()"),h.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),h.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(h.transceiverRequest.kind,h.transceiverRequest.init)),h.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(h.candidate):this._pendingCandidates.push(h.candidate)),h.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(h)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(_=>{this._addIceCandidate(_)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(_=>{this.destroy(p(_,"ERR_SET_REMOTE_DESCRIPTION"))}),h.sdp||h.candidate||h.renegotiate||h.transceiverRequest||this.destroy(p(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(h){const _=new this._wrtc.RTCIceCandidate(h);this._pc.addIceCandidate(_).catch(x=>{!_.address||_.address.endsWith(".local")?console.warn("Ignoring unsupported ICE candidate."):this.destroy(p(x,"ERR_ADD_ICE_CANDIDATE"))})}send(h){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(h)}}addTransceiver(h,_){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(h,_),this._needsNegotiation()}catch(x){this.destroy(p(x,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:h,init:_}})}}addStream(h){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),h.getTracks().forEach(_=>{this.addTrack(_,h)})}}addTrack(h,_){if(this.destroying)return;if(this.destroyed)throw p(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const x=this._senderMap.get(h)||new Map;let D=x.get(_);if(D)throw D.removed?p(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):p(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");D=this._pc.addTrack(h,_),x.set(_,D),this._senderMap.set(h,x),this._needsNegotiation()}replaceTrack(h,_,x){if(this.destroying)return;if(this.destroyed)throw p(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const D=this._senderMap.get(h),I=D?D.get(x):null;if(!I)throw p(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");_&&this._senderMap.set(_,D),null!=I.replaceTrack?I.replaceTrack(_):this.destroy(p(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(h,_){if(this.destroying)return;if(this.destroyed)throw p(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const x=this._senderMap.get(h),D=x?x.get(_):null;if(!D)throw p(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{D.removed=!0,this._pc.removeTrack(D)}catch(I){"NS_ERROR_UNEXPECTED"===I.name?this._sendersAwaitingStable.push(D):this.destroy(p(I,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(h){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),h.getTracks().forEach(_=>{this.removeTrack(_,h)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,v(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(h){this._destroy(h,()=>{})}_destroy(h,_){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",h&&(h.message||h)),v(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",h&&(h.message||h)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,h&&this.emit("error",h),this.emit("close"),_()}))}_setupData(h){if(!h.channel)return this.destroy(p(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=h.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=f),this.channelName=this._channel.label,this._channel.onmessage=x=>{this._onChannelMessage(x)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=x=>{const D=x.error instanceof Error?x.error:new Error(`Datachannel error: ${x.message} ${x.filename}:${x.lineno}:${x.colno}`);this.destroy(p(D,"ERR_DATA_CHANNEL"))};let _=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(_&&this._onChannelClose(),_=!0):_=!1},5e3)}_read(){}_write(h,_,x){if(this.destroyed)return x(p(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(h)}catch(D){return this.destroy(p(D,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>f?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=x):x(null)}else this._debug("write before connect"),this._chunk=h,this._cb=x}_onFinish(){if(this.destroyed)return;const h=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?h():this.once("connect",h)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(h=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(h.sdp=c(h.sdp)),h.sdp=this.sdpTransform(h.sdp);const _=()=>{if(this.destroyed)return;const x=this._pc.localDescription||h;this._debug("signal"),this.emit("signal",{type:x.type,sdp:x.sdp})};this._pc.setLocalDescription(h).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?_():this.once("_iceComplete",_))}).catch(x=>{this.destroy(p(x,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(h=>{this.destroy(p(h,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(h=>{h.mid||!h.sender.track||h.requested||(h.requested=!0,this.addTransceiver(h.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(h=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(h.sdp=c(h.sdp)),h.sdp=this.sdpTransform(h.sdp);const _=()=>{if(this.destroyed)return;const x=this._pc.localDescription||h;this._debug("signal"),this.emit("signal",{type:x.type,sdp:x.sdp}),this.initiator||this._requestMissingTransceivers()};this._pc.setLocalDescription(h).then(()=>{this.destroyed||(this.trickle||this._iceComplete?_():this.once("_iceComplete",_))}).catch(x=>{this.destroy(p(x,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(h=>{this.destroy(p(h,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(p(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const h=this._pc.iceConnectionState,_=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",h,_),this.emit("iceStateChange",h,_),"connected"!==h&&"completed"!==h||(this._pcReady=!0,this._maybeReady()),"failed"===h&&this.destroy(p(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===h&&this.destroy(p(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(h){const _=x=>("[object Array]"===Object.prototype.toString.call(x.values)&&x.values.forEach(D=>{Object.assign(x,D)}),x);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(x=>{const D=[];x.forEach(I=>{D.push(_(I))}),h(null,D)},x=>h(x)):this._pc.getStats.length>0?this._pc.getStats(x=>{if(this.destroyed)return;const D=[];x.result().forEach(I=>{const A={};I.names().forEach(R=>{A[R]=I.stat(R)}),A.id=I.id,A.type=I.type,A.timestamp=I.timestamp,D.push(_(A))}),h(null,D)},x=>h(x)):h(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const h=()=>{this.destroyed||this.getStats((_,x)=>{if(this.destroyed)return;_&&(x=[]);const D={},I={},A={};let R=!1;x.forEach(k=>{"remotecandidate"!==k.type&&"remote-candidate"!==k.type||(D[k.id]=k),"localcandidate"!==k.type&&"local-candidate"!==k.type||(I[k.id]=k),"candidatepair"!==k.type&&"candidate-pair"!==k.type||(A[k.id]=k)});const P=k=>{R=!0;let B=I[k.localCandidateId];B&&(B.ip||B.address)?(this.localAddress=B.ip||B.address,this.localPort=Number(B.port)):B&&B.ipAddress?(this.localAddress=B.ipAddress,this.localPort=Number(B.portNumber)):"string"==typeof k.googLocalAddress&&(B=k.googLocalAddress.split(":"),this.localAddress=B[0],this.localPort=Number(B[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let V=D[k.remoteCandidateId];V&&(V.ip||V.address)?(this.remoteAddress=V.ip||V.address,this.remotePort=Number(V.port)):V&&V.ipAddress?(this.remoteAddress=V.ipAddress,this.remotePort=Number(V.portNumber)):"string"==typeof k.googRemoteAddress&&(V=k.googRemoteAddress.split(":"),this.remoteAddress=V[0],this.remotePort=Number(V[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(x.forEach(k=>{"transport"===k.type&&k.selectedCandidatePairId&&P(A[k.selectedCandidatePairId]),("googCandidatePair"===k.type&&"true"===k.googActiveConnection||("candidatepair"===k.type||"candidate-pair"===k.type)&&k.selected)&&P(k)}),R||Object.keys(A).length&&!Object.keys(I).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(B){return this.destroy(p(B,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const k=this._cb;this._cb=null,k(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(h,100)})};h()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>f||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(h=>{this._pc.removeTrack(h),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(h){this.destroyed||(h.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:h.candidate.candidate,sdpMLineIndex:h.candidate.sdpMLineIndex,sdpMid:h.candidate.sdpMid}}):h.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),h.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(h){if(this.destroyed)return;let _=h.data;_ instanceof ArrayBuffer&&(_=m.from(_)),this.push(_)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const h=this._cb;this._cb=null,h(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(h){this.destroyed||h.streams.forEach(_=>{this._debug("on track"),this.emit("track",h.track,_),this._remoteTracks.push({track:h.track,stream:_}),this._remoteStreams.some(x=>x.id===_.id)||(this._remoteStreams.push(_),v(()=>{this._debug("on stream"),this.emit("stream",_)}))})}_debug(){const h=[].slice.call(arguments);h[0]="["+this._id+"] "+h[0],S.apply(null,h)}}a.WEBRTC_SUPPORT=!!w(),a.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},a.channelConfig={},z.exports=a},2553:(z,u,g)=>{"use strict";var S=g(9509).Buffer,w=S.isEncoding||function(h){switch((h=""+h)&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function C(h){var _;switch(this.encoding=function(x){var D=function(I){if(!I)return"utf8";for(var A;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(A)return;I=(""+I).toLowerCase(),A=!0}}(x);if("string"!=typeof D&&(S.isEncoding===w||!w(x)))throw new Error("Unknown encoding: "+x);return D||x}(h),this.encoding){case"utf16le":this.text=p,this.end=m,_=4;break;case"utf8":this.fillLast=v,_=4;break;case"base64":this.text=f,this.end=c,_=3;break;default:return this.write=a,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=S.allocUnsafe(_)}function b(h){return h<=127?0:h>>5==6?2:h>>4==14?3:h>>3==30?4:h>>6==2?-1:-2}function v(h){var _=this.lastTotal-this.lastNeed,x=function(D,I,A){if(128!=(192&I[0]))return D.lastNeed=0,"\ufffd";if(D.lastNeed>1&&I.length>1){if(128!=(192&I[1]))return D.lastNeed=1,"\ufffd";if(D.lastNeed>2&&I.length>2&&128!=(192&I[2]))return D.lastNeed=2,"\ufffd"}}(this,h);return void 0!==x?x:this.lastNeed<=h.length?(h.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(h.copy(this.lastChar,_,0,h.length),void(this.lastNeed-=h.length))}function p(h,_){if((h.length-_)%2==0){var x=h.toString("utf16le",_);if(x){var D=x.charCodeAt(x.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",_,h.length-1)}function m(h){var _=h&&h.length?this.write(h):"";return this.lastNeed?_+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):_}function f(h,_){var x=(h.length-_)%3;return 0===x?h.toString("base64",_):(this.lastNeed=3-x,this.lastTotal=3,1===x?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",_,h.length-x))}function c(h){var _=h&&h.length?this.write(h):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function a(h){return h.toString(this.encoding)}function d(h){return h&&h.length?this.write(h):""}u.s=C,C.prototype.write=function(h){if(0===h.length)return"";var _,x;if(this.lastNeed){if(void 0===(_=this.fillLast(h)))return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<h.length?_?_+this.text(h,x):this.text(h,x):_||""},C.prototype.end=function(h){var _=h&&h.length?this.write(h):"";return this.lastNeed?_+"\ufffd":_},C.prototype.text=function(h,_){var x=function(I,A,R){var P=A.length-1;if(P<R)return 0;var k=b(A[P]);return k>=0?(k>0&&(I.lastNeed=k-1),k):--P<R||-2===k?0:(k=b(A[P]))>=0?(k>0&&(I.lastNeed=k-2),k):--P<R||-2===k?0:(k=b(A[P]))>=0?(k>0&&(2===k?k=0:I.lastNeed=k-3),k):0}(this,h,_);if(!this.lastNeed)return h.toString("utf8",_);this.lastTotal=x;var D=h.length-(x-this.lastNeed);return h.copy(this.lastChar,0,D),h.toString("utf8",_,D)},C.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length}},3607:function(z,u,g){"use strict";var S=this&&this.__createBinding||(Object.create?function(f,c,a,d){void 0===d&&(d=a);var h=Object.getOwnPropertyDescriptor(c,a);h&&!("get"in h?!c.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return c[a]}}),Object.defineProperty(f,d,h)}:function(f,c,a,d){void 0===d&&(d=a),f[d]=c[a]}),w=this&&this.__setModuleDefault||(Object.create?function(f,c){Object.defineProperty(f,"default",{enumerable:!0,value:c})}:function(f,c){f.default=c}),C=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var c={};if(null!=f)for(var a in f)"default"!==a&&Object.prototype.hasOwnProperty.call(f,a)&&S(c,f,a);return w(c,f),c},b=this&&this.__exportStar||function(f,c){for(var a in f)"default"===a||Object.prototype.hasOwnProperty.call(c,a)||S(c,f,a)};Object.defineProperty(u,"__esModule",{value:!0}),u.Uneeq=void 0,g(8806);const v=C(g(835)),p=g(6123);b(g(8512),u);var m=g(6123);Object.defineProperty(u,"Uneeq",{enumerable:!0,get:function(){return m.Uneeq}}),b(g(835),u),window.AdapterJS=v,window.Uneeq=p.Uneeq},881:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.SoundMeter=void 0;const S=g(2872),w=g(7501);u.SoundMeter=class{constructor(C){this.instant$=new S.BehaviorSubject(0),this.context=C,this.instant=0,this.slow=0,this.clip=0,this.script=C.createScriptProcessor(2048,1,1);const b=this;this.script.onaudioprocess=v=>{const p=v.inputBuffer.getChannelData(0);let m,f=0,c=0;for(m=0;m<p.length;++m)f+=p[m]*p[m],Math.abs(p[m])>.99&&(c+=1);b.instant=Math.sqrt(f/p.length),b.slow=.95*b.slow+.05*b.instant,b.clip=c/p.length,b.instant$.next(parseFloat(b.instant.toFixed(2)))}}connectToSource(C,b){w.logger.log("SoundMeter connecting");try{this.mic=this.context.createMediaStreamSource(C),this.mic.connect(this.script),this.script.connect(this.context.destination),void 0!==b&&b(null)}catch(v){console.error(v),void 0!==b&&b(v)}}stop(){this.mic.disconnect(),this.script.disconnect()}}},2289:function(z,u,g){"use strict";var S=this&&this.__awaiter||function(p,m,f,c){return new(f||(f=Promise))(function(a,d){function h(D){try{x(c.next(D))}catch(I){d(I)}}function _(D){try{x(c.throw(D))}catch(I){d(I)}}function x(D){var I;D.done?a(D.value):(I=D.value,I instanceof f?I:new f(function(A){A(I)})).then(h,_)}x((c=c.apply(p,m||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.FrameProcessor=u.validateOptions=u.defaultFrameProcessorOptions=void 0;const w=g(7501),C=g(6447),b=[512,1024,1536];u.defaultFrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.35,preSpeechPadFrames:1,redemptionFrames:8,frameSamples:1536,minSpeechFrames:3},u.validateOptions=function(p){b.includes(p.frameSamples)||w.logger.warn("You are using an unusual frame size"),(p.positiveSpeechThreshold<0||p.negativeSpeechThreshold>1)&&w.logger.error("postiveSpeechThreshold should be a number between 0 and 1"),(p.negativeSpeechThreshold<0||p.negativeSpeechThreshold>p.positiveSpeechThreshold)&&w.logger.error("negativeSpeechThreshold should be between 0 and positiveSpeechThreshold"),p.preSpeechPadFrames<0&&w.logger.error("preSpeechPadFrames should be positive"),p.redemptionFrames<0&&w.logger.error("preSpeechPadFrames should be positive")};const v=p=>{const m=p.reduce((c,a)=>(c.push(c[c.length-1]+a.length),c),[0]),f=new Float32Array(m[m.length-1]);return p.forEach((c,a)=>{f.set(c,m[a])}),f};u.FrameProcessor=class{constructor(p,m,f){this.modelProcessFunc=p,this.modelResetFunc=m,this.options=f,this.speaking=!1,this.redemptionCounter=0,this.active=!1,this.reset=()=>{this.speaking=!1,this.audioBuffer=[],this.modelResetFunc(),this.redemptionCounter=0},this.pause=()=>{this.active=!1,this.reset()},this.resume=()=>{this.active=!0},this.endSegment=()=>{const c=this.audioBuffer;this.audioBuffer=[];const a=this.speaking;this.reset();const d=c.reduce((h,_)=>h+ +_.isSpeech,0);if(a){if(d>=this.options.minSpeechFrames){const h=v(c.map(_=>_.frame));return{msg:C.Message.SpeechEnd,audio:h}}return{msg:C.Message.VADMisfire}}return{}},this.process=c=>S(this,void 0,void 0,function*(){if(!this.active)return{};const a=yield this.modelProcessFunc(c);if(this.audioBuffer.push({frame:c,isSpeech:a.isSpeech>=this.options.positiveSpeechThreshold}),a.isSpeech>=this.options.positiveSpeechThreshold&&this.redemptionCounter&&(this.redemptionCounter=0),a.isSpeech>=this.options.positiveSpeechThreshold&&!this.speaking)return this.speaking=!0,{probs:a,msg:C.Message.SpeechStart};if(a.isSpeech<this.options.negativeSpeechThreshold&&this.speaking&&++this.redemptionCounter>=this.options.redemptionFrames){this.redemptionCounter=0,this.speaking=!1;const d=this.audioBuffer;if(this.audioBuffer=[],d.reduce((h,_)=>h+ +_.isSpeech,0)>=this.options.minSpeechFrames){const h=v(d.map(_=>_.frame));return{probs:a,msg:C.Message.SpeechEnd,audio:h}}return{probs:a,msg:C.Message.VADMisfire}}if(!this.speaking)for(;this.audioBuffer.length>this.options.preSpeechPadFrames;)this.audioBuffer.shift();return{probs:a}}),this.audioBuffer=[],this.reset()}}},6447:(z,u)=>{"use strict";var g,S;Object.defineProperty(u,"__esModule",{value:!0}),u.Message=void 0,(S=g||(u.Message=g={})).AudioFrame="AUDIO_FRAME",S.SpeechStart="SPEECH_START",S.VADMisfire="VAD_MISFIRE",S.SpeechEnd="SPEECH_END"},9938:function(z,u,g){"use strict";var S=this&&this.__awaiter||function(b,v,p,m){return new(p||(p=Promise))(function(f,c){function a(_){try{h(m.next(_))}catch(x){c(x)}}function d(_){try{h(m.throw(_))}catch(x){c(x)}}function h(_){var x;_.done?f(_.value):(x=_.value,x instanceof p?x:new p(function(D){D(x)})).then(a,d)}h((m=m.apply(b,v||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.Silero=void 0;const w=g(7501);class C{constructor(v,p){this.ort=v,this.modelFetcher=p,this.init=()=>S(this,void 0,void 0,function*(){w.logger.debug("initializing vad");const m=yield this.modelFetcher();this._session=yield this.ort.InferenceSession.create(m),this._sr=new this.ort.Tensor("int64",[BigInt(16e3)]),this.reset_state(),w.logger.debug("vad is initialized")}),this.reset_state=()=>{const m=Array(128).fill(0);this._h=new this.ort.Tensor("float32",m,[2,1,64]),this._c=new this.ort.Tensor("float32",m,[2,1,64])},this.process=m=>S(this,void 0,void 0,function*(){const f={input:new this.ort.Tensor("float32",m,[1,m.length]),h:this._h,c:this._c,sr:this._sr},c=yield this._session.run(f);this._h=c.hn,this._c=c.cn;const[a]=c.output.data;return{notSpeech:1-a,isSpeech:a}})}}u.Silero=C,C.new=(b,v)=>S(void 0,void 0,void 0,function*(){const p=new C(b,v);return yield p.init(),p})},8938:function(z,u,g){"use strict";var S=this&&this.__createBinding||(Object.create?function(h,_,x,D){void 0===D&&(D=x);var I=Object.getOwnPropertyDescriptor(_,x);I&&!("get"in I?!_.__esModule:I.writable||I.configurable)||(I={enumerable:!0,get:function(){return _[x]}}),Object.defineProperty(h,D,I)}:function(h,_,x,D){void 0===D&&(D=x),h[D]=_[x]}),w=this&&this.__setModuleDefault||(Object.create?function(h,_){Object.defineProperty(h,"default",{enumerable:!0,value:_})}:function(h,_){h.default=_}),C=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var _={};if(null!=h)for(var x in h)"default"!==x&&Object.prototype.hasOwnProperty.call(h,x)&&S(_,h,x);return w(_,h),_},b=this&&this.__awaiter||function(h,_,x,D){return new(x||(x=Promise))(function(I,A){function R(B){try{k(D.next(B))}catch(V){A(V)}}function P(B){try{k(D.throw(B))}catch(V){A(V)}}function k(B){var V;B.done?I(B.value):(V=B.value,V instanceof x?V:new x(function(j){j(V)})).then(R,P)}k((D=D.apply(h,_||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.AudioNodeVAD=u.MicVAD=u.defaultRealTimeVADOptions=void 0;const v=C(g(9793)),p=g(7501),m=g(2289),f=g(6447),c=g(9938);u.defaultRealTimeVADOptions=Object.assign(Object.assign({},m.defaultFrameProcessorOptions),{onFrameProcessed:h=>{},onVADMisfire:()=>{p.logger.debug("VAD misfire")},onSpeechStart:()=>{p.logger.debug("Detected speech start")},onSpeechEnd:()=>{p.logger.debug("Detected speech end")},stream:new MediaStream,assetBasePath:""});class a{static new(_={}){return b(this,void 0,void 0,function*(){const x=new a(Object.assign(Object.assign({},u.defaultRealTimeVADOptions),_));return yield x.init(),x})}constructor(_){this.options=_,this.listening=!1,this.init=()=>b(this,void 0,void 0,function*(){p.logger.log("Initializing real time vad."),this.stream=void 0===this.options.stream?yield navigator.mediaDevices.getUserMedia({audio:{channelCount:1,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0}}):this.options.stream,this.audioContext=new AudioContext;const x=new MediaStreamAudioSourceNode(this.audioContext,{mediaStream:this.stream});this.audioNodeVAD=yield d.new(this.audioContext,this.options),this.audioNodeVAD.receive(x)}),this.pause=()=>{this.audioNodeVAD.pause(),this.listening=!1},this.start=()=>{this.audioNodeVAD.start(),this.listening=!0},(0,m.validateOptions)(_)}}u.MicVAD=a;class d{static new(_,x={}){return b(this,void 0,void 0,function*(){const D=new d(_,Object.assign(Object.assign({},u.defaultRealTimeVADOptions),x));return yield D.init(),D})}constructor(_,x){this.ctx=_,this.options=x,this.pause=()=>{this.frameProcessor.pause()},this.start=()=>{this.frameProcessor.resume()},this.receive=D=>{D.connect(this.entryNode)},this.processFrame=D=>b(this,void 0,void 0,function*(){const{probs:I,msg:A,audio:R}=yield this.frameProcessor.process(D);switch(void 0!==I&&this.options.onFrameProcessed(I),A){case f.Message.SpeechStart:this.options.onSpeechStart();break;case f.Message.VADMisfire:this.options.onVADMisfire();break;case f.Message.SpeechEnd:this.options.onSpeechEnd(R)}}),this.init=()=>b(this,void 0,void 0,function*(){yield this.ctx.audioWorklet.addModule(this.options.assetBasePath+"vad.worklet.bundle.min.js");const D=new AudioWorkletNode(this.ctx,"vad-helper-worklet",{processorOptions:{frameSamples:this.options.frameSamples}});this.entryNode=D,v.env.wasm.wasmPaths=this.options.assetBasePath;const I=yield c.Silero.new(v,this.modelFetcher);this.frameProcessor=new m.FrameProcessor(I.process,I.reset_state,{frameSamples:this.options.frameSamples,positiveSpeechThreshold:this.options.positiveSpeechThreshold,negativeSpeechThreshold:this.options.negativeSpeechThreshold,redemptionFrames:this.options.redemptionFrames,preSpeechPadFrames:this.options.preSpeechPadFrames,minSpeechFrames:this.options.minSpeechFrames}),D.port.onmessage=A=>b(this,void 0,void 0,function*(){var R;if((null===(R=A.data)||void 0===R?void 0:R.message)===f.Message.AudioFrame){const k=new Float32Array(A.data.data);yield this.processFrame(k)}})}),this.modelFetcher=()=>b(this,void 0,void 0,function*(){const D=this.options.assetBasePath+"silero_vad.onnx";return yield fetch(D).then(I=>I.arrayBuffer())}),(0,m.validateOptions)(x)}}u.AudioNodeVAD=d},4518:function(z,u,g){"use strict";var S=this&&this.__createBinding||(Object.create?function(v,p,m,f){void 0===f&&(f=m);var c=Object.getOwnPropertyDescriptor(p,m);c&&!("get"in c?!p.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(v,f,c)}:function(v,p,m,f){void 0===f&&(f=m),v[f]=p[m]}),w=this&&this.__setModuleDefault||(Object.create?function(v,p){Object.defineProperty(v,"default",{enumerable:!0,value:p})}:function(v,p){v.default=p}),C=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var p={};if(null!=v)for(var m in v)"default"!==m&&Object.prototype.hasOwnProperty.call(v,m)&&S(p,v,m);return w(p,v),p};Object.defineProperty(u,"__esModule",{value:!0}),u.VideoEditor=void 0;const b=C(g(6551));u.VideoEditor=class{constructor(){}applyChromaKeyEffect(v,p){try{g(6303);const m=b.default();let f,c,a;f=m.transform("reformat"),f.source=p,f.width=v.width,f.height=v.height,a=m.target(v),c=m.effect("chroma"),c.source=f,a.source=c,m.go()}catch(m){console.error(m)}}}},1181:function(z,u){"use strict";var g=this&&this.__awaiter||function(S,w,C,b){return new(C||(C=Promise))(function(v,p){function m(a){try{c(b.next(a))}catch(d){p(d)}}function f(a){try{c(b.throw(a))}catch(d){p(d)}}function c(a){var d;a.done?v(a.value):(d=a.value,d instanceof C?d:new C(function(h){h(d)})).then(m,f)}c((b=b.apply(S,w||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.API=void 0,u.API=class{set callId(S){this._callId=S}get authToken(){return this.xAuthToken}constructor(S,w="",C=(()=>{})){this.xAuthToken="",this.apiUrl=S,this.apiKey=w,this.loggedOutHandler=C}startSession(S){return this.postRequest("/api/v1/customers/",S,{},{"faceme-api-key":this.apiKey})}endCall(){return this.postRequest("/api/v1/calls/"+this._callId+"/endCall")}avatarStart(S){return this.postRequest("/api/v1/avatar/"+this._callId+"/start",S)}avatarWelcome(S={}){return this.postRequest("/api/v1/avatar/"+this._callId+"/welcome",{metadata:JSON.stringify(S)})}avatarAsk(S,w={}){return this.postRequest("/api/v1/avatar/"+this._callId+"/ask",{text:S,metadata:JSON.stringify(w)})}avatarStartRecording(){return this.postRequest("/api/v1/avatar/"+this._callId+"/audioCapture/start")}avatarStopRecording(){return this.postRequest("/api/v1/avatar/"+this._callId+"/audioCapture/stop")}stopSpeaking(){return this.postRequest("/api/v1/avatar/"+this._callId+"/stopSpeaking")}getAvailableAvatarCount(){return this.getRequest("/api/v1/avatar/"+this._callId+"/available")}startSessionWithToken(S){return this.postRequest("/api/v2/clients/start-session",S,{},{"x-timezone-name":this.getTimeZone()})}setAvatarDebug(S){return this.putRequest("/api/v1/avatar/"+this._callId+"/debug",{enabled:S})}sendMediaUnavailable(S){return this.postRequest("/api/v1/avatar/"+this._callId+"/media/unavailable-update",S)}getEdgeNodeId(S){let w=S.replace("turn:","http://");w=w.replace("turns:","https://");const C=new Request(w,{method:"GET"});return this.makeRequest(C)}getSessionJwt(S){const w=new Request(this.apiUrl+"/v1/jwt/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:this._callId,persona_id:S})});return this.makeRequest(w)}getTimeZone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}makeRequest(S){return g(this,void 0,void 0,function*(){const w=yield fetch(S);if(!w.ok){401===w.status&&this.loggedOutHandler();const C=yield w.json();throw{status:w.status,body:C}}return 204===w.status?Promise.resolve():(this.xAuthToken=w.headers.get("x-auth-token")||this.xAuthToken,yield w.json())})}getRequest(S){const w=new Request(this.apiUrl+S,{method:"GET",credentials:"omit",headers:{"x-auth-token":this.xAuthToken}});return this.makeRequest(w)}postRequest(S,w={},C={},b={}){const v={method:"POST",credentials:"omit",headers:Object.assign({"Content-Type":"application/json","x-auth-token":this.xAuthToken},b),body:JSON.stringify(w)},p=new Request(this.apiUrl+S,Object.assign(v,C));return this.makeRequest(p)}putRequest(S,w={},C={}){const b={method:"PUT",credentials:"omit",headers:{"Content-Type":"application/json","x-auth-token":this.xAuthToken},body:JSON.stringify(w)},v=new Request(this.apiUrl+S,Object.assign(b,C));return this.makeRequest(v)}}},2958:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CanvasService=void 0,u.CanvasService=class{constructor(g){this.canvasHeight=720,this.canvasWidth=1280,this.uneeqOptions=g}createCanvas(){const g=document.createElement("canvas");return this.uneeqOptions.avatarVideoContainerElement.appendChild(g),g.setAttribute("style","object-fit: cover; width: 100%; height: 100%;"),g.height=this.canvasHeight,g.width=this.canvasWidth,g}}},1546:function(z,u,g){"use strict";var S=this&&this.__awaiter||function(b,v,p,m){return new(p||(p=Promise))(function(f,c){function a(_){try{h(m.next(_))}catch(x){c(x)}}function d(_){try{h(m.throw(_))}catch(x){c(x)}}function h(_){var x;_.done?f(_.value):(x=_.value,x instanceof p?x:new p(function(D){D(x)})).then(a,d)}h((m=m.apply(b,v||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.DeviceManager=void 0;const w=g(3607),C=g(1929);u.DeviceManager=class{set edgeNodeId(b){this.mediaHandler.setEdgeNodeId(b),this.getDevices(!0)}constructor(b,v){this.options=b,this.api=v,this.speakerConstraints={},this.publishStream=new MediaStream,this.devices={audioInput:[],audioOutput:[],videoInput:[]},this.previousMediaOptions={},this.mediaHandler=new C.MediaHandler(this.options,()=>this.remoteVideoReady()),this.initMediaConstraints(),this.getDevices(!1)}enableLocalDevices(b,v){const p=this.options.uneeqOptions.sendLocalVideo!==b,m=this.options.uneeqOptions.sendLocalAudio!==v;(p||m)&&(this.previousMediaOptions={sendLocalVideo:this.options.uneeqOptions.sendLocalVideo,sendLocalAudio:this.options.uneeqOptions.sendLocalAudio},this.options.uneeqOptions.sendLocalVideo=b,this.options.uneeqOptions.sendLocalAudio=v,p&&!1===b&&this.publishStream.getVideoTracks().forEach(f=>f.stop()),m&&!1===v&&this.publishStream.getAudioTracks().forEach(f=>f.stop()),this.mediaHandler.publishingStream=!1,this.initMediaConstraints(),this.getDevices(!0))}getDevices(b=!0){if(!this.options.uneeqOptions.sendLocalVideo&&!this.options.uneeqOptions.sendLocalAudio)return void this.initStreamWithoutDevices();const v=this;this.publishStream=new MediaStream,this.options.streamManager.addCanvasVideoTrackToStream(this.publishStream),this.options.streamManager.addSilentAudioTrackToStream(this.publishStream),navigator.mediaDevices.getUserMedia(this.userMediaConstraints).then(p=>S(this,void 0,void 0,function*(){if(this.initDeviceList(),this.options.internalMessages$.next({faceMeMessageType:"DevicePermissionAllowedInternal"}),b){if(this.options.uneeqOptions.sendLocalVideo){const m=p.getVideoTracks();m.length>0&&(this.publishStream.getVideoTracks().forEach(f=>this.publishStream.removeTrack(f)),this.publishStream.addTrack(m[0]))}if(this.options.uneeqOptions.sendLocalAudio){const m=p.getAudioTracks();m.length>0&&(this.publishStream.getAudioTracks().forEach(f=>this.publishStream.removeTrack(f)),this.publishStream.addTrack(m[0]))}this.mediaHandler.localStream$.next(this.publishStream)}})).catch(p=>{v.options.userMessages.next(new w.DeviceErrorMessage(p)),console.error("device error: ",p),this.sendMediaUnavailableInfo("NotAllowedError"===p.name),this.revertMediaOptions()})}setMicDevice(b,v=!0){const p=this.devices.audioInput.filter(m=>m.deviceId===b);p&&p.length>0?(this.options.uneeqOptions.preferredMicrophoneId=b,this.audioConstraints.deviceId=b,v&&(this.mediaHandler.publishingStream=!1,this.getDevices(!0)),this.options.userMessages.next(new w.SetMicSuccessMessage(b))):this.options.userMessages.next(new w.DeviceNotFoundErrorMessage("Uneeq setMic: Error setting device. Device not found.",b))}setCamDevice(b,v=!0){const p=this.devices.videoInput.filter(m=>m.deviceId===b);p&&p.length>0?(this.options.uneeqOptions.preferredCameraId=b,this.videoConstraints.deviceId=b,v&&(this.mediaHandler.publishingStream=!1,this.getDevices(!0)),this.options.userMessages.next(new w.SetCameraSuccessMessage(b))):this.options.userMessages.next(new w.DeviceNotFoundErrorMessage("Uneeq setCamera: Error setting device. Device not found.",b))}setAvatarSpeakerDevice(b){if(this.mediaHandler.avatarVideoElement){const v=this.devices.audioOutput.filter(p=>p.deviceId===b);v&&v.length>0?(this.options.uneeqOptions.preferredSpeakerId=b,this.mediaHandler.avatarVideoElement.setSinkId(b).then(()=>{this.speakerConstraints.deviceId=b,this.options.userMessages.next(new w.SetSpeakerSuccessMessage(b))}).catch(p=>{this.options.userMessages.next(new w.DeviceNotFoundErrorMessage("Uneeq setSpeaker: Error setting device. "+p.message,b))})):this.options.userMessages.next(new w.DeviceNotFoundErrorMessage("Uneeq setSpeaker: Error setting device. Device not found.",b))}}revertMediaOptions(){this.previousMediaOptions&&(this.options.uneeqOptions.sendLocalAudio=this.previousMediaOptions.sendLocalAudio,this.options.uneeqOptions.sendLocalVideo=this.previousMediaOptions.sendLocalVideo)}initMediaConstraints(){this.audioConstraints={},this.videoConstraints={facingMode:"user",width:640,height:480},this.userMediaConstraints={audio:!!this.options.uneeqOptions.sendLocalAudio&&this.audioConstraints,video:!!this.options.uneeqOptions.sendLocalVideo&&this.videoConstraints}}initStreamWithoutDevices(){this.publishStream.getTracks().forEach(b=>this.publishStream.removeTrack(b)),this.publishStream=new MediaStream,this.options.internalMessages$.next({faceMeMessageType:"DevicePermissionAllowedInternal"}),this.options.streamManager.addCanvasVideoTrackToStream(this.publishStream),this.options.streamManager.addSilentAudioTrackToStream(this.publishStream),this.mediaHandler.localStream$.next(this.publishStream)}remoteVideoReady(){this.options.uneeqOptions.preferredSpeakerId&&this.setAvatarSpeakerDevice(this.options.uneeqOptions.preferredSpeakerId)}sendMediaUnavailableInfo(b){return S(this,void 0,void 0,function*(){const v=yield this.getMediaDevices();return this.api.sendMediaUnavailable({audioInputs:v.audioInput.length,videoInputs:v.videoInput.length,hasUserDeniedPermission:b})})}getMediaDevices(){return S(this,void 0,void 0,function*(){const b=yield navigator.mediaDevices.enumerateDevices(),v={audioInput:[],audioOutput:[],videoInput:[]};return v.audioInput=b.filter(p=>"audioinput"===p.kind),v.audioOutput=b.filter(p=>"audiooutput"===p.kind),v.videoInput=b.filter(p=>"videoinput"===p.kind),v})}initDeviceList(){return S(this,void 0,void 0,function*(){navigator.mediaDevices.ondevicechange=v=>{this.initDeviceList()};const b=yield this.getMediaDevices();JSON.stringify(b)!==JSON.stringify(this.devices)&&(this.devices=b,this.options.uneeqOptions.preferredCameraId&&this.setCamDevice(this.options.uneeqOptions.preferredCameraId,!1),this.options.uneeqOptions.preferredMicrophoneId&&this.setMicDevice(this.options.uneeqOptions.preferredMicrophoneId,!1),this.options.userMessages.next(new w.DeviceListUpdatedMessage(this.devices)))})}}},6886:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DigitalHumanVideoPlayManager=void 0;const S=g(8512),w=g(7501);u.DigitalHumanVideoPlayManager=class{constructor(C,b){this.messages=C,this.publicUnmuteDigitalHumanMethod=b,this.remoteVideoPlayCount=0}play(C){this.video=C,this.playRemoteVideo()}unmuteVideo(){this.video&&this.video.muted&&(this.video.muted=!1,this.messages.next(new S.DigitalHumanUnmuted))}playRemoteVideo(){this.video&&(this.video.onerror=C=>{this.messages.next(new S.DigitalHumanVideoError(C))},this.video.play().then(()=>{this.messages.next(new S.DigitalHumanUnmuted)}).catch(()=>{this.digitalHumanFailedToPlayUnmuted()}))}digitalHumanFailedToPlayUnmuted(){this.messages.next(new S.DigitalHumanFailedToPlay),this.video.muted=!0,this.video.play().then(()=>{w.logger.log("Muting the digital human and playing it succeeded."),this.messages.next(new S.DigitalHumanPlayedInMutedModeSuccess),this.video.addEventListener("click",()=>{this.publicUnmuteDigitalHumanMethod()},{once:!0})}).catch(C=>{w.logger.log("Could not play digital human video even as muted, starting exponential backoff.",C),this.playRemoteVideoWithExponentialBackoff()})}playRemoteVideoWithExponentialBackoff(){this.video&&(this.video.autoplay=!0,this.video.play().then(()=>{this.messages.next(new S.DigitalHumanUnmuted)}),this.remoteVideoPlayCount++,setTimeout(()=>{this.remoteVideoPlayCount<10&&this.playRemoteVideoWithExponentialBackoff()},100*(this.remoteVideoPlayCount-1)))}}},7789:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.LocaleDetector=void 0;class g{static validateOrDetectSpeechLocales(C){let b=C.speechToTextLocales;b&&b.length>0&&(b.split(":").forEach(m=>{this.sttSupportedLocales[m]||(console.error(`UneeQ: Speech to text not supported for: ${m}. Defaulting to en-US`),b=this.defaultLocale)}),"undefined"!==b&&"null"!==b||(b=this.defaultLocale));let p=(window.navigator.languages||[window.navigator.language]).map(m=>((m.length<5||"zh-CN"===m)&&(m=this.localeMappings[m]||null),m&&!this.sttSupportedLocales[m]&&(console.warn(`UneeQ: Speech to text not supported for one of the detected languages: ${m}. Replacing with en-US.`),m=this.defaultLocale),m)).slice(0,4).filter(S).filter((m,f,c)=>c.indexOf(m)===f).join(":").replace(/:\s*$/,"");return p&&0!==p.length||(p=this.defaultLocale),b&&b.length>0?console.debug(`UneeQ: Configured speech to text languages: ${b}`):console.warn(`UneeQ: Detected speechToText languages from browser: ${p}`),b||p}}function S(w){return null!=w}u.LocaleDetector=g,g.defaultLocale="en-US",g.localeMappings={en:"en-US",es:"es-ES",fr:"fr-FR",ja:"ja-JP",de:"de-DE",ko:"ko-KR",zh:"cmn-Hans-CN",it:"it-IT",pt:"pt-PT",nl:"nl-NL",sv:"sv-SE",da:"da-DK",no:"no-NO",fi:"fi-FI",ru:"ru-RU",pl:"pl-PL",tr:"tr-TR",ar:"ar-SA",th:"th-TH",id:"id-ID",cs:"cs-CZ",hu:"hu-HU",ro:"ro-RO",he:"he-IL",vi:"vi-VN",uk:"uk-UA",hi:"hi-IN","zh-CN":"cmn-Hans-CN"},g.sttSupportedLocales={"af-ZA":!0,"sq-AL":!0,"am-ET":!0,"ar-DZ":!0,"ar-BH":!0,"ar-EG":!0,"ar-IQ":!0,"ar-IL":!0,"ar-JO":!0,"ar-KW":!0,"ar-LB":!0,"ar-MR":!0,"ar-MA":!0,"ar-OM":!0,"ar-QA":!0,"ar-SA":!0,"ar-PS":!0,"ar-TN":!0,"ar-AE":!0,"ar-YE":!0,"hy-AM":!0,"az-AZ":!0,"eu-ES":!0,"bn-BD":!0,"bn-IN":!0,"bs-BA":!0,"bg-BG":!0,"my-MM":!0,"ca-ES":!0,"yue-Hant-HK":!0,"cmn-Hans-CN":!0,"cmn-Hant-TW":!0,"hr-HR":!0,"cs-CZ":!0,"da-DK":!0,"nl-BE":!0,"nl-NL":!0,"en-AU":!0,"en-CA":!0,"en-GH":!0,"en-HK":!0,"en-IN":!0,"en-IE":!0,"en-KE":!0,"en-NZ":!0,"en-NG":!0,"en-PK":!0,"en-PH":!0,"en-SG":!0,"en-ZA":!0,"en-TZ":!0,"en-GB":!0,"en-US":!0,"et-EE":!0,"fil-PH":!0,"fi-FI":!0,"fr-BE":!0,"fr-CA":!0,"fr-FR":!0,"fr-CH":!0,"gl-ES":!0,"ka-GE":!0,"de-AT":!0,"de-DE":!0,"de-CH":!0,"el-GR":!0,"gu-IN":!0,"iw-IL":!0,"hi-IN":!0,"hu-HU":!0,"is-IS":!0,"id-ID":!0,"it-IT":!0,"it-CH":!0,"ja-JP":!0,"jv-ID":!0,"kn-IN":!0,"kk-KZ":!0,"km-KH":!0,"ko-KR":!0,"lo-LA":!0,"lv-LV":!0,"lt-LT":!0,"mk-MK":!0,"ms-MY":!0,"ml-IN":!0,"mr-IN":!0,"mn-MN":!0,"ne-NP":!0,"no-NO":!0,"fa-IR":!0,"pl-PL":!0,"pt-BR":!0,"pt-PT":!0,"pa-Guru-IN":!0,"ro-RO":!0,"ru-RU":!0,"rw-RW":!0,"sr-RS":!0,"si-LK":!0,"sk-SK":!0,"sl-SI":!0,"ss-latn-za":!0,"st-ZA":!0,"es-AR":!0,"es-BO":!0,"es-CL":!0,"es-CO":!0,"es-CR":!0,"es-DO":!0,"es-EC":!0,"es-SV":!0,"es-GT":!0,"es-HN":!0,"es-MX":!0,"es-NI":!0,"es-PA":!0,"es-PY":!0,"es-PE":!0,"es-PR":!0,"es-ES":!0,"es-US":!0,"es-UY":!0,"es-VE":!0,"su-ID":!0,"sw-KE":!0,"sw-TZ":!0,"sv-SE":!0,"ta-IN":!0,"ta-MY":!0,"ta-SG":!0,"ta-LK":!0,"te-IN":!0,"th-TH":!0,"tn-latn-za":!0,"tr-TR":!0,"ts-ZA":!0,"uk-UA":!0,"ur-IN":!0,"ur-PK":!0,"uz-UZ":!0,"ve-ZA":!0,"vi-VN":!0,"xh-ZA":!0,"zu-ZA":!0}},7501:(z,u)=>{"use strict";var g,w;Object.defineProperty(u,"__esModule",{value:!0}),u.logger=u.Logger=u.LogType=void 0,(w=g||(u.LogType=g={})).debug="debug",w.log="log",w.warn="warn",w.error="error";class S{constructor(){this.enabled=!1}log(C,...b){this.emitLogMessage(g.log,C,b)}warn(C,...b){this.emitLogMessage(g.warn,C,b)}error(C,...b){this.emitLogMessage(g.error,C,b)}debug(C,...b){this.emitLogMessage(g.debug,C,b)}emitLogMessage(C,b,v){(this.enabled||C===g.error)&&(v.length>0?console[C](b,v):console[C](b))}}u.Logger=S,u.logger=new S},1929:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MediaHandler=void 0;const S=g(2872),w=g(4857),C=g(3607),b=g(4518),v=g(7563),p=g(2958),m=g(7501),f=g(8477);u.MediaHandler=class{constructor(c,a){this.options=c,this.remoteVideoReady=a,this.remoteStream$=new S.BehaviorSubject(null),this.localStream$=new S.BehaviorSubject(null),this.publishState$=new S.BehaviorSubject(v.PublishSubscribeState.DISCONNECTED),this.publishingStream=!1,this.remoteStream$.pipe((0,w.filter)(d=>null!==d)).subscribe(d=>{this.avatarVideoElement=this.options.digitalHumanVideoElement,this.avatarVideoElement.srcObject=d,c.uneeqOptions.avatarVideoContainerElement.style.overflow="hidden",c.uneeqOptions.avatarVideoContainerElement.innerHTML="",c.uneeqOptions.avatarVideoContainerElement.appendChild(this.avatarVideoElement),this.options.uneeqOptions.enableTransparentBackground&&this.initTransparentBackground(this.avatarVideoElement),a()}),this.localStream$.pipe((0,w.filter)(d=>null!==d)).subscribe(d=>{const h=document.createElement("video");this.localVideoElement=h,h.srcObject=d,h.autoplay=!0,h.muted=!0,h.setAttribute("playsinline","true"),h.setAttribute("style","width: 100%; height: 100%;"),c.uneeqOptions.localVideoContainerElement.innerHTML="",c.uneeqOptions.localVideoContainerElement.appendChild(h),this.options.voiceInputManager&&this.options.voiceInputManager.initMicActivity(d),this.options.session.edgeNodeId&&!this.publishingStream&&this.publishVideo()}),this.options.internalMessages$.pipe((0,w.filter)(d=>"AnswerMessage"===d.faceMeMessageType)).subscribe(d=>{void 0!==this.webRTC&&this.webRTC.handleAnswerMessage(d)}),this.options.internalMessages$.pipe((0,w.filter)(d=>"IceCandidateMessage"===d.faceMeMessageType)).subscribe(d=>{void 0!==this.webRTC&&this.webRTC.handleIceCandidate(d)})}setEdgeNodeId(c){this.options.session.edgeNodeId=c,this.options.session.edgeNodeId&&!this.publishingStream&&this.localStream$.getValue()&&this.publishVideo()}unpublishVideo(){m.logger.log("UserSession | unpublishVideo"),void 0!==this.webRTC&&(this.webRTC.close(),this.webRTC=void 0),this.publishState$.next(v.PublishSubscribeState.DISCONNECTED)}pause(){const c=this.remoteStream$.getValue(),a=this.localStream$.getValue();this.avatarVideoElement.pause(),this.localVideoElement.pause(),a&&a.getTracks().forEach(d=>d.enabled=!1),c&&c.getTracks().forEach(d=>d.enabled=!1)}resume(){const c=this.remoteStream$.getValue(),a=this.localStream$.getValue();a&&a.getTracks().forEach(d=>d.enabled=!0),c&&c.getTracks().forEach(d=>d.enabled=!0),this.avatarVideoElement.play(),this.localVideoElement.play()}stopAllLocalStreams(){const c=this.localStream$.getValue();c&&c.getTracks().forEach(a=>a.stop()),this.publishingStream=!1}endSession(){this.stopAllLocalStreams(),this.options.uneeqOptions.localVideoContainerElement&&this.options.uneeqOptions.localVideoContainerElement&&(this.options.uneeqOptions.localVideoContainerElement.innerHTML=""),this.unpublishVideo(),this.options.uneeqOptions.avatarVideoContainerElement&&this.options.uneeqOptions.avatarVideoContainerElement&&(this.options.uneeqOptions.avatarVideoContainerElement.innerHTML="");const c=this.remoteStream$.getValue();c&&c.getTracks().forEach(a=>a.stop()),this.options.voiceInputManager&&this.options.voiceInputManager.handleSessionEnd()}sendDataMessage(c){this.webRTC&&this.webRTC.sendDataMessage(c)}gatherWebRTCStats(c){var a;null===(a=this.webRTC)||void 0===a||a.getStats(c)}publishVideo(){const c=this.options.session.streamId,a=this.options.session.avatarStreamId,d=this.options.session.turnServerAddresses,h=this.options.session.turnUsername,_=this.options.session.turnPassword,x=this.options.session.forceTurnServerUse,D=this.publishState$,I=this.remoteStream$,A=this.localStream$.getValue();if(!A||!this.options.session.edgeNodeId)return void console.error("Not ready to publish");let R=0;m.logger.log("UserSession |  publishVideo -  stream:",A,"publishStreamName:",c),m.logger.log("PublishVideo with edge node id: ",this.options.session.edgeNodeId),this.publishingStream=!0,null==this.webRTC?(this.webRTC=new f.UneeqWebRTC({messaging:this.options.messaging,userMessages:this.options.userMessages,publishStreamName:c,subscribeStreamName:a,edgeNodeId:this.options.session.edgeNodeId||"id",diagnostics:this.options.uneeqOptions.diagnostics,onAddStream:P=>{m.logger.log("WEBRTC: onAddStream "+P.stream),I.next(P.stream)},forceTurnServerUse:x,iceServers:[{urls:d,username:h,credential:_}],onConnect:()=>{m.logger.log("UserSession | publishVideo | webRtcInstance | onStateChange - connected"),D.getValue()===v.PublishSubscribeState.CONNECTING&&D.next(v.PublishSubscribeState.CONNECTED)},onError:P=>{m.logger.log("UserSession | publishVideo | webRtcInstance | onConnectionFailed - ",R),R<3?(R++,this.performWebRTCConnection(A),this.options.userMessages.next(new C.ConnectionLostMessage(v.PublishSubscribeState.DISCONNECTED))):(m.logger.log("UserSession | publishVideo | webRtcInstance | Publish failures > 3, so giving up"),D.next(v.PublishSubscribeState.FAILED),this.options.userMessages.next(new C.ConnectionLostMessage(v.PublishSubscribeState.FAILED)))}}),this.performWebRTCConnection(A)):this.webRTC.updateStreamTracks(A)}performWebRTCConnection(c){this.webRTC&&(this.publishState$.next(v.PublishSubscribeState.CONNECTING),this.webRTC.connect(c))}initTransparentBackground(c){const a=new p.CanvasService(this.options.uneeqOptions).createCanvas();(new b.VideoEditor).applyChromaKeyEffect(a,c),this.avatarVideoElement.style.display="none"}}},4887:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MessageHandler=void 0;const S=g(4857),w=g(3607),C=g(4050);u.MessageHandler=class{constructor(b,v){this.internalMessages$=b,this.messages=v,this.deviceManager={getDevices:(p,m)=>{}},this.getMessagesOfType("AvatarQuestionText").subscribe(p=>{const m={type:C.PromMessageType.QuestionMessageReceived,value:{id:p.id,receivedOn:Date.now()}};this.internalMessages$.next({faceMeMessageType:"prom",promMsg:m}),this.messages.next(new w.AvatarQuestionMessage(p.question,p.id))}),this.getMessagesOfType("AvatarAnswerText").subscribe(p=>{const m={type:C.PromMessageType.AnswerMessageReceived,value:{id:p.questionId,receivedOn:Date.now()}};this.internalMessages$.next({faceMeMessageType:"prom",promMsg:m}),this.messages.next(new w.AvatarAnswerMessage(p.answer,p.answerAvatar,p.answerSpeech,p.questionId))}),this.getMessagesOfType("AvatarAnswerHTML").subscribe(p=>{this.messages.next(new w.AvatarAnswerContentMessage(p.html,p.messageId,p.hasDisplayHtml)),this.messages.next(new w.InstructionsMessage(p.instructions))}),this.getMessagesOfType("AvatarTextInputStarted").subscribe(p=>this.messages.next(new w.StartedSpeakingMessage)),this.getMessagesOfType("AvatarTextInputFinished").subscribe(p=>{this.messages.next(new w.FinishedSpeakingMessage),this.messages.next(new w.AvatarTextInputFinishedMessage)}),this.getMessagesOfType("AvatarStarting").subscribe(p=>{this.deviceManager.edgeNodeId=p.edgeNodeId}),this.getMessagesOfType("ClientMediaStreamUpdate").subscribe(p=>{this.messages.next(new w.ClientMediaStreamUpdateMessage(p.clientStreamingAudio,p.clientStreamingVideo,p.serverStreamingAudio,p.serverStreamingVideo)),p.clientStreamingAudio&&p.clientStreamingVideo&&p.serverStreamingAudio&&p.serverStreamingVideo&&(this.internalMessages$.next({faceMeMessageType:"sessionLive"}),this.internalMessages$.next({faceMeMessageType:"remoteVideoReadyToPlay"}))}),this.getMessagesOfType("SessionErrorMessage").subscribe(p=>{console.error(p.error),this.messages.next(new w.SessionErrorMessage(p.error))}),this.getMessagesOfType("SessionInfoMessage").subscribe(p=>{this.messages.next(new w.SessionInfoMessage(p.info))}),this.getMessagesOfType("SessionEndedMessage").subscribe(()=>{const p={type:C.PromMessageType.SessionEnded,value:{receivedOn:Date.now()}};this.internalMessages$.next({faceMeMessageType:"prom",promMsg:p}),this.internalMessages$.next({faceMeMessageType:"sessionEnd"})}),this.getMessagesOfType("AvatarRequestCompleted").subscribe(p=>{this.messages.next(new w.AvatarRequestCompleted(p.reason))}),this.getMessagesOfType("AvatarRequestIgnored").subscribe(p=>{this.messages.next(new w.AvatarRequestIgnored(p.reason))})}setDeviceManager(b){this.deviceManager=b}getMessagesOfType(b){return this.internalMessages$.pipe((0,S.filter)(v=>v.faceMeMessageType===b))}}},8957:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MessagingState=u.MessagingService=void 0;const S=g(8637);Object.defineProperty(u,"MessagingService",{enumerable:!0,get:function(){return S.MessagingService}});const w=g(7229);Object.defineProperty(u,"MessagingState",{enumerable:!0,get:function(){return w.MessagingState}})},8637:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MessagingService=void 0;const S=g(2541),w=g(2872),C=g(7501),b=g(7229);u.MessagingService=class{constructor(v,p){this.options={autoReconnect:!0,reconnectTime:5e3,maxReconnectAttempts:3,connectionHeaders:{},maxReconnectLimitReached:()=>{},onReconnect:()=>{}},this.url=v,this.options=Object.assign(this.options,p),this.subscriptions={},this.connectionAttempts=0,this.state$=new w.BehaviorSubject(b.MessagingState.DISCONNECTED),this.messages$=new w.Subject,console.log("connect headers messaging: ",this.options.connectionHeaders);const m={connectHeaders:this.options.connectionHeaders,reconnectDelay:0,connectionTimeout:5e3,discardWebsocketOnCommFailure:!0,brokerURL:this.url.replace("https://","wss://").replace("http://","ws://")};this.stompClient=new S.Client(m),this.stompClient.onConnect=f=>this.onStompConnected(f),this.stompClient.onDisconnect=f=>{C.logger.log("Stomp client disconnected",f)},this.stompClient.onStompError=f=>{C.logger.log("Stomp client error",f),this.onStompClientConnectionClosed(f)},this.stompClient.onWebSocketError=f=>{C.logger.log("Stomp client web socket error",f),this.onStompClientConnectionClosed(f)},this.stompClient.onWebSocketClose=f=>{C.logger.log("Stomp client web socket closed",f),this.onStompClientConnectionClosed(f)}}connect(){this.disconnect(),C.logger.log("MessagingService | connecting..."),this.state$.next(b.MessagingState.CONNECTING),this.connectionAttempts++,this.stompClient.activate()}disconnect(){const v=this.state$.getValue();if(v===b.MessagingState.CONNECTED||v===b.MessagingState.CONNECTING){C.logger.log("Disconnecting stomp client");try{this.subscriptions={},this.options.autoReconnect=!1,this.stompClient.deactivate(),this.stompClient.forceDisconnect(),this.state$.next(b.MessagingState.DISCONNECTED)}catch(p){console.error("MessagingService | disconnect: error",p),this.state$.next(b.MessagingState.DISCONNECTED)}}}send(v,p){C.logger.log("MessagingService | send:",v,p);const m={"content-type":"application/json","x-auth-token":this.options.connectionHeaders["x-auth-token"]},f=JSON.stringify(p);this.stompClient.publish({destination:v,body:f,headers:m})}getTopic(v){C.logger.log("MessagingService | subscribeToTopic: "+v);const p=this.subscriptions[v];if(p)return C.logger.log("existing subscription... not re-subscribing to topic"),p;const m=new w.Subject;return this.stompClient.subscribe(v,f=>{m.next(f),this.messages$.next(f)}),this.subscriptions[v]=m,m}onStompConnected(v){C.logger.log("MessagingService | connected"),this.state$.next(b.MessagingState.CONNECTED),this.initMessagingSubscription(),this.connectionAttempts=0}onStompClientConnectionClosed(v){this.options.autoReconnect?this.options.maxReconnectAttempts&&this.connectionAttempts<this.options.maxReconnectAttempts?setTimeout(()=>{this.connect()},this.options.reconnectTime):this.options.maxReconnectLimitReached&&(this.options.maxReconnectLimitReached(),this.disconnect()):this.disconnect()}initMessagingSubscription(){C.logger.log("MessagingService | initMessagingSubscription"),this.stompClient.subscribe("/",v=>{this.messages$.next(v)})}}},7229:(z,u)=>{"use strict";var g,S;Object.defineProperty(u,"__esModule",{value:!0}),u.MessagingState=void 0,(S=g||(u.MessagingState=g={}))[S.DISCONNECTED=0]="DISCONNECTED",S[S.CONNECTING=1]="CONNECTING",S[S.CONNECTED=2]="CONNECTED"},2694:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MetricsService=void 0;const S=g(3607),w=g(9824),C=g(4050);u.MetricsService=class{constructor(b,v,p){this.uneeqOptions=b,this.internalMessages=v,this.messages=p,this.clientPerformanceStats={},this.options=b,this.internalMessages$=v,this.messages$=p}parseAndLogWebRtcStats(b){try{b.forEach(p=>{var m,f;if("inbound-rtp"===p.type&&"video"===p.kind){this.clientPerformanceStats.frameHeight=new w.ClientPerformanceStat("Frame height",p.frameHeight),this.clientPerformanceStats.frameWidth=new w.ClientPerformanceStat("Frame width",p.frameWidth);const c=p.framesDropped,a=c?c-(null===(m=this.clientPerformanceStats.totalFramesDropped)||void 0===m?void 0:m.value):0;this.clientPerformanceStats.newFramesDropped=a?new w.ClientPerformanceStat("New Frames Dropped",a):new w.ClientPerformanceStat,this.clientPerformanceStats.totalFramesDropped=c?new w.ClientPerformanceStat("Total Frames Dropped",c):new w.ClientPerformanceStat;const d=p.packetsLost,h=d?d-(null===(f=this.clientPerformanceStats.inboundTotalPacketsLost)||void 0===f?void 0:f.value):0;this.clientPerformanceStats.inboundNewPacketsLost=h?new w.ClientPerformanceStat("New packets lost",h):new w.ClientPerformanceStat,this.clientPerformanceStats.inboundTotalPacketsLost=d?new w.ClientPerformanceStat("Total packets lost",d):new w.ClientPerformanceStat;const _=p.framesPerSecond;this.clientPerformanceStats.framesPerSec=_?new w.ClientPerformanceStat("Frames per second",_):new w.ClientPerformanceStat}else if("remote-inbound-rtp"===p.type&&"video"===p.kind){const c=p.roundTripTime;this.clientPerformanceStats.inboundRoundTripTime=c?new w.ClientPerformanceStat("Round Trip Time",c):new w.ClientPerformanceStat}else"outbound-rtp"===p.type&&"video"===p.kind&&(this.clientPerformanceStats.outboundQualityLimitationReason=new w.ClientPerformanceStat("Quality Limitation Reason",p.qualityLimitationReason))}),this.options.enableClientPerformanceMessage&&this.messages$.next(new S.ClientPerformanceMessage(this.clientPerformanceStats)),this.internalMessages$.next({faceMeMessageType:"prom",promMsg:{type:C.PromMessageType.WebRtcPerformance,value:this.clientPerformanceStats}})}catch(v){console.warn("Unable to parseAndLogWebRTCStats",v)}}}},6400:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.OnlineStatusService=void 0;const S=g(3607);u.OnlineStatusService=class{constructor(w,C){this.messages=w,this.offlineTimeoutLimitHandler=C,this.online=!0,this.offlineDisconnectTimeLimitMS=1e4,window.addEventListener("offline",()=>this.handleOffline()),window.addEventListener("online",()=>this.handleOnline())}handleOffline(){this.online=!1,this.disconnectTimer=setTimeout(()=>{this.offlineTimeoutLimitHandler()},this.offlineDisconnectTimeLimitMS),this.sendStatusUpdate()}handleOnline(){this.online=!0,window.clearTimeout(this.disconnectTimer),this.sendStatusUpdate()}sendStatusUpdate(){this.messages.next(new S.OnlineStatusUpdateMessage(this.online))}}},4050:function(z,u,g){"use strict";var S=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(u,"__esModule",{value:!0}),u.Prom=u.PromMessageType=void 0;const w=S(g(4427));var C,b;(b=C||(u.PromMessageType=C={}))[b.SessionStart=0]="SessionStart",b[b.WebRtcPerformance=1]="WebRtcPerformance",b[b.AvailabilityCheck=2]="AvailabilityCheck",b[b.QuestionMessageReceived=3]="QuestionMessageReceived",b[b.AnswerMessageReceived=4]="AnswerMessageReceived",b[b.SessionEnded=5]="SessionEnded",u.Prom=class{constructor(b){this.apiUrl=b,this.prom_prefix="client_sdk_",this.registry=(0,w.default)(),this.messageTimings=[],this.metricsPushedCounter=this.registry.create("counter",this.prom_prefix+"metrics_pushed_total","A counter for showcase metrics pushed."),this.sessionStartTime=this.registry.create("histogram",this.prom_prefix+"session_start_duration_seconds","A histogram of session start times.",[1,2.5,4,5,6,7.5,8.5,10,15,30,60]),this.availabilityCheckTime=this.registry.create("histogram",this.prom_prefix+"availability_chk_duration_seconds","A histogram of availability check response times.",[.05,.1,.2,.5,.75,1,1.5,2,2.5,5,7.5,10]),this.webRtcInboundRTT=this.registry.create("histogram",this.prom_prefix+"webrtc_inbound_rtt_duration_seconds","A histogram of client inbound round trip time.",[.001,.002,.005,.01,.02,.05,.1,.5,2,5]),this.webRtcInboundFramesPerSec=this.registry.create("histogram",this.prom_prefix+"webrtc_inbound_frames_per_second","A histogram of client inbound frames per second.",[1,2,5,10,15,20,25,35,50]),this.webRtcInboundPacketsLost=this.registry.create("histogram",this.prom_prefix+"webrtc_inbound_packets_lost","A histogram of client packets lost.",[1,2,4,8,12,16,22,30,50,100,200,500]),this.webRtcFramesDropped=this.registry.create("histogram",this.prom_prefix+"webrtc_inbound_frames_dropped","A histogram of frames dropped.",[1,2,4,8,12,16,22,30,50,100,200,500]),this.webRtcFrameHeight=this.registry.create("histogram",this.prom_prefix+"webrtc_frame_height_px","A histogram of frame height in pixels",[60,180,240,360,540,720,1280]),this.webRtcFrameWidth=this.registry.create("histogram",this.prom_prefix+"webrtc_frame_width_px","A histogram of frame width in pixels",[60,180,240,360,540,720,1280,1500,1920]),this.conversationRoundTripTime=this.registry.create("histogram",this.prom_prefix+"conversation_rtt_duration_seconds","A histogram of round trip time of a conversation",[.001,.005,.01,.03,.05,.1,.2,.5,.75,1,1.5,2,2.5,5,7.5,10]),this.metricsIntervalId=setInterval(()=>{this.sendMetrics()},1e4)}handleMessage(b){var v,p,m,f,c,a,d;const h=Object.assign(b.labels||{},{platform:"js"});switch(b.type){case C.SessionStart:this.sessionStartTime.observe(b.value,h);break;case C.QuestionMessageReceived:this.messageTimings.push(b.value);break;case C.AnswerMessageReceived:const _=this.calculateConversationRtt(b);_>0&&this.conversationRoundTripTime.observe(_,h);break;case C.WebRtcPerformance:const x=b.value;h.qualityLimitationReason=x.outboundQualityLimitationReason?null===(v=x.outboundQualityLimitationReason)||void 0===v?void 0:v.value:"unknown",x.newFramesDropped&&this.webRtcFramesDropped.observe(null===(p=x.newFramesDropped)||void 0===p?void 0:p.value,h),x.framesPerSec&&this.webRtcInboundFramesPerSec.observe(null===(m=x.framesPerSec)||void 0===m?void 0:m.value,h),x.inboundNewPacketsLost&&this.webRtcInboundPacketsLost.observe(null===(f=x.inboundNewPacketsLost)||void 0===f?void 0:f.value,h),x.inboundRoundTripTime&&this.webRtcInboundRTT.observe(null===(c=x.inboundRoundTripTime)||void 0===c?void 0:c.value,h),x.frameHeight&&this.webRtcFrameHeight.observe(null===(a=x.frameHeight)||void 0===a?void 0:a.value,h),x.frameWidth&&this.webRtcFrameWidth.observe(null===(d=x.frameWidth)||void 0===d?void 0:d.value,h);break;case C.AvailabilityCheck:this.availabilityCheckTime.observe(b.value,h);break;case C.SessionEnded:this.stopSendingMetrics()}}calculateConversationRtt(b){if(b.value&&this.messageTimings){const v=this.messageTimings.find(p=>p.id===b.value.id);if(v){const p=v.receivedOn;if(p){const m=(b.value.receivedOn-p)/1e3;return this.messageTimings.splice(this.messageTimings.indexOf(v),1),m}}}return 0}sendMetrics(){this.metricsPushedCounter.inc({platform:"js"});const b=new Request(this.apiUrl+"/client-metrics",{method:"POST",body:this.registry.metrics(),mode:"no-cors"});fetch(b),this.registry.reset()}stopSendingMetrics(){this.metricsIntervalId&&clearInterval(this.metricsIntervalId)}}},8591:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResumeSessionCheck=void 0;const S=g(7501),w=g(39);class C{static validate(v){const p=new w.UneeqLocalStorage;let m=void 0!==v.resumeSession&&v.resumeSession;p.getItemSafely("uneeqResumeSessionPersonaId")===v.conversationId||(S.logger.log("UneeQ: Persona Id's do not match, unable to resume session."),m=!1);const f=C.browserTabIsActive();if(m&&!f&&(S.logger.log("UneeQ: Browser tab is not active so unable to resume"),m=!1),m){const c=p.getItemSafely("uneeqResumeSessionId");if(null!==c)return{resumeSession:!0,resumeSessionId:c}}return{resumeSession:!1}}static browserTabIsActive(){return!document.hidden}}u.ResumeSessionCheck=C},4162:function(z,u,g){"use strict";var S=this&&this.__awaiter||function(f,c,a,d){return new(a||(a=Promise))(function(h,_){function x(A){try{I(d.next(A))}catch(R){_(R)}}function D(A){try{I(d.throw(A))}catch(R){_(R)}}function I(A){var R;A.done?h(A.value):(R=A.value,R instanceof a?R:new a(function(P){P(R)})).then(x,D)}I((d=d.apply(f,c||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.SpeechHandler=void 0;const w=g(8778),C=g(8938),b=g(8512),v=g(4542),p=g(7501),m=48e3;u.SpeechHandler=class{constructor(f){var c,a,d;this.options=f,this.logPrefix="UneeQ: Speech Recognition: ",this.speechBuffer=new w.RingBuffer(5),this.recordingLive=!1,this.digitalHumanSpeaking=!1,this.reconnectWs=!0,this.wsReconnectMessageQueue=[],this.awaitingFinalTranscript=!1,this.interruptionBlocked=!1,this.options.assetBasePath=null!==(c=this.options.assetBasePath)&&void 0!==c?c:"https://cdn.uneeq.io/assets/platform/speech-recognition/",this.options.enableVad=null===(a=this.options.enableVad)||void 0===a||a,this.options.enableInterrupt=null!==(d=this.options.enableInterrupt)&&void 0!==d&&d,this.loadSavedAudioHeaders(),this.loadScripts(),this.handleAppMessages()}startRecognition(){this.initWebsocket(this.options)}stopRecognition(){this.mediaRecorder&&"recording"===this.mediaRecorder.state&&this.mediaRecorder.stop(),this.stream&&(this.stream.getTracks().forEach(f=>{f.stop()}),this.stream=void 0,this.options.messages.next(new b.EnableMicrophoneUpdatedMessage(!1))),this.pauseMicVad()}pause(){return this.stream&&this.micVad?(this.sendStoredTranscriptionIfReady(),this.stream.getTracks().forEach(f=>f.enabled=!1),this.pauseMicVad(),this.onVadSpeechEnd(),!0):(p.logger.warn(this.logPrefix+"Could not pause speech recognition."),!1)}resume(){return!this.options.enableVad&&this.digitalHumanSpeaking&&(this.options.api.stopSpeaking(),this.digitalHumanSpeaking=!1),this.storedTranscription=void 0,this.stream&&this.micVad?(this.stream.getTracks().forEach(f=>f.enabled=!0),this.startMicVad()):(p.logger.warn(this.logPrefix+"Could not resume speech recognition."),!1)}setChatMetadata(f){this.options.chatMetadata=f}pauseVadIfInterruptNotAllowed(){this.micVad&&!this.options.enableInterrupt&&(this.micVad.pause(),this.options.messages.next(new b.VadInterruptionAllowedMessage(!1))),this.options.enableInterrupt||(this.interruptionBlocked=!0)}loadScript(f){return new Promise(c=>{const a=document.createElement("script");a.src=f,a.onload=()=>{c(null)},document.body.appendChild(a)})}loadScripts(){this.scriptsLoadedPromise=new Promise(f=>{this.loadScript(this.options.assetBasePath+"OpusMediaRecorder.umd.js").then(()=>{this.loadScript(this.options.assetBasePath+"encoderWorker.umd.js").then(()=>{f(null)})})})}handleAppMessages(){this.options.messages.subscribe(f=>{switch(f.uneeqMessageType){case b.UneeqMessageType.StartedSpeaking:this.digitalHumanSpeaking=!0,this.pauseVadIfInterruptNotAllowed();break;case b.UneeqMessageType.AvatarAnswer:""===f.answerSpeech.replace(/<[^>]*>/g,"")&&this.handleSpeakingEnd();break;case b.UneeqMessageType.FinishedSpeaking:this.handleSpeakingEnd();break;case b.UneeqMessageType.SessionEnded:this.reconnectWs=!1,this.stopRecognition(),this.ws.close();break;case b.UneeqMessageType.CustomMetadataUpdated:this.options.chatMetadata=f.chatMetadata;break;case b.UneeqMessageType.SessionError:try{16001===JSON.parse(f.error).errorCode&&this.handleSpeakingEnd()}catch{}}})}handleSpeakingEnd(){this.digitalHumanSpeaking=!1,this.interruptionBlocked=!1,this.startMicVad(),this.options.enableInterrupt||this.options.messages.next(new b.VadInterruptionAllowedMessage(!0))}initWebsocket(f){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.close(),this.stopRecognition());let c=f.apiUrl.replace("https://","wss://");c+=`/speech-recognition/ws/recognize?jwt=${f.jwtToken}&session_id=${f.sessionId}`,p.logger.log(this.logPrefix+"Initializing speech recognition websocket to "+c),this.ws=new WebSocket(c),this.ws.onopen=()=>{p.logger.log(this.logPrefix+"WebSocket opened"),this.sendWebsocketMessageQueue(),this.initMicrophone()},this.ws.onclose=a=>{this.handleWebsocketClose(a)},this.ws.onerror=a=>p.logger.error(this.logPrefix+"WebSocket error",a),this.ws.onmessage=a=>{this.handleWebsocketMessage(a)}}sendWebsocketMessageQueue(){p.logger.log(this.logPrefix+"Sending all queued websocket messages, queue length: "+this.wsReconnectMessageQueue.length),this.wsReconnectMessageQueue.forEach(f=>{this.wsSend(f,!1,!1)}),this.wsReconnectMessageQueue=[]}loadSavedAudioHeaders(){return S(this,void 0,void 0,function*(){const f=this.options.assetBasePath+"opus-media-recorder-header.webm",c=yield fetch(f),a=yield c.arrayBuffer();this.headerBlob=new Blob([a],{type:"audio/webm;codecs=opus"})})}initVoiceActivityDetection(f){p.logger.log(this.logPrefix+"Going to initialize VAD module, with enableVad = "+this.options.enableVad),C.MicVAD.new({onSpeechStart:()=>this.onVadSpeechStart(),onSpeechEnd:()=>this.onVadSpeechEnd(),minSpeechFrames:1,positiveSpeechThreshold:this.options.enableVad?.5:0,negativeSpeechThreshold:this.options.enableVad?.35:0,redemptionFrames:8,assetBasePath:this.options.assetBasePath,stream:f}).then(c=>{this.micVad=c,this.interruptionBlocked?this.options.messages.next(new b.VadInterruptionAllowedMessage(!1)):this.startMicVad(),p.logger.log(this.logPrefix+"VAD module has started"),this.options.messages.next(new b.EnableMicrophoneUpdatedMessage(!0))}).catch(c=>{console.error(this.logPrefix+"Could not initialize VAD module",c)})}startMicVad(){return!this.micVad||!this.options.enableInterrupt&&this.digitalHumanSpeaking?(p.logger.log(this.logPrefix+"startMicVad: VAD has not been started."),!1):(this.micVad.start(),!0)}pauseMicVad(){return this.micVad&&this.micVad.pause(),p.logger.log(this.logPrefix+"pauseMicVad: VAD has not been paused."),!1}onVadSpeechStart(){p.logger.log(this.logPrefix+"User started speaking"),this.options.messages.next(new b.UserStartedSpeakingMessage),this.sendStartMessage(),this.wsSend(this.headerBlob),p.logger.log(this.logPrefix+"Sending buffered speech audio");const f=new Blob(this.speechBuffer.toArray(),{type:"audio/webm;codecs=opus"});this.wsSend(f),this.recordingLive=!0,this.speechBuffer.clear()}onVadSpeechEnd(){p.logger.log(this.logPrefix+"User stopped speaking"),this.options.messages.next(new b.UserStoppedSpeakingMessage),this.recordingLive=!1,this.sendStopMessage()}sendStoredTranscriptionIfReady(){this.options.enableVad||void 0===this.storedTranscription||this.awaitingFinalTranscript||(this.sendChatPrompt(this.storedTranscription.transcript),this.options.messages.next(new b.SpeechTranscriptionMessage(this.storedTranscription)),this.storedTranscription=void 0)}handleWebsocketMessage(f){p.logger.log(this.logPrefix+"Got a websocket message: ",f);try{const c=JSON.parse(f.data),a=c.results?c.results[0]:null;"response"===c.state&&a&&(console.log(`${this.logPrefix} Speech transcription result ${JSON.stringify(a)}`),this.options.enableVad?this.handleVadTranscriptionResult(a):this.handlePttTranscriptionResult(a))}catch(c){console.error(this.logPrefix+"Error processing message",f,c)}}handleWebsocketClose(f){p.logger.warn(this.logPrefix+"WebSocket closed",f),this.reconnectWs&&this.initWebsocket(this.options)}sendStartMessage(){this.wsSend(JSON.stringify({action:v.SpeechRecognitionMessageAction.startTranscription,channels:1,sampleRate:m,interimResults:!0,lang:this.options.locales,phrases:this.options.hintPhrases,phraseBoost:this.options.hintPhrasesBoost||0}))}sendStopMessage(){this.wsSend(JSON.stringify({action:v.SpeechRecognitionMessageAction.stopTranscription}),!0)}wsSend(f,c=!1,a=!0){this.ws.readyState===WebSocket.OPEN&&this.ws.send(f),this.reconnectWs&&a&&(this.wsReconnectMessageQueue.push(f),c&&this.ws.readyState===WebSocket.OPEN&&(this.wsReconnectMessageQueue=[]),this.wsReconnectMessageQueue.length>3e3&&this.handleWsReconnectQueueOverflow())}handleWsReconnectQueueOverflow(){p.logger.warn(this.logPrefix+"The websocket reconnection queue has exceeded maximum length of 3000. The audio reconnection queue will be reset, speech transcription performance may be impacted in the event of a reconnection."),this.wsReconnectMessageQueue=[]}initMicrophone(){this.stream||navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,sampleRate:m,channelCount:1}}).then(f=>{this.stream=f,this.initVoiceActivityDetection(f),this.initMediaRecorder(f),this.options.messages.next(new b.DevicePermissionAllowedMessage)}).catch(f=>{console.error("Error starting recording",f),this.options.messages.next(new b.DeviceErrorMessage(f))})}getMediaRecorder(f,c,a){return new window.OpusMediaRecorder(f,c,a)}initMediaRecorder(f){const c={OggOpusEncoderWasmPath:this.options.assetBasePath+"OggOpusEncoder.wasm",WebMOpusEncoderWasmPath:this.options.assetBasePath+"WebMOpusEncoder.wasm"},a={mimeType:"audio/webm",audioBitsPerSecond:m};this.scriptsLoadedPromise.then(()=>{this.mediaRecorder=this.getMediaRecorder(f,a,c),this.mediaRecorder.ondataavailable=d=>this.mediaRecorderOnData(d),this.mediaRecorder.onstop=()=>this.sendStopMessage(),this.mediaRecorder.start(100)})}mediaRecorderOnData(f){f.data&&f.data.size>0&&(!0===this.recordingLive?this.wsSend(f.data):this.speechBuffer.add(f.data))}handlePttTranscriptionResult(f){this.awaitingFinalTranscript=!f.final;try{this.recordingLive?f.final?void 0===this.storedTranscription?this.storedTranscription=f:this.storedTranscription.transcript+=f.transcript:this.digitalHumanSpeaking&&(this.options.api.stopSpeaking(),this.digitalHumanSpeaking=!1):f.final&&(void 0!==this.storedTranscription&&(f.transcript=this.storedTranscription.transcript+f.transcript),this.options.chatMetadata.userSpokenLocale=f.language_code,this.sendChatPrompt(f.transcript),this.options.messages.next(new b.SpeechTranscriptionMessage(f)),this.storedTranscription=void 0),f.stability>.5&&!f.final&&(void 0!==this.storedTranscription&&(f.transcript=this.storedTranscription.transcript+f.transcript),this.options.messages.next(new b.SpeechTranscriptionMessage(f)))}catch{this.options.messages.next(new b.SessionErrorMessage("There was an issues processing speech transcription.")),this.storedTranscription=void 0}}handleVadTranscriptionResult(f){""!==f.transcript&&(f.final?(this.options.chatMetadata.userSpokenLocale=f.language_code,this.sendChatPrompt(f.transcript)):this.digitalHumanSpeaking&&(this.options.api.stopSpeaking(),this.digitalHumanSpeaking=!1)),(f.stability>.5||f.final)&&this.options.messages.next(new b.SpeechTranscriptionMessage(f))}sendChatPrompt(f){this.pauseVadIfInterruptNotAllowed(),this.options.api.avatarAsk(f,this.options.chatMetadata)}}},1116:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StreamManager=void 0,u.StreamManager=class{constructor(){window.AudioContext=window.AudioContext||window.webkitAudioContext,this.silentAudioTrack=this.generateSilentAudioTrack(),this.canvasVideoTrack=this.generateCanvasVideoTrack()}addCanvasVideoTrackToStream(g){return g.getVideoTracks().forEach(S=>g.removeTrack(S)),g.addTrack(this.canvasVideoTrack),g}addSilentAudioTrackToStream(g){return g.getAudioTracks().forEach(S=>g.removeTrack(S)),g.addTrack(this.silentAudioTrack),g}resumeAudioContext(){this.audioContextInstance&&this.audioContextInstance.resume()}generateCanvasVideoTrack(){const g=document.createElement("canvas");return g.width=40,g.height=30,g.getContext("2d"),g.captureStream(1).getVideoTracks()[0]}generateSilentAudioTrack(){if(!this.audioSourceNode||!this.audioSourceDestination){const g=new window.AudioContext;this.audioContextInstance=g,this.audioSourceDestination=g.createMediaStreamDestination()}return this.audioSourceDestination.stream.getAudioTracks()[0]}}},39:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.UneeqLocalStorage=void 0;const S=g(7501);u.UneeqLocalStorage=class{constructor(){}get available(){return void 0===this.localStorageAvailable&&(this.localStorageAvailable=this.checkIfLocalStorageAvailable()),this.localStorageAvailable}setItemSafely(w,C){this.available?localStorage.setItem(w,C):S.logger.log("UneeQ: unable to access localStorage because it is not available.")}getItemSafely(w){return this.available?localStorage.getItem(w):void S.logger.log("UneeQ: unable to access localStorage because it is not available.")}removeItemSafely(w){this.available?localStorage.removeItem(w):S.logger.log("UneeQ: unable to access localStorage because it is not available.")}checkIfLocalStorageAvailable(){const w="UneeqLocalStoreCheck";try{return localStorage.setItem(w,w),localStorage.removeItem(w),!0}catch{return!1}}}},8477:function(z,u,g){"use strict";var S=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(u,"__esModule",{value:!0}),u.UneeqWebRTC=void 0;const w=S(g(8853)),C=S(g(835)),b=g(3607),v=g(7501);u.UneeqWebRTC=class{constructor(p){this.fakeDataChannel={},this.MESSAGING_ENDPOINT="/app/v2/webRTC",this.onStats=(m,f)=>{this.options.userMessages.next(new b.WebRtcStatsMessage(f)),this.statTimer=window.setTimeout(()=>{this.client&&this.client.getStats&&this.client.getStats(this.onStats)},2e3)},this.options=Object.assign({forceTurnServerUse:!1,iceServers:[]},p),this.log("Options",this.options),this.uniqueId=Math.random().toString(36).substring(2,12),RTCPeerConnection.prototype.createDataChannel||(this.warn("Implementing a fake createDataChannel"),RTCPeerConnection.prototype.createDataChannel=()=>this.fakeDataChannel)}connect(p){this.close(),this.client=new w.default({initiator:!0,config:{iceServers:this.options.iceServers},stream:p,channelName:"UneeqChannel"}),this.options.diagnostics&&this.enableDiagnostics(),this.fakeDataChannel.onopen&&(this.warn("Calling channel open on fake data channel"),this.fakeDataChannel.onopen()),this.client.on("error",m=>{this.log("error",m),void 0!==this.options.onError&&this.options.onError(m)}),this.client.on("signal",m=>{const f={payload:"",publishStreamName:this.options.publishStreamName,subscribeStreamName:this.options.subscribeStreamName,uniqueId:this.uniqueId,userAgent:navigator.userAgent,edgeNodeId:this.options.edgeNodeId};if("type"in m&&"offer"===m.type)f.payload=JSON.stringify({type:"offer",sdp:m.sdp}),f.type="OfferMessage",this.log("Offer payload ",f),this.options.messaging.send(this.MESSAGING_ENDPOINT,f);else if("candidate"in m){const c=JSON.stringify(m.candidate);this.options.forceTurnServerUse&&!c.match(/typ relay/)||c.match(/::/)||(f.payload=c,f.type="IceCandidate",this.log("IC payload ",f),this.options.messaging.send(this.MESSAGING_ENDPOINT,f))}else this.warn("WARNING Unhandled signal: ",JSON.stringify(m))}),this.client.on("connect",()=>{this.log("CONNECT"),void 0!==this.options.onConnect&&this.options.onConnect()}),this.client.on("data",m=>{m.type&&this.log("data: "+m),void 0!==this.options.onData&&this.options.onData(m),this.options.userMessages.next(new b.WebRtcDataMessage(m))}),this.client.on("close",()=>{this.log("WebRTC session closed: "+this.uniqueId),this.client=null,void 0!==this.options.onClose&&this.options.onClose()}),this.client.on("stream",m=>{void 0!==this.options.onAddStream&&this.options.onAddStream({stream:m})})}close(){this.client&&(this.client.destroy(),this.client=null),this.statTimer&&clearTimeout(this.statTimer)}handleAnswerMessage(p){if(this.isMessageForUs(p)&&this.client){const m=JSON.parse(p.payload);return this.log("got answer: ",m),this.client.signal(m),!0}return this.log("ignoring answer: ",p),!1}handleIceCandidate(p){if(this.isMessageForUs(p)&&this.client){const m=JSON.parse(p.payload);if("candidate"in m&&""===m.candidate){if("edge"===C.default.browserDetails.browser){const f=this.client._pc;f.remoteDescription&&f.remoteDescription.type&&f.addIceCandidate(null)}}else this.client.signal({candidate:m});return!0}return!1}sendDataMessage(p){this.client.send(p)}getStats(p){return this.client&&this.client.getStats(p)}updateStreamTracks(p){p.getTracks().forEach(m=>{this.client._pc.getSenders().find(f=>m.kind===f.track.kind).replaceTrack(m).then(()=>{v.logger.log("Updated publish media stream track for "+m.kind)}).catch(f=>{v.logger.error("Error: updating publish media stream track failed for "+m.kind,f)})})}enableDiagnostics(){this.client._pc&&0!==this.client._pc.getStats.length&&(this.client._pc.getStats=""),this.client&&this.client.getStats&&this.client.getStats(this.onStats)}isMessageForUs(p){return p.requestUniqueId===this.uniqueId}log(p,...m){v.logger.log("UneeqWebRTC: "+p,m)}warn(p,...m){v.logger.warn("UneeqWebRTC: "+p,m)}}},4333:(z,u,g)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.VoiceInputManager=void 0;const S=g(4857),w=g(881),C=g(8512),b=g(608),v=g(7501);u.VoiceInputManager=class{constructor(p,m,f,c){this.options=p,this.api=m,this.messages=f,this.enableMicrophone=c,this.microphoneEngageVolume=.02,this.microphoneDisengageVolume=.02,this.voiceActivityNotSpeakingTimeoutMS=1e3,this.voiceActivityAllowInterruptions=!1,this.digitalHumanSpeaking=!1,this.recording=!1,this.setVoiceInputMode(p.voiceInputMode);try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.audioContext=new AudioContext}catch{this.audioContextNotSupported()}this.handleAppMessages()}setVoiceInputMode(p){p===b.VoiceInputMode.PUSH_TO_TALK?this.options.voiceInputMode=b.VoiceInputMode.PUSH_TO_TALK:p===b.VoiceInputMode.VOICE_ACTIVITY?this.options.voiceInputMode=b.VoiceInputMode.VOICE_ACTIVITY:this.messages.next(new C.WarningMessage("Invalid voice input mode selected: "+p))}startRecording(){this.options.voiceInputMode===b.VoiceInputMode.PUSH_TO_TALK?this.apiStartRecording():this.requestNotSupportedInVoiceActivityMode("startRecording")}stopRecording(){this.options.voiceInputMode===b.VoiceInputMode.PUSH_TO_TALK?this.apiStopRecording():this.requestNotSupportedInVoiceActivityMode("stopRecording")}handleSessionEnd(){this.soundMeter&&this.soundMeter.stop()}resumeAudioContext(){v.logger.log("UneeQ: resuming publish stream audio context and initializing mic activity."),this.audioContext&&(this.audioContext.resume(),this.stream&&this.initMicActivity(this.stream))}initMicActivity(p){this.stream=p,this.soundMeter=new w.SoundMeter(this.audioContext),this.soundMeter.connectToSource(p,m=>this.micActivityConnected(m))}audioContextNotSupported(){this.options.micActivityMessages&&this.messages.next(new C.MicActivityNotSupportedMessage),this.messages.next(new C.VoiceActivityInputModeNotSupportedMessage),this.setVoiceInputMode(b.VoiceInputMode.PUSH_TO_TALK)}handleAppMessages(){this.messages.subscribe(p=>{switch(p.uneeqMessageType){case C.UneeqMessageType.StartedSpeaking:console.log("StartSpeaking message"),this.digitalHumanSpeaking=!0;break;case C.UneeqMessageType.FinishedSpeaking:this.digitalHumanSpeaking=!1}})}requestNotSupportedInVoiceActivityMode(p){this.messages.next(new C.WarningMessage("Request not supported in voice activity mode: "+p))}apiStartRecording(){this.recording=!0,this.messages.next(new C.RecordingStartedMessage),this.api.avatarStartRecording().catch(()=>{this.recording=!1,this.messages.next(new C.RecordingStoppedMessage)})}apiStopRecording(){this.recording=!1,this.api.avatarStopRecording(),this.messages.next(new C.RecordingStoppedMessage)}micActivityConnected(p){p?this.messages.next(new C.MicActivityErrorMessage(p)):this.soundMeter&&this.soundMeter.instant$.pipe((0,S.distinctUntilChanged)()).subscribe(m=>{this.handleVoiceActivity(m)})}handleVoiceActivity(p){this.options.micActivityMessages&&this.messages.next(new C.MicActivityMessage(p)),this.options.voiceInputMode!==b.VoiceInputMode.VOICE_ACTIVITY||this.digitalHumanSpeaking&&!this.voiceActivityAllowInterruptions||(p>this.microphoneEngageVolume?(this.recording||this.apiStartRecording(),this.clearSilenceTimeout()):p<this.microphoneDisengageVolume&&this.recording&&(this.clearSilenceTimeout(),this.silenceTimeout=setTimeout(()=>{this.recording&&this.apiStopRecording()},this.voiceActivityNotSpeakingTimeoutMS)))}clearSilenceTimeout(){this.silenceTimeout&&clearTimeout(this.silenceTimeout)}}},9824:(z,u)=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ClientPerformanceStat=void 0,u.ClientPerformanceStat=class{constructor(g="",S=0){this.label=g,this.value=S}}},8512:(z,u)=>{"use strict";var g,S;Object.defineProperty(u,"__esModule",{value:!0}),u.DigitalHumanUnmuted=u.DigitalHumanPlayedInMutedModeSuccess=u.DigitalHumanFailedToPlay=u.DigitalHumanVideoError=u.ClientPerformanceMessage=u.ClientMediaStreamUpdateMessage=u.OnlineStatusUpdateMessage=u.SessionInfoMessage=u.AvatarRequestIgnored=u.AvatarRequestCompleted=u.SessionErrorMessage=u.WebRtcStatsMessage=u.WebRtcDataMessage=u.SessionLiveMessage=u.WarningMessage=u.RecordingStoppedMessage=u.RecordingStartedMessage=u.DevicePermissionAllowedMessage=u.AvatarTextInputFinishedMessage=u.FinishedSpeakingMessage=u.StartedSpeakingMessage=u.UserStoppedSpeakingMessage=u.UserStartedSpeakingMessage=u.VadInterruptionAllowedMessage=u.SpeechTranscriptionMessage=u.AvatarQuestionMessage=u.InstructionsMessage=u.AvatarAnswerContentMessage=u.AvatarAnswerMessage=u.ResumeSessionUnavailable=u.ConnectionLostMessage=u.VoiceActivityInputModeNotSupportedMessage=u.MicActivityNotSupportedMessage=u.MicActivityMessage=u.MicActivityErrorMessage=u.ServiceUnavailableMessage=u.AvatarUnavailableMessage=u.AvatarAvailableMessage=u.SessionEndedMessage=u.SessionResumedMessage=u.SessionPausedMessage=u.DeviceListUpdatedMessage=u.DeviceErrorMessage=u.SetSpeakerSuccessMessage=u.EnableMicrophoneUpdatedMessage=u.SetMicSuccessMessage=u.SetCameraSuccessMessage=u.DeviceNotFoundErrorMessage=u.ReadyMessage=u.UneeqMessageType=void 0,u.CustomMetadataUpdated=void 0,(S=g||(u.UneeqMessageType=g={})).Ready="Ready",S.DeviceNotFoundError="DeviceNotFoundError",S.SetCameraSuccess="SetCameraSuccess",S.SetMicSuccess="SetMicSuccess",S.SetSpeakerSuccess="SetSpeakerSuccess",S.SessionPaused="SessionPaused",S.SessionResumed="SessionResumed",S.SessionEnded="SessionEnded",S.AvatarAvailable="AvatarAvailable",S.AvatarUnavailable="AvatarUnavailable",S.ConnectionLost="ConnectionLost",S.ResumeSessionUnavailable="ResumeSessionUnavailable",S.ServiceUnavailable="ServiceUnavailable",S.OnlineStatusUpdate="OnlineStatusUpdate",S.MicActivityNotSupported="MicActivityNotSupported",S.VoiceActivityInputModeNotSupported="VoiceActivityInputModeNotSupported",S.MicActivityError="MicActivityError",S.MicActivity="MicActivity",S.DeviceError="DeviceError",S.DeviceListUpdated="DeviceListUpdated",S.AvatarAnswer="AvatarAnswer",S.AvatarAnswerContent="AvatarAnswerContent",S.Instructions="Instructions",S.StartedSpeaking="StartedSpeaking",S.FinishedSpeaking="FinishedSpeaking",S.AvatarTextInputFinished="AvatarTextInputFinished",S.AvatarQuestionText="AvatarQuestionText",S.SpeechTranscription="SpeechTranscription",S.UserStartedSpeaking="UserStartedSpeaking",S.UserStoppedSpeaking="UserStoppedSpeaking",S.DevicePermissionAllowed="DevicePermissionAllowed",S.RecordingStarted="RecordingStarted",S.RecordingStopped="RecordingStopped",S.Warning="Warning",S.SessionLive="SessionLive",S.WebRtcData="WebRtcData",S.WebRtcStats="WebRtcStats",S.SessionError="SessionError",S.SessionInfo="SessionInfo",S.AvatarRequestCompleted="AvatarRequestCompleted",S.AvatarRequestIgnored="AvatarRequestIgnored",S.ClientMediaStreamUpdate="ClientMediaStreamUpdate",S.ClientPerformanceMessage="ClientPerformanceMessage",S.DigitalHumanVideoError="DigitalHumanVideoError",S.DigitalHumanFailedToPlay="DigitalHumanFailedToPlay",S.DigitalHumanPlayedInMutedModeSuccess="DigitalHumanPlayedInMutedModeSuccess",S.DigitalHumanUnmuted="DigitalHumanUnmuted",S.CustomMetadataUpdated="CustomMetadataUpdated",S.VadInterruptionAllowed="VadInterruptionAllowed",S.EnableMicrophoneUpdated="EnableMicrophoneUpdated",u.ReadyMessage=class{constructor(){this.uneeqMessageType=g.Ready}},u.DeviceNotFoundErrorMessage=class{constructor(S,w){this.msg=S,this.deviceId=w,this.uneeqMessageType=g.DeviceNotFoundError}},u.SetCameraSuccessMessage=class{constructor(S){this.deviceId=S,this.uneeqMessageType=g.SetCameraSuccess}},u.SetMicSuccessMessage=class{constructor(S){this.deviceId=S,this.uneeqMessageType=g.SetMicSuccess}},u.EnableMicrophoneUpdatedMessage=class{constructor(S){this.enabled=S,this.uneeqMessageType=g.EnableMicrophoneUpdated}},u.SetSpeakerSuccessMessage=class{constructor(S){this.deviceId=S,this.uneeqMessageType=g.SetSpeakerSuccess}},u.DeviceErrorMessage=class{constructor(S){this.error=S,this.uneeqMessageType=g.DeviceError}},u.DeviceListUpdatedMessage=class{constructor(S){this.devices=S,this.uneeqMessageType=g.DeviceListUpdated}},u.SessionPausedMessage=class{constructor(){this.uneeqMessageType=g.SessionPaused}},u.SessionResumedMessage=class{constructor(){this.uneeqMessageType=g.SessionResumed}},u.SessionEndedMessage=class{constructor(){this.uneeqMessageType=g.SessionEnded}},u.AvatarAvailableMessage=class{constructor(){this.uneeqMessageType=g.AvatarAvailable}},u.AvatarUnavailableMessage=class{constructor(){this.uneeqMessageType=g.AvatarUnavailable}},u.ServiceUnavailableMessage=class{constructor(S){this.error=S,this.uneeqMessageType=g.ServiceUnavailable}},u.MicActivityErrorMessage=class{constructor(S){this.error=S,this.uneeqMessageType=g.MicActivityError}},u.MicActivityMessage=class{constructor(S){this.level=S,this.uneeqMessageType=g.MicActivity}},u.MicActivityNotSupportedMessage=class{constructor(){this.uneeqMessageType=g.MicActivityNotSupported}},u.VoiceActivityInputModeNotSupportedMessage=class{constructor(){this.uneeqMessageType=g.VoiceActivityInputModeNotSupported}},u.ConnectionLostMessage=class{constructor(S){this.connectionState=S,this.uneeqMessageType=g.ConnectionLost}},u.ResumeSessionUnavailable=class{constructor(){this.uneeqMessageType=g.ResumeSessionUnavailable}},u.AvatarAnswerMessage=class{constructor(S,w,C,b){this.answer=S,this.answerAvatar=w,this.answerSpeech=C,this.transcriptId=b,this.uneeqMessageType=g.AvatarAnswer}},u.AvatarAnswerContentMessage=class{constructor(S,w,C=!1){this.content=S,this.transcriptId=w,this.hasDisplayHtml=C,this.uneeqMessageType=g.AvatarAnswerContent}},u.InstructionsMessage=class{constructor(S){this.instructions=S,this.uneeqMessageType=g.Instructions}},u.AvatarQuestionMessage=class{constructor(S,w){this.question=S,this.transcriptId=w,this.uneeqMessageType=g.AvatarQuestionText}},u.SpeechTranscriptionMessage=class{constructor(S){this.speechTranscription=S,this.uneeqMessageType=g.SpeechTranscription}},u.VadInterruptionAllowedMessage=class{constructor(S){this.interruptionAllowed=S,this.uneeqMessageType=g.VadInterruptionAllowed}},u.UserStartedSpeakingMessage=class{constructor(){this.uneeqMessageType=g.UserStartedSpeaking}},u.UserStoppedSpeakingMessage=class{constructor(){this.uneeqMessageType=g.UserStoppedSpeaking}},u.StartedSpeakingMessage=class{constructor(){this.uneeqMessageType=g.StartedSpeaking}},u.FinishedSpeakingMessage=class{constructor(){this.uneeqMessageType=g.FinishedSpeaking}},u.AvatarTextInputFinishedMessage=class{constructor(){this.uneeqMessageType=g.AvatarTextInputFinished}},u.DevicePermissionAllowedMessage=class{constructor(){this.uneeqMessageType=g.DevicePermissionAllowed}},u.RecordingStartedMessage=class{constructor(){this.uneeqMessageType=g.RecordingStarted}},u.RecordingStoppedMessage=class{constructor(){this.uneeqMessageType=g.RecordingStopped}},u.WarningMessage=class{constructor(S){this.msg=S,this.uneeqMessageType=g.Warning}},u.SessionLiveMessage=class{constructor(S,w){this.showLogo=S,this.sessionResumed=w,this.uneeqMessageType=g.SessionLive}},u.WebRtcDataMessage=class{constructor(S){this.data=S,this.uneeqMessageType=g.WebRtcData}},u.WebRtcStatsMessage=class{constructor(S){this.stats=S,this.uneeqMessageType=g.WebRtcStats}},u.SessionErrorMessage=class{constructor(S){this.error=S,this.uneeqMessageType=g.SessionError}},u.AvatarRequestCompleted=class{constructor(S){this.reason=S,this.uneeqMessageType=g.AvatarRequestCompleted}},u.AvatarRequestIgnored=class{constructor(S){this.reason=S,this.uneeqMessageType=g.AvatarRequestIgnored}},u.SessionInfoMessage=class{constructor(S){this.info=S,this.uneeqMessageType=g.SessionInfo}},u.OnlineStatusUpdateMessage=class{constructor(S){this.online=S,this.uneeqMessageType=g.OnlineStatusUpdate}},u.ClientMediaStreamUpdateMessage=class{constructor(S,w,C,b){this.clientStreamingAudio=S,this.clientStreamingVideo=w,this.serverStreamingAudio=C,this.serverStreamingVideo=b,this.uneeqMessageType=g.ClientMediaStreamUpdate}},u.ClientPerformanceMessage=class{constructor(S){this.clientPerformance=S,this.uneeqMessageType=g.ClientPerformanceMessage}},u.DigitalHumanVideoError=class{constructor(S){this.error=S,this.uneeqMessageType=g.DigitalHumanVideoError}},u.DigitalHumanFailedToPlay=class{constructor(){this.uneeqMessageType=g.DigitalHumanFailedToPlay,this.msg="Digital Human failed to play with sound. This most likely occurred because the user has not yet interacted with the page and was blocked due to the browser's autoplay policy. Video will automatically be muted and attempted to be played again."}},u.DigitalHumanPlayedInMutedModeSuccess=class{constructor(){this.uneeqMessageType=g.DigitalHumanPlayedInMutedModeSuccess,this.msg="Digital Human was successfully played in muted mode. After the user interacts with the page you will need to call unmuteDigitalHuman() to unmute the video."}},u.DigitalHumanUnmuted=class{constructor(){this.uneeqMessageType=g.DigitalHumanUnmuted}},u.CustomMetadataUpdated=class{constructor(S){this.chatMetadata=S,this.uneeqMessageType=g.CustomMetadataUpdated}}},7636:(z,u)=>{"use strict";var g,S;Object.defineProperty(u,"__esModule",{value:!0}),u.SessionType=void 0,(S=g||(u.SessionType=g={}))[S.WEB=0]="WEB"},7563:(z,u)=>{"use strict";var g,S;Object.defineProperty(u,"__esModule",{value:!0}),u.PublishSubscribeState=void 0,(S=g||(u.PublishSubscribeState=g={})).DISCONNECTED="DISCONNECTED",S.CONNECTING="CONNECTING",S.CONNECTED="CONNECTED",S.FAILED="FAILED"},9794:(z,u)=>{"use strict";var g,S;Object.defineProperty(u,"__esModule",{value:!0}),u.SourceApp=void 0,(S=g||(u.SourceApp=g={})).HOSTED_EXPERIENCE="HOSTED_EXPERIENCE",S.SHOWCASE="SHOWCASE",S.SPLIT_SCREEN="SPLIT_SCREEN",S.INTERACTIONS="INTERACTIONS",S.UNKNOWN="UNKNOWN"},4542:(z,u)=>{"use strict";var g,S;Object.defineProperty(u,"__esModule",{value:!0}),u.SpeechRecognitionMessageAction=void 0,(S=g||(u.SpeechRecognitionMessageAction=g={})).startTranscription="startTranscription",S.stopTranscription="stopTranscription"},608:(z,u)=>{"use strict";var g,S;Object.defineProperty(u,"__esModule",{value:!0}),u.VoiceInputMode=void 0,(S=g||(u.VoiceInputMode=g={})).PUSH_TO_TALK="PUSH_TO_TALK",S.VOICE_ACTIVITY="VOICE_ACTIVITY",S.SPEECH_RECOGNITION="SPEECH_RECOGNITION"},6123:function(z,u,g){"use strict";var S=this&&this.__awaiter||function(Z,de,he,Pe){return new(he||(he=Promise))(function(ie,ue){function Fe(et){try{dt(Pe.next(et))}catch(ft){ue(ft)}}function Ye(et){try{dt(Pe.throw(et))}catch(ft){ue(ft)}}function dt(et){var ft;et.done?ie(et.value):(ft=et.value,ft instanceof he?ft:new he(function(Rt){Rt(ft)})).then(Fe,Ye)}dt((Pe=Pe.apply(Z,de||[])).next())})},w=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(u,"__esModule",{value:!0}),u.Uneeq=void 0;const C=g(2872),b=g(4857),v=w(g(4147)),p=g(1181),m=g(1546),f=g(6886),c=g(7789),a=g(7501),d=g(4887),h=g(8957),_=g(2694),x=g(6400),D=g(4050),I=g(8591),A=g(4162),R=g(1116),P=g(39),k=g(4333),B=g(8512),V=g(7636),j=g(7563),X=g(9794),Q=g(608);u.Uneeq=class{get sessionId(){return this.session?this.session.id:null}constructor(Z){this.ready=new C.BehaviorSubject(!1),this.version=v.default.version,this.messages=new C.Subject,this.internalMessages$=new C.Subject,this.sessionPaused=!1,this.sessionStarted=!1,this.unavailableAvatarMsgSent=!1,this.sessionWasResumed=!1,this.uneeqLocalStorage=new P.UneeqLocalStorage,a.logger.enabled=Z.logging||!1,this.options=Z,this.options.diagnostics=Z.diagnostics||!1,this.options.micActivityMessages=Z.micActivityMessages||!1,this.options.sendLocalVideo=void 0===Z.sendLocalVideo||Z.sendLocalVideo,this.options.sendLocalAudio=void 0===Z.sendLocalAudio||Z.sendLocalAudio,this.options.enableClientPerformanceMessage=Z.enableClientPerformanceMessage||!1,this.options.enableTransparentBackground=Z.enableTransparentBackground||!1,this.options.backgroundImageUrl=Z.backgroundImageUrl||"",this.options.nameTagImageUrl=Z.nameTagImageUrl||"",this.options.speechToTextLocales=c.LocaleDetector.validateOrDetectSpeechLocales(Z),this.checkIfResumeSessionIsAvailable(),this.options.voiceInputMode=Z.voiceInputMode||Q.VoiceInputMode.PUSH_TO_TALK,this.api=new p.API(this.options.url,this.options.apiKey),this.messageCallback=this.options.messageHandler||(()=>{}),this.checkWebRTCSupport(),this.startSessionData={workspaceName:this.options.conversationId,sessionType:V.SessionType.WEB,sdkVersion:this.version,clientWidth:window.screen.availWidth,clientHeight:window.screen.availHeight},this.options.customData&&(this.startSessionData.customData=this.options.customData),this.chatMetadata=this.initChatMetadata(this.options),a.logger.log(`Uneeq Created (version ${this.version})`),this.streamManager=new R.StreamManager,this.initDigitalHumanVideoElement(),this.metricsService=new _.MetricsService(this.options,this.internalMessages$,this.messages),this.dhVideoPlayManager=new f.DigitalHumanVideoPlayManager(this.messages,()=>{this.unmuteDigitalHuman()})}setLoggerEnabled(Z){a.logger.enabled=Z}init(){this.startSessionTime=Date.now(),this.api.startSession(this.startSessionData).then(Z=>{this.session=Z,this.initialize()}).catch(Z=>{this.sendServiceUnavailableMessage(Z)})}initWithToken(Z){return S(this,void 0,void 0,function*(){this.startSessionTime=Date.now();try{const de=I.ResumeSessionCheck.validate(this.options);!0===de.resumeSession&&(this.startSessionData.resumeSessionId=de.resumeSessionId),this.startSessionData.tokenId=Z,this.session=yield this.api.startSessionWithToken(this.startSessionData),console.log("UneeQ Session ID: "+this.session.id),this.session.id===this.startSessionData.resumeSessionId?(a.logger.log("UneeQ: Session was resumed."),this.sessionWasResumed=!0):a.logger.log("UneeQ: Session was not resumed."),this.uneeqLocalStorage.setItemSafely("uneeqResumeSessionId",this.session.id),this.uneeqLocalStorage.setItemSafely("uneeqResumeSessionPersonaId",this.options.conversationId),this.session.sourceApp=X.SourceApp[this.session.sourceApp?this.session.sourceApp:""]?this.session.sourceApp:X.SourceApp.UNKNOWN,this.initialize()}catch(de){this.sendServiceUnavailableMessage(de)}})}setCamera(Z){this.serviceReadyCheck("setCamera")&&this.deviceManager.setCamDevice(Z)}setMic(Z){this.serviceReadyCheck("setMic")&&this.deviceManager.setMicDevice(Z)}setSpeaker(Z){this.serviceReadyCheck("setSpeaker")&&this.deviceManager.setAvatarSpeakerDevice(Z)}setVoiceInputMode(Z){this.serviceReadyCheck("setVoiceInputMode")&&this.voiceInputManager.setVoiceInputMode(Z)}enableMicrophone(Z=!0){this.speechHandler?Z?this.speechHandler.startRecognition():this.speechHandler.stopRecognition():this.deviceManager?this.deviceManager.enableLocalDevices(this.options.sendLocalVideo,Z):a.logger.error("UneeQ: Cannot enable microphone, session is in an invalid state.")}enableCamera(Z=!0){this.serviceReadyCheck("enableMicrohpone")&&this.deviceManager.enableLocalDevices(Z,this.options.sendLocalAudio)}enableMicrophoneAndCamera(Z=!0){this.serviceReadyCheck("enableMicrohpone")&&this.deviceManager.enableLocalDevices(Z,Z)}setCustomChatMetadata(Z){this.chatMetadata?(this.chatMetadata.custom=Z,this.messages.next(new B.CustomMetadataUpdated(this.chatMetadata))):this.messages.next(new B.WarningMessage("Call to set custom chat metadata will be ignored as metadata does not exist yet."))}sendTranscript(Z){this.serviceReadyCheck("sendTranscript")&&(this.sessionPaused?this.messages.next(new B.WarningMessage("Call to sendTranscript() will be ignored. Session is paused.")):(this.speechHandler&&this.speechHandler.pauseVadIfInterruptNotAllowed(),this.api.avatarAsk(Z,this.chatMetadata)))}getServerStats(){this.deviceManager&&this.deviceManager.mediaHandler&&this.deviceManager.mediaHandler.sendDataMessage("stats")}startRecording(){this.serviceReadyCheck("startRecording")&&this.options.sendLocalAudio&&(this.sessionPaused?this.messages.next(new B.WarningMessage("Call to startRecording() will be ignored. Session is paused.")):this.voiceInputManager.startRecording())}stopRecording(){this.serviceReadyCheck("stopRecording")&&this.options.sendLocalAudio&&(this.sessionPaused?this.messages.next(new B.WarningMessage("Call to stopRecording() will be ignored. Session is paused.")):this.voiceInputManager.stopRecording())}stopSpeaking(){return this.api.stopSpeaking()}pauseSpeechRecognition(){return!!this.speechHandler&&this.speechHandler.pause()}resumeSpeechRecognition(){return!!this.speechHandler&&this.speechHandler.resume()}pauseSession(){return!!this.serviceReadyCheck("pauseSession")&&(this.sessionPaused?(this.messages.next(new B.WarningMessage("Call to pauseSession() will be ignored. Session is paused.")),!1):(this.sessionPaused=!0,this.deviceManager.mediaHandler.pause(),this.messages.next(new B.SessionPausedMessage),!0))}resumeSession(){return!!this.serviceReadyCheck("resumeSession")&&(this.sessionPaused?(this.sessionPaused=!1,this.deviceManager.mediaHandler.resume(),this.messages.next(new B.SessionResumedMessage),!0):(this.messages.next(new B.WarningMessage("Call to resumeSession() will be ignored. Session is unpaused.")),!1))}endSession(){this.serviceReadyCheck("endSession")&&(this.api.endCall(),this.internalMessages$.next({faceMeMessageType:"sessionEnd"}))}setAvatarDebug(Z){return this.api.setAvatarDebug(Z)}playWelcomeMessage(){return this.speechHandler&&this.speechHandler.pauseVadIfInterruptNotAllowed(),this.api.avatarWelcome(this.chatMetadata)}unmuteDigitalHuman(){this.voiceInputManager&&this.voiceInputManager.resumeAudioContext(),this.dhVideoPlayManager&&this.dhVideoPlayManager.unmuteVideo()}initDigitalHumanVideoElement(){const Z=document.createElement("video");this.digitalHumanVideoElement=Z,Z.volume=1,Z.controls=!1,Z.autoplay=!1,Z.setAttribute("playsinline","true"),Z.setAttribute("style","object-fit: cover; width: 100%; height: 100%;"),Z.play().catch(de=>{a.logger.log("UneeQ: Failed to play digital human video. Play() will be re-attempted when stream is ready.",de)})}gatherWebRtcMetrics(){var Z;null===(Z=this.deviceManager)||void 0===Z||Z.mediaHandler.gatherWebRTCStats((de,he)=>{this.metricsService.parseAndLogWebRtcStats(he)}),setTimeout(()=>{this.gatherWebRtcMetrics()},5e3)}initMessaging(){this.messages.subscribe(Z=>this.messageCallback(Z)),this.messaging.state$.pipe((0,b.filter)(Z=>Z===h.MessagingState.CONNECTED)).subscribe(()=>{this.messaging.getTopic("/topic/avatar/"+this.session.streamId),this.ready.next(!0),this.messages.next(new B.ReadyMessage),this.gatherWebRtcMetrics()}),this.messaging.messages$.subscribe(Z=>this.internalMessages$.next(JSON.parse(Z.body))),this.messageHandler=new d.MessageHandler(this.internalMessages$,this.messages),this.messaging.connect(),this.messaging.messages$.subscribe(Z=>{a.logger.log("-- Msg -- ",Z)})}initDeviceManager(){this.sessionJwt.then(({token:Z})=>{this.options.voiceInputMode===Q.VoiceInputMode.SPEECH_RECOGNITION?this.speechHandler=new A.SpeechHandler({api:this.api,apiUrl:this.options.url,sessionId:this.session.id,messages:this.messages,assetBasePath:this.options.assetBasePath,locales:this.options.speechToTextLocales||"",hintPhrases:this.options.speechRecognitionHintPhrases||"",hintPhrasesBoost:this.options.speechRecognitionHintPhrasesBoost,jwtToken:Z,chatMetadata:this.chatMetadata,enableVad:this.options.enableVad,enableInterrupt:this.options.enableInterruptBySpeech}):this.voiceInputManager=new k.VoiceInputManager(this.options,this.api,this.messages,de=>{this.enableMicrophone(de)}),this.deviceManager=new m.DeviceManager({userMessages:this.messages,session:this.session,messages:this.messages,internalMessages$:this.internalMessages$,messaging:this.messaging,uneeqOptions:this.options,streamManager:this.streamManager,voiceInputManager:this.voiceInputManager,digitalHumanVideoElement:this.digitalHumanVideoElement},this.api),this.messageHandler.setDeviceManager(this.deviceManager)}).catch(Z=>{this.messages.next(new B.SessionErrorMessage(Z))})}sessionLiveHandler(){if(!this.sessionStarted){this.messages.next(new B.SessionLiveMessage(this.session.showUneeqLogo||!1,this.sessionWasResumed)),this.options.playWelcome&&this.playWelcomeMessage();const Z={type:D.PromMessageType.SessionStart,value:(Date.now()-this.startSessionTime)/1e3};this.internalMessages$.next({faceMeMessageType:"prom",promMsg:Z}),this.sessionStarted=!0}}initAvatar(){this.ready.pipe((0,b.filter)(Boolean),(0,b.take)(1)).subscribe(()=>{this.internalMessages$.pipe((0,b.filter)(Z=>"DevicePermissionAllowedInternal"===Z.faceMeMessageType),(0,b.take)(1)).subscribe(Z=>{this.options.voiceInputMode!==Q.VoiceInputMode.SPEECH_RECOGNITION&&this.messages.next(new B.DevicePermissionAllowedMessage),this.startAvatarWhenAvailable()}),this.initDeviceManager()}),this.internalMessages$.pipe((0,b.filter)(Z=>"sessionLive"===Z.faceMeMessageType),(0,b.take)(1)).subscribe(Z=>this.sessionLiveHandler()),this.internalMessages$.pipe((0,b.filter)(Z=>"sessionEnd"===Z.faceMeMessageType)).subscribe(()=>{this.deviceManager.mediaHandler.endSession(),this.messages.next(new B.SessionEndedMessage),this.messaging.disconnect()}),this.internalMessages$.pipe((0,b.filter)(Z=>"remoteVideoReadyToPlay"===Z.faceMeMessageType)).subscribe(Z=>{this.dhVideoPlayManager.play(this.deviceManager.mediaHandler.avatarVideoElement)})}startAvatarWhenAvailable(){this.availableResponseTime=Date.now(),this.api.getAvailableAvatarCount().then(Z=>{if(Z.available>0){const de={type:D.PromMessageType.AvailabilityCheck,value:(Date.now()-this.availableResponseTime)/1e3};this.internalMessages$.next({faceMeMessageType:"prom",promMsg:de}),this.messages.next(new B.AvatarAvailableMessage),this.api.avatarStart({enableTransparentBackground:this.options.enableTransparentBackground,resumeSession:this.sessionWasResumed,backgroundImageUrl:this.options.backgroundImageUrl,nameTagImageUrl:this.options.nameTagImageUrl,speechToTextLocales:this.options.speechToTextLocales}).catch(he=>{console.error("UneeQ: Digital human could not be started. Clearing resumeSession token and ending process.",he),this.uneeqLocalStorage.removeItemSafely("uneeqResumeSessionId")})}else this.unavailableAvatarMsgSent||(this.unavailableAvatarMsgSent=!0,this.messages.next(new B.AvatarUnavailableMessage)),setTimeout(()=>{this.startAvatarWhenAvailable()},1e3)})}initialize(){this.session&&(this.initPromMetricsListener(),this.api.callId=this.session.id,this.sessionJwt=this.api.getSessionJwt(this.options.conversationId),this.initAvatar(),this.messaging=new h.MessagingService(this.options.url+"/api/messaging",{maxReconnectAttempts:3,reconnectTime:3e3,maxReconnectLimitReached:()=>{this.messages.next(new B.ConnectionLostMessage(j.PublishSubscribeState.DISCONNECTED)),this.endSession()},connectionHeaders:{"x-auth-token":this.api.authToken}}),this.initMessaging(),this.initOnlineStatusUpdateMessages())}sendServiceUnavailableMessage(Z){const de=new B.ServiceUnavailableMessage(Z);this.messages.next(de),this.messageCallback(de)}serviceReadyCheck(Z){return!!this.ready.value||(this.messages.next(new B.WarningMessage("Call to "+Z+" ignored. Service Not Ready")),!1)}checkWebRTCSupport(){navigator.mediaDevices.getUserMedia||this.sendServiceUnavailableMessage("Error: WEBRTC NOT SUPPORTED")}initOnlineStatusUpdateMessages(){new x.OnlineStatusService(this.messages,()=>{this.messages.next(new B.ConnectionLostMessage(j.PublishSubscribeState.DISCONNECTED)),this.endSession()})}initPromMetricsListener(){const Z=new D.Prom(this.options.url);this.internalMessages$.pipe((0,b.filter)(de=>"prom"===de.faceMeMessageType)).subscribe(de=>{Z.handleMessage(de.promMsg)})}checkIfResumeSessionIsAvailable(){!0!==this.options.resumeSession||this.uneeqLocalStorage.available||(console.warn("UneeQ: Resuming session is unavailable in this browser because localStorage is not allowed."),this.messages.next(new B.ResumeSessionUnavailable),this.options.resumeSession=!1)}initChatMetadata(Z){return{userSpokenLocale:"",browserDetectedLocales:Z.speechToTextLocales,userTimezone:this.api.getTimeZone(),userScreenWidth:window.screen.availWidth,userScreenHeight:window.screen.availHeight,userAgent:navigator.userAgent,custom:Z.customMetadata}}}},4927:(z,u,g)=>{function S(w){try{if(!g.g.localStorage)return!1}catch{return!1}var C=g.g.localStorage[w];return null!=C&&"true"===String(C).toLowerCase()}z.exports=function(w,C){if(S("noDeprecation"))return w;var b=!1;return function(){if(!b){if(S("throwDeprecation"))throw new Error(C);S("traceDeprecation")?console.trace(C):console.warn(C),b=!0}return w.apply(this,arguments)}}},835:(z,u,g)=>{"use strict";g.r(u),g.d(u,{default:()=>Wt});var S={};g.r(S),g.d(S,{fixNegotiationNeeded:()=>he,shimAddTrackRemoveTrack:()=>Z,shimAddTrackRemoveTrackWithNative:()=>Q,shimGetDisplayMedia:()=>P,shimGetSendersWithDtmf:()=>V,shimGetStats:()=>j,shimGetUserMedia:()=>R,shimMediaStream:()=>k,shimOnTrack:()=>B,shimPeerConnection:()=>de,shimSenderReceiverGetStats:()=>X});var w={};g.r(w),g.d(w,{shimAddTransceiver:()=>Rt,shimCreateAnswer:()=>Oe,shimCreateOffer:()=>Ht,shimGetDisplayMedia:()=>ie,shimGetParameters:()=>pt,shimGetUserMedia:()=>Pe,shimOnTrack:()=>ue,shimPeerConnection:()=>Fe,shimRTCDataChannel:()=>ft,shimReceiverGetStats:()=>dt,shimRemoveStream:()=>et,shimSenderGetStats:()=>Ye});var C={};g.r(C),g.d(C,{shimAudioContext:()=>vn,shimCallbacksAPI:()=>ht,shimConstraints:()=>Ut,shimCreateOfferLegacy:()=>at,shimGetUserMedia:()=>$t,shimLocalStreamsAPI:()=>ge,shimRTCIceServerUrls:()=>gt,shimRemoteStreamsAPI:()=>Je,shimTrackEventTransceiver:()=>Gt});var b={};g.r(b),g.d(b,{removeExtmapAllowMixed:()=>be,shimAddIceCandidateNullOrEmpty:()=>Ee,shimConnectionState:()=>fe,shimMaxMessageSize:()=>G,shimParameterlessSetLocalDescription:()=>it,shimRTCIceCandidate:()=>F,shimRTCIceCandidateRelayProtocol:()=>U,shimSendThrowTypeError:()=>J});let v=!0,p=!0;function m(q,_e,ve){const we=q.match(_e);return we&&we.length>=ve&&parseInt(we[ve],10)}function f(q,_e,ve){if(!q.RTCPeerConnection)return;const we=q.RTCPeerConnection.prototype,Le=we.addEventListener;we.addEventListener=function(ne,xe){if(ne!==_e)return Le.apply(this,arguments);const ye=Ae=>{const $e=ve(Ae);$e&&(xe.handleEvent?xe.handleEvent($e):xe($e))};return this._eventMap=this._eventMap||{},this._eventMap[_e]||(this._eventMap[_e]=new Map),this._eventMap[_e].set(xe,ye),Le.apply(this,[ne,ye])};const Me=we.removeEventListener;we.removeEventListener=function(ne,xe){if(ne!==_e||!this._eventMap||!this._eventMap[_e])return Me.apply(this,arguments);if(!this._eventMap[_e].has(xe))return Me.apply(this,arguments);const ye=this._eventMap[_e].get(xe);return this._eventMap[_e].delete(xe),0===this._eventMap[_e].size&&delete this._eventMap[_e],0===Object.keys(this._eventMap).length&&delete this._eventMap,Me.apply(this,[ne,ye])},Object.defineProperty(we,"on"+_e,{get(){return this["_on"+_e]},set(ne){this["_on"+_e]&&(this.removeEventListener(_e,this["_on"+_e]),delete this["_on"+_e]),ne&&this.addEventListener(_e,this["_on"+_e]=ne)},enumerable:!0,configurable:!0})}function c(q){return"boolean"!=typeof q?new Error("Argument type: "+typeof q+". Please use a boolean."):(v=q,q?"adapter.js logging disabled":"adapter.js logging enabled")}function a(q){return"boolean"!=typeof q?new Error("Argument type: "+typeof q+". Please use a boolean."):(p=!q,"adapter.js deprecation warnings "+(q?"disabled":"enabled"))}function d(){if("object"==typeof window){if(v)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function h(q,_e){p&&console.warn(q+" is deprecated, please use "+_e+" instead.")}function _(q){return"[object Object]"===Object.prototype.toString.call(q)}function x(q){return _(q)?Object.keys(q).reduce(function(_e,ve){const we=_(q[ve]),Le=we?x(q[ve]):q[ve],Me=we&&!Object.keys(Le).length;return void 0===Le||Me?_e:Object.assign(_e,{[ve]:Le})},{}):q}function D(q,_e,ve){_e&&!ve.has(_e.id)&&(ve.set(_e.id,_e),Object.keys(_e).forEach(we=>{we.endsWith("Id")?D(q,q.get(_e[we]),ve):we.endsWith("Ids")&&_e[we].forEach(Le=>{D(q,q.get(Le),ve)})}))}function I(q,_e,ve){const we=ve?"outbound-rtp":"inbound-rtp",Le=new Map;if(null===_e)return Le;const Me=[];return q.forEach(ne=>{"track"===ne.type&&ne.trackIdentifier===_e.id&&Me.push(ne)}),Me.forEach(ne=>{q.forEach(xe=>{xe.type===we&&xe.trackId===ne.id&&D(q,xe,Le)})}),Le}const A=d;function R(q,_e){const ve=q&&q.navigator;if(!ve.mediaDevices)return;const we=function(ne){if("object"!=typeof ne||ne.mandatory||ne.optional)return ne;const xe={};return Object.keys(ne).forEach(ye=>{if("require"===ye||"advanced"===ye||"mediaSource"===ye)return;const Ae="object"==typeof ne[ye]?ne[ye]:{ideal:ne[ye]};void 0!==Ae.exact&&"number"==typeof Ae.exact&&(Ae.min=Ae.max=Ae.exact);const $e=function(Qe,rt){return Qe?Qe+rt.charAt(0).toUpperCase()+rt.slice(1):"deviceId"===rt?"sourceId":rt};if(void 0!==Ae.ideal){xe.optional=xe.optional||[];let Qe={};"number"==typeof Ae.ideal?(Qe[$e("min",ye)]=Ae.ideal,xe.optional.push(Qe),Qe={},Qe[$e("max",ye)]=Ae.ideal,xe.optional.push(Qe)):(Qe[$e("",ye)]=Ae.ideal,xe.optional.push(Qe))}void 0!==Ae.exact&&"number"!=typeof Ae.exact?(xe.mandatory=xe.mandatory||{},xe.mandatory[$e("",ye)]=Ae.exact):["min","max"].forEach(Qe=>{void 0!==Ae[Qe]&&(xe.mandatory=xe.mandatory||{},xe.mandatory[$e(Qe,ye)]=Ae[Qe])})}),ne.advanced&&(xe.optional=(xe.optional||[]).concat(ne.advanced)),xe},Le=function(ne,xe){if(_e.version>=61)return xe(ne);if((ne=JSON.parse(JSON.stringify(ne)))&&"object"==typeof ne.audio){const ye=function(Ae,$e,Qe){$e in Ae&&!(Qe in Ae)&&(Ae[Qe]=Ae[$e],delete Ae[$e])};ye((ne=JSON.parse(JSON.stringify(ne))).audio,"autoGainControl","googAutoGainControl"),ye(ne.audio,"noiseSuppression","googNoiseSuppression"),ne.audio=we(ne.audio)}if(ne&&"object"==typeof ne.video){let ye=ne.video.facingMode;ye=ye&&("object"==typeof ye?ye:{ideal:ye});const Ae=_e.version<66;if(ye&&("user"===ye.exact||"environment"===ye.exact||"user"===ye.ideal||"environment"===ye.ideal)&&(!ve.mediaDevices.getSupportedConstraints||!ve.mediaDevices.getSupportedConstraints().facingMode||Ae)){let $e;if(delete ne.video.facingMode,"environment"===ye.exact||"environment"===ye.ideal?$e=["back","rear"]:"user"!==ye.exact&&"user"!==ye.ideal||($e=["front"]),$e)return ve.mediaDevices.enumerateDevices().then(Qe=>{let rt=(Qe=Qe.filter(mn=>"videoinput"===mn.kind)).find(mn=>$e.some(Lt=>mn.label.toLowerCase().includes(Lt)));return!rt&&Qe.length&&$e.includes("back")&&(rt=Qe[Qe.length-1]),rt&&(ne.video.deviceId=ye.exact?{exact:rt.deviceId}:{ideal:rt.deviceId}),ne.video=we(ne.video),A("chrome: "+JSON.stringify(ne)),xe(ne)})}ne.video=we(ne.video)}return A("chrome: "+JSON.stringify(ne)),xe(ne)},Me=function(ne){return _e.version>=64?ne:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[ne.name]||ne.name,message:ne.message,constraint:ne.constraint||ne.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(ve.getUserMedia=function(ne,xe,ye){Le(ne,Ae=>{ve.webkitGetUserMedia(Ae,xe,$e=>{ye&&ye(Me($e))})})}.bind(ve),ve.mediaDevices.getUserMedia){const ne=ve.mediaDevices.getUserMedia.bind(ve.mediaDevices);ve.mediaDevices.getUserMedia=function(xe){return Le(xe,ye=>ne(ye).then(Ae=>{if(ye.audio&&!Ae.getAudioTracks().length||ye.video&&!Ae.getVideoTracks().length)throw Ae.getTracks().forEach($e=>{$e.stop()}),new DOMException("","NotFoundError");return Ae},Ae=>Promise.reject(Me(Ae))))}}}function P(q,_e){q.navigator.mediaDevices&&"getDisplayMedia"in q.navigator.mediaDevices||q.navigator.mediaDevices&&("function"==typeof _e?q.navigator.mediaDevices.getDisplayMedia=function(ve){return _e(ve).then(we=>{const Le=ve.video&&ve.video.width,Me=ve.video&&ve.video.height;return ve.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:we,maxFrameRate:ve.video&&ve.video.frameRate||3}},Le&&(ve.video.mandatory.maxWidth=Le),Me&&(ve.video.mandatory.maxHeight=Me),q.navigator.mediaDevices.getUserMedia(ve)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function k(q){q.MediaStream=q.MediaStream||q.webkitMediaStream}function B(q){if("object"==typeof q&&q.RTCPeerConnection&&!("ontrack"in q.RTCPeerConnection.prototype)){Object.defineProperty(q.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(ve){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=ve)},enumerable:!0,configurable:!0});const _e=q.RTCPeerConnection.prototype.setRemoteDescription;q.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=ve=>{ve.stream.addEventListener("addtrack",we=>{let Le;Le=q.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(ne=>ne.track&&ne.track.id===we.track.id):{track:we.track};const Me=new Event("track");Me.track=we.track,Me.receiver=Le,Me.transceiver={receiver:Le},Me.streams=[ve.stream],this.dispatchEvent(Me)}),ve.stream.getTracks().forEach(we=>{let Le;Le=q.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(ne=>ne.track&&ne.track.id===we.id):{track:we};const Me=new Event("track");Me.track=we,Me.receiver=Le,Me.transceiver={receiver:Le},Me.streams=[ve.stream],this.dispatchEvent(Me)})},this.addEventListener("addstream",this._ontrackpoly)),_e.apply(this,arguments)}}else f(q,"track",_e=>(_e.transceiver||Object.defineProperty(_e,"transceiver",{value:{receiver:_e.receiver}}),_e))}function V(q){if("object"==typeof q&&q.RTCPeerConnection&&!("getSenders"in q.RTCPeerConnection.prototype)&&"createDTMFSender"in q.RTCPeerConnection.prototype){const _e=function(Le,Me){return{track:Me,get dtmf(){return void 0===this._dtmf&&(this._dtmf="audio"===Me.kind?Le.createDTMFSender(Me):null),this._dtmf},_pc:Le}};if(!q.RTCPeerConnection.prototype.getSenders){q.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const Le=q.RTCPeerConnection.prototype.addTrack;q.RTCPeerConnection.prototype.addTrack=function(ne,xe){let ye=Le.apply(this,arguments);return ye||(ye=_e(this,ne),this._senders.push(ye)),ye};const Me=q.RTCPeerConnection.prototype.removeTrack;q.RTCPeerConnection.prototype.removeTrack=function(ne){Me.apply(this,arguments);const xe=this._senders.indexOf(ne);-1!==xe&&this._senders.splice(xe,1)}}const ve=q.RTCPeerConnection.prototype.addStream;q.RTCPeerConnection.prototype.addStream=function(Le){this._senders=this._senders||[],ve.apply(this,[Le]),Le.getTracks().forEach(Me=>{this._senders.push(_e(this,Me))})};const we=q.RTCPeerConnection.prototype.removeStream;q.RTCPeerConnection.prototype.removeStream=function(Le){this._senders=this._senders||[],we.apply(this,[Le]),Le.getTracks().forEach(Me=>{const ne=this._senders.find(xe=>xe.track===Me);ne&&this._senders.splice(this._senders.indexOf(ne),1)})}}else if("object"==typeof q&&q.RTCPeerConnection&&"getSenders"in q.RTCPeerConnection.prototype&&"createDTMFSender"in q.RTCPeerConnection.prototype&&q.RTCRtpSender&&!("dtmf"in q.RTCRtpSender.prototype)){const _e=q.RTCPeerConnection.prototype.getSenders;q.RTCPeerConnection.prototype.getSenders=function(){const ve=_e.apply(this,[]);return ve.forEach(we=>we._pc=this),ve},Object.defineProperty(q.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&(this._dtmf="audio"===this.track.kind?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function j(q){if(!q.RTCPeerConnection)return;const _e=q.RTCPeerConnection.prototype.getStats;q.RTCPeerConnection.prototype.getStats=function(){const[ve,we,Le]=arguments;if(arguments.length>0&&"function"==typeof ve)return _e.apply(this,arguments);if(0===_e.length&&(0===arguments.length||"function"!=typeof ve))return _e.apply(this,[]);const Me=function(xe){const ye={};return xe.result().forEach(Ae=>{const $e={id:Ae.id,timestamp:Ae.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[Ae.type]||Ae.type};Ae.names().forEach(Qe=>{$e[Qe]=Ae.stat(Qe)}),ye[$e.id]=$e}),ye},ne=function(xe){return new Map(Object.keys(xe).map(ye=>[ye,xe[ye]]))};return arguments.length>=2?_e.apply(this,[function(ye){we(ne(Me(ye)))},ve]):new Promise((xe,ye)=>{_e.apply(this,[function(Ae){xe(ne(Me(Ae)))},ye])}).then(we,Le)}}function X(q){if(!("object"==typeof q&&q.RTCPeerConnection&&q.RTCRtpSender&&q.RTCRtpReceiver))return;if(!("getStats"in q.RTCRtpSender.prototype)){const ve=q.RTCPeerConnection.prototype.getSenders;ve&&(q.RTCPeerConnection.prototype.getSenders=function(){const Le=ve.apply(this,[]);return Le.forEach(Me=>Me._pc=this),Le});const we=q.RTCPeerConnection.prototype.addTrack;we&&(q.RTCPeerConnection.prototype.addTrack=function(){const Le=we.apply(this,arguments);return Le._pc=this,Le}),q.RTCRtpSender.prototype.getStats=function(){const Le=this;return this._pc.getStats().then(Me=>I(Me,Le.track,!0))}}if(!("getStats"in q.RTCRtpReceiver.prototype)){const ve=q.RTCPeerConnection.prototype.getReceivers;ve&&(q.RTCPeerConnection.prototype.getReceivers=function(){const we=ve.apply(this,[]);return we.forEach(Le=>Le._pc=this),we}),f(q,"track",we=>(we.receiver._pc=we.srcElement,we)),q.RTCRtpReceiver.prototype.getStats=function(){const we=this;return this._pc.getStats().then(Le=>I(Le,we.track,!1))}}if(!("getStats"in q.RTCRtpSender.prototype)||!("getStats"in q.RTCRtpReceiver.prototype))return;const _e=q.RTCPeerConnection.prototype.getStats;q.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof q.MediaStreamTrack){const ve=arguments[0];let we,Le,Me;return this.getSenders().forEach(ne=>{ne.track===ve&&(we?Me=!0:we=ne)}),this.getReceivers().forEach(ne=>(ne.track===ve&&(Le?Me=!0:Le=ne),ne.track===ve)),Me||we&&Le?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):we?we.getStats():Le?Le.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return _e.apply(this,arguments)}}function Q(q){q.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(Me=>this._shimmedLocalStreams[Me][0])};const _e=q.RTCPeerConnection.prototype.addTrack;q.RTCPeerConnection.prototype.addTrack=function(Me,ne){if(!ne)return _e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const xe=_e.apply(this,arguments);return this._shimmedLocalStreams[ne.id]?-1===this._shimmedLocalStreams[ne.id].indexOf(xe)&&this._shimmedLocalStreams[ne.id].push(xe):this._shimmedLocalStreams[ne.id]=[ne,xe],xe};const ve=q.RTCPeerConnection.prototype.addStream;q.RTCPeerConnection.prototype.addStream=function(Me){this._shimmedLocalStreams=this._shimmedLocalStreams||{},Me.getTracks().forEach(ye=>{if(this.getSenders().find(Ae=>Ae.track===ye))throw new DOMException("Track already exists.","InvalidAccessError")});const ne=this.getSenders();ve.apply(this,arguments);const xe=this.getSenders().filter(ye=>-1===ne.indexOf(ye));this._shimmedLocalStreams[Me.id]=[Me].concat(xe)};const we=q.RTCPeerConnection.prototype.removeStream;q.RTCPeerConnection.prototype.removeStream=function(Me){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[Me.id],we.apply(this,arguments)};const Le=q.RTCPeerConnection.prototype.removeTrack;q.RTCPeerConnection.prototype.removeTrack=function(Me){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Me&&Object.keys(this._shimmedLocalStreams).forEach(ne=>{const xe=this._shimmedLocalStreams[ne].indexOf(Me);-1!==xe&&this._shimmedLocalStreams[ne].splice(xe,1),1===this._shimmedLocalStreams[ne].length&&delete this._shimmedLocalStreams[ne]}),Le.apply(this,arguments)}}function Z(q,_e){if(!q.RTCPeerConnection)return;if(q.RTCPeerConnection.prototype.addTrack&&_e.version>=65)return Q(q);const ve=q.RTCPeerConnection.prototype.getLocalStreams;q.RTCPeerConnection.prototype.getLocalStreams=function(){const ye=ve.apply(this);return this._reverseStreams=this._reverseStreams||{},ye.map(Ae=>this._reverseStreams[Ae.id])};const we=q.RTCPeerConnection.prototype.addStream;q.RTCPeerConnection.prototype.addStream=function(ye){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},ye.getTracks().forEach(Ae=>{if(this.getSenders().find($e=>$e.track===Ae))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[ye.id]){const Ae=new q.MediaStream(ye.getTracks());this._streams[ye.id]=Ae,this._reverseStreams[Ae.id]=ye,ye=Ae}we.apply(this,[ye])};const Le=q.RTCPeerConnection.prototype.removeStream;function Me(ye,Ae){let $e=Ae.sdp;return Object.keys(ye._reverseStreams||[]).forEach(Qe=>{const rt=ye._reverseStreams[Qe];$e=$e.replace(new RegExp(ye._streams[rt.id].id,"g"),rt.id)}),new RTCSessionDescription({type:Ae.type,sdp:$e})}q.RTCPeerConnection.prototype.removeStream=function(ye){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},Le.apply(this,[this._streams[ye.id]||ye]),delete this._reverseStreams[this._streams[ye.id]?this._streams[ye.id].id:ye.id],delete this._streams[ye.id]},q.RTCPeerConnection.prototype.addTrack=function(ye,Ae){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const $e=[].slice.call(arguments,1);if(1!==$e.length||!$e[0].getTracks().find(rt=>rt===ye))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(rt=>rt.track===ye))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const Qe=this._streams[Ae.id];if(Qe)Qe.addTrack(ye),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const rt=new q.MediaStream([ye]);this._streams[Ae.id]=rt,this._reverseStreams[rt.id]=Ae,this.addStream(rt)}return this.getSenders().find(rt=>rt.track===ye)},["createOffer","createAnswer"].forEach(function(ye){const Ae=q.RTCPeerConnection.prototype[ye],$e={[ye](){const Qe=arguments;return arguments.length&&"function"==typeof arguments[0]?Ae.apply(this,[rt=>{const mn=Me(this,rt);Qe[0].apply(null,[mn])},rt=>{Qe[1]&&Qe[1].apply(null,rt)},arguments[2]]):Ae.apply(this,arguments).then(rt=>Me(this,rt))}};q.RTCPeerConnection.prototype[ye]=$e[ye]});const ne=q.RTCPeerConnection.prototype.setLocalDescription;q.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(ye,Ae){let $e=Ae.sdp;return Object.keys(ye._reverseStreams||[]).forEach(Qe=>{const rt=ye._reverseStreams[Qe],mn=ye._streams[rt.id];$e=$e.replace(new RegExp(rt.id,"g"),mn.id)}),new RTCSessionDescription({type:Ae.type,sdp:$e})}(this,arguments[0]),ne.apply(this,arguments)):ne.apply(this,arguments)};const xe=Object.getOwnPropertyDescriptor(q.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(q.RTCPeerConnection.prototype,"localDescription",{get(){const ye=xe.get.apply(this);return""===ye.type?ye:Me(this,ye)}}),q.RTCPeerConnection.prototype.removeTrack=function(ye){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!ye._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(ye._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let Ae;this._streams=this._streams||{},Object.keys(this._streams).forEach($e=>{this._streams[$e].getTracks().find(Qe=>ye.track===Qe)&&(Ae=this._streams[$e])}),Ae&&(1===Ae.getTracks().length?this.removeStream(this._reverseStreams[Ae.id]):Ae.removeTrack(ye.track),this.dispatchEvent(new Event("negotiationneeded")))}}function de(q,_e){!q.RTCPeerConnection&&q.webkitRTCPeerConnection&&(q.RTCPeerConnection=q.webkitRTCPeerConnection),q.RTCPeerConnection&&_e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(ve){const we=q.RTCPeerConnection.prototype[ve],Le={[ve](){return arguments[0]=new("addIceCandidate"===ve?q.RTCIceCandidate:q.RTCSessionDescription)(arguments[0]),we.apply(this,arguments)}};q.RTCPeerConnection.prototype[ve]=Le[ve]})}function he(q,_e){f(q,"negotiationneeded",ve=>{const we=ve.target;if(!(_e.version<72||we.getConfiguration&&"plan-b"===we.getConfiguration().sdpSemantics)||"stable"===we.signalingState)return ve})}function Pe(q,_e){const ve=q&&q.navigator,we=q&&q.MediaStreamTrack;if(ve.getUserMedia=function(Le,Me,ne){h("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),ve.mediaDevices.getUserMedia(Le).then(Me,ne)},!(_e.version>55&&"autoGainControl"in ve.mediaDevices.getSupportedConstraints())){const Le=function(ne,xe,ye){xe in ne&&!(ye in ne)&&(ne[ye]=ne[xe],delete ne[xe])},Me=ve.mediaDevices.getUserMedia.bind(ve.mediaDevices);if(ve.mediaDevices.getUserMedia=function(ne){return"object"==typeof ne&&"object"==typeof ne.audio&&(ne=JSON.parse(JSON.stringify(ne)),Le(ne.audio,"autoGainControl","mozAutoGainControl"),Le(ne.audio,"noiseSuppression","mozNoiseSuppression")),Me(ne)},we&&we.prototype.getSettings){const ne=we.prototype.getSettings;we.prototype.getSettings=function(){const xe=ne.apply(this,arguments);return Le(xe,"mozAutoGainControl","autoGainControl"),Le(xe,"mozNoiseSuppression","noiseSuppression"),xe}}if(we&&we.prototype.applyConstraints){const ne=we.prototype.applyConstraints;we.prototype.applyConstraints=function(xe){return"audio"===this.kind&&"object"==typeof xe&&(xe=JSON.parse(JSON.stringify(xe)),Le(xe,"autoGainControl","mozAutoGainControl"),Le(xe,"noiseSuppression","mozNoiseSuppression")),ne.apply(this,[xe])}}}}function ie(q,_e){q.navigator.mediaDevices&&"getDisplayMedia"in q.navigator.mediaDevices||q.navigator.mediaDevices&&(q.navigator.mediaDevices.getDisplayMedia=function(ve){if(!ve||!ve.video){const we=new DOMException("getDisplayMedia without video constraints is undefined");return we.name="NotFoundError",we.code=8,Promise.reject(we)}return!0===ve.video?ve.video={mediaSource:_e}:ve.video.mediaSource=_e,q.navigator.mediaDevices.getUserMedia(ve)})}function ue(q){"object"==typeof q&&q.RTCTrackEvent&&"receiver"in q.RTCTrackEvent.prototype&&!("transceiver"in q.RTCTrackEvent.prototype)&&Object.defineProperty(q.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Fe(q,_e){if("object"!=typeof q||!q.RTCPeerConnection&&!q.mozRTCPeerConnection)return;!q.RTCPeerConnection&&q.mozRTCPeerConnection&&(q.RTCPeerConnection=q.mozRTCPeerConnection),_e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(Le){const Me=q.RTCPeerConnection.prototype[Le],ne={[Le](){return arguments[0]=new("addIceCandidate"===Le?q.RTCIceCandidate:q.RTCSessionDescription)(arguments[0]),Me.apply(this,arguments)}};q.RTCPeerConnection.prototype[Le]=ne[Le]});const ve={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},we=q.RTCPeerConnection.prototype.getStats;q.RTCPeerConnection.prototype.getStats=function(){const[Le,Me,ne]=arguments;return we.apply(this,[Le||null]).then(xe=>{if(_e.version<53&&!Me)try{xe.forEach(ye=>{ye.type=ve[ye.type]||ye.type})}catch(ye){if("TypeError"!==ye.name)throw ye;xe.forEach((Ae,$e)=>{xe.set($e,Object.assign({},Ae,{type:ve[Ae.type]||Ae.type}))})}return xe}).then(Me,ne)}}function Ye(q){if("object"!=typeof q||!q.RTCPeerConnection||!q.RTCRtpSender||q.RTCRtpSender&&"getStats"in q.RTCRtpSender.prototype)return;const _e=q.RTCPeerConnection.prototype.getSenders;_e&&(q.RTCPeerConnection.prototype.getSenders=function(){const we=_e.apply(this,[]);return we.forEach(Le=>Le._pc=this),we});const ve=q.RTCPeerConnection.prototype.addTrack;ve&&(q.RTCPeerConnection.prototype.addTrack=function(){const we=ve.apply(this,arguments);return we._pc=this,we}),q.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function dt(q){if("object"!=typeof q||!q.RTCPeerConnection||!q.RTCRtpSender||q.RTCRtpSender&&"getStats"in q.RTCRtpReceiver.prototype)return;const _e=q.RTCPeerConnection.prototype.getReceivers;_e&&(q.RTCPeerConnection.prototype.getReceivers=function(){const ve=_e.apply(this,[]);return ve.forEach(we=>we._pc=this),ve}),f(q,"track",ve=>(ve.receiver._pc=ve.srcElement,ve)),q.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function et(q){q.RTCPeerConnection&&!("removeStream"in q.RTCPeerConnection.prototype)&&(q.RTCPeerConnection.prototype.removeStream=function(_e){h("removeStream","removeTrack"),this.getSenders().forEach(ve=>{ve.track&&_e.getTracks().includes(ve.track)&&this.removeTrack(ve)})})}function ft(q){q.DataChannel&&!q.RTCDataChannel&&(q.RTCDataChannel=q.DataChannel)}function Rt(q){if("object"!=typeof q||!q.RTCPeerConnection)return;const _e=q.RTCPeerConnection.prototype.addTransceiver;_e&&(q.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let ve=arguments[1]&&arguments[1].sendEncodings;void 0===ve&&(ve=[]),ve=[...ve];const we=ve.length>0;we&&ve.forEach(Me=>{if("rid"in Me&&!/^[a-z0-9]{0,16}$/i.test(Me.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in Me&&!(parseFloat(Me.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in Me&&!(parseFloat(Me.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const Le=_e.apply(this,arguments);if(we){const{sender:Me}=Le,ne=Me.getParameters();(!("encodings"in ne)||1===ne.encodings.length&&0===Object.keys(ne.encodings[0]).length)&&(ne.encodings=ve,Me.sendEncodings=ve,this.setParametersPromises.push(Me.setParameters(ne).then(()=>{delete Me.sendEncodings}).catch(()=>{delete Me.sendEncodings})))}return Le})}function pt(q){if("object"!=typeof q||!q.RTCRtpSender)return;const _e=q.RTCRtpSender.prototype.getParameters;_e&&(q.RTCRtpSender.prototype.getParameters=function(){const ve=_e.apply(this,arguments);return"encodings"in ve||(ve.encodings=[].concat(this.sendEncodings||[{}])),ve})}function Ht(q){if("object"!=typeof q||!q.RTCPeerConnection)return;const _e=q.RTCPeerConnection.prototype.createOffer;q.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>_e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):_e.apply(this,arguments)}}function Oe(q){if("object"!=typeof q||!q.RTCPeerConnection)return;const _e=q.RTCPeerConnection.prototype.createAnswer;q.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>_e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):_e.apply(this,arguments)}}function ge(q){if("object"==typeof q&&q.RTCPeerConnection){if("getLocalStreams"in q.RTCPeerConnection.prototype||(q.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in q.RTCPeerConnection.prototype)){const _e=q.RTCPeerConnection.prototype.addTrack;q.RTCPeerConnection.prototype.addStream=function(ve){this._localStreams||(this._localStreams=[]),this._localStreams.includes(ve)||this._localStreams.push(ve),ve.getAudioTracks().forEach(we=>_e.call(this,we,ve)),ve.getVideoTracks().forEach(we=>_e.call(this,we,ve))},q.RTCPeerConnection.prototype.addTrack=function(ve,...we){return we&&we.forEach(Le=>{this._localStreams?this._localStreams.includes(Le)||this._localStreams.push(Le):this._localStreams=[Le]}),_e.apply(this,arguments)}}"removeStream"in q.RTCPeerConnection.prototype||(q.RTCPeerConnection.prototype.removeStream=function(_e){this._localStreams||(this._localStreams=[]);const ve=this._localStreams.indexOf(_e);if(-1===ve)return;this._localStreams.splice(ve,1);const we=_e.getTracks();this.getSenders().forEach(Le=>{we.includes(Le.track)&&this.removeTrack(Le)})})}}function Je(q){if("object"==typeof q&&q.RTCPeerConnection&&("getRemoteStreams"in q.RTCPeerConnection.prototype||(q.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in q.RTCPeerConnection.prototype))){Object.defineProperty(q.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(ve){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=ve),this.addEventListener("track",this._onaddstreampoly=we=>{we.streams.forEach(Le=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(Le))return;this._remoteStreams.push(Le);const Me=new Event("addstream");Me.stream=Le,this.dispatchEvent(Me)})})}});const _e=q.RTCPeerConnection.prototype.setRemoteDescription;q.RTCPeerConnection.prototype.setRemoteDescription=function(){const ve=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(we){we.streams.forEach(Le=>{if(ve._remoteStreams||(ve._remoteStreams=[]),ve._remoteStreams.indexOf(Le)>=0)return;ve._remoteStreams.push(Le);const Me=new Event("addstream");Me.stream=Le,ve.dispatchEvent(Me)})}),_e.apply(ve,arguments)}}}function ht(q){if("object"!=typeof q||!q.RTCPeerConnection)return;const _e=q.RTCPeerConnection.prototype,ve=_e.createOffer,we=_e.createAnswer,Le=_e.setLocalDescription,Me=_e.setRemoteDescription,ne=_e.addIceCandidate;_e.createOffer=function(ye,Ae){const Qe=ve.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return Ae?(Qe.then(ye,Ae),Promise.resolve()):Qe},_e.createAnswer=function(ye,Ae){const Qe=we.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return Ae?(Qe.then(ye,Ae),Promise.resolve()):Qe};let xe=function(ye,Ae,$e){const Qe=Le.apply(this,[ye]);return $e?(Qe.then(Ae,$e),Promise.resolve()):Qe};_e.setLocalDescription=xe,xe=function(ye,Ae,$e){const Qe=Me.apply(this,[ye]);return $e?(Qe.then(Ae,$e),Promise.resolve()):Qe},_e.setRemoteDescription=xe,xe=function(ye,Ae,$e){const Qe=ne.apply(this,[ye]);return $e?(Qe.then(Ae,$e),Promise.resolve()):Qe},_e.addIceCandidate=xe}function $t(q){const _e=q&&q.navigator;if(_e.mediaDevices&&_e.mediaDevices.getUserMedia){const ve=_e.mediaDevices,we=ve.getUserMedia.bind(ve);_e.mediaDevices.getUserMedia=Le=>we(Ut(Le))}!_e.getUserMedia&&_e.mediaDevices&&_e.mediaDevices.getUserMedia&&(_e.getUserMedia=function(ve,we,Le){_e.mediaDevices.getUserMedia(ve).then(we,Le)}.bind(_e))}function Ut(q){return q&&void 0!==q.video?Object.assign({},q,{video:x(q.video)}):q}function gt(q){if(!q.RTCPeerConnection)return;const _e=q.RTCPeerConnection;q.RTCPeerConnection=function(ve,we){if(ve&&ve.iceServers){const Le=[];for(let Me=0;Me<ve.iceServers.length;Me++){let ne=ve.iceServers[Me];void 0===ne.urls&&ne.url?(h("RTCIceServer.url","RTCIceServer.urls"),ne=JSON.parse(JSON.stringify(ne)),ne.urls=ne.url,delete ne.url,Le.push(ne)):Le.push(ve.iceServers[Me])}ve.iceServers=Le}return new _e(ve,we)},q.RTCPeerConnection.prototype=_e.prototype,"generateCertificate"in _e&&Object.defineProperty(q.RTCPeerConnection,"generateCertificate",{get:()=>_e.generateCertificate})}function Gt(q){"object"==typeof q&&q.RTCTrackEvent&&"receiver"in q.RTCTrackEvent.prototype&&!("transceiver"in q.RTCTrackEvent.prototype)&&Object.defineProperty(q.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function at(q){const _e=q.RTCPeerConnection.prototype.createOffer;q.RTCPeerConnection.prototype.createOffer=function(ve){if(ve){void 0!==ve.offerToReceiveAudio&&(ve.offerToReceiveAudio=!!ve.offerToReceiveAudio);const we=this.getTransceivers().find(Me=>"audio"===Me.receiver.track.kind);!1===ve.offerToReceiveAudio&&we?"sendrecv"===we.direction?we.setDirection?we.setDirection("sendonly"):we.direction="sendonly":"recvonly"===we.direction&&(we.setDirection?we.setDirection("inactive"):we.direction="inactive"):!0!==ve.offerToReceiveAudio||we||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==ve.offerToReceiveVideo&&(ve.offerToReceiveVideo=!!ve.offerToReceiveVideo);const Le=this.getTransceivers().find(Me=>"video"===Me.receiver.track.kind);!1===ve.offerToReceiveVideo&&Le?"sendrecv"===Le.direction?Le.setDirection?Le.setDirection("sendonly"):Le.direction="sendonly":"recvonly"===Le.direction&&(Le.setDirection?Le.setDirection("inactive"):Le.direction="inactive"):!0!==ve.offerToReceiveVideo||Le||this.addTransceiver("video",{direction:"recvonly"})}return _e.apply(this,arguments)}}function vn(q){"object"!=typeof q||q.AudioContext||(q.AudioContext=q.webkitAudioContext)}var Y=g(7539),Se=g.n(Y);function F(q){if(!q.RTCIceCandidate||q.RTCIceCandidate&&"foundation"in q.RTCIceCandidate.prototype)return;const _e=q.RTCIceCandidate;q.RTCIceCandidate=function(ve){if("object"==typeof ve&&ve.candidate&&0===ve.candidate.indexOf("a=")&&((ve=JSON.parse(JSON.stringify(ve))).candidate=ve.candidate.substring(2)),ve.candidate&&ve.candidate.length){const we=new _e(ve),Le=Se().parseCandidate(ve.candidate);for(const Me in Le)Me in we||Object.defineProperty(we,Me,{value:Le[Me]});return we.toJSON=function(){return{candidate:we.candidate,sdpMid:we.sdpMid,sdpMLineIndex:we.sdpMLineIndex,usernameFragment:we.usernameFragment}},we}return new _e(ve)},q.RTCIceCandidate.prototype=_e.prototype,f(q,"icecandidate",ve=>(ve.candidate&&Object.defineProperty(ve,"candidate",{value:new q.RTCIceCandidate(ve.candidate),writable:"false"}),ve))}function U(q){!q.RTCIceCandidate||q.RTCIceCandidate&&"relayProtocol"in q.RTCIceCandidate.prototype||f(q,"icecandidate",_e=>{if(_e.candidate){const ve=Se().parseCandidate(_e.candidate.candidate);"relay"===ve.type&&(_e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[ve.priority>>24])}return _e})}function G(q,_e){if(!q.RTCPeerConnection)return;"sctp"in q.RTCPeerConnection.prototype||Object.defineProperty(q.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const ve=q.RTCPeerConnection.prototype.setRemoteDescription;q.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===_e.browser&&_e.version>=76){const{sdpSemantics:we}=this.getConfiguration();"plan-b"===we&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(we){if(!we||!we.sdp)return!1;const Le=Se().splitSections(we.sdp);return Le.shift(),Le.some(Me=>{const ne=Se().parseMLine(Me);return ne&&"application"===ne.kind&&-1!==ne.protocol.indexOf("SCTP")})}(arguments[0])){const we=function(ye){const Ae=ye.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===Ae||Ae.length<2)return-1;const $e=parseInt(Ae[1],10);return $e!=$e?-1:$e}(arguments[0]),Le=function(ye){let Ae=65536;return"firefox"===_e.browser&&(Ae=_e.version<57?-1===ye?16384:2147483637:_e.version<60?57===_e.version?65535:65536:2147483637),Ae}(we),Me=function(ye,Ae){let $e=65536;"firefox"===_e.browser&&57===_e.version&&($e=65535);const Qe=Se().matchPrefix(ye.sdp,"a=max-message-size:");return Qe.length>0?$e=parseInt(Qe[0].substring(19),10):"firefox"===_e.browser&&-1!==Ae&&($e=2147483637),$e}(arguments[0],we);let ne;ne=0===Le&&0===Me?Number.POSITIVE_INFINITY:0===Le||0===Me?Math.max(Le,Me):Math.min(Le,Me);const xe={};Object.defineProperty(xe,"maxMessageSize",{get:()=>ne}),this._sctp=xe}return ve.apply(this,arguments)}}function J(q){if(!q.RTCPeerConnection||!("createDataChannel"in q.RTCPeerConnection.prototype))return;function _e(we,Le){const Me=we.send;we.send=function(){const ne=arguments[0];if("open"===we.readyState&&Le.sctp&&(ne.length||ne.size||ne.byteLength)>Le.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+Le.sctp.maxMessageSize+" bytes)");return Me.apply(we,arguments)}}const ve=q.RTCPeerConnection.prototype.createDataChannel;q.RTCPeerConnection.prototype.createDataChannel=function(){const we=ve.apply(this,arguments);return _e(we,this),we},f(q,"datachannel",we=>(_e(we.channel,we.target),we))}function fe(q){if(!q.RTCPeerConnection||"connectionState"in q.RTCPeerConnection.prototype)return;const _e=q.RTCPeerConnection.prototype;Object.defineProperty(_e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(_e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(ve){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),ve&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=ve)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(ve=>{const we=_e[ve];_e[ve]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=Le=>{const Me=Le.target;if(Me._lastConnectionState!==Me.connectionState){Me._lastConnectionState=Me.connectionState;const ne=new Event("connectionstatechange",Le);Me.dispatchEvent(ne)}return Le},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),we.apply(this,arguments)}})}function be(q,_e){if(!q.RTCPeerConnection||"chrome"===_e.browser&&_e.version>=71||"safari"===_e.browser&&_e.version>=605)return;const ve=q.RTCPeerConnection.prototype.setRemoteDescription;q.RTCPeerConnection.prototype.setRemoteDescription=function(we){if(we&&we.sdp&&-1!==we.sdp.indexOf("\na=extmap-allow-mixed")){const Le=we.sdp.split("\n").filter(Me=>"a=extmap-allow-mixed"!==Me.trim()).join("\n");q.RTCSessionDescription&&we instanceof q.RTCSessionDescription?arguments[0]=new q.RTCSessionDescription({type:we.type,sdp:Le}):we.sdp=Le}return ve.apply(this,arguments)}}function Ee(q,_e){if(!q.RTCPeerConnection||!q.RTCPeerConnection.prototype)return;const ve=q.RTCPeerConnection.prototype.addIceCandidate;ve&&0!==ve.length&&(q.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===_e.browser&&_e.version<78||"firefox"===_e.browser&&_e.version<68||"safari"===_e.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():ve.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function it(q,_e){if(!q.RTCPeerConnection||!q.RTCPeerConnection.prototype)return;const ve=q.RTCPeerConnection.prototype.setLocalDescription;ve&&0!==ve.length&&(q.RTCPeerConnection.prototype.setLocalDescription=function(){let we=arguments[0]||{};if("object"!=typeof we||we.type&&we.sdp)return ve.apply(this,arguments);if(we={type:we.type,sdp:we.sdp},!we.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":we.type="offer";break;default:we.type="answer"}return we.sdp||"offer"!==we.type&&"answer"!==we.type?ve.apply(this,[we]):("offer"===we.type?this.createOffer:this.createAnswer).apply(this).then(Le=>ve.apply(this,[Le]))})}const Wt=function({window:q}={},_e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const ve=d,we=function(Me){const ne={browser:null,version:null};if(void 0===Me||!Me.navigator||!Me.navigator.userAgent)return ne.browser="Not a browser.",ne;const{navigator:xe}=Me;if(xe.mozGetUserMedia)ne.browser="firefox",ne.version=m(xe.userAgent,/Firefox\/(\d+)\./,1);else if(xe.webkitGetUserMedia||!1===Me.isSecureContext&&Me.webkitRTCPeerConnection)ne.browser="chrome",ne.version=m(xe.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!Me.RTCPeerConnection||!xe.userAgent.match(/AppleWebKit\/(\d+)\./))return ne.browser="Not a supported browser.",ne;ne.browser="safari",ne.version=m(xe.userAgent,/AppleWebKit\/(\d+)\./,1),ne.supportsUnifiedPlan=Me.RTCRtpTransceiver&&"currentDirection"in Me.RTCRtpTransceiver.prototype}return ne}(q),Le={browserDetails:we,commonShim:b,extractVersion:m,disableLog:c,disableWarnings:a,sdp:Y};switch(we.browser){case"chrome":if(!S||!de||!_e.shimChrome)return ve("Chrome shim is not included in this adapter release."),Le;if(null===we.version)return ve("Chrome shim can not determine version, not shimming."),Le;ve("adapter.js shimming chrome."),Le.browserShim=S,Ee(q,we),it(q),R(q,we),k(q),de(q,we),B(q),Z(q,we),V(q),j(q),X(q),he(q,we),F(q),U(q),fe(q),G(q,we),J(q),be(q,we);break;case"firefox":if(!w||!Fe||!_e.shimFirefox)return ve("Firefox shim is not included in this adapter release."),Le;ve("adapter.js shimming firefox."),Le.browserShim=w,Ee(q,we),it(q),Pe(q,we),Fe(q,we),ue(q),et(q),Ye(q),dt(q),ft(q),Rt(q),pt(q),Ht(q),Oe(q),F(q),fe(q),G(q,we),J(q);break;case"safari":if(!C||!_e.shimSafari)return ve("Safari shim is not included in this adapter release."),Le;ve("adapter.js shimming safari."),Le.browserShim=C,Ee(q,we),it(q),gt(q),at(q),ht(q),ge(q),Je(q),Gt(q),$t(q),vn(q),F(q),U(q),G(q,we),J(q),be(q,we);break;default:ve("Unsupported browser!")}return Le}({window:typeof window>"u"?void 0:window})},2361:()=>{},4616:()=>{},4147:z=>{"use strict";z.exports=JSON.parse('{"name":"uneeq-js","version":"2.58.0","description":"","main":"dist/index.js","types":"dist/src/index.d.ts","scripts":{"start":"npx webpack -w","test-local":"npx karma start karma.conf.js -logLevel=DEBUG","test":"npx karma start --browsers ChromeHeadless --single-run","test:windows":"karma start karma.conf.js","build":"webpack --config webpack.config.prod.js && webpack --config webpack.config.umd.js","lint":"npx tslint -p tsconfig.json","lint-fix":"npx tslint -p tsconfig.json --fix","docs":"npx typedoc --options"},"files":["dist","!dist/test"],"author":"","license":"ISC","dependencies":{"@stomp/stompjs":"^6.0.0","@uehreka/seriously":"^1.0.1","fast-text-encoding":"^1.0.6","intrinsic-scale":"^3.0.4","onnxruntime-web":"1.15.1","promjs":"^0.4.1","ring-buffer-ts":"^1.2.0","rxjs":"^7.8.1","rxjs-compat":"^6.6.7","simple-peer":"^9.11.1","webrtc-adapter":"^8.2.3"},"devDependencies":{"@types/dom-mediacapture-record":"^1.0.16","@types/jasmine":"^2.8.8","@types/node":"^10.9.4","fetch-mock":"7.7.3","ignore-styles":"^5.0.1","jasmine":"^5.1.0","jasmine-core":"^5.1.0","karma":"6.4.3","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-requirejs":"^1.1.0","karma-typescript":"^5.5.4","karma-typescript-es6-transform":"^5.5.4","nock":"^9.6.1","requirejs":"^2.3.6","ts-loader":"^9.4.4","ts-node":"^7.0.1","tslint":"^5.11.0","tslint-no-focused-test":"^0.5.0","typedoc":"^0.18.0","typescript":"^5.1.6","webpack":"^5.88.2","webpack-cli":"^5.1.4"}}')}},__webpack_module_cache__={};function __nested_webpack_require_1975736__(z){var u=__webpack_module_cache__[z];if(void 0!==u)return u.exports;var g=__webpack_module_cache__[z]={id:z,loaded:!1,exports:{}};return __webpack_modules__[z].call(g.exports,g,g.exports,__nested_webpack_require_1975736__),g.loaded=!0,g.exports}__nested_webpack_require_1975736__.n=z=>{var u=z&&z.__esModule?()=>z.default:()=>z;return __nested_webpack_require_1975736__.d(u,{a:u}),u},__nested_webpack_require_1975736__.d=(z,u)=>{for(var g in u)__nested_webpack_require_1975736__.o(u,g)&&!__nested_webpack_require_1975736__.o(z,g)&&Object.defineProperty(z,g,{enumerable:!0,get:u[g]})},__nested_webpack_require_1975736__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),__nested_webpack_require_1975736__.o=(z,u)=>Object.prototype.hasOwnProperty.call(z,u),__nested_webpack_require_1975736__.r=z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})},__nested_webpack_require_1975736__.nmd=z=>(z.paths=[],z.children||(z.children=[]),z);var __nested_webpack_exports__=__nested_webpack_require_1975736__(3607),__webpack_export_target__=exports;for(var i in __nested_webpack_exports__)__webpack_export_target__[i]=__nested_webpack_exports__[i];__nested_webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})()},196:z=>{function u(S,w,C,b,v,p,m){try{var f=S[p](m),c=f.value}catch(a){return void C(a)}f.done?w(c):Promise.resolve(c).then(b,v)}z.exports=function g(S){return function(){var w=this,C=arguments;return new Promise(function(b,v){var p=S.apply(w,C);function m(c){u(p,b,v,m,f,"next",c)}function f(c){u(p,b,v,m,f,"throw",c)}m(void 0)})}},z.exports.__esModule=!0,z.exports.default=z.exports}},z=>{z(z.s=108)}]);